<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>sock</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1708.html#L443'>sock</a>              443 Zend/zend_portability.h #define ZEND_VALID_SOCKET(sock) (INVALID_SOCKET != (sock))</span>
<span class='curline'><a href='../S/1708.html#L445'>sock</a>              445 Zend/zend_portability.h #define ZEND_VALID_SOCKET(sock) ((sock) &gt;= 0)</span>
<span class='curline'><a href='../S/853.html#L2198'>sock</a>             2198 ext/openssl/xp_ssl.c static inline int php_openssl_tcp_sockop_accept(php_stream *stream, php_openssl_netstream_data_t *sock,</span>
<span class='curline'><a href='../S/853.html#L2205'>sock</a>             2205 ext/openssl/xp_ssl.c 	clisock = php_network_accept_incoming(sock-&gt;s.socket,</span>
<span class='curline'><a href='../S/853.html#L2225'>sock</a>             2225 ext/openssl/xp_ssl.c 			memcpy(clisockdata, sock, sizeof(clisockdata-&gt;s));</span>
<span class='curline'><a href='../S/853.html#L2238'>sock</a>             2238 ext/openssl/xp_ssl.c 		if (xparam-&gt;outputs.client &amp;&amp; sock-&gt;enable_on_connect) {</span>
<span class='curline'><a href='../S/853.html#L2240'>sock</a>             2240 ext/openssl/xp_ssl.c 			if (sock-&gt;method &amp; STREAM_CRYPTO_IS_CLIENT) {</span>
<span class='curline'><a href='../S/853.html#L2241'>sock</a>             2241 ext/openssl/xp_ssl.c 				sock-&gt;method = ((sock-&gt;method &gt;&gt; 1) &lt;&lt; 1);</span>
<span class='curline'><a href='../S/853.html#L2244'>sock</a>             2244 ext/openssl/xp_ssl.c 			clisockdata-&gt;method = sock-&gt;method;</span>
<span class='curline'><a href='../S/1019.html#L76'>sock</a>               76 ext/sockets/conversions.c 	php_socket		*sock;</span>
<span class='curline'><a href='../S/1019.html#L547'>sock</a>              547 ext/sockets/conversions.c 	res = php_set_inet_addr(&amp;saddr, ZSTR_VAL(addr_str), ctx-&gt;sock);</span>
<span class='curline'><a href='../S/1019.html#L597'>sock</a>              597 ext/sockets/conversions.c 	res = php_set_inet6_addr(&amp;saddr6, ZSTR_VAL(addr_str), ctx-&gt;sock);</span>
<span class='curline'><a href='../S/1019.html#L716'>sock</a>              716 ext/sockets/conversions.c 		family = ctx-&gt;sock-&gt;type;</span>
<span class='curline'><a href='../S/1019.html#L722'>sock</a>              722 ext/sockets/conversions.c 		if (ctx-&gt;sock-&gt;type != AF_INET &amp;&amp; ctx-&gt;sock-&gt;type != AF_INET6) {</span>
<span class='curline'><a href='../S/1019.html#L737'>sock</a>              737 ext/sockets/conversions.c 		if (ctx-&gt;sock-&gt;type != AF_INET6) {</span>
<span class='curline'><a href='../S/1019.html#L752'>sock</a>              752 ext/sockets/conversions.c 		if (ctx-&gt;sock-&gt;type != AF_UNIX) {</span>
<span class='curline'><a href='../S/1019.html#L1261'>sock</a>             1261 ext/sockets/conversions.c 			} else if (ioctl(ctx-&gt;sock-&gt;bsd_socket, SIOCGIFINDEX, &amp;ifr) &lt; 0) {</span>
<span class='curline'><a href='../S/1019.html#L1353'>sock</a>             1353 ext/sockets/conversions.c 		php_socket *sock;</span>
<span class='curline'><a href='../S/1019.html#L1355'>sock</a>             1355 ext/sockets/conversions.c 		sock = (php_socket *)zend_fetch_resource_ex(elem, NULL, php_sockets_le_socket());</span>
<span class='curline'><a href='../S/1019.html#L1356'>sock</a>             1356 ext/sockets/conversions.c 		if (sock) {</span>
<span class='curline'><a href='../S/1019.html#L1357'>sock</a>             1357 ext/sockets/conversions.c 			iarr[i] = sock-&gt;bsd_socket;</span>
<span class='curline'><a href='../S/1019.html#L1424'>sock</a>             1424 ext/sockets/conversions.c 			php_socket *sock = socket_import_file_descriptor(fd);</span>
<span class='curline'><a href='../S/1019.html#L1425'>sock</a>             1425 ext/sockets/conversions.c 			ZVAL_RES(&amp;elem, zend_register_resource(sock, php_sockets_le_socket()));</span>
<span class='curline'><a href='../S/1019.html#L1442'>sock</a>             1442 ext/sockets/conversions.c 								php_socket			*sock,</span>
<span class='curline'><a href='../S/1019.html#L1462'>sock</a>             1462 ext/sockets/conversions.c 	ctx.sock = sock;</span>
<span class='curline'><a href='../S/1020.html#L71'>sock</a>               71 ext/sockets/conversions.h 								php_socket				*sock,</span>
<span class='curline'><a href='../S/1021.html#L54'>sock</a>               54 ext/sockets/multicast.c static int _php_mcast_join_leave(php_socket *sock, int level, struct sockaddr *group, socklen_t group_len, unsigned int if_index, int join);</span>
<span class='curline'><a href='../S/1021.html#L56'>sock</a>               56 ext/sockets/multicast.c static int _php_mcast_source_op(php_socket *sock, int level, struct sockaddr *group, socklen_t group_len, struct sockaddr *source, socklen_t source_len, unsigned int if_index, enum source_op sop);</span>
<span class='curline'><a href='../S/1021.html#L117'>sock</a>              117 ext/sockets/multicast.c 	php_socket *sock, unsigned int *if_index)</span>
<span class='curline'><a href='../S/1021.html#L130'>sock</a>              130 ext/sockets/multicast.c 	php_socket *sock, php_sockaddr_storage *ss, socklen_t *ss_len)</span>
<span class='curline'><a href='../S/1021.html#L142'>sock</a>              142 ext/sockets/multicast.c 	if (!php_set_inet46_addr(ss, ss_len, Z_STRVAL_P(val), sock)) {</span>
<span class='curline'><a href='../S/1021.html#L382'>sock</a>              382 ext/sockets/multicast.c 	php_socket *sock,</span>
<span class='curline'><a href='../S/1021.html#L388'>sock</a>              388 ext/sockets/multicast.c 	return _php_mcast_join_leave(sock, level, group, group_len, if_index, 1);</span>
<span class='curline'><a href='../S/1021.html#L392'>sock</a>              392 ext/sockets/multicast.c 	php_socket *sock,</span>
<span class='curline'><a href='../S/1021.html#L398'>sock</a>              398 ext/sockets/multicast.c 	return _php_mcast_join_leave(sock, level, group, group_len, if_index, 0);</span>
<span class='curline'><a href='../S/1021.html#L403'>sock</a>              403 ext/sockets/multicast.c 	php_socket *sock,</span>
<span class='curline'><a href='../S/1021.html#L411'>sock</a>              411 ext/sockets/multicast.c 	return _php_mcast_source_op(sock, level, group, group_len, source, source_len, if_index, JOIN_SOURCE);</span>
<span class='curline'><a href='../S/1021.html#L415'>sock</a>              415 ext/sockets/multicast.c 	php_socket *sock,</span>
<span class='curline'><a href='../S/1021.html#L423'>sock</a>              423 ext/sockets/multicast.c 	return _php_mcast_source_op(sock, level, group, group_len, source, source_len, if_index, LEAVE_SOURCE);</span>
<span class='curline'><a href='../S/1021.html#L427'>sock</a>              427 ext/sockets/multicast.c 	php_socket *sock,</span>
<span class='curline'><a href='../S/1021.html#L435'>sock</a>              435 ext/sockets/multicast.c 	return _php_mcast_source_op(sock, level, group, group_len, source, source_len, if_index, BLOCK_SOURCE);</span>
<span class='curline'><a href='../S/1021.html#L439'>sock</a>              439 ext/sockets/multicast.c 	php_socket *sock,</span>
<span class='curline'><a href='../S/1021.html#L447'>sock</a>              447 ext/sockets/multicast.c 	return _php_mcast_source_op(sock, level, group, group_len, source, source_len, if_index, UNBLOCK_SOURCE);</span>
<span class='curline'><a href='../S/1021.html#L453'>sock</a>              453 ext/sockets/multicast.c 	php_socket *sock,</span>
<span class='curline'><a href='../S/1021.html#L467'>sock</a>              467 ext/sockets/multicast.c 	return setsockopt(sock-&gt;bsd_socket, level,</span>
<span class='curline'><a href='../S/1021.html#L471'>sock</a>              471 ext/sockets/multicast.c 	if (sock-&gt;type == AF_INET) {</span>
<span class='curline'><a href='../S/1021.html#L478'>sock</a>              478 ext/sockets/multicast.c 			if (php_if_index_to_addr4(if_index, sock, &amp;addr) ==</span>
<span class='curline'><a href='../S/1021.html#L486'>sock</a>              486 ext/sockets/multicast.c 		return setsockopt(sock-&gt;bsd_socket, level,</span>
<span class='curline'><a href='../S/1021.html#L491'>sock</a>              491 ext/sockets/multicast.c 	else if (sock-&gt;type == AF_INET6) {</span>
<span class='curline'><a href='../S/1021.html#L499'>sock</a>              499 ext/sockets/multicast.c 		return setsockopt(sock-&gt;bsd_socket, level,</span>
<span class='curline'><a href='../S/1021.html#L515'>sock</a>              515 ext/sockets/multicast.c 	php_socket *sock,</span>
<span class='curline'><a href='../S/1021.html#L533'>sock</a>              533 ext/sockets/multicast.c 	return setsockopt(sock-&gt;bsd_socket, level,</span>
<span class='curline'><a href='../S/1021.html#L536'>sock</a>              536 ext/sockets/multicast.c 	if (sock-&gt;type == AF_INET) {</span>
<span class='curline'><a href='../S/1021.html#L547'>sock</a>              547 ext/sockets/multicast.c 			if (php_if_index_to_addr4(if_index, sock, &amp;addr) ==</span>
<span class='curline'><a href='../S/1021.html#L555'>sock</a>              555 ext/sockets/multicast.c 		return setsockopt(sock-&gt;bsd_socket, level,</span>
<span class='curline'><a href='../S/1021.html#L559'>sock</a>              559 ext/sockets/multicast.c 	else if (sock-&gt;type == AF_INET6) {</span>
<span class='curline'><a href='../S/1022.html#L71'>sock</a>               71 ext/sockets/multicast.h 	php_socket *sock,</span>
<span class='curline'><a href='../S/1022.html#L78'>sock</a>               78 ext/sockets/multicast.h 	php_socket *sock,</span>
<span class='curline'><a href='../S/1022.html#L86'>sock</a>               86 ext/sockets/multicast.h 	php_socket *sock,</span>
<span class='curline'><a href='../S/1022.html#L95'>sock</a>               95 ext/sockets/multicast.h 	php_socket *sock,</span>
<span class='curline'><a href='../S/1022.html#L104'>sock</a>              104 ext/sockets/multicast.h 	php_socket *sock,</span>
<span class='curline'><a href='../S/1022.html#L113'>sock</a>              113 ext/sockets/multicast.h 	php_socket *sock,</span>
<span class='curline'><a href='../S/1023.html#L105'>sock</a>              105 ext/sockets/php_sockets.h php_socket *socket_import_file_descriptor(PHP_SOCKET sock);</span>
<span class='curline'><a href='../S/1028.html#L423'>sock</a>              423 ext/sockets/sockets.c 	php_socket			*sock = php_create_socket();</span>
<span class='curline'><a href='../S/1028.html#L425'>sock</a>              425 ext/sockets/sockets.c 	*php_sock = sock;</span>
<span class='curline'><a href='../S/1028.html#L432'>sock</a>              432 ext/sockets/sockets.c 		efree(sock);</span>
<span class='curline'><a href='../S/1028.html#L440'>sock</a>              440 ext/sockets/sockets.c 	sock-&gt;bsd_socket = socket(PF_INET, SOCK_STREAM, 0);</span>
<span class='curline'><a href='../S/1028.html#L441'>sock</a>              441 ext/sockets/sockets.c 	sock-&gt;blocking = 1;</span>
<span class='curline'><a href='../S/1028.html#L443'>sock</a>              443 ext/sockets/sockets.c 	if (IS_INVALID_SOCKET(sock)) {</span>
<span class='curline'><a href='../S/1028.html#L444'>sock</a>              444 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(sock, "unable to create listening socket", errno);</span>
<span class='curline'><a href='../S/1028.html#L445'>sock</a>              445 ext/sockets/sockets.c 		efree(sock);</span>
<span class='curline'><a href='../S/1028.html#L449'>sock</a>              449 ext/sockets/sockets.c 	sock-&gt;type = PF_INET;</span>
<span class='curline'><a href='../S/1028.html#L451'>sock</a>              451 ext/sockets/sockets.c 	if (bind(sock-&gt;bsd_socket, (struct sockaddr *)&amp;la, sizeof(la)) != 0) {</span>
<span class='curline'><a href='../S/1028.html#L452'>sock</a>              452 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(sock, "unable to bind to given address", errno);</span>
<span class='curline'><a href='../S/1028.html#L453'>sock</a>              453 ext/sockets/sockets.c 		close(sock-&gt;bsd_socket);</span>
<span class='curline'><a href='../S/1028.html#L454'>sock</a>              454 ext/sockets/sockets.c 		efree(sock);</span>
<span class='curline'><a href='../S/1028.html#L458'>sock</a>              458 ext/sockets/sockets.c 	if (listen(sock-&gt;bsd_socket, backlog) != 0) {</span>
<span class='curline'><a href='../S/1028.html#L459'>sock</a>              459 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(sock, "unable to listen on socket", errno);</span>
<span class='curline'><a href='../S/1028.html#L460'>sock</a>              460 ext/sockets/sockets.c 		close(sock-&gt;bsd_socket);</span>
<span class='curline'><a href='../S/1028.html#L461'>sock</a>              461 ext/sockets/sockets.c 		efree(sock);</span>
<span class='curline'><a href='../S/1028.html#L492'>sock</a>              492 ext/sockets/sockets.c static int php_read(php_socket *sock, void *buf, size_t maxlen, int flags)</span>
<span class='curline'><a href='../S/1028.html#L501'>sock</a>              501 ext/sockets/sockets.c 	m = fcntl(sock-&gt;bsd_socket, F_GETFL);</span>
<span class='curline'><a href='../S/1028.html#L508'>sock</a>              508 ext/sockets/sockets.c 	nonblock = !sock-&gt;blocking;</span>
<span class='curline'><a href='../S/1028.html#L533'>sock</a>              533 ext/sockets/sockets.c 			m = recv(sock-&gt;bsd_socket, (void *) t, 1, flags);</span>
<span class='curline'><a href='../S/1376.html#L289'>sock</a>              289 main/network.c #  define SET_SOCKET_BLOCKING_MODE(sock, save) \</span>
<span class='curline'><a href='../S/1376.html#L290'>sock</a>              290 main/network.c      save = TRUE; ioctlsocket(sock, FIONBIO, &amp;save)</span>
<span class='curline'><a href='../S/1376.html#L291'>sock</a>              291 main/network.c #  define RESTORE_SOCKET_BLOCKING_MODE(sock, save) \</span>
<span class='curline'><a href='../S/1376.html#L292'>sock</a>              292 main/network.c 	 ioctlsocket(sock, FIONBIO, &amp;save)</span>
<span class='curline'><a href='../S/1376.html#L295'>sock</a>              295 main/network.c #  define SET_SOCKET_BLOCKING_MODE(sock, save) \</span>
<span class='curline'><a href='../S/1376.html#L296'>sock</a>              296 main/network.c 	 save = fcntl(sock, F_GETFL, 0); \</span>
<span class='curline'><a href='../S/1376.html#L297'>sock</a>              297 main/network.c 	 fcntl(sock, F_SETFL, save | O_NONBLOCK)</span>
<span class='curline'><a href='../S/1376.html#L298'>sock</a>              298 main/network.c #  define RESTORE_SOCKET_BLOCKING_MODE(sock, save) \</span>
<span class='curline'><a href='../S/1376.html#L299'>sock</a>              299 main/network.c 	 fcntl(sock, F_SETFL, save)</span>
<span class='curline'><a href='../S/1376.html#L428'>sock</a>              428 main/network.c 	php_socket_t sock;</span>
<span class='curline'><a href='../S/1376.html#L444'>sock</a>              444 main/network.c 		sock = socket(sa-&gt;sa_family, socktype, 0);</span>
<span class='curline'><a href='../S/1376.html#L446'>sock</a>              446 main/network.c 		if (sock == SOCK_ERR) {</span>
<span class='curline'><a href='../S/1376.html#L473'>sock</a>              473 main/network.c 			setsockopt(sock, SOL_SOCKET, SO_REUSEADDR, (char*)&amp;sockoptval, sizeof(sockoptval));</span>
<span class='curline'><a href='../S/1376.html#L478'>sock</a>              478 main/network.c 				setsockopt(sock, IPPROTO_IPV6, IPV6_V6ONLY, (char*)&amp;ipv6_val, sizeof(sockoptval));</span>
<span class='curline'><a href='../S/1376.html#L483'>sock</a>              483 main/network.c 				setsockopt(sock, SOL_SOCKET, SO_REUSEPORT, (char*)&amp;sockoptval, sizeof(sockoptval));</span>
<span class='curline'><a href='../S/1376.html#L488'>sock</a>              488 main/network.c 				setsockopt(sock, SOL_SOCKET, SO_BROADCAST, (char*)&amp;sockoptval, sizeof(sockoptval));</span>
<span class='curline'><a href='../S/1376.html#L492'>sock</a>              492 main/network.c 			n = bind(sock, sa, socklen);</span>
<span class='curline'><a href='../S/1376.html#L501'>sock</a>              501 main/network.c 		closesocket(sock);</span>
<span class='curline'><a href='../S/1376.html#L503'>sock</a>              503 main/network.c 	sock = -1;</span>
<span class='curline'><a href='../S/1376.html#L516'>sock</a>              516 main/network.c 	return sock;</span>
<span class='curline'><a href='../S/1376.html#L673'>sock</a>              673 main/network.c PHPAPI int php_network_get_peer_name(php_socket_t sock,</span>
<span class='curline'><a href='../S/1376.html#L683'>sock</a>              683 main/network.c 	if (getpeername(sock, (struct sockaddr*)&amp;sa, &amp;sl) == 0) {</span>
<span class='curline'><a href='../S/1376.html#L693'>sock</a>              693 main/network.c PHPAPI int php_network_get_sock_name(php_socket_t sock,</span>
<span class='curline'><a href='../S/1376.html#L703'>sock</a>              703 main/network.c 	if (getsockname(sock, (struct sockaddr*)&amp;sa, &amp;sl) == 0) {</span>
<span class='curline'><a href='../S/1376.html#L785'>sock</a>              785 main/network.c 	php_socket_t sock;</span>
<span class='curline'><a href='../S/1376.html#L817'>sock</a>              817 main/network.c 		sock = socket(sa-&gt;sa_family, socktype, 0);</span>
<span class='curline'><a href='../S/1376.html#L819'>sock</a>              819 main/network.c 		if (sock == SOCK_ERR) {</span>
<span class='curline'><a href='../S/1376.html#L884'>sock</a>              884 main/network.c 				if (!local_address || bind(sock, local_address, local_address_len)) {</span>
<span class='curline'><a href='../S/1376.html#L902'>sock</a>              902 main/network.c 					setsockopt(sock, SOL_SOCKET, SO_BROADCAST, (char*)&amp;val, sizeof(val));</span>
<span class='curline'><a href='../S/1376.html#L906'>sock</a>              906 main/network.c 			n = php_network_connect_socket(sock, sa, socklen, asynchronous,</span>
<span class='curline'><a href='../S/1376.html#L943'>sock</a>              943 main/network.c 		closesocket(sock);</span>
<span class='curline'><a href='../S/1376.html#L945'>sock</a>              945 main/network.c 	sock = -1;</span>
<span class='curline'><a href='../S/1376.html#L951'>sock</a>              951 main/network.c 	return sock;</span>
<span class='curline'><a href='../S/1376.html#L1099'>sock</a>             1099 main/network.c 	php_netstream_data_t *sock;</span>
<span class='curline'><a href='../S/1376.html#L1101'>sock</a>             1101 main/network.c 	sock = pemalloc(sizeof(php_netstream_data_t), persistent_id ? 1 : 0);</span>
<span class='curline'><a href='../S/1376.html#L1102'>sock</a>             1102 main/network.c 	memset(sock, 0, sizeof(php_netstream_data_t));</span>
<span class='curline'><a href='../S/1376.html#L1104'>sock</a>             1104 main/network.c 	sock-&gt;is_blocked = 1;</span>
<span class='curline'><a href='../S/1376.html#L1105'>sock</a>             1105 main/network.c 	sock-&gt;timeout.tv_sec = FG(default_socket_timeout);</span>
<span class='curline'><a href='../S/1376.html#L1106'>sock</a>             1106 main/network.c 	sock-&gt;timeout.tv_usec = 0;</span>
<span class='curline'><a href='../S/1376.html#L1107'>sock</a>             1107 main/network.c 	sock-&gt;socket = socket;</span>
<span class='curline'><a href='../S/1376.html#L1109'>sock</a>             1109 main/network.c 	stream = php_stream_alloc_rel(&amp;php_stream_generic_socket_ops, sock, persistent_id, "r+");</span>
<span class='curline'><a href='../S/1376.html#L1112'>sock</a>             1112 main/network.c 		pefree(sock, persistent_id ? 1 : 0);</span>
<span class='curline'><a href='../S/1388.html#L251'>sock</a>              251 main/php_network.h #define php_connect_nonb(sock, addr, addrlen, timeout) \</span>
<span class='curline'><a href='../S/1388.html#L252'>sock</a>              252 main/php_network.h 	php_network_connect_socket((sock), (addr), (addrlen), 0, (timeout), NULL, NULL)</span>
<span class='curline'><a href='../S/1388.html#L267'>sock</a>              267 main/php_network.h PHPAPI int php_network_get_sock_name(php_socket_t sock,</span>
<span class='curline'><a href='../S/1388.html#L273'>sock</a>              273 main/php_network.h PHPAPI int php_network_get_peer_name(php_socket_t sock,</span>
<span class='curline'><a href='../S/1430.html#L63'>sock</a>               63 main/streams/xp_socket.c 	php_netstream_data_t *sock = (php_netstream_data_t*)stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1430.html#L67'>sock</a>               67 main/streams/xp_socket.c 	if (!sock || sock-&gt;socket == -1) {</span>
<span class='curline'><a href='../S/1430.html#L71'>sock</a>               71 main/streams/xp_socket.c 	if (sock-&gt;timeout.tv_sec == -1)</span>
<span class='curline'><a href='../S/1430.html#L74'>sock</a>               74 main/streams/xp_socket.c 		ptimeout = &amp;sock-&gt;timeout;</span>
<span class='curline'><a href='../S/1430.html#L77'>sock</a>               77 main/streams/xp_socket.c 	didwrite = send(sock-&gt;socket, buf, XP_SOCK_BUF_SIZE(count), (sock-&gt;is_blocked &amp;&amp; ptimeout) ? MSG_DONTWAIT : 0);</span>
<span class='curline'><a href='../S/1430.html#L83'>sock</a>               83 main/streams/xp_socket.c 		if (sock-&gt;is_blocked &amp;&amp; (err == EWOULDBLOCK || err == EAGAIN)) {</span>
<span class='curline'><a href='../S/1430.html#L86'>sock</a>               86 main/streams/xp_socket.c 			sock-&gt;timeout_event = 0;</span>
<span class='curline'><a href='../S/1430.html#L89'>sock</a>               89 main/streams/xp_socket.c 				retval = php_pollfd_for(sock-&gt;socket, POLLOUT, ptimeout);</span>
<span class='curline'><a href='../S/1430.html#L92'>sock</a>               92 main/streams/xp_socket.c 					sock-&gt;timeout_event = 1;</span>
<span class='curline'><a href='../S/1430.html#L121'>sock</a>              121 main/streams/xp_socket.c static void php_sock_stream_wait_for_data(php_stream *stream, php_netstream_data_t *sock)</span>
<span class='curline'><a href='../S/1430.html#L126'>sock</a>              126 main/streams/xp_socket.c 	if (!sock || sock-&gt;socket == -1) {</span>
<span class='curline'><a href='../S/1430.html#L130'>sock</a>              130 main/streams/xp_socket.c 	sock-&gt;timeout_event = 0;</span>
<span class='curline'><a href='../S/1430.html#L132'>sock</a>              132 main/streams/xp_socket.c 	if (sock-&gt;timeout.tv_sec == -1)</span>
<span class='curline'><a href='../S/1430.html#L135'>sock</a>              135 main/streams/xp_socket.c 		ptimeout = &amp;sock-&gt;timeout;</span>
<span class='curline'><a href='../S/1430.html#L138'>sock</a>              138 main/streams/xp_socket.c 		retval = php_pollfd_for(sock-&gt;socket, PHP_POLLREADABLE, ptimeout);</span>
<span class='curline'><a href='../S/1430.html#L141'>sock</a>              141 main/streams/xp_socket.c 			sock-&gt;timeout_event = 1;</span>
<span class='curline'><a href='../S/1430.html#L153'>sock</a>              153 main/streams/xp_socket.c 	php_netstream_data_t *sock = (php_netstream_data_t*)stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1430.html#L157'>sock</a>              157 main/streams/xp_socket.c 	if (!sock || sock-&gt;socket == -1) {</span>
<span class='curline'><a href='../S/1430.html#L161'>sock</a>              161 main/streams/xp_socket.c 	if (sock-&gt;is_blocked) {</span>
<span class='curline'><a href='../S/1430.html#L162'>sock</a>              162 main/streams/xp_socket.c 		php_sock_stream_wait_for_data(stream, sock);</span>
<span class='curline'><a href='../S/1430.html#L163'>sock</a>              163 main/streams/xp_socket.c 		if (sock-&gt;timeout_event)</span>
<span class='curline'><a href='../S/1430.html#L167'>sock</a>              167 main/streams/xp_socket.c 	nr_bytes = recv(sock-&gt;socket, buf, XP_SOCK_BUF_SIZE(count), (sock-&gt;is_blocked &amp;&amp; sock-&gt;timeout.tv_sec != -1) ? MSG_DONTWAIT : 0);</span>
<span class='curline'><a href='../S/1430.html#L186'>sock</a>              186 main/streams/xp_socket.c 	php_netstream_data_t *sock = (php_netstream_data_t*)stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1430.html#L191'>sock</a>              191 main/streams/xp_socket.c 	if (!sock) {</span>
<span class='curline'><a href='../S/1430.html#L198'>sock</a>              198 main/streams/xp_socket.c 		if (sock-&gt;socket == -1)</span>
<span class='curline'><a href='../S/1430.html#L199'>sock</a>              199 main/streams/xp_socket.c 			sock-&gt;socket = SOCK_ERR;</span>
<span class='curline'><a href='../S/1430.html#L201'>sock</a>              201 main/streams/xp_socket.c 		if (sock-&gt;socket != SOCK_ERR) {</span>
<span class='curline'><a href='../S/1430.html#L204'>sock</a>              204 main/streams/xp_socket.c 			shutdown(sock-&gt;socket, SHUT_RD);</span>
<span class='curline'><a href='../S/1430.html#L213'>sock</a>              213 main/streams/xp_socket.c 				n = php_pollfd_for_ms(sock-&gt;socket, POLLOUT, 500);</span>
<span class='curline'><a href='../S/1430.html#L216'>sock</a>              216 main/streams/xp_socket.c 			closesocket(sock-&gt;socket);</span>
<span class='curline'><a href='../S/1430.html#L217'>sock</a>              217 main/streams/xp_socket.c 			sock-&gt;socket = SOCK_ERR;</span>
<span class='curline'><a href='../S/1430.html#L222'>sock</a>              222 main/streams/xp_socket.c 	pefree(sock, php_stream_is_persistent(stream));</span>
<span class='curline'><a href='../S/1430.html#L230'>sock</a>              230 main/streams/xp_socket.c 	php_netstream_data_t *sock = (php_netstream_data_t*)stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1430.html#L231'>sock</a>              231 main/streams/xp_socket.c 	return fsync(sock-&gt;socket);</span>
<span class='curline'><a href='../S/1430.html#L241'>sock</a>              241 main/streams/xp_socket.c 	php_netstream_data_t *sock = (php_netstream_data_t*)stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1430.html#L243'>sock</a>              243 main/streams/xp_socket.c 	return zend_fstat(sock-&gt;socket, &amp;ssb-&gt;sb);</span>
<span class='curline'><a href='../S/1430.html#L247'>sock</a>              247 main/streams/xp_socket.c static inline int sock_sendto(php_netstream_data_t *sock, const char *buf, size_t buflen, int flags,</span>
<span class='curline'><a href='../S/1430.html#L253'>sock</a>              253 main/streams/xp_socket.c 		ret = sendto(sock-&gt;socket, buf, XP_SOCK_BUF_SIZE(buflen), flags, addr, XP_SOCK_BUF_SIZE(addrlen));</span>
<span class='curline'><a href='../S/1430.html#L258'>sock</a>              258 main/streams/xp_socket.c 	return ((ret = send(sock-&gt;socket, buf, buflen &gt; INT_MAX ? INT_MAX : (int)buflen, flags)) == SOCK_CONN_ERR) ? -1 : ret;</span>
<span class='curline'><a href='../S/1430.html#L260'>sock</a>              260 main/streams/xp_socket.c 	return ((ret = send(sock-&gt;socket, buf, buflen, flags)) == SOCK_CONN_ERR) ? -1 : ret;</span>
<span class='curline'><a href='../S/1430.html#L264'>sock</a>              264 main/streams/xp_socket.c static inline int sock_recvfrom(php_netstream_data_t *sock, char *buf, size_t buflen, int flags,</span>
<span class='curline'><a href='../S/1430.html#L275'>sock</a>              275 main/streams/xp_socket.c 		ret = recvfrom(sock-&gt;socket, buf, XP_SOCK_BUF_SIZE(buflen), flags, (struct sockaddr*)&amp;sa, &amp;sl);</span>
<span class='curline'><a href='../S/1430.html#L280'>sock</a>              280 main/streams/xp_socket.c 		ret = recv(sock-&gt;socket, buf, XP_SOCK_BUF_SIZE(buflen), flags);</span>
<span class='curline'><a href='../S/1430.html#L290'>sock</a>              290 main/streams/xp_socket.c 	php_netstream_data_t *sock = (php_netstream_data_t*)stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1430.html#L293'>sock</a>              293 main/streams/xp_socket.c 	if (!sock) {</span>
<span class='curline'><a href='../S/1430.html#L305'>sock</a>              305 main/streams/xp_socket.c 					if (sock-&gt;timeout.tv_sec == -1) {</span>
<span class='curline'><a href='../S/1430.html#L309'>sock</a>              309 main/streams/xp_socket.c 						tv = sock-&gt;timeout;</span>
<span class='curline'><a href='../S/1430.html#L316'>sock</a>              316 main/streams/xp_socket.c 				if (sock-&gt;socket == -1) {</span>
<span class='curline'><a href='../S/1430.html#L318'>sock</a>              318 main/streams/xp_socket.c 				} else if (php_pollfd_for(sock-&gt;socket, PHP_POLLREADABLE|POLLPRI, &amp;tv) &gt; 0) {</span>
<span class='curline'><a href='../S/1430.html#L326'>sock</a>              326 main/streams/xp_socket.c 					ret = recv(sock-&gt;socket, &amp;buf, sizeof(buf), MSG_PEEK);</span>
<span class='curline'><a href='../S/1430.html#L337'>sock</a>              337 main/streams/xp_socket.c 			oldmode = sock-&gt;is_blocked;</span>
<span class='curline'><a href='../S/1430.html#L338'>sock</a>              338 main/streams/xp_socket.c 			if (SUCCESS == php_set_sock_blocking(sock-&gt;socket, value)) {</span>
<span class='curline'><a href='../S/1430.html#L339'>sock</a>              339 main/streams/xp_socket.c 				sock-&gt;is_blocked = value;</span>
<span class='curline'><a href='../S/1430.html#L345'>sock</a>              345 main/streams/xp_socket.c 			sock-&gt;timeout = *(struct timeval*)ptrparam;</span>
<span class='curline'><a href='../S/1430.html#L346'>sock</a>              346 main/streams/xp_socket.c 			sock-&gt;timeout_event = 0;</span>
<span class='curline'><a href='../S/1430.html#L350'>sock</a>              350 main/streams/xp_socket.c 			add_assoc_bool((zval *)ptrparam, "timed_out", sock-&gt;timeout_event);</span>
<span class='curline'><a href='../S/1430.html#L351'>sock</a>              351 main/streams/xp_socket.c 			add_assoc_bool((zval *)ptrparam, "blocked", sock-&gt;is_blocked);</span>
<span class='curline'><a href='../S/1430.html#L360'>sock</a>              360 main/streams/xp_socket.c 					xparam-&gt;outputs.returncode = (listen(sock-&gt;socket, xparam-&gt;inputs.backlog) == 0) ?  0: -1;</span>
<span class='curline'><a href='../S/1430.html#L364'>sock</a>              364 main/streams/xp_socket.c 					xparam-&gt;outputs.returncode = php_network_get_sock_name(sock-&gt;socket,</span>
<span class='curline'><a href='../S/1430.html#L372'>sock</a>              372 main/streams/xp_socket.c 					xparam-&gt;outputs.returncode = php_network_get_peer_name(sock-&gt;socket,</span>
<span class='curline'><a href='../S/1430.html#L384'>sock</a>              384 main/streams/xp_socket.c 					xparam-&gt;outputs.returncode = sock_sendto(sock,</span>
<span class='curline'><a href='../S/1430.html#L405'>sock</a>              405 main/streams/xp_socket.c 					xparam-&gt;outputs.returncode = sock_recvfrom(sock,</span>
<span class='curline'><a href='../S/1430.html#L428'>sock</a>              428 main/streams/xp_socket.c 					xparam-&gt;outputs.returncode = shutdown(sock-&gt;socket, shutdown_how[xparam-&gt;how]);</span>
<span class='curline'><a href='../S/1430.html#L444'>sock</a>              444 main/streams/xp_socket.c 	php_netstream_data_t *sock = (php_netstream_data_t*)stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1430.html#L446'>sock</a>              446 main/streams/xp_socket.c 	if (!sock) {</span>
<span class='curline'><a href='../S/1430.html#L453'>sock</a>              453 main/streams/xp_socket.c 				*(FILE**)ret = fdopen(sock-&gt;socket, stream-&gt;mode);</span>
<span class='curline'><a href='../S/1430.html#L463'>sock</a>              463 main/streams/xp_socket.c 				*(php_socket_t *)ret = sock-&gt;socket;</span>
<span class='curline'><a href='../S/1430.html#L602'>sock</a>              602 main/streams/xp_socket.c static inline int php_tcp_sockop_bind(php_stream *stream, php_netstream_data_t *sock,</span>
<span class='curline'><a href='../S/1430.html#L614'>sock</a>              614 main/streams/xp_socket.c 		sock-&gt;socket = socket(PF_UNIX, stream-&gt;ops == &amp;php_stream_unix_socket_ops ? SOCK_STREAM : SOCK_DGRAM, 0);</span>
<span class='curline'><a href='../S/1430.html#L616'>sock</a>              616 main/streams/xp_socket.c 		if (sock-&gt;socket == SOCK_ERR) {</span>
<span class='curline'><a href='../S/1430.html#L627'>sock</a>              627 main/streams/xp_socket.c 		return bind(sock-&gt;socket, (const struct sockaddr *)&amp;unix_addr,</span>
<span class='curline'><a href='../S/1430.html#L667'>sock</a>              667 main/streams/xp_socket.c 	sock-&gt;socket = php_network_bind_socket_to_local_addr(host, portno,</span>
<span class='curline'><a href='../S/1430.html#L678'>sock</a>              678 main/streams/xp_socket.c 	return sock-&gt;socket == -1 ? -1 : 0;</span>
<span class='curline'><a href='../S/1430.html#L681'>sock</a>              681 main/streams/xp_socket.c static inline int php_tcp_sockop_connect(php_stream *stream, php_netstream_data_t *sock,</span>
<span class='curline'><a href='../S/1430.html#L695'>sock</a>              695 main/streams/xp_socket.c 		sock-&gt;socket = socket(PF_UNIX, stream-&gt;ops == &amp;php_stream_unix_socket_ops ? SOCK_STREAM : SOCK_DGRAM, 0);</span>
<span class='curline'><a href='../S/1430.html#L697'>sock</a>              697 main/streams/xp_socket.c 		if (sock-&gt;socket == SOCK_ERR) {</span>
<span class='curline'><a href='../S/1430.html#L706'>sock</a>              706 main/streams/xp_socket.c 		ret = php_network_connect_socket(sock-&gt;socket,</span>
<span class='curline'><a href='../S/1430.html#L749'>sock</a>              749 main/streams/xp_socket.c 	sock-&gt;socket = php_network_connect_socket_to_host(host, portno,</span>
<span class='curline'><a href='../S/1430.html#L760'>sock</a>              760 main/streams/xp_socket.c 	ret = sock-&gt;socket == -1 ? -1 : 0;</span>
<span class='curline'><a href='../S/1430.html#L782'>sock</a>              782 main/streams/xp_socket.c static inline int php_tcp_sockop_accept(php_stream *stream, php_netstream_data_t *sock,</span>
<span class='curline'><a href='../S/1430.html#L789'>sock</a>              789 main/streams/xp_socket.c 	clisock = php_network_accept_incoming(sock-&gt;socket,</span>
<span class='curline'><a href='../S/1430.html#L807'>sock</a>              807 main/streams/xp_socket.c 			memcpy(clisockdata, sock, sizeof(*clisockdata));</span>
<span class='curline'><a href='../S/1430.html#L825'>sock</a>              825 main/streams/xp_socket.c 	php_netstream_data_t *sock = (php_netstream_data_t*)stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1430.html#L835'>sock</a>              835 main/streams/xp_socket.c 					xparam-&gt;outputs.returncode = php_tcp_sockop_connect(stream, sock, xparam);</span>
<span class='curline'><a href='../S/1430.html#L839'>sock</a>              839 main/streams/xp_socket.c 					xparam-&gt;outputs.returncode = php_tcp_sockop_bind(stream, sock, xparam);</span>
<span class='curline'><a href='../S/1430.html#L844'>sock</a>              844 main/streams/xp_socket.c 					xparam-&gt;outputs.returncode = php_tcp_sockop_accept(stream, sock, xparam STREAMS_CC);</span>
<span class='curline'><a href='../S/1430.html#L862'>sock</a>              862 main/streams/xp_socket.c 	php_netstream_data_t *sock;</span>
<span class='curline'><a href='../S/1430.html#L883'>sock</a>              883 main/streams/xp_socket.c 	sock = pemalloc(sizeof(php_netstream_data_t), persistent_id ? 1 : 0);</span>
<span class='curline'><a href='../S/1430.html#L884'>sock</a>              884 main/streams/xp_socket.c 	memset(sock, 0, sizeof(php_netstream_data_t));</span>
<span class='curline'><a href='../S/1430.html#L886'>sock</a>              886 main/streams/xp_socket.c 	sock-&gt;is_blocked = 1;</span>
<span class='curline'><a href='../S/1430.html#L887'>sock</a>              887 main/streams/xp_socket.c 	sock-&gt;timeout.tv_sec = FG(default_socket_timeout);</span>
<span class='curline'><a href='../S/1430.html#L888'>sock</a>              888 main/streams/xp_socket.c 	sock-&gt;timeout.tv_usec = 0;</span>
<span class='curline'><a href='../S/1430.html#L892'>sock</a>              892 main/streams/xp_socket.c 	sock-&gt;socket = -1;</span>
<span class='curline'><a href='../S/1430.html#L894'>sock</a>              894 main/streams/xp_socket.c 	stream = php_stream_alloc_rel(ops, sock, persistent_id, "r+");</span>
<span class='curline'><a href='../S/1430.html#L897'>sock</a>              897 main/streams/xp_socket.c 		pefree(sock, persistent_id ? 1 : 0);</span>
<span class='curline'><a href='../S/1448.html#L164'>sock</a>              164 sapi/cli/php_cli_server.c 	php_socket_t sock;</span>
<span class='curline'><a href='../S/1448.html#L503'>sock</a>              503 sapi/cli/php_cli_server.c 	if (!ZEND_VALID_SOCKET(client-&gt;sock)) {</span>
<span class='curline'><a href='../S/1448.html#L1684'>sock</a>             1684 sapi/cli/php_cli_server.c 	nbytes_read = recv(client-&gt;sock, buf, sizeof(buf) - 1, 0);</span>
<span class='curline'><a href='../S/1448.html#L1734'>sock</a>             1734 sapi/cli/php_cli_server.c 		nbytes_sent = send(client-&gt;sock, str + str_len - nbytes_left, nbytes_left, 0);</span>
<span class='curline'><a href='../S/1448.html#L1738'>sock</a>             1738 sapi/cli/php_cli_server.c 				int nfds = php_pollfd_for(client-&gt;sock, POLLOUT, &amp;tv);</span>
<span class='curline'><a href='../S/1448.html#L1784'>sock</a>             1784 sapi/cli/php_cli_server.c 	client-&gt;sock = client_sock;</span>
<span class='curline'><a href='../S/1448.html#L1828'>sock</a>             1828 sapi/cli/php_cli_server.c 	zend_hash_index_del(&amp;server-&gt;clients, client-&gt;sock);</span>
<span class='curline'><a href='../S/1448.html#L1911'>sock</a>             1911 sapi/cli/php_cli_server.c 	php_cli_server_poller_add(&amp;server-&gt;poller, POLLOUT, client-&gt;sock);</span>
<span class='curline'><a href='../S/1448.html#L2014'>sock</a>             2014 sapi/cli/php_cli_server.c 	php_cli_server_poller_add(&amp;server-&gt;poller, POLLOUT, client-&gt;sock);</span>
<span class='curline'><a href='../S/1448.html#L2188'>sock</a>             2188 sapi/cli/php_cli_server.c 	closesocket(p-&gt;sock);</span>
<span class='curline'><a href='../S/1448.html#L2189'>sock</a>             2189 sapi/cli/php_cli_server.c 	php_cli_server_poller_remove(&amp;p-&gt;server-&gt;poller, POLLIN | POLLOUT, p-&gt;sock);</span>
<span class='curline'><a href='../S/1448.html#L2327'>sock</a>             2327 sapi/cli/php_cli_server.c 		php_cli_server_poller_remove(&amp;server-&gt;poller, POLLIN, client-&gt;sock);</span>
<span class='curline'><a href='../S/1448.html#L2330'>sock</a>             2330 sapi/cli/php_cli_server.c 		php_cli_server_poller_add(&amp;server-&gt;poller, POLLIN, client-&gt;sock);</span>
<span class='curline'><a href='../S/1448.html#L2352'>sock</a>             2352 sapi/cli/php_cli_server.c 			int err = php_cli_server_content_sender_send(&amp;client-&gt;content_sender, client-&gt;sock, &amp;nbytes_sent);</span>
<span class='curline'><a href='../S/1502.html#L35'>sock</a>               35 sapi/fpm/fpm/fpm_sockets.c 	int sock;</span>
<span class='curline'><a href='../S/1502.html#L53'>sock</a>               53 sapi/fpm/fpm/fpm_sockets.c 			close(ls-&gt;sock);</span>
<span class='curline'><a href='../S/1502.html#L56'>sock</a>               56 sapi/fpm/fpm/fpm_sockets.c 			sprintf(fd, "%d", ls-&gt;sock);</span>
<span class='curline'><a href='../S/1502.html#L98'>sock</a>               98 sapi/fpm/fpm/fpm_sockets.c static int fpm_sockets_hash_op(int sock, struct sockaddr *sa, char *key, int type, int op) /* {{{ */</span>
<span class='curline'><a href='../S/1502.html#L131'>sock</a>              131 sapi/fpm/fpm/fpm_sockets.c 					return ls-&gt;sock;</span>
<span class='curline'><a href='../S/1502.html#L153'>sock</a>              153 sapi/fpm/fpm/fpm_sockets.c 			ls-&gt;sock = sock;</span>
<span class='curline'><a href='../S/1502.html#L166'>sock</a>              166 sapi/fpm/fpm/fpm_sockets.c 	int sock;</span>
<span class='curline'><a href='../S/1502.html#L169'>sock</a>              169 sapi/fpm/fpm/fpm_sockets.c 	sock = socket(sa-&gt;sa_family, SOCK_STREAM, 0);</span>
<span class='curline'><a href='../S/1502.html#L171'>sock</a>              171 sapi/fpm/fpm/fpm_sockets.c 	if (0 &gt; sock) {</span>
<span class='curline'><a href='../S/1502.html#L176'>sock</a>              176 sapi/fpm/fpm/fpm_sockets.c 	if (0 &gt; setsockopt(sock, SOL_SOCKET, SO_REUSEADDR, &amp;flags, sizeof(flags))) {</span>
<span class='curline'><a href='../S/1502.html#L183'>sock</a>              183 sapi/fpm/fpm/fpm_sockets.c 			close(sock);</span>
<span class='curline'><a href='../S/1502.html#L190'>sock</a>              190 sapi/fpm/fpm/fpm_sockets.c 	if (0 &gt; bind(sock, sa, socklen)) {</span>
<span class='curline'><a href='../S/1502.html#L195'>sock</a>              195 sapi/fpm/fpm/fpm_sockets.c 		close(sock);</span>
<span class='curline'><a href='../S/1502.html#L205'>sock</a>              205 sapi/fpm/fpm/fpm_sockets.c 			close(sock);</span>
<span class='curline'><a href='../S/1502.html#L210'>sock</a>              210 sapi/fpm/fpm/fpm_sockets.c 	if (0 &gt; listen(sock, wp-&gt;config-&gt;listen_backlog)) {</span>
<span class='curline'><a href='../S/1502.html#L212'>sock</a>              212 sapi/fpm/fpm/fpm_sockets.c 		close(sock);</span>
<span class='curline'><a href='../S/1502.html#L216'>sock</a>              216 sapi/fpm/fpm/fpm_sockets.c 	return sock;</span>
<span class='curline'><a href='../S/1502.html#L222'>sock</a>              222 sapi/fpm/fpm/fpm_sockets.c 	int sock;</span>
<span class='curline'><a href='../S/1502.html#L224'>sock</a>              224 sapi/fpm/fpm/fpm_sockets.c 	sock = fpm_sockets_hash_op(0, sa, 0, wp-&gt;listen_address_domain, FPM_GET_USE_SOCKET);</span>
<span class='curline'><a href='../S/1502.html#L225'>sock</a>              225 sapi/fpm/fpm/fpm_sockets.c 	if (sock &gt;= 0) {</span>
<span class='curline'><a href='../S/1502.html#L226'>sock</a>              226 sapi/fpm/fpm/fpm_sockets.c 		return sock;</span>
<span class='curline'><a href='../S/1502.html#L229'>sock</a>              229 sapi/fpm/fpm/fpm_sockets.c 	sock = fpm_sockets_new_listening_socket(wp, sa, socklen);</span>
<span class='curline'><a href='../S/1502.html#L230'>sock</a>              230 sapi/fpm/fpm/fpm_sockets.c 	fpm_sockets_hash_op(sock, sa, 0, wp-&gt;listen_address_domain, FPM_STORE_USE_SOCKET);</span>
<span class='curline'><a href='../S/1502.html#L232'>sock</a>              232 sapi/fpm/fpm/fpm_sockets.c 	return sock;</span>
<span class='curline'><a href='../S/1502.html#L258'>sock</a>              258 sapi/fpm/fpm/fpm_sockets.c 	int sock = -1;</span>
<span class='curline'><a href='../S/1502.html#L296'>sock</a>              296 sapi/fpm/fpm/fpm_sockets.c 		if (sock &lt; 0) {</span>
<span class='curline'><a href='../S/1502.html#L297'>sock</a>              297 sapi/fpm/fpm/fpm_sockets.c 			if ((sock = fpm_sockets_get_listening_socket(wp, p-&gt;ai_addr, p-&gt;ai_addrlen)) != -1) {</span>
<span class='curline'><a href='../S/1502.html#L308'>sock</a>              308 sapi/fpm/fpm/fpm_sockets.c 	return sock;</span>
<span class='curline'><a href='../S/1502.html#L389'>sock</a>              389 sapi/fpm/fpm/fpm_sockets.c 			close(ls-&gt;sock);</span>
<span class='curline'><a href='../S/1502.html#L414'>sock</a>              414 sapi/fpm/fpm/fpm_sockets.c int fpm_socket_get_listening_queue(int sock, unsigned *cur_lq, unsigned *max_lq)</span>
<span class='curline'><a href='../S/1502.html#L419'>sock</a>              419 sapi/fpm/fpm/fpm_sockets.c 	if (0 &gt; getsockopt(sock, IPPROTO_TCP, TCP_INFO, &amp;info, &amp;len)) {</span>
<span class='curline'><a href='../S/1502.html#L457'>sock</a>              457 sapi/fpm/fpm/fpm_sockets.c int fpm_socket_get_listening_queue(int sock, unsigned *cur_lq, unsigned *max_lq)</span>
<span class='curline'><a href='../S/1502.html#L463'>sock</a>              463 sapi/fpm/fpm/fpm_sockets.c 		if (0 &gt; getsockopt(sock, SOL_SOCKET, SO_LISTENQLEN, &amp;val, &amp;len)) {</span>
<span class='curline'><a href='../S/1502.html#L471'>sock</a>              471 sapi/fpm/fpm/fpm_sockets.c 		if (0 &gt; getsockopt(sock, SOL_SOCKET, SO_LISTENQLIMIT, &amp;val, &amp;len)) {</span>
<span class='curline'><a href='../S/1502.html#L485'>sock</a>              485 sapi/fpm/fpm/fpm_sockets.c int fpm_socket_get_listening_queue(int sock, unsigned *cur_lq, unsigned *max_lq)</span>
<span class='curline'><a href='../S/1502.html#L492'>sock</a>              492 sapi/fpm/fpm/fpm_sockets.c int fpm_socket_unix_test_connect(struct sockaddr_un *sock, size_t socklen) /* {{{ */</span>
<span class='curline'><a href='../S/1502.html#L496'>sock</a>              496 sapi/fpm/fpm/fpm_sockets.c 	if (!sock || sock-&gt;sun_family != AF_UNIX) {</span>
<span class='curline'><a href='../S/1502.html#L504'>sock</a>              504 sapi/fpm/fpm/fpm_sockets.c 	if (connect(fd, (struct sockaddr *)sock, socklen) == -1) {</span>
<span class='curline'><a href='../S/1503.html#L27'>sock</a>               27 sapi/fpm/fpm/fpm_sockets.h int fpm_socket_get_listening_queue(int sock, unsigned *cur_lq, unsigned *max_lq);</span>
<span class='curline'><a href='../S/1503.html#L28'>sock</a>               28 sapi/fpm/fpm/fpm_sockets.h int fpm_socket_unix_test_connect(struct sockaddr_un *sock, size_t socklen);</span>
<span class='curline'><a href='../S/1544.html#L98'>sock</a>               98 sapi/phpdbg/phpdbg_io.c PHPDBG_API int phpdbg_consume_bytes(int sock, char *ptr, int len, int tmo) {</span>
<span class='curline'><a href='../S/1544.html#L105'>sock</a>              105 sapi/phpdbg/phpdbg_io.c 	pfd.fd = sock;</span>
<span class='curline'><a href='../S/1544.html#L117'>sock</a>              117 sapi/phpdbg/phpdbg_io.c 	FD_SET(sock, &amp;readfds);</span>
<span class='curline'><a href='../S/1544.html#L134'>sock</a>              134 sapi/phpdbg/phpdbg_io.c 			int can_read = recv(sock, p, i, MSG_PEEK);</span>
<span class='curline'><a href='../S/1544.html#L144'>sock</a>              144 sapi/phpdbg/phpdbg_io.c 		got_now = recv(sock, p, i, 0);</span>
<span class='curline'><a href='../S/1544.html#L147'>sock</a>              147 sapi/phpdbg/phpdbg_io.c 			got_now = recv(sock, p, i, 0);</span>
<span class='curline'><a href='../S/1544.html#L162'>sock</a>              162 sapi/phpdbg/phpdbg_io.c PHPDBG_API int phpdbg_send_bytes(int sock, const char *ptr, int len) {</span>
<span class='curline'><a href='../S/1544.html#L167'>sock</a>              167 sapi/phpdbg/phpdbg_io.c 		sent = send(sock, p, i, 0);</span>
<span class='curline'><a href='../S/1544.html#L179'>sock</a>              179 sapi/phpdbg/phpdbg_io.c PHPDBG_API int phpdbg_mixed_read(int sock, char *ptr, int len, int tmo) {</span>
<span class='curline'><a href='../S/1544.html#L183'>sock</a>              183 sapi/phpdbg/phpdbg_io.c 		return phpdbg_consume_bytes(sock, ptr, len, tmo);</span>
<span class='curline'><a href='../S/1544.html#L187'>sock</a>              187 sapi/phpdbg/phpdbg_io.c 		ret = read(sock, ptr, len);</span>
<span class='curline'><a href='../S/1544.html#L193'>sock</a>              193 sapi/phpdbg/phpdbg_io.c static int phpdbg_output_pager(int sock, const char *ptr, int len) {</span>
<span class='curline'><a href='../S/1544.html#L202'>sock</a>              202 sapi/phpdbg/phpdbg_io.c 			bytes += write(sock, ptr + bytes, (p - ptr) - bytes);</span>
<span class='curline'><a href='../S/1544.html#L206'>sock</a>              206 sapi/phpdbg/phpdbg_io.c 				write(sock, ZEND_STRL("\r---Type &lt;return&gt; to continue or q &lt;return&gt; to quit---"));</span>
<span class='curline'><a href='../S/1544.html#L211'>sock</a>              211 sapi/phpdbg/phpdbg_io.c 				write(sock, "\r", 1);</span>
<span class='curline'><a href='../S/1544.html#L216'>sock</a>              216 sapi/phpdbg/phpdbg_io.c 		bytes += write(sock, ptr + bytes, len - bytes);</span>
<span class='curline'><a href='../S/1544.html#L218'>sock</a>              218 sapi/phpdbg/phpdbg_io.c 		bytes += write(sock, ptr, len);</span>
<span class='curline'><a href='../S/1544.html#L223'>sock</a>              223 sapi/phpdbg/phpdbg_io.c PHPDBG_API int phpdbg_mixed_write(int sock, const char *ptr, int len) {</span>
<span class='curline'><a href='../S/1544.html#L225'>sock</a>              225 sapi/phpdbg/phpdbg_io.c 		return phpdbg_send_bytes(sock, ptr, len);</span>
<span class='curline'><a href='../S/1544.html#L230'>sock</a>              230 sapi/phpdbg/phpdbg_io.c 	 &amp;&amp; PHPDBG_G(io)[PHPDBG_STDOUT].fd == sock</span>
<span class='curline'><a href='../S/1544.html#L232'>sock</a>              232 sapi/phpdbg/phpdbg_io.c 		return phpdbg_output_pager(sock, ptr, len);</span>
<span class='curline'><a href='../S/1544.html#L235'>sock</a>              235 sapi/phpdbg/phpdbg_io.c 	return write(sock, ptr, len);</span>
<span class='curline'><a href='../S/1544.html#L258'>sock</a>              258 sapi/phpdbg/phpdbg_io.c 	int sock = -1, rc;</span>
<span class='curline'><a href='../S/1544.html#L310'>sock</a>              310 sapi/phpdbg/phpdbg_io.c 				return sock;</span>
<span class='curline'><a href='../S/1544.html#L320'>sock</a>              320 sapi/phpdbg/phpdbg_io.c 				return sock;</span>
<span class='curline'><a href='../S/1544.html#L324'>sock</a>              324 sapi/phpdbg/phpdbg_io.c 			return sock;</span>
<span class='curline'><a href='../S/1544.html#L327'>sock</a>              327 sapi/phpdbg/phpdbg_io.c 		if((sock = socket(res-&gt;ai_family, res-&gt;ai_socktype, res-&gt;ai_protocol)) == -1) {</span>
<span class='curline'><a href='../S/1544.html#L335'>sock</a>              335 sapi/phpdbg/phpdbg_io.c 			return sock;</span>
<span class='curline'><a href='../S/1544.html#L338'>sock</a>              338 sapi/phpdbg/phpdbg_io.c 		if (setsockopt(sock, SOL_SOCKET, SO_REUSEADDR, (char*) &amp;reuse, sizeof(reuse)) == -1) {</span>
<span class='curline'><a href='../S/1544.html#L339'>sock</a>              339 sapi/phpdbg/phpdbg_io.c 			phpdbg_close_socket(sock);</span>
<span class='curline'><a href='../S/1544.html#L340'>sock</a>              340 sapi/phpdbg/phpdbg_io.c 			return sock;</span>
<span class='curline'><a href='../S/1544.html#L348'>sock</a>              348 sapi/phpdbg/phpdbg_io.c 	return sock;</span>
<span class='curline'><a href='../S/1544.html#L351'>sock</a>              351 sapi/phpdbg/phpdbg_io.c PHPDBG_API void phpdbg_close_socket(int sock) {</span>
<span class='curline'><a href='../S/1544.html#L354'>sock</a>              354 sapi/phpdbg/phpdbg_io.c 		closesocket(sock);</span>
<span class='curline'><a href='../S/1544.html#L356'>sock</a>              356 sapi/phpdbg/phpdbg_io.c 		shutdown(sock, SHUT_RDWR);</span>
<span class='curline'><a href='../S/1544.html#L357'>sock</a>              357 sapi/phpdbg/phpdbg_io.c 		close(sock);</span>
<span class='curline'><a href='../S/1545.html#L31'>sock</a>               31 sapi/phpdbg/phpdbg_io.h PHPDBG_API int phpdbg_consume_bytes(int sock, char *ptr, int len, int tmo);</span>
<span class='curline'><a href='../S/1545.html#L32'>sock</a>               32 sapi/phpdbg/phpdbg_io.h PHPDBG_API int phpdbg_send_bytes(int sock, const char *ptr, int len);</span>
<span class='curline'><a href='../S/1545.html#L33'>sock</a>               33 sapi/phpdbg/phpdbg_io.h PHPDBG_API int phpdbg_mixed_read(int sock, char *ptr, int len, int tmo);</span>
<span class='curline'><a href='../S/1545.html#L34'>sock</a>               34 sapi/phpdbg/phpdbg_io.h PHPDBG_API int phpdbg_mixed_write(int sock, const char *ptr, int len);</span>
<span class='curline'><a href='../S/1545.html#L38'>sock</a>               38 sapi/phpdbg/phpdbg_io.h PHPDBG_API void phpdbg_close_socket(int sock);</span>
<span class='curline'><a href='../S/1560.html#L57'>sock</a>               57 sapi/phpdbg/phpdbg_rinit_hook.c 		struct sockaddr_un sock;</span>
<span class='curline'><a href='../S/1560.html#L59'>sock</a>               59 sapi/phpdbg/phpdbg_rinit_hook.c 		int len = strlen(PHPDBG_WG(path)) + sizeof(sock.sun_family);</span>
<span class='curline'><a href='../S/1560.html#L62'>sock</a>               62 sapi/phpdbg/phpdbg_rinit_hook.c 		sock.sun_family = AF_UNIX;</span>
<span class='curline'><a href='../S/1560.html#L63'>sock</a>               63 sapi/phpdbg/phpdbg_rinit_hook.c 		strcpy(sock.sun_path, PHPDBG_WG(path));</span>
<span class='curline'><a href='../S/1560.html#L65'>sock</a>               65 sapi/phpdbg/phpdbg_rinit_hook.c 		if (connect(s, (struct sockaddr *)&amp;sock, len) == -1) {</span>
<span class='curline'><a href='../S/1617.html#L31'>sock</a>               31 win32/sockets.c PHPAPI int socketpair(int domain, int type, int protocol, SOCKET sock[2])</span>
<span class='curline'><a href='../S/1617.html#L42'>sock</a>               42 win32/sockets.c 	sock[0] = sock[1] = redirect = INVALID_SOCKET;</span>
<span class='curline'><a href='../S/1617.html#L45'>sock</a>               45 win32/sockets.c 	sock[0]	= socket(domain, type, protocol);</span>
<span class='curline'><a href='../S/1617.html#L46'>sock</a>               46 win32/sockets.c 	if (INVALID_SOCKET == sock[0]) {</span>
<span class='curline'><a href='../S/1617.html#L54'>sock</a>               54 win32/sockets.c 	if (bind(sock[0], (struct sockaddr*)&amp;address, sizeof(address)) != 0) {</span>
<span class='curline'><a href='../S/1617.html#L58'>sock</a>               58 win32/sockets.c 	if(getsockname(sock[0], (struct sockaddr *)&amp;address, &amp;size) != 0) {</span>
<span class='curline'><a href='../S/1617.html#L62'>sock</a>               62 win32/sockets.c 	if (listen(sock[0], 2) != 0) {</span>
<span class='curline'><a href='../S/1617.html#L66'>sock</a>               66 win32/sockets.c 	sock[1] = socket(domain, type, protocol);</span>
<span class='curline'><a href='../S/1617.html#L67'>sock</a>               67 win32/sockets.c 	if (INVALID_SOCKET == sock[1]) {</span>
<span class='curline'><a href='../S/1617.html#L72'>sock</a>               72 win32/sockets.c 	if(connect(sock[1], (struct sockaddr*)&amp;address, sizeof(address)) != 0) {</span>
<span class='curline'><a href='../S/1617.html#L76'>sock</a>               76 win32/sockets.c 	redirect = accept(sock[0],(struct sockaddr*)&amp;address, &amp;size);</span>
<span class='curline'><a href='../S/1617.html#L81'>sock</a>               81 win32/sockets.c 	closesocket(sock[0]);</span>
<span class='curline'><a href='../S/1617.html#L82'>sock</a>               82 win32/sockets.c 	sock[0] = redirect;</span>
<span class='curline'><a href='../S/1617.html#L88'>sock</a>               88 win32/sockets.c 	closesocket(sock[0]);</span>
<span class='curline'><a href='../S/1617.html#L89'>sock</a>               89 win32/sockets.c 	closesocket(sock[1]);</span>
<span class='curline'><a href='../S/1618.html#L26'>sock</a>               26 win32/sockets.h PHPAPI int socketpair(int domain, int type, int protocol, SOCKET sock[2]);</span>
</pre>
</body>
</html>
