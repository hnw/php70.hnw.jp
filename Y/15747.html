<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>dirlen</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/956.html#L183'>dirlen</a>            183 ext/phar/dirstream.c 	int dirlen = strlen(dir);</span>
<span class='curline'><a href='../S/956.html#L192'>dirlen</a>            192 ext/phar/dirstream.c 	if ((*dir == '/' &amp;&amp; dirlen == 1 &amp;&amp; (manifest-&gt;nNumOfElements == 0)) || (dirlen &gt;= sizeof(".phar")-1 &amp;&amp; !memcmp(dir, ".phar", sizeof(".phar")-1))) {</span>
<span class='curline'><a href='../S/956.html#L208'>dirlen</a>            208 ext/phar/dirstream.c 		if (keylen &lt;= (uint)dirlen) {</span>
<span class='curline'><a href='../S/956.html#L209'>dirlen</a>            209 ext/phar/dirstream.c 			if (keylen == 0 || keylen &lt; (uint)dirlen || !strncmp(ZSTR_VAL(str_key), dir, dirlen)) {</span>
<span class='curline'><a href='../S/956.html#L241'>dirlen</a>            241 ext/phar/dirstream.c 			if (0 != memcmp(ZSTR_VAL(str_key), dir, dirlen)) {</span>
<span class='curline'><a href='../S/956.html#L248'>dirlen</a>            248 ext/phar/dirstream.c 				if (ZSTR_VAL(str_key)[dirlen] != '/') {</span>
<span class='curline'><a href='../S/956.html#L258'>dirlen</a>            258 ext/phar/dirstream.c 		save += dirlen + 1; /* seek to just past the path separator */</span>
<span class='curline'><a href='../S/956.html#L260'>dirlen</a>            260 ext/phar/dirstream.c 		if (NULL != (found = (char *) memchr(save, '/', keylen - dirlen - 1))) {</span>
<span class='curline'><a href='../S/956.html#L262'>dirlen</a>            262 ext/phar/dirstream.c 			save -= dirlen + 1;</span>
<span class='curline'><a href='../S/956.html#L263'>dirlen</a>            263 ext/phar/dirstream.c 			entry = (char *) safe_emalloc(found - save + dirlen, 1, 1);</span>
<span class='curline'><a href='../S/956.html#L264'>dirlen</a>            264 ext/phar/dirstream.c 			memcpy(entry, save + dirlen + 1, found - save - dirlen - 1);</span>
<span class='curline'><a href='../S/956.html#L265'>dirlen</a>            265 ext/phar/dirstream.c 			keylen = found - save - dirlen - 1;</span>
<span class='curline'><a href='../S/956.html#L269'>dirlen</a>            269 ext/phar/dirstream.c 			save -= dirlen + 1;</span>
<span class='curline'><a href='../S/956.html#L270'>dirlen</a>            270 ext/phar/dirstream.c 			entry = (char *) safe_emalloc(keylen - dirlen, 1, 1);</span>
<span class='curline'><a href='../S/956.html#L271'>dirlen</a>            271 ext/phar/dirstream.c 			memcpy(entry, save + dirlen + 1, keylen - dirlen - 1);</span>
<span class='curline'><a href='../S/956.html#L272'>dirlen</a>            272 ext/phar/dirstream.c 			entry[keylen - dirlen - 1] = '\0';</span>
<span class='curline'><a href='../S/956.html#L273'>dirlen</a>            273 ext/phar/dirstream.c 			keylen = keylen - dirlen - 1;</span>
</pre>
</body>
</html>
