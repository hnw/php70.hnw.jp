<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>fpm_global_config</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1472.html#L268'>fpm_global_config</a>  268 sapi/fpm/fpm/fpm_children.c 				if (fault == fpm_global_config.emergency_restart_threshold) {</span>
<span class='curline'><a href='../S/1472.html#L272'>fpm_global_config</a>  272 sapi/fpm/fpm/fpm_children.c 				for (i = 0; i &lt; fpm_global_config.emergency_restart_threshold; i++) {</span>
<span class='curline'><a href='../S/1472.html#L273'>fpm_global_config</a>  273 sapi/fpm/fpm/fpm_children.c 					if (now - last_faults[i] &gt; fpm_global_config.emergency_restart_interval) {</span>
<span class='curline'><a href='../S/1472.html#L281'>fpm_global_config</a>  281 sapi/fpm/fpm/fpm_children.c 					zlog(ZLOG_WARNING, "failed processes threshold (%d in %d sec) is reached, initiating reload", fpm_global_config.emergency_restart_threshold, fpm_global_config.emergency_restart_interval);</span>
<span class='curline'><a href='../S/1472.html#L391'>fpm_global_config</a>  391 sapi/fpm/fpm/fpm_children.c 	while (fpm_pctl_can_spawn_children() &amp;&amp; wp-&gt;running_children &lt; max &amp;&amp; (fpm_global_config.process_max &lt; 1 || fpm_globals.running_children &lt; fpm_global_config.process_max)) {</span>
<span class='curline'><a href='../S/1472.html#L426'>fpm_global_config</a>  426 sapi/fpm/fpm/fpm_children.c 	if (!warned &amp;&amp; fpm_global_config.process_max &gt; 0 &amp;&amp; fpm_globals.running_children &gt;= fpm_global_config.process_max) {</span>
<span class='curline'><a href='../S/1472.html#L459'>fpm_global_config</a>  459 sapi/fpm/fpm/fpm_children.c 	if (fpm_global_config.emergency_restart_threshold &amp;&amp;</span>
<span class='curline'><a href='../S/1472.html#L460'>fpm_global_config</a>  460 sapi/fpm/fpm/fpm_children.c 		fpm_global_config.emergency_restart_interval) {</span>
<span class='curline'><a href='../S/1472.html#L462'>fpm_global_config</a>  462 sapi/fpm/fpm/fpm_children.c 		last_faults = malloc(sizeof(time_t) * fpm_global_config.emergency_restart_threshold);</span>
<span class='curline'><a href='../S/1472.html#L468'>fpm_global_config</a>  468 sapi/fpm/fpm/fpm_children.c 		memset(last_faults, 0, sizeof(time_t) * fpm_global_config.emergency_restart_threshold);</span>
<span class='curline'><a href='../S/1478.html#L73'>fpm_global_config</a>   73 sapi/fpm/fpm/fpm_conf.c struct fpm_global_config_s fpm_global_config = {</span>
<span class='curline'><a href='../S/1478.html#L1115'>fpm_global_config</a> 1115 sapi/fpm/fpm/fpm_conf.c 	if (fpm_global_config.pid_file) {</span>
<span class='curline'><a href='../S/1478.html#L1116'>fpm_global_config</a> 1116 sapi/fpm/fpm/fpm_conf.c 		if (0 &gt; unlink(fpm_global_config.pid_file)) {</span>
<span class='curline'><a href='../S/1478.html#L1117'>fpm_global_config</a> 1117 sapi/fpm/fpm/fpm_conf.c 			zlog(ZLOG_SYSERROR, "Unable to remove the PID file (%s).", fpm_global_config.pid_file);</span>
<span class='curline'><a href='../S/1478.html#L1129'>fpm_global_config</a> 1129 sapi/fpm/fpm/fpm_conf.c 	if (fpm_global_config.pid_file) {</span>
<span class='curline'><a href='../S/1478.html#L1133'>fpm_global_config</a> 1133 sapi/fpm/fpm/fpm_conf.c 		unlink(fpm_global_config.pid_file);</span>
<span class='curline'><a href='../S/1478.html#L1134'>fpm_global_config</a> 1134 sapi/fpm/fpm/fpm_conf.c 		fd = creat(fpm_global_config.pid_file, S_IRUSR | S_IWUSR | S_IRGRP | S_IROTH);</span>
<span class='curline'><a href='../S/1478.html#L1137'>fpm_global_config</a> 1137 sapi/fpm/fpm/fpm_conf.c 			zlog(ZLOG_SYSERROR, "Unable to create the PID file (%s).", fpm_global_config.pid_file);</span>
<span class='curline'><a href='../S/1478.html#L1158'>fpm_global_config</a> 1158 sapi/fpm/fpm/fpm_conf.c 	if (fpm_global_config.pid_file) {</span>
<span class='curline'><a href='../S/1478.html#L1159'>fpm_global_config</a> 1159 sapi/fpm/fpm/fpm_conf.c 		fpm_evaluate_full_path(&amp;fpm_global_config.pid_file, NULL, PHP_LOCALSTATEDIR, 0);</span>
<span class='curline'><a href='../S/1478.html#L1164'>fpm_global_config</a> 1164 sapi/fpm/fpm/fpm_conf.c 		fpm_global_config.daemonize = force_daemon;</span>
<span class='curline'><a href='../S/1478.html#L1167'>fpm_global_config</a> 1167 sapi/fpm/fpm/fpm_conf.c 	fpm_globals.log_level = fpm_global_config.log_level;</span>
<span class='curline'><a href='../S/1478.html#L1170'>fpm_global_config</a> 1170 sapi/fpm/fpm/fpm_conf.c 	if (fpm_global_config.process_max &lt; 0) {</span>
<span class='curline'><a href='../S/1478.html#L1175'>fpm_global_config</a> 1175 sapi/fpm/fpm/fpm_conf.c 	if (fpm_global_config.process_priority != 64 &amp;&amp; (fpm_global_config.process_priority &lt; -19 || fpm_global_config.process_priority &gt; 20)) {</span>
<span class='curline'><a href='../S/1478.html#L1180'>fpm_global_config</a> 1180 sapi/fpm/fpm/fpm_conf.c 	if (!fpm_global_config.error_log) {</span>
<span class='curline'><a href='../S/1478.html#L1181'>fpm_global_config</a> 1181 sapi/fpm/fpm/fpm_conf.c 		fpm_global_config.error_log = strdup("log/php-fpm.log");</span>
<span class='curline'><a href='../S/1478.html#L1191'>fpm_global_config</a> 1191 sapi/fpm/fpm/fpm_conf.c 	if (!fpm_global_config.syslog_ident) {</span>
<span class='curline'><a href='../S/1478.html#L1192'>fpm_global_config</a> 1192 sapi/fpm/fpm/fpm_conf.c 		fpm_global_config.syslog_ident = strdup("php-fpm");</span>
<span class='curline'><a href='../S/1478.html#L1195'>fpm_global_config</a> 1195 sapi/fpm/fpm/fpm_conf.c 	if (fpm_global_config.syslog_facility &lt; 0) {</span>
<span class='curline'><a href='../S/1478.html#L1196'>fpm_global_config</a> 1196 sapi/fpm/fpm/fpm_conf.c 		fpm_global_config.syslog_facility = LOG_DAEMON;</span>
<span class='curline'><a href='../S/1478.html#L1199'>fpm_global_config</a> 1199 sapi/fpm/fpm/fpm_conf.c 	if (strcasecmp(fpm_global_config.error_log, "syslog") != 0)</span>
<span class='curline'><a href='../S/1478.html#L1202'>fpm_global_config</a> 1202 sapi/fpm/fpm/fpm_conf.c 		fpm_evaluate_full_path(&amp;fpm_global_config.error_log, NULL, PHP_LOCALSTATEDIR, 0);</span>
<span class='curline'><a href='../S/1478.html#L1209'>fpm_global_config</a> 1209 sapi/fpm/fpm/fpm_conf.c 	if (0 &gt; fpm_event_pre_init(fpm_global_config.events_mechanism)) {</span>
<span class='curline'><a href='../S/1478.html#L1237'>fpm_global_config</a> 1237 sapi/fpm/fpm/fpm_conf.c 	free(fpm_global_config.pid_file);</span>
<span class='curline'><a href='../S/1478.html#L1238'>fpm_global_config</a> 1238 sapi/fpm/fpm/fpm_conf.c 	free(fpm_global_config.error_log);</span>
<span class='curline'><a href='../S/1478.html#L1239'>fpm_global_config</a> 1239 sapi/fpm/fpm/fpm_conf.c 	free(fpm_global_config.events_mechanism);</span>
<span class='curline'><a href='../S/1478.html#L1240'>fpm_global_config</a> 1240 sapi/fpm/fpm/fpm_conf.c 	fpm_global_config.pid_file = 0;</span>
<span class='curline'><a href='../S/1478.html#L1241'>fpm_global_config</a> 1241 sapi/fpm/fpm/fpm_conf.c 	fpm_global_config.error_log = 0;</span>
<span class='curline'><a href='../S/1478.html#L1243'>fpm_global_config</a> 1243 sapi/fpm/fpm/fpm_conf.c 	free(fpm_global_config.syslog_ident);</span>
<span class='curline'><a href='../S/1478.html#L1244'>fpm_global_config</a> 1244 sapi/fpm/fpm/fpm_conf.c 	fpm_global_config.syslog_ident = 0;</span>
<span class='curline'><a href='../S/1478.html#L1368'>fpm_global_config</a> 1368 sapi/fpm/fpm/fpm_conf.c 		config = &amp;fpm_global_config;</span>
<span class='curline'><a href='../S/1478.html#L1577'>fpm_global_config</a> 1577 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\tpid = %s",                         STR2STR(fpm_global_config.pid_file));</span>
<span class='curline'><a href='../S/1478.html#L1578'>fpm_global_config</a> 1578 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\terror_log = %s",                   STR2STR(fpm_global_config.error_log));</span>
<span class='curline'><a href='../S/1478.html#L1580'>fpm_global_config</a> 1580 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\tsyslog.ident = %s",                STR2STR(fpm_global_config.syslog_ident));</span>
<span class='curline'><a href='../S/1478.html#L1581'>fpm_global_config</a> 1581 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\tsyslog.facility = %d",             fpm_global_config.syslog_facility); /* FIXME: convert to string */</span>
<span class='curline'><a href='../S/1478.html#L1584'>fpm_global_config</a> 1584 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\temergency_restart_interval = %ds", fpm_global_config.emergency_restart_interval);</span>
<span class='curline'><a href='../S/1478.html#L1585'>fpm_global_config</a> 1585 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\temergency_restart_threshold = %d", fpm_global_config.emergency_restart_threshold);</span>
<span class='curline'><a href='../S/1478.html#L1586'>fpm_global_config</a> 1586 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\tprocess_control_timeout = %ds",    fpm_global_config.process_control_timeout);</span>
<span class='curline'><a href='../S/1478.html#L1587'>fpm_global_config</a> 1587 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\tprocess.max = %d",                 fpm_global_config.process_max);</span>
<span class='curline'><a href='../S/1478.html#L1588'>fpm_global_config</a> 1588 sapi/fpm/fpm/fpm_conf.c 	if (fpm_global_config.process_priority == 64) {</span>
<span class='curline'><a href='../S/1478.html#L1591'>fpm_global_config</a> 1591 sapi/fpm/fpm/fpm_conf.c 		zlog(ZLOG_NOTICE, "\tprocess.priority = %d", fpm_global_config.process_priority);</span>
<span class='curline'><a href='../S/1478.html#L1593'>fpm_global_config</a> 1593 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\tdaemonize = %s",                   BOOL2STR(fpm_global_config.daemonize));</span>
<span class='curline'><a href='../S/1478.html#L1594'>fpm_global_config</a> 1594 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\trlimit_files = %d",                fpm_global_config.rlimit_files);</span>
<span class='curline'><a href='../S/1478.html#L1595'>fpm_global_config</a> 1595 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\trlimit_core = %d",                 fpm_global_config.rlimit_core);</span>
<span class='curline'><a href='../S/1478.html#L1598'>fpm_global_config</a> 1598 sapi/fpm/fpm/fpm_conf.c 	zlog(ZLOG_NOTICE, "\tsystemd_interval = %ds",           fpm_global_config.systemd_interval/1000);</span>
<span class='curline'><a href='../S/1478.html#L1675'>fpm_global_config</a> 1675 sapi/fpm/fpm/fpm_conf.c 		fpm_global_config.pid_file = strdup(fpm_globals.pid);</span>
<span class='curline'><a href='../S/1479.html#L49'>fpm_global_config</a>   49 sapi/fpm/fpm/fpm_conf.h extern struct fpm_global_config_s fpm_global_config;</span>
<span class='curline'><a href='../S/1492.html#L187'>fpm_global_config</a>  187 sapi/fpm/fpm/fpm_process_ctl.c 		timeout = fpm_global_config.process_control_timeout;</span>
<span class='curline'><a href='../S/1506.html#L54'>fpm_global_config</a>   54 sapi/fpm/fpm/fpm_stdio.c 	if (fpm_global_config.daemonize || (!isatty(STDERR_FILENO) &amp;&amp; !fpm_globals.force_stderr)) {</span>
<span class='curline'><a href='../S/1506.html#L56'>fpm_global_config</a>   56 sapi/fpm/fpm/fpm_stdio.c 	if (fpm_global_config.daemonize) {</span>
<span class='curline'><a href='../S/1506.html#L292'>fpm_global_config</a>  292 sapi/fpm/fpm/fpm_stdio.c 	if (!strcasecmp(fpm_global_config.error_log, "syslog")) {</span>
<span class='curline'><a href='../S/1506.html#L293'>fpm_global_config</a>  293 sapi/fpm/fpm/fpm_stdio.c 		openlog(fpm_global_config.syslog_ident, LOG_PID | LOG_CONS, fpm_global_config.syslog_facility);</span>
<span class='curline'><a href='../S/1506.html#L302'>fpm_global_config</a>  302 sapi/fpm/fpm/fpm_stdio.c 	fd = open(fpm_global_config.error_log, O_WRONLY | O_APPEND | O_CREAT, S_IRUSR | S_IWUSR);</span>
<span class='curline'><a href='../S/1506.html#L304'>fpm_global_config</a>  304 sapi/fpm/fpm/fpm_stdio.c 		zlog(ZLOG_SYSERROR, "failed to open error_log (%s)", fpm_global_config.error_log);</span>
<span class='curline'><a href='../S/1509.html#L39'>fpm_global_config</a>   39 sapi/fpm/fpm/fpm_systemd.c 				fpm_global_config.systemd_watchdog ? "WATCHDOG=1\n" : "",</span>
<span class='curline'><a href='../S/1509.html#L40'>fpm_global_config</a>   40 sapi/fpm/fpm/fpm_systemd.c 				active, idle, requests, slow_req, ((float)requests - last) * 1000.0 / fpm_global_config.systemd_interval)) {</span>
<span class='curline'><a href='../S/1509.html#L72'>fpm_global_config</a>   72 sapi/fpm/fpm/fpm_systemd.c 	if (fpm_global_config.systemd_interval &gt; 0) {</span>
<span class='curline'><a href='../S/1509.html#L74'>fpm_global_config</a>   74 sapi/fpm/fpm/fpm_systemd.c 		fpm_event_add(&amp;heartbeat, fpm_global_config.systemd_interval);</span>
<span class='curline'><a href='../S/1509.html#L75'>fpm_global_config</a>   75 sapi/fpm/fpm/fpm_systemd.c 		zlog(ZLOG_NOTICE, "systemd monitor interval set to %dms", fpm_global_config.systemd_interval);</span>
<span class='curline'><a href='../S/1509.html#L95'>fpm_global_config</a>   95 sapi/fpm/fpm/fpm_systemd.c 		if (fpm_global_config.systemd_interval &gt; 0) {</span>
<span class='curline'><a href='../S/1509.html#L99'>fpm_global_config</a>   99 sapi/fpm/fpm/fpm_systemd.c 		fpm_global_config.systemd_watchdog = 1;</span>
<span class='curline'><a href='../S/1509.html#L100'>fpm_global_config</a>  100 sapi/fpm/fpm/fpm_systemd.c 		fpm_global_config.systemd_interval = interval;</span>
<span class='curline'><a href='../S/1509.html#L102'>fpm_global_config</a>  102 sapi/fpm/fpm/fpm_systemd.c 	} else if (fpm_global_config.systemd_interval &lt; 0) {</span>
<span class='curline'><a href='../S/1509.html#L104'>fpm_global_config</a>  104 sapi/fpm/fpm/fpm_systemd.c 		fpm_global_config.systemd_interval = FPM_SYSTEMD_DEFAULT_HEARTBEAT;</span>
<span class='curline'><a href='../S/1509.html#L108'>fpm_global_config</a>  108 sapi/fpm/fpm/fpm_systemd.c 		fpm_global_config.systemd_interval *= 1000;</span>
<span class='curline'><a href='../S/1516.html#L449'>fpm_global_config</a>  449 sapi/fpm/fpm/fpm_unix.c 	if (fpm_global_config.rlimit_files) {</span>
<span class='curline'><a href='../S/1516.html#L452'>fpm_global_config</a>  452 sapi/fpm/fpm/fpm_unix.c 		r.rlim_max = r.rlim_cur = (rlim_t) fpm_global_config.rlimit_files;</span>
<span class='curline'><a href='../S/1516.html#L455'>fpm_global_config</a>  455 sapi/fpm/fpm/fpm_unix.c 			zlog(ZLOG_SYSERROR, "failed to set rlimit_core for this pool. Please check your system limits or decrease rlimit_files. setrlimit(RLIMIT_NOFILE, %d)", fpm_global_config.rlimit_files);</span>
<span class='curline'><a href='../S/1516.html#L460'>fpm_global_config</a>  460 sapi/fpm/fpm/fpm_unix.c 	if (fpm_global_config.rlimit_core) {</span>
<span class='curline'><a href='../S/1516.html#L463'>fpm_global_config</a>  463 sapi/fpm/fpm/fpm_unix.c 		r.rlim_max = r.rlim_cur = fpm_global_config.rlimit_core == -1 ? (rlim_t) RLIM_INFINITY : (rlim_t) fpm_global_config.rlimit_core;</span>
<span class='curline'><a href='../S/1516.html#L466'>fpm_global_config</a>  466 sapi/fpm/fpm/fpm_unix.c 			zlog(ZLOG_SYSERROR, "failed to set rlimit_core for this pool. Please check your system limits or decrease rlimit_core. setrlimit(RLIMIT_CORE, %d)", fpm_global_config.rlimit_core);</span>
<span class='curline'><a href='../S/1516.html#L472'>fpm_global_config</a>  472 sapi/fpm/fpm/fpm_unix.c 	if (fpm_global_config.daemonize) {</span>
<span class='curline'><a href='../S/1516.html#L561'>fpm_global_config</a>  561 sapi/fpm/fpm/fpm_unix.c 	if (fpm_global_config.process_priority != 64) {</span>
<span class='curline'><a href='../S/1516.html#L563'>fpm_global_config</a>  563 sapi/fpm/fpm/fpm_unix.c 			if (setpriority(PRIO_PROCESS, 0, fpm_global_config.process_priority) &lt; 0) {</span>
</pre>
</body>
</html>
