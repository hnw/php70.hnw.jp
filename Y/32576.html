<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>php_sock</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1021.html#L150'>php_sock</a>          150 ext/sockets/multicast.c static int php_do_mcast_opt(php_socket *php_sock, int level, int optname, zval *arg4)</span>
<span class='curline'><a href='../S/1021.html#L176'>php_sock</a>          176 ext/sockets/multicast.c 			if (php_get_address_from_array(opt_ht, "group", php_sock, &amp;group,</span>
<span class='curline'><a href='../S/1021.html#L180'>php_sock</a>          180 ext/sockets/multicast.c 			if (php_get_if_index_from_array(opt_ht, "interface", php_sock,</span>
<span class='curline'><a href='../S/1021.html#L185'>php_sock</a>          185 ext/sockets/multicast.c 			retval = mcast_req_fun(php_sock, level, (struct sockaddr*)&amp;group,</span>
<span class='curline'><a href='../S/1021.html#L212'>php_sock</a>          212 ext/sockets/multicast.c 			if (php_get_address_from_array(opt_ht, "group", php_sock, &amp;group,</span>
<span class='curline'><a href='../S/1021.html#L216'>php_sock</a>          216 ext/sockets/multicast.c 			if (php_get_address_from_array(opt_ht, "source", php_sock, &amp;source,</span>
<span class='curline'><a href='../S/1021.html#L220'>php_sock</a>          220 ext/sockets/multicast.c 			if (php_get_if_index_from_array(opt_ht, "interface", php_sock,</span>
<span class='curline'><a href='../S/1021.html#L225'>php_sock</a>          225 ext/sockets/multicast.c 			retval = mcast_sreq_fun(php_sock, level, (struct sockaddr*)&amp;group,</span>
<span class='curline'><a href='../S/1021.html#L239'>php_sock</a>          239 ext/sockets/multicast.c 			PHP_SOCKET_ERROR(php_sock, "unable to set socket option", errno);</span>
<span class='curline'><a href='../S/1021.html#L246'>php_sock</a>          246 ext/sockets/multicast.c int php_do_setsockopt_ip_mcast(php_socket *php_sock,</span>
<span class='curline'><a href='../S/1021.html#L267'>php_sock</a>          267 ext/sockets/multicast.c 		if (php_do_mcast_opt(php_sock, level, optname, arg4) == FAILURE) {</span>
<span class='curline'><a href='../S/1021.html#L278'>php_sock</a>          278 ext/sockets/multicast.c 		if (php_if_index_to_addr4(if_index, php_sock, &amp;if_addr) == FAILURE) {</span>
<span class='curline'><a href='../S/1021.html#L307'>php_sock</a>          307 ext/sockets/multicast.c 	retval = setsockopt(php_sock-&gt;bsd_socket, level, optname, opt_ptr, optlen);</span>
<span class='curline'><a href='../S/1021.html#L309'>php_sock</a>          309 ext/sockets/multicast.c 		PHP_SOCKET_ERROR(php_sock, "unable to set socket option", errno);</span>
<span class='curline'><a href='../S/1021.html#L316'>php_sock</a>          316 ext/sockets/multicast.c int php_do_setsockopt_ipv6_mcast(php_socket *php_sock,</span>
<span class='curline'><a href='../S/1021.html#L336'>php_sock</a>          336 ext/sockets/multicast.c 		if (php_do_mcast_opt(php_sock, level, optname, arg4) == FAILURE) {</span>
<span class='curline'><a href='../S/1021.html#L372'>php_sock</a>          372 ext/sockets/multicast.c 	retval = setsockopt(php_sock-&gt;bsd_socket, level, optname, opt_ptr, optlen);</span>
<span class='curline'><a href='../S/1021.html#L374'>php_sock</a>          374 ext/sockets/multicast.c 		PHP_SOCKET_ERROR(php_sock, "unable to set socket option", errno);</span>
<span class='curline'><a href='../S/1021.html#L631'>php_sock</a>          631 ext/sockets/multicast.c int php_if_index_to_addr4(unsigned if_index, php_socket *php_sock, struct in_addr *out_addr)</span>
<span class='curline'><a href='../S/1021.html#L638'>php_sock</a>          638 ext/sockets/multicast.c 	(void) php_sock; /* not necessary */</span>
<span class='curline'><a href='../S/1021.html#L671'>php_sock</a>          671 ext/sockets/multicast.c int php_add4_to_if_index(struct in_addr *addr, php_socket *php_sock, unsigned *if_index)</span>
<span class='curline'><a href='../S/1021.html#L678'>php_sock</a>          678 ext/sockets/multicast.c 	(void) php_sock; /* not necessary */</span>
<span class='curline'><a href='../S/1021.html#L718'>php_sock</a>          718 ext/sockets/multicast.c int php_if_index_to_addr4(unsigned if_index, php_socket *php_sock, struct in_addr *out_addr)</span>
<span class='curline'><a href='../S/1021.html#L733'>php_sock</a>          733 ext/sockets/multicast.c 	if (ioctl(php_sock-&gt;bsd_socket, SIOCGIFNAME, &amp;if_req) == -1) {</span>
<span class='curline'><a href='../S/1021.html#L744'>php_sock</a>          744 ext/sockets/multicast.c 	if (ioctl(php_sock-&gt;bsd_socket, SIOCGIFADDR, &amp;if_req) == -1) {</span>
<span class='curline'><a href='../S/1021.html#L755'>php_sock</a>          755 ext/sockets/multicast.c int php_add4_to_if_index(struct in_addr *addr, php_socket *php_sock, unsigned *if_index)</span>
<span class='curline'><a href='../S/1021.html#L775'>php_sock</a>          775 ext/sockets/multicast.c 		if (ioctl(php_sock-&gt;bsd_socket, SIOCGIFCONF, (char*)&amp;if_conf) == -1 &amp;&amp;</span>
<span class='curline'><a href='../S/1021.html#L812'>php_sock</a>          812 ext/sockets/multicast.c 			if (ioctl(php_sock-&gt;bsd_socket, SIOCGIFINDEX, (char*)cur_req)</span>
<span class='curline'><a href='../S/1022.html#L48'>php_sock</a>           48 ext/sockets/multicast.h int php_do_setsockopt_ip_mcast(php_socket *php_sock,</span>
<span class='curline'><a href='../S/1022.html#L53'>php_sock</a>           53 ext/sockets/multicast.h int php_do_setsockopt_ipv6_mcast(php_socket *php_sock,</span>
<span class='curline'><a href='../S/1022.html#L60'>php_sock</a>           60 ext/sockets/multicast.h         php_socket *php_sock,</span>
<span class='curline'><a href='../S/1022.html#L65'>php_sock</a>           65 ext/sockets/multicast.h         php_socket *php_sock,</span>
<span class='curline'><a href='../S/1024.html#L171'>php_sock</a>          171 ext/sockets/sendrecvmsg.c 	php_socket		*php_sock;</span>
<span class='curline'><a href='../S/1024.html#L184'>php_sock</a>          184 ext/sockets/sendrecvmsg.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(zsocket),</span>
<span class='curline'><a href='../S/1024.html#L189'>php_sock</a>          189 ext/sockets/sendrecvmsg.c 	msghdr = from_zval_run_conversions(zmsg, php_sock, from_zval_write_msghdr_send,</span>
<span class='curline'><a href='../S/1024.html#L197'>php_sock</a>          197 ext/sockets/sendrecvmsg.c 	res = sendmsg(php_sock-&gt;bsd_socket, msghdr, (int)flags);</span>
<span class='curline'><a href='../S/1024.html#L205'>php_sock</a>          205 ext/sockets/sendrecvmsg.c 		PHP_SOCKET_ERROR(php_sock, "error in sendmsg", errno);</span>
<span class='curline'><a href='../S/1024.html#L215'>php_sock</a>          215 ext/sockets/sendrecvmsg.c 	php_socket		*php_sock;</span>
<span class='curline'><a href='../S/1024.html#L229'>php_sock</a>          229 ext/sockets/sendrecvmsg.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(zsocket),</span>
<span class='curline'><a href='../S/1024.html#L234'>php_sock</a>          234 ext/sockets/sendrecvmsg.c 	msghdr = from_zval_run_conversions(zmsg, php_sock, from_zval_write_msghdr_recv,</span>
<span class='curline'><a href='../S/1024.html#L242'>php_sock</a>          242 ext/sockets/sendrecvmsg.c 	res = recvmsg(php_sock-&gt;bsd_socket, msghdr, (int)flags);</span>
<span class='curline'><a href='../S/1024.html#L319'>php_sock</a>          319 ext/sockets/sendrecvmsg.c int php_do_setsockopt_ipv6_rfc3542(php_socket *php_sock, int level, int optname, zval *arg4)</span>
<span class='curline'><a href='../S/1024.html#L344'>php_sock</a>          344 ext/sockets/sendrecvmsg.c 		opt_ptr = from_zval_run_conversions(arg4, php_sock, from_zval_write_in6_pktinfo,</span>
<span class='curline'><a href='../S/1024.html#L361'>php_sock</a>          361 ext/sockets/sendrecvmsg.c 	retval = setsockopt(php_sock-&gt;bsd_socket, level, optname, opt_ptr, optlen);</span>
<span class='curline'><a href='../S/1024.html#L363'>php_sock</a>          363 ext/sockets/sendrecvmsg.c 		PHP_SOCKET_ERROR(php_sock, "unable to set socket option", errno);</span>
<span class='curline'><a href='../S/1024.html#L370'>php_sock</a>          370 ext/sockets/sendrecvmsg.c int php_do_getsockopt_ipv6_rfc3542(php_socket *php_sock, int level, int optname, zval *result)</span>
<span class='curline'><a href='../S/1024.html#L392'>php_sock</a>          392 ext/sockets/sendrecvmsg.c 	res = getsockopt(php_sock-&gt;bsd_socket, level, optname, buffer, &amp;size);</span>
<span class='curline'><a href='../S/1024.html#L394'>php_sock</a>          394 ext/sockets/sendrecvmsg.c 		PHP_SOCKET_ERROR(php_sock, "unable to get socket option", errno);</span>
<span class='curline'><a href='../S/1025.html#L15'>php_sock</a>           15 ext/sockets/sendrecvmsg.h int php_do_setsockopt_ipv6_rfc3542(php_socket *php_sock, int level, int optname, zval *arg4);</span>
<span class='curline'><a href='../S/1025.html#L16'>php_sock</a>           16 ext/sockets/sendrecvmsg.h int php_do_getsockopt_ipv6_rfc3542(php_socket *php_sock, int level, int optname, zval *result);</span>
<span class='curline'><a href='../S/1026.html#L16'>php_sock</a>           16 ext/sockets/sockaddr_conv.c int php_set_inet6_addr(struct sockaddr_in6 *sin6, char *string, php_socket *php_sock) /* {{{ */</span>
<span class='curline'><a href='../S/1026.html#L40'>php_sock</a>           40 ext/sockets/sockaddr_conv.c 			PHP_SOCKET_ERROR(php_sock, "Host lookup failed", WSAGetLastError());</span>
<span class='curline'><a href='../S/1026.html#L42'>php_sock</a>           42 ext/sockets/sockaddr_conv.c 			PHP_SOCKET_ERROR(php_sock, "Host lookup failed", (-10000 - h_errno));</span>
<span class='curline'><a href='../S/1026.html#L85'>php_sock</a>           85 ext/sockets/sockaddr_conv.c int php_set_inet_addr(struct sockaddr_in *sin, char *string, php_socket *php_sock) /* {{{ */</span>
<span class='curline'><a href='../S/1026.html#L96'>php_sock</a>           96 ext/sockets/sockaddr_conv.c 			PHP_SOCKET_ERROR(php_sock, "Host lookup failed", WSAGetLastError());</span>
<span class='curline'><a href='../S/1026.html#L98'>php_sock</a>           98 ext/sockets/sockaddr_conv.c 			PHP_SOCKET_ERROR(php_sock, "Host lookup failed", (-10000 - h_errno));</span>
<span class='curline'><a href='../S/1026.html#L115'>php_sock</a>          115 ext/sockets/sockaddr_conv.c int php_set_inet46_addr(php_sockaddr_storage *ss, socklen_t *ss_len, char *string, php_socket *php_sock) /* {{{ */</span>
<span class='curline'><a href='../S/1026.html#L117'>php_sock</a>          117 ext/sockets/sockaddr_conv.c 	if (php_sock-&gt;type == AF_INET) {</span>
<span class='curline'><a href='../S/1026.html#L119'>php_sock</a>          119 ext/sockets/sockaddr_conv.c 		if (php_set_inet_addr(&amp;t, string, php_sock)) {</span>
<span class='curline'><a href='../S/1026.html#L127'>php_sock</a>          127 ext/sockets/sockaddr_conv.c 	else if (php_sock-&gt;type == AF_INET6) {</span>
<span class='curline'><a href='../S/1026.html#L129'>php_sock</a>          129 ext/sockets/sockaddr_conv.c 		if (php_set_inet6_addr(&amp;t, string, php_sock)) {</span>
<span class='curline'><a href='../S/1027.html#L19'>php_sock</a>           19 ext/sockets/sockaddr_conv.h int php_set_inet6_addr(struct sockaddr_in6 *sin6, char *string, php_socket *php_sock);</span>
<span class='curline'><a href='../S/1027.html#L24'>php_sock</a>           24 ext/sockets/sockaddr_conv.h int php_set_inet_addr(struct sockaddr_in *sin, char *string, php_socket *php_sock);</span>
<span class='curline'><a href='../S/1027.html#L29'>php_sock</a>           29 ext/sockets/sockaddr_conv.h int php_set_inet46_addr(php_sockaddr_storage *ss, socklen_t *ss_len, char *string, php_socket *php_sock);</span>
<span class='curline'><a href='../S/1028.html#L392'>php_sock</a>          392 ext/sockets/sockets.c 	php_socket *php_sock = emalloc(sizeof(php_socket));</span>
<span class='curline'><a href='../S/1028.html#L394'>php_sock</a>          394 ext/sockets/sockets.c 	php_sock-&gt;bsd_socket = -1; /* invalid socket */</span>
<span class='curline'><a href='../S/1028.html#L395'>php_sock</a>          395 ext/sockets/sockets.c 	php_sock-&gt;type		 = PF_UNSPEC;</span>
<span class='curline'><a href='../S/1028.html#L396'>php_sock</a>          396 ext/sockets/sockets.c 	php_sock-&gt;error		 = 0;</span>
<span class='curline'><a href='../S/1028.html#L397'>php_sock</a>          397 ext/sockets/sockets.c 	php_sock-&gt;blocking	 = 1;</span>
<span class='curline'><a href='../S/1028.html#L398'>php_sock</a>          398 ext/sockets/sockets.c 	ZVAL_UNDEF(&amp;php_sock-&gt;zstream);</span>
<span class='curline'><a href='../S/1028.html#L400'>php_sock</a>          400 ext/sockets/sockets.c 	return php_sock;</span>
<span class='curline'><a href='../S/1028.html#L406'>php_sock</a>          406 ext/sockets/sockets.c 	php_socket *php_sock = rsrc-&gt;ptr;</span>
<span class='curline'><a href='../S/1028.html#L408'>php_sock</a>          408 ext/sockets/sockets.c 	if (Z_ISUNDEF(php_sock-&gt;zstream)) {</span>
<span class='curline'><a href='../S/1028.html#L409'>php_sock</a>          409 ext/sockets/sockets.c 		if (!IS_INVALID_SOCKET(php_sock)) {</span>
<span class='curline'><a href='../S/1028.html#L410'>php_sock</a>          410 ext/sockets/sockets.c 			close(php_sock-&gt;bsd_socket);</span>
<span class='curline'><a href='../S/1028.html#L413'>php_sock</a>          413 ext/sockets/sockets.c 		zval_ptr_dtor(&amp;php_sock-&gt;zstream);</span>
<span class='curline'><a href='../S/1028.html#L415'>php_sock</a>          415 ext/sockets/sockets.c 	efree(php_sock);</span>
<span class='curline'><a href='../S/1028.html#L419'>php_sock</a>          419 ext/sockets/sockets.c static int php_open_listen_sock(php_socket **php_sock, int port, int backlog) /* {{{ */</span>
<span class='curline'><a href='../S/1028.html#L425'>php_sock</a>          425 ext/sockets/sockets.c 	*php_sock = sock;</span>
<span class='curline'><a href='../S/1028.html#L782'>php_sock</a>          782 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L788'>php_sock</a>          788 ext/sockets/sockets.c 		php_sock = (php_socket*) zend_fetch_resource_ex(element, le_socket_name, le_socket);</span>
<span class='curline'><a href='../S/1028.html#L789'>php_sock</a>          789 ext/sockets/sockets.c 		if (!php_sock) continue; /* If element is not a resource, skip it */</span>
<span class='curline'><a href='../S/1028.html#L791'>php_sock</a>          791 ext/sockets/sockets.c 		PHP_SAFE_FD_SET(php_sock-&gt;bsd_socket, fds);</span>
<span class='curline'><a href='../S/1028.html#L792'>php_sock</a>          792 ext/sockets/sockets.c 		if (php_sock-&gt;bsd_socket &gt; *max_fd) {</span>
<span class='curline'><a href='../S/1028.html#L793'>php_sock</a>          793 ext/sockets/sockets.c 			*max_fd = php_sock-&gt;bsd_socket;</span>
<span class='curline'><a href='../S/1028.html#L806'>php_sock</a>          806 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L816'>php_sock</a>          816 ext/sockets/sockets.c 		php_sock = (php_socket*) zend_fetch_resource_ex(element, le_socket_name, le_socket);</span>
<span class='curline'><a href='../S/1028.html#L817'>php_sock</a>          817 ext/sockets/sockets.c 		if (!php_sock) continue; /* If element is not a resource, skip it */</span>
<span class='curline'><a href='../S/1028.html#L819'>php_sock</a>          819 ext/sockets/sockets.c 		if (PHP_SAFE_FD_ISSET(php_sock-&gt;bsd_socket, fds)) {</span>
<span class='curline'><a href='../S/1028.html#L920'>php_sock</a>          920 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L927'>php_sock</a>          927 ext/sockets/sockets.c 	if (!php_open_listen_sock(&amp;php_sock, port, backlog)) {</span>
<span class='curline'><a href='../S/1028.html#L931'>php_sock</a>          931 ext/sockets/sockets.c 	php_sock-&gt;error = 0;</span>
<span class='curline'><a href='../S/1028.html#L932'>php_sock</a>          932 ext/sockets/sockets.c 	php_sock-&gt;blocking = 1;</span>
<span class='curline'><a href='../S/1028.html#L934'>php_sock</a>          934 ext/sockets/sockets.c 	RETURN_RES(zend_register_resource(php_sock, le_socket));</span>
<span class='curline'><a href='../S/1028.html#L943'>php_sock</a>          943 ext/sockets/sockets.c 	php_socket			 *php_sock, *new_sock;</span>
<span class='curline'><a href='../S/1028.html#L951'>php_sock</a>          951 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L955'>php_sock</a>          955 ext/sockets/sockets.c 	if (!php_accept_connect(php_sock, &amp;new_sock, (struct sockaddr*)&amp;sa, &amp;php_sa_len)) {</span>
<span class='curline'><a href='../S/1028.html#L968'>php_sock</a>          968 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L974'>php_sock</a>          974 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L978'>php_sock</a>          978 ext/sockets/sockets.c 	if (!Z_ISUNDEF(php_sock-&gt;zstream)) {</span>
<span class='curline'><a href='../S/1028.html#L981'>php_sock</a>          981 ext/sockets/sockets.c 		stream = zend_fetch_resource2_ex(&amp;php_sock-&gt;zstream, NULL, php_file_le_stream(), php_file_le_pstream());</span>
<span class='curline'><a href='../S/1028.html#L985'>php_sock</a>          985 ext/sockets/sockets.c 				php_sock-&gt;blocking = 0;</span>
<span class='curline'><a href='../S/1028.html#L991'>php_sock</a>          991 ext/sockets/sockets.c 	if (php_set_sock_blocking(php_sock-&gt;bsd_socket, 0) == SUCCESS) {</span>
<span class='curline'><a href='../S/1028.html#L992'>php_sock</a>          992 ext/sockets/sockets.c 		php_sock-&gt;blocking = 0;</span>
<span class='curline'><a href='../S/1028.html#L995'>php_sock</a>          995 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to set nonblocking mode", errno);</span>
<span class='curline'><a href='../S/1028.html#L1006'>php_sock</a>         1006 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1012'>php_sock</a>         1012 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1019'>php_sock</a>         1019 ext/sockets/sockets.c 	if (!Z_ISUNDEF(php_sock-&gt;zstream)) {</span>
<span class='curline'><a href='../S/1028.html#L1021'>php_sock</a>         1021 ext/sockets/sockets.c 		stream = zend_fetch_resource2_ex(&amp;php_sock-&gt;zstream, NULL, php_file_le_stream(), php_file_le_pstream());</span>
<span class='curline'><a href='../S/1028.html#L1025'>php_sock</a>         1025 ext/sockets/sockets.c 				php_sock-&gt;blocking = 1;</span>
<span class='curline'><a href='../S/1028.html#L1031'>php_sock</a>         1031 ext/sockets/sockets.c 	if (php_set_sock_blocking(php_sock-&gt;bsd_socket, 1) == SUCCESS) {</span>
<span class='curline'><a href='../S/1028.html#L1032'>php_sock</a>         1032 ext/sockets/sockets.c 		php_sock-&gt;blocking = 1;</span>
<span class='curline'><a href='../S/1028.html#L1035'>php_sock</a>         1035 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to set blocking mode", errno);</span>
<span class='curline'><a href='../S/1028.html#L1046'>php_sock</a>         1046 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1053'>php_sock</a>         1053 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1057'>php_sock</a>         1057 ext/sockets/sockets.c 	if (listen(php_sock-&gt;bsd_socket, backlog) != 0) {</span>
<span class='curline'><a href='../S/1028.html#L1058'>php_sock</a>         1058 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to listen on socket", errno);</span>
<span class='curline'><a href='../S/1028.html#L1070'>php_sock</a>         1070 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1076'>php_sock</a>         1076 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1080'>php_sock</a>         1080 ext/sockets/sockets.c 	if (!Z_ISUNDEF(php_sock-&gt;zstream)) {</span>
<span class='curline'><a href='../S/1028.html#L1082'>php_sock</a>         1082 ext/sockets/sockets.c 		php_stream_from_zval_no_verify(stream, &amp;php_sock-&gt;zstream);</span>
<span class='curline'><a href='../S/1028.html#L1100'>php_sock</a>         1100 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1110'>php_sock</a>         1110 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1119'>php_sock</a>         1119 ext/sockets/sockets.c 	retval = write(php_sock-&gt;bsd_socket, str, MIN(length, str_len));</span>
<span class='curline'><a href='../S/1028.html#L1121'>php_sock</a>         1121 ext/sockets/sockets.c 	retval = send(php_sock-&gt;bsd_socket, str, min(length, str_len), 0);</span>
<span class='curline'><a href='../S/1028.html#L1125'>php_sock</a>         1125 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to write to socket", errno);</span>
<span class='curline'><a href='../S/1028.html#L1138'>php_sock</a>         1138 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1154'>php_sock</a>         1154 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1159'>php_sock</a>         1159 ext/sockets/sockets.c 		retval = php_read(php_sock, ZSTR_VAL(tmpbuf), length, 0);</span>
<span class='curline'><a href='../S/1028.html#L1161'>php_sock</a>         1161 ext/sockets/sockets.c 		retval = recv(php_sock-&gt;bsd_socket, ZSTR_VAL(tmpbuf), length, 0);</span>
<span class='curline'><a href='../S/1028.html#L1172'>php_sock</a>         1172 ext/sockets/sockets.c 			php_sock-&gt;error = errno;</span>
<span class='curline'><a href='../S/1028.html#L1175'>php_sock</a>         1175 ext/sockets/sockets.c 			PHP_SOCKET_ERROR(php_sock, "unable to read from socket", errno);</span>
<span class='curline'><a href='../S/1028.html#L1199'>php_sock</a>         1199 ext/sockets/sockets.c 	php_socket				*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1214'>php_sock</a>         1214 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1220'>php_sock</a>         1220 ext/sockets/sockets.c 	if (getsockname(php_sock-&gt;bsd_socket, sa, &amp;salen) != 0) {</span>
<span class='curline'><a href='../S/1028.html#L1221'>php_sock</a>         1221 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to retrieve socket name", errno);</span>
<span class='curline'><a href='../S/1028.html#L1282'>php_sock</a>         1282 ext/sockets/sockets.c 	php_socket				*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1297'>php_sock</a>         1297 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1303'>php_sock</a>         1303 ext/sockets/sockets.c 	if (getpeername(php_sock-&gt;bsd_socket, sa, &amp;salen) &lt; 0) {</span>
<span class='curline'><a href='../S/1028.html#L1304'>php_sock</a>         1304 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to retrieve peer name", errno);</span>
<span class='curline'><a href='../S/1028.html#L1362'>php_sock</a>         1362 ext/sockets/sockets.c 	php_socket	*php_sock = php_create_socket();</span>
<span class='curline'><a href='../S/1028.html#L1365'>php_sock</a>         1365 ext/sockets/sockets.c 		efree(php_sock);</span>
<span class='curline'><a href='../S/1028.html#L1383'>php_sock</a>         1383 ext/sockets/sockets.c 	php_sock-&gt;bsd_socket = socket(arg1, arg2, arg3);</span>
<span class='curline'><a href='../S/1028.html#L1384'>php_sock</a>         1384 ext/sockets/sockets.c 	php_sock-&gt;type = arg1;</span>
<span class='curline'><a href='../S/1028.html#L1386'>php_sock</a>         1386 ext/sockets/sockets.c 	if (IS_INVALID_SOCKET(php_sock)) {</span>
<span class='curline'><a href='../S/1028.html#L1389'>php_sock</a>         1389 ext/sockets/sockets.c 		efree(php_sock);</span>
<span class='curline'><a href='../S/1028.html#L1393'>php_sock</a>         1393 ext/sockets/sockets.c 	php_sock-&gt;error = 0;</span>
<span class='curline'><a href='../S/1028.html#L1394'>php_sock</a>         1394 ext/sockets/sockets.c 	php_sock-&gt;blocking = 1;</span>
<span class='curline'><a href='../S/1028.html#L1396'>php_sock</a>         1396 ext/sockets/sockets.c 	RETURN_RES(zend_register_resource(php_sock, le_socket));</span>
<span class='curline'><a href='../S/1028.html#L1405'>php_sock</a>         1405 ext/sockets/sockets.c 	php_socket			*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1416'>php_sock</a>         1416 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1420'>php_sock</a>         1420 ext/sockets/sockets.c 	switch(php_sock-&gt;type) {</span>
<span class='curline'><a href='../S/1028.html#L1435'>php_sock</a>         1435 ext/sockets/sockets.c 			if (! php_set_inet6_addr(&amp;sin6, addr, php_sock)) {</span>
<span class='curline'><a href='../S/1028.html#L1439'>php_sock</a>         1439 ext/sockets/sockets.c 			retval = connect(php_sock-&gt;bsd_socket, (struct sockaddr *)&amp;sin6, sizeof(struct sockaddr_in6));</span>
<span class='curline'><a href='../S/1028.html#L1454'>php_sock</a>         1454 ext/sockets/sockets.c 			if (! php_set_inet_addr(&amp;sin, addr, php_sock)) {</span>
<span class='curline'><a href='../S/1028.html#L1458'>php_sock</a>         1458 ext/sockets/sockets.c 			retval = connect(php_sock-&gt;bsd_socket, (struct sockaddr *)&amp;sin, sizeof(struct sockaddr_in));</span>
<span class='curline'><a href='../S/1028.html#L1472'>php_sock</a>         1472 ext/sockets/sockets.c 			retval = connect(php_sock-&gt;bsd_socket, (struct sockaddr *) &amp;s_un,</span>
<span class='curline'><a href='../S/1028.html#L1478'>php_sock</a>         1478 ext/sockets/sockets.c 			php_error_docref(NULL, E_WARNING, "Unsupported socket type %d", php_sock-&gt;type);</span>
<span class='curline'><a href='../S/1028.html#L1483'>php_sock</a>         1483 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to connect", errno);</span>
<span class='curline'><a href='../S/1028.html#L1512'>php_sock</a>         1512 ext/sockets/sockets.c 	php_socket				*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1522'>php_sock</a>         1522 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1526'>php_sock</a>         1526 ext/sockets/sockets.c 	switch(php_sock-&gt;type) {</span>
<span class='curline'><a href='../S/1028.html#L1541'>php_sock</a>         1541 ext/sockets/sockets.c 				retval = bind(php_sock-&gt;bsd_socket, (struct sockaddr *) sa,</span>
<span class='curline'><a href='../S/1028.html#L1553'>php_sock</a>         1553 ext/sockets/sockets.c 				if (! php_set_inet_addr(sa, addr, php_sock)) {</span>
<span class='curline'><a href='../S/1028.html#L1557'>php_sock</a>         1557 ext/sockets/sockets.c 				retval = bind(php_sock-&gt;bsd_socket, (struct sockaddr *)sa, sizeof(struct sockaddr_in));</span>
<span class='curline'><a href='../S/1028.html#L1568'>php_sock</a>         1568 ext/sockets/sockets.c 				if (! php_set_inet6_addr(sa, addr, php_sock)) {</span>
<span class='curline'><a href='../S/1028.html#L1572'>php_sock</a>         1572 ext/sockets/sockets.c 				retval = bind(php_sock-&gt;bsd_socket, (struct sockaddr *)sa, sizeof(struct sockaddr_in6));</span>
<span class='curline'><a href='../S/1028.html#L1577'>php_sock</a>         1577 ext/sockets/sockets.c 			php_error_docref(NULL, E_WARNING, "unsupported socket type '%d', must be AF_UNIX, AF_INET, or AF_INET6", php_sock-&gt;type);</span>
<span class='curline'><a href='../S/1028.html#L1582'>php_sock</a>         1582 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to bind address", errno);</span>
<span class='curline'><a href='../S/1028.html#L1596'>php_sock</a>         1596 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1604'>php_sock</a>         1604 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(php_sock_res), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1615'>php_sock</a>         1615 ext/sockets/sockets.c 	if ((retval = recv(php_sock-&gt;bsd_socket, ZSTR_VAL(recv_buf), len, flags)) &lt; 1) {</span>
<span class='curline'><a href='../S/1028.html#L1630'>php_sock</a>         1630 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to read from socket", errno);</span>
<span class='curline'><a href='../S/1028.html#L1643'>php_sock</a>         1643 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1652'>php_sock</a>         1652 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1656'>php_sock</a>         1656 ext/sockets/sockets.c 	retval = send(php_sock-&gt;bsd_socket, buf, (buf_len &lt; len ? buf_len : len), flags);</span>
<span class='curline'><a href='../S/1028.html#L1659'>php_sock</a>         1659 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to write to socket", errno);</span>
<span class='curline'><a href='../S/1028.html#L1672'>php_sock</a>         1672 ext/sockets/sockets.c 	php_socket			*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1689'>php_sock</a>         1689 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1700'>php_sock</a>         1700 ext/sockets/sockets.c 	switch (php_sock-&gt;type) {</span>
<span class='curline'><a href='../S/1028.html#L1704'>php_sock</a>         1704 ext/sockets/sockets.c 			retval = recvfrom(php_sock-&gt;bsd_socket, ZSTR_VAL(recv_buf), arg3, arg4, (struct sockaddr *)&amp;s_un, (socklen_t *)&amp;slen);</span>
<span class='curline'><a href='../S/1028.html#L1707'>php_sock</a>         1707 ext/sockets/sockets.c 				PHP_SOCKET_ERROR(php_sock, "unable to recvfrom", errno);</span>
<span class='curline'><a href='../S/1028.html#L1731'>php_sock</a>         1731 ext/sockets/sockets.c 			retval = recvfrom(php_sock-&gt;bsd_socket, ZSTR_VAL(recv_buf), arg3, arg4, (struct sockaddr *)&amp;sin, (socklen_t *)&amp;slen);</span>
<span class='curline'><a href='../S/1028.html#L1734'>php_sock</a>         1734 ext/sockets/sockets.c 				PHP_SOCKET_ERROR(php_sock, "unable to recvfrom", errno);</span>
<span class='curline'><a href='../S/1028.html#L1762'>php_sock</a>         1762 ext/sockets/sockets.c 			retval = recvfrom(php_sock-&gt;bsd_socket, ZSTR_VAL(recv_buf), arg3, arg4, (struct sockaddr *)&amp;sin6, (socklen_t *)&amp;slen);</span>
<span class='curline'><a href='../S/1028.html#L1765'>php_sock</a>         1765 ext/sockets/sockets.c 				PHP_SOCKET_ERROR(php_sock, "unable to recvfrom", errno);</span>
<span class='curline'><a href='../S/1028.html#L1785'>php_sock</a>         1785 ext/sockets/sockets.c 			php_error_docref(NULL, E_WARNING, "Unsupported socket type %d", php_sock-&gt;type);</span>
<span class='curline'><a href='../S/1028.html#L1798'>php_sock</a>         1798 ext/sockets/sockets.c 	php_socket			*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1814'>php_sock</a>         1814 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1818'>php_sock</a>         1818 ext/sockets/sockets.c 	switch (php_sock-&gt;type) {</span>
<span class='curline'><a href='../S/1028.html#L1824'>php_sock</a>         1824 ext/sockets/sockets.c 			retval = sendto(php_sock-&gt;bsd_socket, buf, (len &gt; buf_len) ? buf_len : len,	flags, (struct sockaddr *) &amp;s_un, SUN_LEN(&amp;s_un));</span>
<span class='curline'><a href='../S/1028.html#L1836'>php_sock</a>         1836 ext/sockets/sockets.c 			if (! php_set_inet_addr(&amp;sin, addr, php_sock)) {</span>
<span class='curline'><a href='../S/1028.html#L1840'>php_sock</a>         1840 ext/sockets/sockets.c 			retval = sendto(php_sock-&gt;bsd_socket, buf, (len &gt; buf_len) ? buf_len : len, flags, (struct sockaddr *) &amp;sin, sizeof(sin));</span>
<span class='curline'><a href='../S/1028.html#L1852'>php_sock</a>         1852 ext/sockets/sockets.c 			if (! php_set_inet6_addr(&amp;sin6, addr, php_sock)) {</span>
<span class='curline'><a href='../S/1028.html#L1856'>php_sock</a>         1856 ext/sockets/sockets.c 			retval = sendto(php_sock-&gt;bsd_socket, buf, (len &gt; buf_len) ? buf_len : len, flags, (struct sockaddr *) &amp;sin6, sizeof(sin6));</span>
<span class='curline'><a href='../S/1028.html#L1860'>php_sock</a>         1860 ext/sockets/sockets.c 			php_error_docref(NULL, E_WARNING, "Unsupported socket type %d", php_sock-&gt;type);</span>
<span class='curline'><a href='../S/1028.html#L1865'>php_sock</a>         1865 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to write to socket", errno);</span>
<span class='curline'><a href='../S/1028.html#L1884'>php_sock</a>         1884 ext/sockets/sockets.c 	php_socket		*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L1892'>php_sock</a>         1892 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L1902'>php_sock</a>         1902 ext/sockets/sockets.c 			if (getsockopt(php_sock-&gt;bsd_socket, level, optname, (char*)&amp;if_addr, &amp;optlen) != 0) {</span>
<span class='curline'><a href='../S/1028.html#L1903'>php_sock</a>         1903 ext/sockets/sockets.c 				PHP_SOCKET_ERROR(php_sock, "unable to retrieve socket option", errno);</span>
<span class='curline'><a href='../S/1028.html#L1906'>php_sock</a>         1906 ext/sockets/sockets.c 			if (php_add4_to_if_index(&amp;if_addr, php_sock, &amp;if_index) == SUCCESS) {</span>
<span class='curline'><a href='../S/1028.html#L1916'>php_sock</a>         1916 ext/sockets/sockets.c 		int ret = php_do_getsockopt_ipv6_rfc3542(php_sock, level, optname, return_value);</span>
<span class='curline'><a href='../S/1028.html#L1930'>php_sock</a>         1930 ext/sockets/sockets.c 			if (getsockopt(php_sock-&gt;bsd_socket, level, optname, (char*)&amp;linger_val, &amp;optlen) != 0) {</span>
<span class='curline'><a href='../S/1028.html#L1931'>php_sock</a>         1931 ext/sockets/sockets.c 				PHP_SOCKET_ERROR(php_sock, "unable to retrieve socket option", errno);</span>
<span class='curline'><a href='../S/1028.html#L1945'>php_sock</a>         1945 ext/sockets/sockets.c 			if (getsockopt(php_sock-&gt;bsd_socket, level, optname, (char*)&amp;tv, &amp;optlen) != 0) {</span>
<span class='curline'><a href='../S/1028.html#L1946'>php_sock</a>         1946 ext/sockets/sockets.c 				PHP_SOCKET_ERROR(php_sock, "unable to retrieve socket option", errno);</span>
<span class='curline'><a href='../S/1028.html#L1952'>php_sock</a>         1952 ext/sockets/sockets.c 			if (getsockopt(php_sock-&gt;bsd_socket, level, optname, (char*)&amp;timeout, &amp;optlen) != 0) {</span>
<span class='curline'><a href='../S/1028.html#L1953'>php_sock</a>         1953 ext/sockets/sockets.c 				PHP_SOCKET_ERROR(php_sock, "unable to retrieve socket option", errno);</span>
<span class='curline'><a href='../S/1028.html#L1970'>php_sock</a>         1970 ext/sockets/sockets.c 			if (getsockopt(php_sock-&gt;bsd_socket, level, optname, (char*)&amp;other_val, &amp;optlen) != 0) {</span>
<span class='curline'><a href='../S/1028.html#L1971'>php_sock</a>         1971 ext/sockets/sockets.c 				PHP_SOCKET_ERROR(php_sock, "unable to retrieve socket option", errno);</span>
<span class='curline'><a href='../S/1028.html#L1989'>php_sock</a>         1989 ext/sockets/sockets.c 	php_socket				*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L2007'>php_sock</a>         2007 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L2022'>php_sock</a>         2022 ext/sockets/sockets.c 		int res = php_do_setsockopt_ip_mcast(php_sock, level, optname, arg4);</span>
<span class='curline'><a href='../S/1028.html#L2028'>php_sock</a>         2028 ext/sockets/sockets.c 		int res = php_do_setsockopt_ipv6_mcast(php_sock, level, optname, arg4);</span>
<span class='curline'><a href='../S/1028.html#L2030'>php_sock</a>         2030 ext/sockets/sockets.c 			res = php_do_setsockopt_ipv6_rfc3542(php_sock, level, optname, arg4);</span>
<span class='curline'><a href='../S/1028.html#L2118'>php_sock</a>         2118 ext/sockets/sockets.c 	retval = setsockopt(php_sock-&gt;bsd_socket, level, optname, opt_ptr, optlen);</span>
<span class='curline'><a href='../S/1028.html#L2120'>php_sock</a>         2120 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to set socket option", errno);</span>
<span class='curline'><a href='../S/1028.html#L2134'>php_sock</a>         2134 ext/sockets/sockets.c 	php_socket	*php_sock[2];</span>
<span class='curline'><a href='../S/1028.html#L2142'>php_sock</a>         2142 ext/sockets/sockets.c 	php_sock[0] = php_create_socket();</span>
<span class='curline'><a href='../S/1028.html#L2143'>php_sock</a>         2143 ext/sockets/sockets.c 	php_sock[1] = php_create_socket();</span>
<span class='curline'><a href='../S/1028.html#L2162'>php_sock</a>         2162 ext/sockets/sockets.c 		efree(php_sock[0]);</span>
<span class='curline'><a href='../S/1028.html#L2163'>php_sock</a>         2163 ext/sockets/sockets.c 		efree(php_sock[1]);</span>
<span class='curline'><a href='../S/1028.html#L2170'>php_sock</a>         2170 ext/sockets/sockets.c 	php_sock[0]-&gt;bsd_socket = fds_array[0];</span>
<span class='curline'><a href='../S/1028.html#L2171'>php_sock</a>         2171 ext/sockets/sockets.c 	php_sock[1]-&gt;bsd_socket = fds_array[1];</span>
<span class='curline'><a href='../S/1028.html#L2172'>php_sock</a>         2172 ext/sockets/sockets.c 	php_sock[0]-&gt;type		= domain;</span>
<span class='curline'><a href='../S/1028.html#L2173'>php_sock</a>         2173 ext/sockets/sockets.c 	php_sock[1]-&gt;type		= domain;</span>
<span class='curline'><a href='../S/1028.html#L2174'>php_sock</a>         2174 ext/sockets/sockets.c 	php_sock[0]-&gt;error		= 0;</span>
<span class='curline'><a href='../S/1028.html#L2175'>php_sock</a>         2175 ext/sockets/sockets.c 	php_sock[1]-&gt;error		= 0;</span>
<span class='curline'><a href='../S/1028.html#L2176'>php_sock</a>         2176 ext/sockets/sockets.c 	php_sock[0]-&gt;blocking	= 1;</span>
<span class='curline'><a href='../S/1028.html#L2177'>php_sock</a>         2177 ext/sockets/sockets.c 	php_sock[1]-&gt;blocking	= 1;</span>
<span class='curline'><a href='../S/1028.html#L2179'>php_sock</a>         2179 ext/sockets/sockets.c 	ZVAL_RES(&amp;retval[0], zend_register_resource(php_sock[0], le_socket));</span>
<span class='curline'><a href='../S/1028.html#L2180'>php_sock</a>         2180 ext/sockets/sockets.c 	ZVAL_RES(&amp;retval[1], zend_register_resource(php_sock[1], le_socket));</span>
<span class='curline'><a href='../S/1028.html#L2197'>php_sock</a>         2197 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L2203'>php_sock</a>         2203 ext/sockets/sockets.c 	if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L2207'>php_sock</a>         2207 ext/sockets/sockets.c 	if (shutdown(php_sock-&gt;bsd_socket, how_shutdown) != 0) {</span>
<span class='curline'><a href='../S/1028.html#L2208'>php_sock</a>         2208 ext/sockets/sockets.c 		PHP_SOCKET_ERROR(php_sock, "unable to shutdown socket", errno);</span>
<span class='curline'><a href='../S/1028.html#L2222'>php_sock</a>         2222 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L2229'>php_sock</a>         2229 ext/sockets/sockets.c 		if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L2232'>php_sock</a>         2232 ext/sockets/sockets.c 		RETVAL_LONG(php_sock-&gt;error);</span>
<span class='curline'><a href='../S/1028.html#L2244'>php_sock</a>         2244 ext/sockets/sockets.c 	php_socket	*php_sock;</span>
<span class='curline'><a href='../S/1028.html#L2251'>php_sock</a>         2251 ext/sockets/sockets.c 		if ((php_sock = (php_socket *)zend_fetch_resource(Z_RES_P(arg1), le_socket_name, le_socket)) == NULL) {</span>
<span class='curline'><a href='../S/1028.html#L2254'>php_sock</a>         2254 ext/sockets/sockets.c 		php_sock-&gt;error = 0;</span>
</pre>
</body>
</html>
