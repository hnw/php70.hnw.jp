<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>mm_heap</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1628.html#L2315'>mm_heap</a>          2315 Zend/zend_alloc.c 	zend_mm_heap *mm_heap;</span>
<span class='curline'><a href='../S/1628.html#L2329'>mm_heap</a>          2329 Zend/zend_alloc.c 	return !AG(mm_heap)-&gt;use_custom_heap;</span>
<span class='curline'><a href='../S/1628.html#L2340'>mm_heap</a>          2340 Zend/zend_alloc.c 		if (UNEXPECTED(AG(mm_heap)-&gt;use_custom_heap)) { \</span>
<span class='curline'><a href='../S/1628.html#L2341'>mm_heap</a>          2341 Zend/zend_alloc.c 			if (ZEND_DEBUG &amp;&amp; AG(mm_heap)-&gt;use_custom_heap == ZEND_MM_CUSTOM_HEAP_DEBUG) { \</span>
<span class='curline'><a href='../S/1628.html#L2342'>mm_heap</a>          2342 Zend/zend_alloc.c 				return AG(mm_heap)-&gt;custom_heap.debug._malloc(size ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC); \</span>
<span class='curline'><a href='../S/1628.html#L2344'>mm_heap</a>          2344 Zend/zend_alloc.c 				return AG(mm_heap)-&gt;custom_heap.std._malloc(size); \</span>
<span class='curline'><a href='../S/1628.html#L2349'>mm_heap</a>          2349 Zend/zend_alloc.c 		if (UNEXPECTED(AG(mm_heap)-&gt;use_custom_heap)) { \</span>
<span class='curline'><a href='../S/1628.html#L2350'>mm_heap</a>          2350 Zend/zend_alloc.c 			if (ZEND_DEBUG &amp;&amp; AG(mm_heap)-&gt;use_custom_heap == ZEND_MM_CUSTOM_HEAP_DEBUG) { \</span>
<span class='curline'><a href='../S/1628.html#L2351'>mm_heap</a>          2351 Zend/zend_alloc.c 				AG(mm_heap)-&gt;custom_heap.debug._free(ptr ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC); \</span>
<span class='curline'><a href='../S/1628.html#L2353'>mm_heap</a>          2353 Zend/zend_alloc.c 				AG(mm_heap)-&gt;custom_heap.std._free(ptr); \</span>
<span class='curline'><a href='../S/1628.html#L2366'>mm_heap</a>          2366 Zend/zend_alloc.c 		return zend_mm_alloc_small(AG(mm_heap), _size, _num ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC); \</span>
<span class='curline'><a href='../S/1628.html#L2375'>mm_heap</a>          2375 Zend/zend_alloc.c 	return zend_mm_alloc_large(AG(mm_heap), size ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);</span>
<span class='curline'><a href='../S/1628.html#L2382'>mm_heap</a>          2382 Zend/zend_alloc.c 	return zend_mm_alloc_huge(AG(mm_heap), size);</span>
<span class='curline'><a href='../S/1628.html#L2393'>mm_heap</a>          2393 Zend/zend_alloc.c 			ZEND_MM_CHECK(chunk-&gt;heap == AG(mm_heap), "zend_mm_heap corrupted"); \</span>
<span class='curline'><a href='../S/1628.html#L2396'>mm_heap</a>          2396 Zend/zend_alloc.c 			zend_mm_free_small(AG(mm_heap), ptr, _num); \</span>
<span class='curline'><a href='../S/1628.html#L2405'>mm_heap</a>          2405 Zend/zend_alloc.c 			ZEND_MM_CHECK(chunk-&gt;heap == AG(mm_heap), "zend_mm_heap corrupted"); \</span>
<span class='curline'><a href='../S/1628.html#L2406'>mm_heap</a>          2406 Zend/zend_alloc.c 			zend_mm_free_small(AG(mm_heap), ptr, _num); \</span>
<span class='curline'><a href='../S/1628.html#L2423'>mm_heap</a>          2423 Zend/zend_alloc.c 		ZEND_MM_CHECK(chunk-&gt;heap == AG(mm_heap) &amp;&amp; ZEND_MM_ALIGNED_OFFSET(page_offset, ZEND_MM_PAGE_SIZE) == 0, "zend_mm_heap corrupted");</span>
<span class='curline'><a href='../S/1628.html#L2426'>mm_heap</a>          2426 Zend/zend_alloc.c 		zend_mm_free_large(AG(mm_heap), chunk, page_num, pages_count);</span>
<span class='curline'><a href='../S/1628.html#L2434'>mm_heap</a>          2434 Zend/zend_alloc.c 	zend_mm_free_huge(AG(mm_heap), ptr);</span>
<span class='curline'><a href='../S/1628.html#L2442'>mm_heap</a>          2442 Zend/zend_alloc.c 	if (UNEXPECTED(AG(mm_heap)-&gt;use_custom_heap)) {</span>
<span class='curline'><a href='../S/1628.html#L2443'>mm_heap</a>          2443 Zend/zend_alloc.c 		if (ZEND_DEBUG &amp;&amp; AG(mm_heap)-&gt;use_custom_heap == ZEND_MM_CUSTOM_HEAP_DEBUG) {</span>
<span class='curline'><a href='../S/1628.html#L2444'>mm_heap</a>          2444 Zend/zend_alloc.c 			return AG(mm_heap)-&gt;custom_heap.debug._malloc(size ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);</span>
<span class='curline'><a href='../S/1628.html#L2446'>mm_heap</a>          2446 Zend/zend_alloc.c 			return AG(mm_heap)-&gt;custom_heap.std._malloc(size);</span>
<span class='curline'><a href='../S/1628.html#L2450'>mm_heap</a>          2450 Zend/zend_alloc.c 	return zend_mm_alloc_heap(AG(mm_heap), size ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);</span>
<span class='curline'><a href='../S/1628.html#L2457'>mm_heap</a>          2457 Zend/zend_alloc.c 	if (UNEXPECTED(AG(mm_heap)-&gt;use_custom_heap)) {</span>
<span class='curline'><a href='../S/1628.html#L2458'>mm_heap</a>          2458 Zend/zend_alloc.c 		if (ZEND_DEBUG &amp;&amp; AG(mm_heap)-&gt;use_custom_heap == ZEND_MM_CUSTOM_HEAP_DEBUG) {</span>
<span class='curline'><a href='../S/1628.html#L2459'>mm_heap</a>          2459 Zend/zend_alloc.c 			AG(mm_heap)-&gt;custom_heap.debug._free(ptr ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);</span>
<span class='curline'><a href='../S/1628.html#L2461'>mm_heap</a>          2461 Zend/zend_alloc.c 			AG(mm_heap)-&gt;custom_heap.std._free(ptr);</span>
<span class='curline'><a href='../S/1628.html#L2466'>mm_heap</a>          2466 Zend/zend_alloc.c 	zend_mm_free_heap(AG(mm_heap), ptr ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);</span>
<span class='curline'><a href='../S/1628.html#L2472'>mm_heap</a>          2472 Zend/zend_alloc.c 	if (UNEXPECTED(AG(mm_heap)-&gt;use_custom_heap)) {</span>
<span class='curline'><a href='../S/1628.html#L2473'>mm_heap</a>          2473 Zend/zend_alloc.c 		if (ZEND_DEBUG &amp;&amp; AG(mm_heap)-&gt;use_custom_heap == ZEND_MM_CUSTOM_HEAP_DEBUG) {</span>
<span class='curline'><a href='../S/1628.html#L2474'>mm_heap</a>          2474 Zend/zend_alloc.c 			return AG(mm_heap)-&gt;custom_heap.debug._realloc(ptr, size ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);</span>
<span class='curline'><a href='../S/1628.html#L2476'>mm_heap</a>          2476 Zend/zend_alloc.c 			return AG(mm_heap)-&gt;custom_heap.std._realloc(ptr, size);</span>
<span class='curline'><a href='../S/1628.html#L2479'>mm_heap</a>          2479 Zend/zend_alloc.c 	return zend_mm_realloc_heap(AG(mm_heap), ptr, size, size ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);</span>
<span class='curline'><a href='../S/1628.html#L2485'>mm_heap</a>          2485 Zend/zend_alloc.c 	if (UNEXPECTED(AG(mm_heap)-&gt;use_custom_heap)) {</span>
<span class='curline'><a href='../S/1628.html#L2486'>mm_heap</a>          2486 Zend/zend_alloc.c 		if (ZEND_DEBUG &amp;&amp; AG(mm_heap)-&gt;use_custom_heap == ZEND_MM_CUSTOM_HEAP_DEBUG) {</span>
<span class='curline'><a href='../S/1628.html#L2487'>mm_heap</a>          2487 Zend/zend_alloc.c 			return AG(mm_heap)-&gt;custom_heap.debug._realloc(ptr, size ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);</span>
<span class='curline'><a href='../S/1628.html#L2489'>mm_heap</a>          2489 Zend/zend_alloc.c 			return AG(mm_heap)-&gt;custom_heap.std._realloc(ptr, size);</span>
<span class='curline'><a href='../S/1628.html#L2492'>mm_heap</a>          2492 Zend/zend_alloc.c 	return zend_mm_realloc_heap(AG(mm_heap), ptr, size, copy_size ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);</span>
<span class='curline'><a href='../S/1628.html#L2497'>mm_heap</a>          2497 Zend/zend_alloc.c 	if (UNEXPECTED(AG(mm_heap)-&gt;use_custom_heap)) {</span>
<span class='curline'><a href='../S/1628.html#L2500'>mm_heap</a>          2500 Zend/zend_alloc.c 	return zend_mm_size(AG(mm_heap), ptr ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);</span>
<span class='curline'><a href='../S/1628.html#L2605'>mm_heap</a>          2605 Zend/zend_alloc.c 	AG(mm_heap)-&gt;limit = (memory_limit &gt;= ZEND_MM_CHUNK_SIZE) ? memory_limit : ZEND_MM_CHUNK_SIZE;</span>
<span class='curline'><a href='../S/1628.html#L2614'>mm_heap</a>          2614 Zend/zend_alloc.c 		return AG(mm_heap)-&gt;real_size;</span>
<span class='curline'><a href='../S/1628.html#L2616'>mm_heap</a>          2616 Zend/zend_alloc.c 		size_t usage = AG(mm_heap)-&gt;size;</span>
<span class='curline'><a href='../S/1628.html#L2627'>mm_heap</a>          2627 Zend/zend_alloc.c 		return AG(mm_heap)-&gt;real_peak;</span>
<span class='curline'><a href='../S/1628.html#L2629'>mm_heap</a>          2629 Zend/zend_alloc.c 		return AG(mm_heap)-&gt;peak;</span>
<span class='curline'><a href='../S/1628.html#L2637'>mm_heap</a>          2637 Zend/zend_alloc.c 	zend_mm_shutdown(AG(mm_heap), full_shutdown, silent);</span>
<span class='curline'><a href='../S/1628.html#L2646'>mm_heap</a>          2646 Zend/zend_alloc.c 		alloc_globals-&gt;mm_heap = malloc(sizeof(zend_mm_heap));</span>
<span class='curline'><a href='../S/1628.html#L2647'>mm_heap</a>          2647 Zend/zend_alloc.c 		memset(alloc_globals-&gt;mm_heap, 0, sizeof(zend_mm_heap));</span>
<span class='curline'><a href='../S/1628.html#L2648'>mm_heap</a>          2648 Zend/zend_alloc.c 		alloc_globals-&gt;mm_heap-&gt;use_custom_heap = ZEND_MM_CUSTOM_HEAP_STD;</span>
<span class='curline'><a href='../S/1628.html#L2649'>mm_heap</a>          2649 Zend/zend_alloc.c 		alloc_globals-&gt;mm_heap-&gt;custom_heap.std._malloc = malloc;</span>
<span class='curline'><a href='../S/1628.html#L2650'>mm_heap</a>          2650 Zend/zend_alloc.c 		alloc_globals-&gt;mm_heap-&gt;custom_heap.std._free = free;</span>
<span class='curline'><a href='../S/1628.html#L2651'>mm_heap</a>          2651 Zend/zend_alloc.c 		alloc_globals-&gt;mm_heap-&gt;custom_heap.std._realloc = realloc;</span>
<span class='curline'><a href='../S/1628.html#L2662'>mm_heap</a>          2662 Zend/zend_alloc.c 	alloc_globals-&gt;mm_heap = zend_mm_init();</span>
<span class='curline'><a href='../S/1628.html#L2668'>mm_heap</a>          2668 Zend/zend_alloc.c 	zend_mm_shutdown(alloc_globals-&gt;mm_heap, 1, 1);</span>
<span class='curline'><a href='../S/1628.html#L2692'>mm_heap</a>          2692 Zend/zend_alloc.c 	old_heap = AG(mm_heap);</span>
<span class='curline'><a href='../S/1628.html#L2693'>mm_heap</a>          2693 Zend/zend_alloc.c 	AG(mm_heap) = (zend_mm_heap*)new_heap;</span>
<span class='curline'><a href='../S/1628.html#L2699'>mm_heap</a>          2699 Zend/zend_alloc.c 	return AG(mm_heap);</span>
<span class='curline'><a href='../S/1628.html#L2705'>mm_heap</a>          2705 Zend/zend_alloc.c 	return AG(mm_heap)-&gt;use_custom_heap;</span>
<span class='curline'><a href='../S/1526.html#L1597'>mm_heap</a>          1597 sapi/phpdbg/phpdbg.c 		zend_mm_heap *mm_heap;</span>
<span class='curline'><a href='../S/1526.html#L1638'>mm_heap</a>          1638 sapi/phpdbg/phpdbg.c 		mm_heap = zend_mm_get_heap();</span>
<span class='curline'><a href='../S/1526.html#L1639'>mm_heap</a>          1639 sapi/phpdbg/phpdbg.c 		zend_mm_get_custom_handlers(mm_heap, &amp;_malloc, &amp;_free, &amp;_realloc);</span>
<span class='curline'><a href='../S/1526.html#L1650'>mm_heap</a>          1650 sapi/phpdbg/phpdbg.c 			zend_mm_set_custom_debug_handlers(mm_heap, phpdbg_malloc_wrapper, phpdbg_free_wrapper, phpdbg_realloc_wrapper);</span>
<span class='curline'><a href='../S/1526.html#L1652'>mm_heap</a>          1652 sapi/phpdbg/phpdbg.c 			zend_mm_set_custom_handlers(mm_heap, phpdbg_malloc_wrapper, phpdbg_free_wrapper, phpdbg_realloc_wrapper);</span>
<span class='curline'><a href='../S/1526.html#L1655'>mm_heap</a>          1655 sapi/phpdbg/phpdbg.c 			zend_mm_set_custom_handlers(mm_heap, _malloc, _free, _realloc);</span>
<span class='curline'><a href='../S/1526.html#L1985'>mm_heap</a>          1985 sapi/phpdbg/phpdbg.c 			*(int *) mm_heap = 0;</span>
</pre>
</body>
</html>
