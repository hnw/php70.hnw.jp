<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>sqlite3_stream</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1059.html#L1070'>sqlite3_stream</a>   1070 ext/sqlite3/sqlite3.c 	php_stream_sqlite3_data *sqlite3_stream = (php_stream_sqlite3_data *) stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1059.html#L1072'>sqlite3_stream</a>   1072 ext/sqlite3/sqlite3.c 	if (sqlite3_stream-&gt;position + count &gt;= sqlite3_stream-&gt;size) {</span>
<span class='curline'><a href='../S/1059.html#L1073'>sqlite3_stream</a>   1073 ext/sqlite3/sqlite3.c 		count = sqlite3_stream-&gt;size - sqlite3_stream-&gt;position;</span>
<span class='curline'><a href='../S/1059.html#L1077'>sqlite3_stream</a>   1077 ext/sqlite3/sqlite3.c 		if (sqlite3_blob_read(sqlite3_stream-&gt;blob, buf, count, sqlite3_stream-&gt;position) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L1080'>sqlite3_stream</a>   1080 ext/sqlite3/sqlite3.c 		sqlite3_stream-&gt;position += count;</span>
<span class='curline'><a href='../S/1059.html#L1087'>sqlite3_stream</a>   1087 ext/sqlite3/sqlite3.c 	php_stream_sqlite3_data *sqlite3_stream = (php_stream_sqlite3_data *) stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1059.html#L1089'>sqlite3_stream</a>   1089 ext/sqlite3/sqlite3.c 	if (sqlite3_blob_close(sqlite3_stream-&gt;blob) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L1093'>sqlite3_stream</a>   1093 ext/sqlite3/sqlite3.c 	efree(sqlite3_stream);</span>
<span class='curline'><a href='../S/1059.html#L1107'>sqlite3_stream</a>   1107 ext/sqlite3/sqlite3.c 	php_stream_sqlite3_data *sqlite3_stream = (php_stream_sqlite3_data *) stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1059.html#L1112'>sqlite3_stream</a>   1112 ext/sqlite3/sqlite3.c 				if (sqlite3_stream-&gt;position &lt; (size_t)(-offset)) {</span>
<span class='curline'><a href='../S/1059.html#L1113'>sqlite3_stream</a>   1113 ext/sqlite3/sqlite3.c 					sqlite3_stream-&gt;position = 0;</span>
<span class='curline'><a href='../S/1059.html#L1117'>sqlite3_stream</a>   1117 ext/sqlite3/sqlite3.c 					sqlite3_stream-&gt;position = sqlite3_stream-&gt;position + offset;</span>
<span class='curline'><a href='../S/1059.html#L1118'>sqlite3_stream</a>   1118 ext/sqlite3/sqlite3.c 					*newoffs = sqlite3_stream-&gt;position;</span>
<span class='curline'><a href='../S/1059.html#L1123'>sqlite3_stream</a>   1123 ext/sqlite3/sqlite3.c 				if (sqlite3_stream-&gt;position + (size_t)(offset) &gt; sqlite3_stream-&gt;size) {</span>
<span class='curline'><a href='../S/1059.html#L1124'>sqlite3_stream</a>   1124 ext/sqlite3/sqlite3.c 					sqlite3_stream-&gt;position = sqlite3_stream-&gt;size;</span>
<span class='curline'><a href='../S/1059.html#L1128'>sqlite3_stream</a>   1128 ext/sqlite3/sqlite3.c 					sqlite3_stream-&gt;position = sqlite3_stream-&gt;position + offset;</span>
<span class='curline'><a href='../S/1059.html#L1129'>sqlite3_stream</a>   1129 ext/sqlite3/sqlite3.c 					*newoffs = sqlite3_stream-&gt;position;</span>
<span class='curline'><a href='../S/1059.html#L1135'>sqlite3_stream</a>   1135 ext/sqlite3/sqlite3.c 			if (sqlite3_stream-&gt;size &lt; (size_t)(offset)) {</span>
<span class='curline'><a href='../S/1059.html#L1136'>sqlite3_stream</a>   1136 ext/sqlite3/sqlite3.c 				sqlite3_stream-&gt;position = sqlite3_stream-&gt;size;</span>
<span class='curline'><a href='../S/1059.html#L1140'>sqlite3_stream</a>   1140 ext/sqlite3/sqlite3.c 				sqlite3_stream-&gt;position = offset;</span>
<span class='curline'><a href='../S/1059.html#L1141'>sqlite3_stream</a>   1141 ext/sqlite3/sqlite3.c 				*newoffs = sqlite3_stream-&gt;position;</span>
<span class='curline'><a href='../S/1059.html#L1147'>sqlite3_stream</a>   1147 ext/sqlite3/sqlite3.c 				sqlite3_stream-&gt;position = sqlite3_stream-&gt;size;</span>
<span class='curline'><a href='../S/1059.html#L1150'>sqlite3_stream</a>   1150 ext/sqlite3/sqlite3.c 			} else if (sqlite3_stream-&gt;size &lt; (size_t)(-offset)) {</span>
<span class='curline'><a href='../S/1059.html#L1151'>sqlite3_stream</a>   1151 ext/sqlite3/sqlite3.c 				sqlite3_stream-&gt;position = 0;</span>
<span class='curline'><a href='../S/1059.html#L1155'>sqlite3_stream</a>   1155 ext/sqlite3/sqlite3.c 				sqlite3_stream-&gt;position = sqlite3_stream-&gt;size + offset;</span>
<span class='curline'><a href='../S/1059.html#L1156'>sqlite3_stream</a>   1156 ext/sqlite3/sqlite3.c 				*newoffs = sqlite3_stream-&gt;position;</span>
<span class='curline'><a href='../S/1059.html#L1161'>sqlite3_stream</a>   1161 ext/sqlite3/sqlite3.c 			*newoffs = sqlite3_stream-&gt;position;</span>
<span class='curline'><a href='../S/1059.html#L1175'>sqlite3_stream</a>   1175 ext/sqlite3/sqlite3.c 	php_stream_sqlite3_data *sqlite3_stream = (php_stream_sqlite3_data *) stream-&gt;abstract;</span>
<span class='curline'><a href='../S/1059.html#L1176'>sqlite3_stream</a>   1176 ext/sqlite3/sqlite3.c 	ssb-&gt;sb.st_size = sqlite3_stream-&gt;size;</span>
<span class='curline'><a href='../S/1059.html#L1201'>sqlite3_stream</a>   1201 ext/sqlite3/sqlite3.c 	php_stream_sqlite3_data *sqlite3_stream;</span>
<span class='curline'><a href='../S/1059.html#L1217'>sqlite3_stream</a>   1217 ext/sqlite3/sqlite3.c 	sqlite3_stream = emalloc(sizeof(php_stream_sqlite3_data));</span>
<span class='curline'><a href='../S/1059.html#L1218'>sqlite3_stream</a>   1218 ext/sqlite3/sqlite3.c 	sqlite3_stream-&gt;blob = blob;</span>
<span class='curline'><a href='../S/1059.html#L1219'>sqlite3_stream</a>   1219 ext/sqlite3/sqlite3.c 	sqlite3_stream-&gt;position = 0;</span>
<span class='curline'><a href='../S/1059.html#L1220'>sqlite3_stream</a>   1220 ext/sqlite3/sqlite3.c 	sqlite3_stream-&gt;size = sqlite3_blob_bytes(blob);</span>
<span class='curline'><a href='../S/1059.html#L1222'>sqlite3_stream</a>   1222 ext/sqlite3/sqlite3.c 	stream = php_stream_alloc(&amp;php_stream_sqlite3_ops, sqlite3_stream, 0, "rb");</span>
</pre>
</body>
</html>
