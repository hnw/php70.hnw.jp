<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pInode</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1054.html#L25434'>pInode</a>           25434 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode;              /* Info about locks on this inode */</span>
<span class='curline'><a href='../S/1054.html#L26642'>pInode</a>           26642 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode = pFile-&gt;pInode;</span>
<span class='curline'><a href='../S/1054.html#L26645'>pInode</a>           26645 ext/sqlite3/libsqlite/sqlite3.c   for(p=pInode-&gt;pUnused; p; p=pNext){</span>
<span class='curline'><a href='../S/1054.html#L26650'>pInode</a>           26650 ext/sqlite3/libsqlite/sqlite3.c   pInode-&gt;pUnused = 0;</span>
<span class='curline'><a href='../S/1054.html#L26660'>pInode</a>           26660 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode = pFile-&gt;pInode;</span>
<span class='curline'><a href='../S/1054.html#L26662'>pInode</a>           26662 ext/sqlite3/libsqlite/sqlite3.c   if( ALWAYS(pInode) ){</span>
<span class='curline'><a href='../S/1054.html#L26663'>pInode</a>           26663 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;nRef--;</span>
<span class='curline'><a href='../S/1054.html#L26664'>pInode</a>           26664 ext/sqlite3/libsqlite/sqlite3.c     if( pInode-&gt;nRef==0 ){</span>
<span class='curline'><a href='../S/1054.html#L26665'>pInode</a>           26665 ext/sqlite3/libsqlite/sqlite3.c       assert( pInode-&gt;pShmNode==0 );</span>
<span class='curline'><a href='../S/1054.html#L26667'>pInode</a>           26667 ext/sqlite3/libsqlite/sqlite3.c       if( pInode-&gt;pPrev ){</span>
<span class='curline'><a href='../S/1054.html#L26668'>pInode</a>           26668 ext/sqlite3/libsqlite/sqlite3.c         assert( pInode-&gt;pPrev-&gt;pNext==pInode );</span>
<span class='curline'><a href='../S/1054.html#L26669'>pInode</a>           26669 ext/sqlite3/libsqlite/sqlite3.c         pInode-&gt;pPrev-&gt;pNext = pInode-&gt;pNext;</span>
<span class='curline'><a href='../S/1054.html#L26671'>pInode</a>           26671 ext/sqlite3/libsqlite/sqlite3.c         assert( inodeList==pInode );</span>
<span class='curline'><a href='../S/1054.html#L26672'>pInode</a>           26672 ext/sqlite3/libsqlite/sqlite3.c         inodeList = pInode-&gt;pNext;</span>
<span class='curline'><a href='../S/1054.html#L26674'>pInode</a>           26674 ext/sqlite3/libsqlite/sqlite3.c       if( pInode-&gt;pNext ){</span>
<span class='curline'><a href='../S/1054.html#L26675'>pInode</a>           26675 ext/sqlite3/libsqlite/sqlite3.c         assert( pInode-&gt;pNext-&gt;pPrev==pInode );</span>
<span class='curline'><a href='../S/1054.html#L26676'>pInode</a>           26676 ext/sqlite3/libsqlite/sqlite3.c         pInode-&gt;pNext-&gt;pPrev = pInode-&gt;pPrev;</span>
<span class='curline'><a href='../S/1054.html#L26678'>pInode</a>           26678 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_free(pInode);</span>
<span class='curline'><a href='../S/1054.html#L26701'>pInode</a>           26701 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode = 0;     /* Candidate unixInodeInfo object */</span>
<span class='curline'><a href='../S/1054.html#L26750'>pInode</a>           26750 ext/sqlite3/libsqlite/sqlite3.c   pInode = inodeList;</span>
<span class='curline'><a href='../S/1054.html#L26751'>pInode</a>           26751 ext/sqlite3/libsqlite/sqlite3.c   while( pInode &amp;&amp; memcmp(&amp;fileId, &amp;pInode-&gt;fileId, sizeof(fileId)) ){</span>
<span class='curline'><a href='../S/1054.html#L26752'>pInode</a>           26752 ext/sqlite3/libsqlite/sqlite3.c     pInode = pInode-&gt;pNext;</span>
<span class='curline'><a href='../S/1054.html#L26754'>pInode</a>           26754 ext/sqlite3/libsqlite/sqlite3.c   if( pInode==0 ){</span>
<span class='curline'><a href='../S/1054.html#L26755'>pInode</a>           26755 ext/sqlite3/libsqlite/sqlite3.c     pInode = sqlite3_malloc64( sizeof(*pInode) );</span>
<span class='curline'><a href='../S/1054.html#L26756'>pInode</a>           26756 ext/sqlite3/libsqlite/sqlite3.c     if( pInode==0 ){</span>
<span class='curline'><a href='../S/1054.html#L26759'>pInode</a>           26759 ext/sqlite3/libsqlite/sqlite3.c     memset(pInode, 0, sizeof(*pInode));</span>
<span class='curline'><a href='../S/1054.html#L26760'>pInode</a>           26760 ext/sqlite3/libsqlite/sqlite3.c     memcpy(&amp;pInode-&gt;fileId, &amp;fileId, sizeof(fileId));</span>
<span class='curline'><a href='../S/1054.html#L26761'>pInode</a>           26761 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;nRef = 1;</span>
<span class='curline'><a href='../S/1054.html#L26762'>pInode</a>           26762 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;pNext = inodeList;</span>
<span class='curline'><a href='../S/1054.html#L26763'>pInode</a>           26763 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;pPrev = 0;</span>
<span class='curline'><a href='../S/1054.html#L26764'>pInode</a>           26764 ext/sqlite3/libsqlite/sqlite3.c     if( inodeList ) inodeList-&gt;pPrev = pInode;</span>
<span class='curline'><a href='../S/1054.html#L26765'>pInode</a>           26765 ext/sqlite3/libsqlite/sqlite3.c     inodeList = pInode;</span>
<span class='curline'><a href='../S/1054.html#L26767'>pInode</a>           26767 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;nRef++;</span>
<span class='curline'><a href='../S/1054.html#L26769'>pInode</a>           26769 ext/sqlite3/libsqlite/sqlite3.c   *ppInode = pInode;</span>
<span class='curline'><a href='../S/1054.html#L26778'>pInode</a>           26778 ext/sqlite3/libsqlite/sqlite3.c   return pFile-&gt;pInode!=0 &amp;&amp; pFile-&gt;pId!=pFile-&gt;pInode-&gt;fileId.pId;</span>
<span class='curline'><a href='../S/1054.html#L26781'>pInode</a>           26781 ext/sqlite3/libsqlite/sqlite3.c   return pFile-&gt;pInode!=0 &amp;&amp;</span>
<span class='curline'><a href='../S/1054.html#L26782'>pInode</a>           26782 ext/sqlite3/libsqlite/sqlite3.c       (osStat(pFile-&gt;zPath, &amp;buf)!=0 || buf.st_ino!=pFile-&gt;pInode-&gt;fileId.ino);</span>
<span class='curline'><a href='../S/1054.html#L26845'>pInode</a>           26845 ext/sqlite3/libsqlite/sqlite3.c   if( pFile-&gt;pInode-&gt;eFileLock&gt;SHARED_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L26852'>pInode</a>           26852 ext/sqlite3/libsqlite/sqlite3.c   if( !reserved &amp;&amp; !pFile-&gt;pInode-&gt;bProcessLock ){</span>
<span class='curline'><a href='../S/1054.html#L26895'>pInode</a>           26895 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode = pFile-&gt;pInode;</span>
<span class='curline'><a href='../S/1054.html#L26897'>pInode</a>           26897 ext/sqlite3/libsqlite/sqlite3.c   assert( pInode!=0 );</span>
<span class='curline'><a href='../S/1054.html#L26898'>pInode</a>           26898 ext/sqlite3/libsqlite/sqlite3.c   if( ((pFile-&gt;ctrlFlags &amp; UNIXFILE_EXCL)!=0 || pInode-&gt;bProcessLock)</span>
<span class='curline'><a href='../S/1054.html#L26901'>pInode</a>           26901 ext/sqlite3/libsqlite/sqlite3.c     if( pInode-&gt;bProcessLock==0 ){</span>
<span class='curline'><a href='../S/1054.html#L26903'>pInode</a>           26903 ext/sqlite3/libsqlite/sqlite3.c       assert( pInode-&gt;nLock==0 );</span>
<span class='curline'><a href='../S/1054.html#L26910'>pInode</a>           26910 ext/sqlite3/libsqlite/sqlite3.c       pInode-&gt;bProcessLock = 1;</span>
<span class='curline'><a href='../S/1054.html#L26911'>pInode</a>           26911 ext/sqlite3/libsqlite/sqlite3.c       pInode-&gt;nLock++;</span>
<span class='curline'><a href='../S/1054.html#L26986'>pInode</a>           26986 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode;</span>
<span class='curline'><a href='../S/1054.html#L26993'>pInode</a>           26993 ext/sqlite3/libsqlite/sqlite3.c       azFileLock(pFile-&gt;pInode-&gt;eFileLock), pFile-&gt;pInode-&gt;nShared,</span>
<span class='curline'><a href='../S/1054.html#L27018'>pInode</a>           27018 ext/sqlite3/libsqlite/sqlite3.c   pInode = pFile-&gt;pInode;</span>
<span class='curline'><a href='../S/1054.html#L27023'>pInode</a>           27023 ext/sqlite3/libsqlite/sqlite3.c   if( (pFile-&gt;eFileLock!=pInode-&gt;eFileLock &amp;&amp; </span>
<span class='curline'><a href='../S/1054.html#L27024'>pInode</a>           27024 ext/sqlite3/libsqlite/sqlite3.c           (pInode-&gt;eFileLock&gt;=PENDING_LOCK || eFileLock&gt;SHARED_LOCK))</span>
<span class='curline'><a href='../S/1054.html#L27035'>pInode</a>           27035 ext/sqlite3/libsqlite/sqlite3.c       (pInode-&gt;eFileLock==SHARED_LOCK || pInode-&gt;eFileLock==RESERVED_LOCK) ){</span>
<span class='curline'><a href='../S/1054.html#L27038'>pInode</a>           27038 ext/sqlite3/libsqlite/sqlite3.c     assert( pInode-&gt;nShared&gt;0 );</span>
<span class='curline'><a href='../S/1054.html#L27040'>pInode</a>           27040 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;nShared++;</span>
<span class='curline'><a href='../S/1054.html#L27041'>pInode</a>           27041 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;nLock++;</span>
<span class='curline'><a href='../S/1054.html#L27072'>pInode</a>           27072 ext/sqlite3/libsqlite/sqlite3.c     assert( pInode-&gt;nShared==0 );</span>
<span class='curline'><a href='../S/1054.html#L27073'>pInode</a>           27073 ext/sqlite3/libsqlite/sqlite3.c     assert( pInode-&gt;eFileLock==0 );</span>
<span class='curline'><a href='../S/1054.html#L27101'>pInode</a>           27101 ext/sqlite3/libsqlite/sqlite3.c       pInode-&gt;nLock++;</span>
<span class='curline'><a href='../S/1054.html#L27102'>pInode</a>           27102 ext/sqlite3/libsqlite/sqlite3.c       pInode-&gt;nShared = 1;</span>
<span class='curline'><a href='../S/1054.html#L27104'>pInode</a>           27104 ext/sqlite3/libsqlite/sqlite3.c   }else if( eFileLock==EXCLUSIVE_LOCK &amp;&amp; pInode-&gt;nShared&gt;1 ){</span>
<span class='curline'><a href='../S/1054.html#L27154'>pInode</a>           27154 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;eFileLock = eFileLock;</span>
<span class='curline'><a href='../S/1054.html#L27157'>pInode</a>           27157 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;eFileLock = PENDING_LOCK;</span>
<span class='curline'><a href='../S/1054.html#L27172'>pInode</a>           27172 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode = pFile-&gt;pInode;</span>
<span class='curline'><a href='../S/1054.html#L27174'>pInode</a>           27174 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;pNext = pInode-&gt;pUnused;</span>
<span class='curline'><a href='../S/1054.html#L27175'>pInode</a>           27175 ext/sqlite3/libsqlite/sqlite3.c   pInode-&gt;pUnused = p;</span>
<span class='curline'><a href='../S/1054.html#L27195'>pInode</a>           27195 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode;</span>
<span class='curline'><a href='../S/1054.html#L27201'>pInode</a>           27201 ext/sqlite3/libsqlite/sqlite3.c       pFile-&gt;eFileLock, pFile-&gt;pInode-&gt;eFileLock, pFile-&gt;pInode-&gt;nShared,</span>
<span class='curline'><a href='../S/1054.html#L27209'>pInode</a>           27209 ext/sqlite3/libsqlite/sqlite3.c   pInode = pFile-&gt;pInode;</span>
<span class='curline'><a href='../S/1054.html#L27210'>pInode</a>           27210 ext/sqlite3/libsqlite/sqlite3.c   assert( pInode-&gt;nShared!=0 );</span>
<span class='curline'><a href='../S/1054.html#L27212'>pInode</a>           27212 ext/sqlite3/libsqlite/sqlite3.c     assert( pInode-&gt;eFileLock==pFile-&gt;eFileLock );</span>
<span class='curline'><a href='../S/1054.html#L27306'>pInode</a>           27306 ext/sqlite3/libsqlite/sqlite3.c       pInode-&gt;eFileLock = SHARED_LOCK;</span>
<span class='curline'><a href='../S/1054.html#L27318'>pInode</a>           27318 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;nShared--;</span>
<span class='curline'><a href='../S/1054.html#L27319'>pInode</a>           27319 ext/sqlite3/libsqlite/sqlite3.c     if( pInode-&gt;nShared==0 ){</span>
<span class='curline'><a href='../S/1054.html#L27324'>pInode</a>           27324 ext/sqlite3/libsqlite/sqlite3.c         pInode-&gt;eFileLock = NO_LOCK;</span>
<span class='curline'><a href='../S/1054.html#L27328'>pInode</a>           27328 ext/sqlite3/libsqlite/sqlite3.c         pInode-&gt;eFileLock = NO_LOCK;</span>
<span class='curline'><a href='../S/1054.html#L27337'>pInode</a>           27337 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;nLock--;</span>
<span class='curline'><a href='../S/1054.html#L27338'>pInode</a>           27338 ext/sqlite3/libsqlite/sqlite3.c     assert( pInode-&gt;nLock&gt;=0 );</span>
<span class='curline'><a href='../S/1054.html#L27339'>pInode</a>           27339 ext/sqlite3/libsqlite/sqlite3.c     if( pInode-&gt;nLock==0 ){</span>
<span class='curline'><a href='../S/1054.html#L27424'>pInode</a>           27424 ext/sqlite3/libsqlite/sqlite3.c   assert( pFile-&gt;pInode-&gt;nLock&gt;0 || pFile-&gt;pInode-&gt;bProcessLock==0 );</span>
<span class='curline'><a href='../S/1054.html#L27425'>pInode</a>           27425 ext/sqlite3/libsqlite/sqlite3.c   if( ALWAYS(pFile-&gt;pInode) &amp;&amp; pFile-&gt;pInode-&gt;nLock ){</span>
<span class='curline'><a href='../S/1054.html#L27924'>pInode</a>           27924 ext/sqlite3/libsqlite/sqlite3.c     sem_t *pSem = pFile-&gt;pInode-&gt;pSem;</span>
<span class='curline'><a href='../S/1054.html#L27977'>pInode</a>           27977 ext/sqlite3/libsqlite/sqlite3.c   sem_t *pSem = pFile-&gt;pInode-&gt;pSem;</span>
<span class='curline'><a href='../S/1054.html#L28010'>pInode</a>           28010 ext/sqlite3/libsqlite/sqlite3.c   sem_t *pSem = pFile-&gt;pInode-&gt;pSem;</span>
<span class='curline'><a href='../S/1054.html#L28167'>pInode</a>           28167 ext/sqlite3/libsqlite/sqlite3.c   if( pFile-&gt;pInode-&gt;eFileLock&gt;SHARED_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L28223'>pInode</a>           28223 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode = pFile-&gt;pInode;</span>
<span class='curline'><a href='../S/1054.html#L28229'>pInode</a>           28229 ext/sqlite3/libsqlite/sqlite3.c            azFileLock(pInode-&gt;eFileLock), pInode-&gt;nShared , osGetpid(0)));</span>
<span class='curline'><a href='../S/1054.html#L28253'>pInode</a>           28253 ext/sqlite3/libsqlite/sqlite3.c   pInode = pFile-&gt;pInode;</span>
<span class='curline'><a href='../S/1054.html#L28258'>pInode</a>           28258 ext/sqlite3/libsqlite/sqlite3.c   if( (pFile-&gt;eFileLock!=pInode-&gt;eFileLock &amp;&amp; </span>
<span class='curline'><a href='../S/1054.html#L28259'>pInode</a>           28259 ext/sqlite3/libsqlite/sqlite3.c        (pInode-&gt;eFileLock&gt;=PENDING_LOCK || eFileLock&gt;SHARED_LOCK))</span>
<span class='curline'><a href='../S/1054.html#L28270'>pInode</a>           28270 ext/sqlite3/libsqlite/sqlite3.c      (pInode-&gt;eFileLock==SHARED_LOCK || pInode-&gt;eFileLock==RESERVED_LOCK) ){</span>
<span class='curline'><a href='../S/1054.html#L28273'>pInode</a>           28273 ext/sqlite3/libsqlite/sqlite3.c     assert( pInode-&gt;nShared&gt;0 );</span>
<span class='curline'><a href='../S/1054.html#L28275'>pInode</a>           28275 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;nShared++;</span>
<span class='curline'><a href='../S/1054.html#L28276'>pInode</a>           28276 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;nLock++;</span>
<span class='curline'><a href='../S/1054.html#L28302'>pInode</a>           28302 ext/sqlite3/libsqlite/sqlite3.c     assert( pInode-&gt;nShared==0 );</span>
<span class='curline'><a href='../S/1054.html#L28303'>pInode</a>           28303 ext/sqlite3/libsqlite/sqlite3.c     assert( pInode-&gt;eFileLock==0 );</span>
<span class='curline'><a href='../S/1054.html#L28309'>pInode</a>           28309 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;sharedByte = (lk &amp; mask)%(SHARED_SIZE - 1);</span>
<span class='curline'><a href='../S/1054.html#L28311'>pInode</a>           28311 ext/sqlite3/libsqlite/sqlite3.c           SHARED_FIRST+pInode-&gt;sharedByte, 1, 1);</span>
<span class='curline'><a href='../S/1054.html#L28329'>pInode</a>           28329 ext/sqlite3/libsqlite/sqlite3.c       pInode-&gt;nLock++;</span>
<span class='curline'><a href='../S/1054.html#L28330'>pInode</a>           28330 ext/sqlite3/libsqlite/sqlite3.c       pInode-&gt;nShared = 1;</span>
<span class='curline'><a href='../S/1054.html#L28332'>pInode</a>           28332 ext/sqlite3/libsqlite/sqlite3.c   }else if( eFileLock==EXCLUSIVE_LOCK &amp;&amp; pInode-&gt;nShared&gt;1 ){</span>
<span class='curline'><a href='../S/1054.html#L28357'>pInode</a>           28357 ext/sqlite3/libsqlite/sqlite3.c                          pInode-&gt;sharedByte, 1, 0)) ){</span>
<span class='curline'><a href='../S/1054.html#L28363'>pInode</a>           28363 ext/sqlite3/libsqlite/sqlite3.c                        SHARED_FIRST + pInode-&gt;sharedByte, 1, 1)) ){</span>
<span class='curline'><a href='../S/1054.html#L28382'>pInode</a>           28382 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;eFileLock = eFileLock;</span>
<span class='curline'><a href='../S/1054.html#L28385'>pInode</a>           28385 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;eFileLock = PENDING_LOCK;</span>
<span class='curline'><a href='../S/1054.html#L28405'>pInode</a>           28405 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode;</span>
<span class='curline'><a href='../S/1054.html#L28414'>pInode</a>           28414 ext/sqlite3/libsqlite/sqlite3.c            pFile-&gt;eFileLock, pFile-&gt;pInode-&gt;eFileLock, pFile-&gt;pInode-&gt;nShared,</span>
<span class='curline'><a href='../S/1054.html#L28422'>pInode</a>           28422 ext/sqlite3/libsqlite/sqlite3.c   pInode = pFile-&gt;pInode;</span>
<span class='curline'><a href='../S/1054.html#L28423'>pInode</a>           28423 ext/sqlite3/libsqlite/sqlite3.c   assert( pInode-&gt;nShared!=0 );</span>
<span class='curline'><a href='../S/1054.html#L28425'>pInode</a>           28425 ext/sqlite3/libsqlite/sqlite3.c     assert( pInode-&gt;eFileLock==pFile-&gt;eFileLock );</span>
<span class='curline'><a href='../S/1054.html#L28447'>pInode</a>           28447 ext/sqlite3/libsqlite/sqlite3.c       if( rc==SQLITE_OK &amp;&amp; (eFileLock==SHARED_LOCK || pInode-&gt;nShared&gt;1) ){</span>
<span class='curline'><a href='../S/1054.html#L28449'>pInode</a>           28449 ext/sqlite3/libsqlite/sqlite3.c         int sharedLockByte = SHARED_FIRST+pInode-&gt;sharedByte;</span>
<span class='curline'><a href='../S/1054.html#L28464'>pInode</a>           28464 ext/sqlite3/libsqlite/sqlite3.c     if( rc==SQLITE_OK &amp;&amp; (eFileLock==SHARED_LOCK || pInode-&gt;nShared&gt;1)){</span>
<span class='curline'><a href='../S/1054.html#L28465'>pInode</a>           28465 ext/sqlite3/libsqlite/sqlite3.c       pInode-&gt;eFileLock = SHARED_LOCK;</span>
<span class='curline'><a href='../S/1054.html#L28474'>pInode</a>           28474 ext/sqlite3/libsqlite/sqlite3.c     unsigned long long sharedLockByte = SHARED_FIRST+pInode-&gt;sharedByte;</span>
<span class='curline'><a href='../S/1054.html#L28475'>pInode</a>           28475 ext/sqlite3/libsqlite/sqlite3.c     pInode-&gt;nShared--;</span>
<span class='curline'><a href='../S/1054.html#L28476'>pInode</a>           28476 ext/sqlite3/libsqlite/sqlite3.c     if( pInode-&gt;nShared==0 ){</span>
<span class='curline'><a href='../S/1054.html#L28484'>pInode</a>           28484 ext/sqlite3/libsqlite/sqlite3.c         pInode-&gt;eFileLock = NO_LOCK;</span>
<span class='curline'><a href='../S/1054.html#L28489'>pInode</a>           28489 ext/sqlite3/libsqlite/sqlite3.c       pInode-&gt;nLock--;</span>
<span class='curline'><a href='../S/1054.html#L28490'>pInode</a>           28490 ext/sqlite3/libsqlite/sqlite3.c       assert( pInode-&gt;nLock&gt;=0 );</span>
<span class='curline'><a href='../S/1054.html#L28491'>pInode</a>           28491 ext/sqlite3/libsqlite/sqlite3.c       if( pInode-&gt;nLock==0 ){</span>
<span class='curline'><a href='../S/1054.html#L28511'>pInode</a>           28511 ext/sqlite3/libsqlite/sqlite3.c     if( pFile-&gt;pInode &amp;&amp; pFile-&gt;pInode-&gt;nLock ){</span>
<span class='curline'><a href='../S/1054.html#L29501'>pInode</a>           29501 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode;     /* unixInodeInfo that owns this SHM node */</span>
<span class='curline'><a href='../S/1054.html#L29563'>pInode</a>           29563 ext/sqlite3/libsqlite/sqlite3.c   pShmNode = pFile-&gt;pInode-&gt;pShmNode;</span>
<span class='curline'><a href='../S/1054.html#L29649'>pInode</a>           29649 ext/sqlite3/libsqlite/sqlite3.c   unixShmNode *p = pFd-&gt;pInode-&gt;pShmNode;</span>
<span class='curline'><a href='../S/1054.html#L29654'>pInode</a>           29654 ext/sqlite3/libsqlite/sqlite3.c     assert( p-&gt;pInode==pFd-&gt;pInode );</span>
<span class='curline'><a href='../S/1054.html#L29668'>pInode</a>           29668 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;pInode-&gt;pShmNode = 0;</span>
<span class='curline'><a href='../S/1054.html#L29712'>pInode</a>           29712 ext/sqlite3/libsqlite/sqlite3.c   unixInodeInfo *pInode;          /* The inode of fd */</span>
<span class='curline'><a href='../S/1054.html#L29726'>pInode</a>           29726 ext/sqlite3/libsqlite/sqlite3.c   pInode = pDbFd-&gt;pInode;</span>
<span class='curline'><a href='../S/1054.html#L29727'>pInode</a>           29727 ext/sqlite3/libsqlite/sqlite3.c   pShmNode = pInode-&gt;pShmNode;</span>
<span class='curline'><a href='../S/1054.html#L29738'>pInode</a>           29738 ext/sqlite3/libsqlite/sqlite3.c     if( osFstat(pDbFd-&gt;h, &amp;sStat) &amp;&amp; pInode-&gt;bProcessLock==0 ){</span>
<span class='curline'><a href='../S/1054.html#L29764'>pInode</a>           29764 ext/sqlite3/libsqlite/sqlite3.c     pDbFd-&gt;pInode-&gt;pShmNode = pShmNode;</span>
<span class='curline'><a href='../S/1054.html#L29765'>pInode</a>           29765 ext/sqlite3/libsqlite/sqlite3.c     pShmNode-&gt;pInode = pDbFd-&gt;pInode;</span>
<span class='curline'><a href='../S/1054.html#L29772'>pInode</a>           29772 ext/sqlite3/libsqlite/sqlite3.c     if( pInode-&gt;bProcessLock==0 ){</span>
<span class='curline'><a href='../S/1054.html#L29879'>pInode</a>           29879 ext/sqlite3/libsqlite/sqlite3.c   assert( pShmNode-&gt;pInode==pDbFd-&gt;pInode );</span>
<span class='curline'><a href='../S/1054.html#L29880'>pInode</a>           29880 ext/sqlite3/libsqlite/sqlite3.c   assert( pShmNode-&gt;h&gt;=0 || pDbFd-&gt;pInode-&gt;bProcessLock==1 );</span>
<span class='curline'><a href='../S/1054.html#L29881'>pInode</a>           29881 ext/sqlite3/libsqlite/sqlite3.c   assert( pShmNode-&gt;h&lt;0 || pDbFd-&gt;pInode-&gt;bProcessLock==0 );</span>
<span class='curline'><a href='../S/1054.html#L30005'>pInode</a>           30005 ext/sqlite3/libsqlite/sqlite3.c   assert( pShmNode==pDbFd-&gt;pInode-&gt;pShmNode );</span>
<span class='curline'><a href='../S/1054.html#L30006'>pInode</a>           30006 ext/sqlite3/libsqlite/sqlite3.c   assert( pShmNode-&gt;pInode==pDbFd-&gt;pInode );</span>
<span class='curline'><a href='../S/1054.html#L30014'>pInode</a>           30014 ext/sqlite3/libsqlite/sqlite3.c   assert( pShmNode-&gt;h&gt;=0 || pDbFd-&gt;pInode-&gt;bProcessLock==1 );</span>
<span class='curline'><a href='../S/1054.html#L30015'>pInode</a>           30015 ext/sqlite3/libsqlite/sqlite3.c   assert( pShmNode-&gt;h&lt;0 || pDbFd-&gt;pInode-&gt;bProcessLock==0 );</span>
<span class='curline'><a href='../S/1054.html#L30133'>pInode</a>           30133 ext/sqlite3/libsqlite/sqlite3.c   assert( pShmNode==pDbFd-&gt;pInode-&gt;pShmNode );</span>
<span class='curline'><a href='../S/1054.html#L30134'>pInode</a>           30134 ext/sqlite3/libsqlite/sqlite3.c   assert( pShmNode-&gt;pInode==pDbFd-&gt;pInode );</span>
<span class='curline'><a href='../S/1054.html#L30705'>pInode</a>           30705 ext/sqlite3/libsqlite/sqlite3.c   assert( pNew-&gt;pInode==NULL );</span>
<span class='curline'><a href='../S/1054.html#L30763'>pInode</a>           30763 ext/sqlite3/libsqlite/sqlite3.c     rc = findInodeInfo(pNew, &amp;pNew-&gt;pInode);</span>
<span class='curline'><a href='../S/1054.html#L30806'>pInode</a>           30806 ext/sqlite3/libsqlite/sqlite3.c       rc = findInodeInfo(pNew, &amp;pNew-&gt;pInode);</span>
<span class='curline'><a href='../S/1054.html#L30840'>pInode</a>           30840 ext/sqlite3/libsqlite/sqlite3.c     rc = findInodeInfo(pNew, &amp;pNew-&gt;pInode);</span>
<span class='curline'><a href='../S/1054.html#L30841'>pInode</a>           30841 ext/sqlite3/libsqlite/sqlite3.c     if( (rc==SQLITE_OK) &amp;&amp; (pNew-&gt;pInode-&gt;pSem==NULL) ){</span>
<span class='curline'><a href='../S/1054.html#L30842'>pInode</a>           30842 ext/sqlite3/libsqlite/sqlite3.c       char *zSemName = pNew-&gt;pInode-&gt;aSemName;</span>
<span class='curline'><a href='../S/1054.html#L30848'>pInode</a>           30848 ext/sqlite3/libsqlite/sqlite3.c       pNew-&gt;pInode-&gt;pSem = sem_open(zSemName, O_CREAT, 0666, 1);</span>
<span class='curline'><a href='../S/1054.html#L30849'>pInode</a>           30849 ext/sqlite3/libsqlite/sqlite3.c       if( pNew-&gt;pInode-&gt;pSem == SEM_FAILED ){</span>
<span class='curline'><a href='../S/1054.html#L30851'>pInode</a>           30851 ext/sqlite3/libsqlite/sqlite3.c         pNew-&gt;pInode-&gt;aSemName[0] = '\0';</span>
<span class='curline'><a href='../S/1054.html#L30995'>pInode</a>           30995 ext/sqlite3/libsqlite/sqlite3.c     unixInodeInfo *pInode;</span>
<span class='curline'><a href='../S/1054.html#L30998'>pInode</a>           30998 ext/sqlite3/libsqlite/sqlite3.c     pInode = inodeList;</span>
<span class='curline'><a href='../S/1054.html#L30999'>pInode</a>           30999 ext/sqlite3/libsqlite/sqlite3.c     while( pInode &amp;&amp; (pInode-&gt;fileId.dev!=sStat.st_dev</span>
<span class='curline'><a href='../S/1054.html#L31000'>pInode</a>           31000 ext/sqlite3/libsqlite/sqlite3.c                      || pInode-&gt;fileId.ino!=sStat.st_ino) ){</span>
<span class='curline'><a href='../S/1054.html#L31001'>pInode</a>           31001 ext/sqlite3/libsqlite/sqlite3.c        pInode = pInode-&gt;pNext;</span>
<span class='curline'><a href='../S/1054.html#L31003'>pInode</a>           31003 ext/sqlite3/libsqlite/sqlite3.c     if( pInode ){</span>
<span class='curline'><a href='../S/1054.html#L31005'>pInode</a>           31005 ext/sqlite3/libsqlite/sqlite3.c       for(pp=&amp;pInode-&gt;pUnused; *pp &amp;&amp; (*pp)-&gt;flags!=flags; pp=&amp;((*pp)-&gt;pNext));</span>
<span class='curline'><a href='../S/1054.html#L32347'>pInode</a>           32347 ext/sqlite3/libsqlite/sqlite3.c         if( conchFile-&gt;pInode &amp;&amp; conchFile-&gt;pInode-&gt;nShared&gt;1 ){</span>
</pre>
</body>
</html>
