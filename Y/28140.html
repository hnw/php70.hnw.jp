<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>net_stream</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/768.html#L1903'>net_stream</a>       1903 ext/mysqlnd/mysqlnd.c 	php_stream * net_stream = net-&gt;data-&gt;m.get_stream(net);</span>
<span class='curline'><a href='../S/768.html#L1907'>net_stream</a>       1907 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu net-&gt;data-&gt;stream-&gt;abstract=%p", conn-&gt;thread_id, net_stream? net_stream-&gt;abstract:NULL);</span>
<span class='curline'><a href='../S/768.html#L1920'>net_stream</a>       1920 ext/mysqlnd/mysqlnd.c 			if (net_stream) {</span>
<span class='curline'><a href='../S/785.html#L91'>net_stream</a>         91 ext/mysqlnd/mysqlnd_net.c 	php_stream * net_stream = net-&gt;data-&gt;m.get_stream(net);</span>
<span class='curline'><a href='../S/785.html#L92'>net_stream</a>         92 ext/mysqlnd/mysqlnd_net.c 	size_t old_chunk_size = net_stream-&gt;chunk_size;</span>
<span class='curline'><a href='../S/785.html#L99'>net_stream</a>         99 ext/mysqlnd/mysqlnd_net.c 	net_stream-&gt;chunk_size = MIN(to_read, net-&gt;data-&gt;options.net_read_buffer_size);</span>
<span class='curline'><a href='../S/785.html#L101'>net_stream</a>        101 ext/mysqlnd/mysqlnd_net.c 		if (!(ret = php_stream_read(net_stream, (char *) p, to_read))) {</span>
<span class='curline'><a href='../S/785.html#L110'>net_stream</a>        110 ext/mysqlnd/mysqlnd_net.c 	net_stream-&gt;chunk_size = old_chunk_size;</span>
<span class='curline'><a href='../S/785.html#L142'>net_stream</a>        142 ext/mysqlnd/mysqlnd_net.c 	php_stream * net_stream = NULL;</span>
<span class='curline'><a href='../S/785.html#L149'>net_stream</a>        149 ext/mysqlnd/mysqlnd_net.c 	net_stream = php_stream_open_wrapper((char*) scheme + sizeof("pipe://") - 1, "r+", streams_options, NULL);</span>
<span class='curline'><a href='../S/785.html#L150'>net_stream</a>        150 ext/mysqlnd/mysqlnd_net.c 	if (!net_stream) {</span>
<span class='curline'><a href='../S/785.html#L161'>net_stream</a>        161 ext/mysqlnd/mysqlnd_net.c 	zend_hash_index_del(&amp;EG(regular_list), net_stream-&gt;res-&gt;handle); /* ToDO: should it be res-&gt;handle, do streams register with addref ?*/</span>
<span class='curline'><a href='../S/785.html#L163'>net_stream</a>        163 ext/mysqlnd/mysqlnd_net.c 	net_stream-&gt;res = NULL;</span>
<span class='curline'><a href='../S/785.html#L165'>net_stream</a>        165 ext/mysqlnd/mysqlnd_net.c 	DBG_RETURN(net_stream);</span>
<span class='curline'><a href='../S/785.html#L188'>net_stream</a>        188 ext/mysqlnd/mysqlnd_net.c 	php_stream * net_stream = NULL;</span>
<span class='curline'><a href='../S/785.html#L205'>net_stream</a>        205 ext/mysqlnd/mysqlnd_net.c 	net_stream = php_stream_xport_create(scheme, scheme_len, streams_options, streams_flags,</span>
<span class='curline'><a href='../S/785.html#L208'>net_stream</a>        208 ext/mysqlnd/mysqlnd_net.c 	if (errstr || !net_stream) {</span>
<span class='curline'><a href='../S/785.html#L245'>net_stream</a>        245 ext/mysqlnd/mysqlnd_net.c 		net_stream-&gt;__exposed = 1;</span>
<span class='curline'><a href='../S/785.html#L257'>net_stream</a>        257 ext/mysqlnd/mysqlnd_net.c 	zend_hash_index_del(&amp;EG(regular_list), net_stream-&gt;res-&gt;handle); /* ToDO: should it be res-&gt;handle, do streams register with addref ?*/</span>
<span class='curline'><a href='../S/785.html#L258'>net_stream</a>        258 ext/mysqlnd/mysqlnd_net.c 	efree(net_stream-&gt;res);</span>
<span class='curline'><a href='../S/785.html#L259'>net_stream</a>        259 ext/mysqlnd/mysqlnd_net.c 	net_stream-&gt;res = NULL;</span>
<span class='curline'><a href='../S/785.html#L261'>net_stream</a>        261 ext/mysqlnd/mysqlnd_net.c 	DBG_RETURN(net_stream);</span>
<span class='curline'><a href='../S/785.html#L272'>net_stream</a>        272 ext/mysqlnd/mysqlnd_net.c 	php_stream * net_stream = net-&gt;data-&gt;m.get_stream(net);</span>
<span class='curline'><a href='../S/785.html#L274'>net_stream</a>        274 ext/mysqlnd/mysqlnd_net.c 	if (net_stream) {</span>
<span class='curline'><a href='../S/785.html#L280'>net_stream</a>        280 ext/mysqlnd/mysqlnd_net.c 			php_stream_set_option(net_stream, PHP_STREAM_OPTION_READ_TIMEOUT, 0, &amp;tv);</span>
<span class='curline'><a href='../S/785.html#L285'>net_stream</a>        285 ext/mysqlnd/mysqlnd_net.c 			mysqlnd_set_sock_no_delay(net_stream);</span>
<span class='curline'><a href='../S/785.html#L287'>net_stream</a>        287 ext/mysqlnd/mysqlnd_net.c 			mysqlnd_set_sock_keepalive(net_stream);</span>
<span class='curline'><a href='../S/785.html#L337'>net_stream</a>        337 ext/mysqlnd/mysqlnd_net.c 		php_stream * net_stream = open_stream(net, scheme, scheme_len, persistent, conn_stats, error_info);</span>
<span class='curline'><a href='../S/785.html#L338'>net_stream</a>        338 ext/mysqlnd/mysqlnd_net.c 		if (net_stream) {</span>
<span class='curline'><a href='../S/785.html#L339'>net_stream</a>        339 ext/mysqlnd/mysqlnd_net.c 			(void) net-&gt;data-&gt;m.set_stream(net, net_stream);</span>
<span class='curline'><a href='../S/785.html#L872'>net_stream</a>        872 ext/mysqlnd/mysqlnd_net.c 	php_stream * net_stream = net-&gt;data-&gt;get_stream(net);</span>
<span class='curline'><a href='../S/785.html#L873'>net_stream</a>        873 ext/mysqlnd/mysqlnd_net.c 	int was_blocked = net_stream-&gt;ops-&gt;set_option(net_stream, opt, 0, NULL);</span>
<span class='curline'><a href='../S/785.html#L882'>net_stream</a>        882 ext/mysqlnd/mysqlnd_net.c 			skipped_bytes += (bytes_consumed = php_stream_read(net_stream, tmp_buf, sizeof(tmp_buf)));</span>
<span class='curline'><a href='../S/785.html#L886'>net_stream</a>        886 ext/mysqlnd/mysqlnd_net.c 			net_stream-&gt;ops-&gt;set_option(net_stream, opt, 1, NULL);</span>
<span class='curline'><a href='../S/785.html#L915'>net_stream</a>        915 ext/mysqlnd/mysqlnd_net.c 	php_stream * net_stream = net-&gt;data-&gt;m.get_stream(net);</span>
<span class='curline'><a href='../S/785.html#L987'>net_stream</a>        987 ext/mysqlnd/mysqlnd_net.c 	php_stream_context_set(net_stream, context);</span>
<span class='curline'><a href='../S/785.html#L989'>net_stream</a>        989 ext/mysqlnd/mysqlnd_net.c 	php_stream_context_set(net_stream, context);</span>
<span class='curline'><a href='../S/785.html#L991'>net_stream</a>        991 ext/mysqlnd/mysqlnd_net.c 	if (php_stream_xport_crypto_setup(net_stream, STREAM_CRYPTO_METHOD_TLS_CLIENT, NULL) &lt; 0 ||</span>
<span class='curline'><a href='../S/785.html#L992'>net_stream</a>        992 ext/mysqlnd/mysqlnd_net.c 	    php_stream_xport_crypto_enable(net_stream, 1) &lt; 0)</span>
<span class='curline'><a href='../S/785.html#L1007'>net_stream</a>       1007 ext/mysqlnd/mysqlnd_net.c 	php_stream_context_set(net_stream, NULL);</span>
<span class='curline'><a href='../S/785.html#L1009'>net_stream</a>       1009 ext/mysqlnd/mysqlnd_net.c 	php_stream_context_set(net_stream, NULL);</span>
<span class='curline'><a href='../S/785.html#L1017'>net_stream</a>       1017 ext/mysqlnd/mysqlnd_net.c 		php_stream_set_option(net_stream, PHP_STREAM_OPTION_READ_TIMEOUT, 0, &amp;tv);</span>
<span class='curline'><a href='../S/785.html#L1086'>net_stream</a>       1086 ext/mysqlnd/mysqlnd_net.c 	php_stream * net_stream;</span>
<span class='curline'><a href='../S/785.html#L1088'>net_stream</a>       1088 ext/mysqlnd/mysqlnd_net.c 	if (net &amp;&amp; (net_stream = net-&gt;data-&gt;m.get_stream(net))) {</span>
<span class='curline'><a href='../S/785.html#L1090'>net_stream</a>       1090 ext/mysqlnd/mysqlnd_net.c 		DBG_INF_FMT("Freeing stream. abstract=%p", net_stream-&gt;abstract);</span>
<span class='curline'><a href='../S/785.html#L1093'>net_stream</a>       1093 ext/mysqlnd/mysqlnd_net.c 				php_stream_free(net_stream, PHP_STREAM_FREE_CLOSE_PERSISTENT | PHP_STREAM_FREE_RSRC_DTOR);</span>
<span class='curline'><a href='../S/785.html#L1099'>net_stream</a>       1099 ext/mysqlnd/mysqlnd_net.c 				php_stream_free(net_stream, PHP_STREAM_FREE_CLOSE | PHP_STREAM_FREE_RSRC_DTOR);</span>
<span class='curline'><a href='../S/785.html#L1102'>net_stream</a>       1102 ext/mysqlnd/mysqlnd_net.c 			php_stream_free(net_stream, PHP_STREAM_FREE_CLOSE);</span>
<span class='curline'><a href='../S/785.html#L1169'>net_stream</a>       1169 ext/mysqlnd/mysqlnd_net.c MYSQLND_METHOD(mysqlnd_net, set_stream)(MYSQLND_NET * const net, php_stream * net_stream)</span>
<span class='curline'><a href='../S/785.html#L1174'>net_stream</a>       1174 ext/mysqlnd/mysqlnd_net.c 		net-&gt;data-&gt;stream = net_stream;</span>
<span class='curline'><a href='../S/800.html#L306'>net_stream</a>        306 ext/mysqlnd/mysqlnd_structs.h typedef php_stream *		(*func_mysqlnd_net__set_stream)(MYSQLND_NET * const net, php_stream * net_stream);</span>
</pre>
</body>
</html>
