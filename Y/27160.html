<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>myphar</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/969.html#L212'>myphar</a>            212 ext/phar/tar.c 	phar_archive_data *myphar, *actual;</span>
<span class='curline'><a href='../S/969.html#L236'>myphar</a>            236 ext/phar/tar.c 	myphar = (phar_archive_data *) pecalloc(1, sizeof(phar_archive_data), PHAR_G(persist));</span>
<span class='curline'><a href='../S/969.html#L237'>myphar</a>            237 ext/phar/tar.c 	myphar-&gt;is_persistent = PHAR_G(persist);</span>
<span class='curline'><a href='../S/969.html#L239'>myphar</a>            239 ext/phar/tar.c 	zend_hash_init(&amp;myphar-&gt;manifest, 2 + (totalsize &gt;&gt; 12),</span>
<span class='curline'><a href='../S/969.html#L240'>myphar</a>            240 ext/phar/tar.c 		zend_get_hash_value, destroy_phar_manifest_entry, (zend_bool)myphar-&gt;is_persistent);</span>
<span class='curline'><a href='../S/969.html#L241'>myphar</a>            241 ext/phar/tar.c 	zend_hash_init(&amp;myphar-&gt;mounted_dirs, 5,</span>
<span class='curline'><a href='../S/969.html#L242'>myphar</a>            242 ext/phar/tar.c 		zend_get_hash_value, NULL, (zend_bool)myphar-&gt;is_persistent);</span>
<span class='curline'><a href='../S/969.html#L243'>myphar</a>            243 ext/phar/tar.c 	zend_hash_init(&amp;myphar-&gt;virtual_dirs, 4 + (totalsize &gt;&gt; 11),</span>
<span class='curline'><a href='../S/969.html#L244'>myphar</a>            244 ext/phar/tar.c 		zend_get_hash_value, NULL, (zend_bool)myphar-&gt;is_persistent);</span>
<span class='curline'><a href='../S/969.html#L245'>myphar</a>            245 ext/phar/tar.c 	myphar-&gt;is_tar = 1;</span>
<span class='curline'><a href='../S/969.html#L247'>myphar</a>            247 ext/phar/tar.c 	myphar-&gt;flags = compression;</span>
<span class='curline'><a href='../S/969.html#L251'>myphar</a>            251 ext/phar/tar.c 	entry.phar = myphar;</span>
<span class='curline'><a href='../S/969.html#L284'>myphar</a>            284 ext/phar/tar.c 				phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L304'>myphar</a>            304 ext/phar/tar.c 			myphar-&gt;sig_flags = PHAR_GET_32(buf);</span>
<span class='curline'><a href='../S/969.html#L305'>myphar</a>            305 ext/phar/tar.c 			if (FAILURE == phar_verify_signature(fp, php_stream_tell(fp) - size - 512, myphar-&gt;sig_flags, buf + 8, size - 8, fname, &amp;myphar-&gt;signature, &amp;myphar-&gt;sig_len, error)) {</span>
<span class='curline'><a href='../S/969.html#L323'>myphar</a>            323 ext/phar/tar.c 					phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L335'>myphar</a>            335 ext/phar/tar.c 				phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L364'>myphar</a>            364 ext/phar/tar.c 				phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L367'>myphar</a>            367 ext/phar/tar.c 			entry.filename = pemalloc(entry.filename_len+1, myphar-&gt;is_persistent);</span>
<span class='curline'><a href='../S/969.html#L376'>myphar</a>            376 ext/phar/tar.c 				phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L392'>myphar</a>            392 ext/phar/tar.c 				phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L404'>myphar</a>            404 ext/phar/tar.c 				phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L432'>myphar</a>            432 ext/phar/tar.c 			entry.filename = pestrndup(name, entry.filename_len, myphar-&gt;is_persistent);</span>
<span class='curline'><a href='../S/969.html#L443'>myphar</a>            443 ext/phar/tar.c 			entry.filename = pestrndup(hdr-&gt;name, i, myphar-&gt;is_persistent);</span>
<span class='curline'><a href='../S/969.html#L453'>myphar</a>            453 ext/phar/tar.c 		phar_add_virtual_dirs(myphar, entry.filename, entry.filename_len);</span>
<span class='curline'><a href='../S/969.html#L459'>myphar</a>            459 ext/phar/tar.c 			pefree(entry.filename, myphar-&gt;is_persistent);</span>
<span class='curline'><a href='../S/969.html#L461'>myphar</a>            461 ext/phar/tar.c 			phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L470'>myphar</a>            470 ext/phar/tar.c 		entry.is_persistent = myphar-&gt;is_persistent;</span>
<span class='curline'><a href='../S/969.html#L487'>myphar</a>            487 ext/phar/tar.c 			if (!zend_hash_str_exists(&amp;myphar-&gt;manifest, hdr-&gt;linkname, linkname_len)) {</span>
<span class='curline'><a href='../S/969.html#L493'>myphar</a>            493 ext/phar/tar.c 				phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L502'>myphar</a>            502 ext/phar/tar.c 		newentry = zend_hash_str_update_mem(&amp;myphar-&gt;manifest, entry.filename, entry.filename_len, (void*)&amp;entry, sizeof(phar_entry_info));</span>
<span class='curline'><a href='../S/969.html#L515'>myphar</a>            515 ext/phar/tar.c 				phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L527'>myphar</a>            527 ext/phar/tar.c 				phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L548'>myphar</a>            548 ext/phar/tar.c 					phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L552'>myphar</a>            552 ext/phar/tar.c 				actual_alias = pestrndup(buf, size, myphar-&gt;is_persistent);</span>
<span class='curline'><a href='../S/969.html#L553'>myphar</a>            553 ext/phar/tar.c 				myphar-&gt;alias = actual_alias;</span>
<span class='curline'><a href='../S/969.html#L554'>myphar</a>            554 ext/phar/tar.c 				myphar-&gt;alias_len = size;</span>
<span class='curline'><a href='../S/969.html#L562'>myphar</a>            562 ext/phar/tar.c 				phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L578'>myphar</a>            578 ext/phar/tar.c 				phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L590'>myphar</a>            590 ext/phar/tar.c 			phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L595'>myphar</a>            595 ext/phar/tar.c 	if (zend_hash_str_exists(&amp;(myphar-&gt;manifest), ".phar/stub.php", sizeof(".phar/stub.php")-1)) {</span>
<span class='curline'><a href='../S/969.html#L596'>myphar</a>            596 ext/phar/tar.c 		myphar-&gt;is_data = 0;</span>
<span class='curline'><a href='../S/969.html#L598'>myphar</a>            598 ext/phar/tar.c 		myphar-&gt;is_data = 1;</span>
<span class='curline'><a href='../S/969.html#L602'>myphar</a>            602 ext/phar/tar.c 	if (!myphar-&gt;is_data &amp;&amp; PHAR_G(require_hash) &amp;&amp; !myphar-&gt;signature) {</span>
<span class='curline'><a href='../S/969.html#L604'>myphar</a>            604 ext/phar/tar.c 		phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L611'>myphar</a>            611 ext/phar/tar.c 	myphar-&gt;fname = pestrndup(fname, fname_len, myphar-&gt;is_persistent);</span>
<span class='curline'><a href='../S/969.html#L613'>myphar</a>            613 ext/phar/tar.c 	phar_unixify_path_separators(myphar-&gt;fname, fname_len);</span>
<span class='curline'><a href='../S/969.html#L615'>myphar</a>            615 ext/phar/tar.c 	myphar-&gt;fname_len = fname_len;</span>
<span class='curline'><a href='../S/969.html#L616'>myphar</a>            616 ext/phar/tar.c 	myphar-&gt;fp = fp;</span>
<span class='curline'><a href='../S/969.html#L617'>myphar</a>            617 ext/phar/tar.c 	p = strrchr(myphar-&gt;fname, '/');</span>
<span class='curline'><a href='../S/969.html#L620'>myphar</a>            620 ext/phar/tar.c 		myphar-&gt;ext = memchr(p, '.', (myphar-&gt;fname + fname_len) - p);</span>
<span class='curline'><a href='../S/969.html#L621'>myphar</a>            621 ext/phar/tar.c 		if (myphar-&gt;ext == p) {</span>
<span class='curline'><a href='../S/969.html#L622'>myphar</a>            622 ext/phar/tar.c 			myphar-&gt;ext = memchr(p + 1, '.', (myphar-&gt;fname + fname_len) - p - 1);</span>
<span class='curline'><a href='../S/969.html#L624'>myphar</a>            624 ext/phar/tar.c 		if (myphar-&gt;ext) {</span>
<span class='curline'><a href='../S/969.html#L625'>myphar</a>            625 ext/phar/tar.c 			myphar-&gt;ext_len = (myphar-&gt;fname + fname_len) - myphar-&gt;ext;</span>
<span class='curline'><a href='../S/969.html#L631'>myphar</a>            631 ext/phar/tar.c 	if (NULL == (actual = zend_hash_str_add_ptr(&amp;(PHAR_G(phar_fname_map)), myphar-&gt;fname, fname_len, myphar))) {</span>
<span class='curline'><a href='../S/969.html#L636'>myphar</a>            636 ext/phar/tar.c 		phar_destroy_phar_data(myphar);</span>
<span class='curline'><a href='../S/969.html#L640'>myphar</a>            640 ext/phar/tar.c 	myphar = actual;</span>
<span class='curline'><a href='../S/969.html#L645'>myphar</a>            645 ext/phar/tar.c 		myphar-&gt;is_temporary_alias = 0;</span>
<span class='curline'><a href='../S/969.html#L647'>myphar</a>            647 ext/phar/tar.c 		if (NULL != (fd_ptr = zend_hash_str_find_ptr(&amp;(PHAR_G(phar_alias_map)), actual_alias, myphar-&gt;alias_len))) {</span>
<span class='curline'><a href='../S/969.html#L648'>myphar</a>            648 ext/phar/tar.c 			if (SUCCESS != phar_free_alias(fd_ptr, actual_alias, myphar-&gt;alias_len)) {</span>
<span class='curline'><a href='../S/969.html#L652'>myphar</a>            652 ext/phar/tar.c 				zend_hash_str_del(&amp;(PHAR_G(phar_fname_map)), myphar-&gt;fname, fname_len);</span>
<span class='curline'><a href='../S/969.html#L657'>myphar</a>            657 ext/phar/tar.c 		zend_hash_str_add_ptr(&amp;(PHAR_G(phar_alias_map)), actual_alias, myphar-&gt;alias_len, myphar);</span>
<span class='curline'><a href='../S/969.html#L667'>myphar</a>            667 ext/phar/tar.c 					zend_hash_str_del(&amp;(PHAR_G(phar_fname_map)), myphar-&gt;fname, fname_len);</span>
<span class='curline'><a href='../S/969.html#L671'>myphar</a>            671 ext/phar/tar.c 			zend_hash_str_add_ptr(&amp;(PHAR_G(phar_alias_map)), alias, alias_len, myphar);</span>
<span class='curline'><a href='../S/969.html#L672'>myphar</a>            672 ext/phar/tar.c 			myphar-&gt;alias = pestrndup(alias, alias_len, myphar-&gt;is_persistent);</span>
<span class='curline'><a href='../S/969.html#L673'>myphar</a>            673 ext/phar/tar.c 			myphar-&gt;alias_len = alias_len;</span>
<span class='curline'><a href='../S/969.html#L675'>myphar</a>            675 ext/phar/tar.c 			myphar-&gt;alias = pestrndup(myphar-&gt;fname, fname_len, myphar-&gt;is_persistent);</span>
<span class='curline'><a href='../S/969.html#L676'>myphar</a>            676 ext/phar/tar.c 			myphar-&gt;alias_len = fname_len;</span>
<span class='curline'><a href='../S/969.html#L679'>myphar</a>            679 ext/phar/tar.c 		myphar-&gt;is_temporary_alias = 1;</span>
<span class='curline'><a href='../S/969.html#L683'>myphar</a>            683 ext/phar/tar.c 		*pphar = myphar;</span>
</pre>
</body>
</html>
