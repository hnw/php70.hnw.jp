<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>outcol</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/809.html#L213'>outcol</a>            213 ext/oci8/oci8_statement.c 	php_oci_out_column *outcol = (php_oci_out_column*) Z_PTR_P(data);</span>
<span class='curline'><a href='../S/809.html#L215'>outcol</a>            215 ext/oci8/oci8_statement.c 	if (!outcol-&gt;is_descr &amp;&amp; !outcol-&gt;is_cursor)</span>
<span class='curline'><a href='../S/809.html#L218'>outcol</a>            218 ext/oci8/oci8_statement.c 	switch(outcol-&gt;data_type) {</span>
<span class='curline'><a href='../S/809.html#L223'>outcol</a>            223 ext/oci8/oci8_statement.c 			if (outcol-&gt;descid) {</span>
<span class='curline'><a href='../S/809.html#L224'>outcol</a>            224 ext/oci8/oci8_statement.c 				zend_list_delete(outcol-&gt;descid);</span>
<span class='curline'><a href='../S/809.html#L225'>outcol</a>            225 ext/oci8/oci8_statement.c 				outcol-&gt;descid = 0;</span>
<span class='curline'><a href='../S/809.html#L229'>outcol</a>            229 ext/oci8/oci8_statement.c 			if (outcol-&gt;stmtid) {</span>
<span class='curline'><a href='../S/809.html#L230'>outcol</a>            230 ext/oci8/oci8_statement.c 				zend_list_delete(outcol-&gt;stmtid);</span>
<span class='curline'><a href='../S/809.html#L231'>outcol</a>            231 ext/oci8/oci8_statement.c 				outcol-&gt;stmtid = 0;</span>
<span class='curline'><a href='../S/809.html#L232'>outcol</a>            232 ext/oci8/oci8_statement.c 				outcol-&gt;nested_statement = NULL;</span>
<span class='curline'><a href='../S/809.html#L413'>outcol</a>            413 ext/oci8/oci8_statement.c 	php_oci_out_column *outcol = (php_oci_out_column *)ctx;</span>
<span class='curline'><a href='../S/809.html#L415'>outcol</a>            415 ext/oci8/oci8_statement.c 	if (!outcol) {</span>
<span class='curline'><a href='../S/809.html#L421'>outcol</a>            421 ext/oci8/oci8_statement.c 	switch(outcol-&gt;data_type) {</span>
<span class='curline'><a href='../S/809.html#L425'>outcol</a>            425 ext/oci8/oci8_statement.c 				nested_stmt = php_oci_statement_create(outcol-&gt;statement-&gt;connection, NULL, 0);</span>
<span class='curline'><a href='../S/809.html#L429'>outcol</a>            429 ext/oci8/oci8_statement.c 				nested_stmt-&gt;parent_stmtid = outcol-&gt;statement-&gt;id;</span>
<span class='curline'><a href='../S/809.html#L430'>outcol</a>            430 ext/oci8/oci8_statement.c 				++GC_REFCOUNT(outcol-&gt;statement-&gt;id);</span>
<span class='curline'><a href='../S/809.html#L431'>outcol</a>            431 ext/oci8/oci8_statement.c 				outcol-&gt;nested_statement = nested_stmt;</span>
<span class='curline'><a href='../S/809.html#L432'>outcol</a>            432 ext/oci8/oci8_statement.c 				outcol-&gt;stmtid = nested_stmt-&gt;id;</span>
<span class='curline'><a href='../S/809.html#L435'>outcol</a>            435 ext/oci8/oci8_statement.c 				*alenpp = &amp;(outcol-&gt;retlen4);</span>
<span class='curline'><a href='../S/809.html#L437'>outcol</a>            437 ext/oci8/oci8_statement.c 				*indpp = &amp;(outcol-&gt;indicator);</span>
<span class='curline'><a href='../S/809.html#L438'>outcol</a>            438 ext/oci8/oci8_statement.c 				*rcpp = &amp;(outcol-&gt;retcode);</span>
<span class='curline'><a href='../S/809.html#L449'>outcol</a>            449 ext/oci8/oci8_statement.c 				if (outcol-&gt;data_type == SQLT_BFILE) {</span>
<span class='curline'><a href='../S/809.html#L451'>outcol</a>            451 ext/oci8/oci8_statement.c 				} else if (outcol-&gt;data_type == SQLT_RDD ) {</span>
<span class='curline'><a href='../S/809.html#L457'>outcol</a>            457 ext/oci8/oci8_statement.c 				descr = php_oci_lob_create(outcol-&gt;statement-&gt;connection, dtype);</span>
<span class='curline'><a href='../S/809.html#L461'>outcol</a>            461 ext/oci8/oci8_statement.c 				outcol-&gt;descid = descr-&gt;id;</span>
<span class='curline'><a href='../S/809.html#L462'>outcol</a>            462 ext/oci8/oci8_statement.c 				descr-&gt;charset_form = outcol-&gt;charset_form;</span>
<span class='curline'><a href='../S/809.html#L465'>outcol</a>            465 ext/oci8/oci8_statement.c 				*alenpp = &amp;(outcol-&gt;retlen4);</span>
<span class='curline'><a href='../S/809.html#L467'>outcol</a>            467 ext/oci8/oci8_statement.c 				*indpp = &amp;(outcol-&gt;indicator);</span>
<span class='curline'><a href='../S/809.html#L468'>outcol</a>            468 ext/oci8/oci8_statement.c 				*rcpp = &amp;(outcol-&gt;retcode);</span>
<span class='curline'><a href='../S/809.html#L482'>outcol</a>            482 ext/oci8/oci8_statement.c 	php_oci_out_column *outcol;</span>
<span class='curline'><a href='../S/809.html#L590'>outcol</a>            590 ext/oci8/oci8_statement.c 			outcol = (php_oci_out_column *) ecalloc(1, sizeof(php_oci_out_column));</span>
<span class='curline'><a href='../S/809.html#L592'>outcol</a>            592 ext/oci8/oci8_statement.c 			if ((outcol = zend_hash_index_update_ptr(statement-&gt;columns, counter, outcol)) == NULL) {</span>
<span class='curline'><a href='../S/809.html#L608'>outcol</a>            608 ext/oci8/oci8_statement.c 			PHP_OCI_CALL_RETURN(errstatus, OCIAttrGet, ((dvoid *)param, OCI_DTYPE_PARAM, (dvoid *)&amp;outcol-&gt;data_type, (ub4 *)0, OCI_ATTR_DATA_TYPE, statement-&gt;err));</span>
<span class='curline'><a href='../S/809.html#L618'>outcol</a>            618 ext/oci8/oci8_statement.c 			PHP_OCI_CALL_RETURN(errstatus, OCIAttrGet, ((dvoid *)param, OCI_DTYPE_PARAM, (dvoid *)&amp;outcol-&gt;charset_form, (ub4 *)0, OCI_ATTR_CHARSET_FORM, statement-&gt;err));</span>
<span class='curline'><a href='../S/809.html#L628'>outcol</a>            628 ext/oci8/oci8_statement.c 			PHP_OCI_CALL_RETURN(errstatus, OCIAttrGet, ((dvoid *)param, OCI_DTYPE_PARAM, (dvoid *)&amp;outcol-&gt;charset_id, (ub4 *)0, OCI_ATTR_CHARSET_ID, statement-&gt;err));</span>
<span class='curline'><a href='../S/809.html#L638'>outcol</a>            638 ext/oci8/oci8_statement.c 			PHP_OCI_CALL_RETURN(errstatus, OCIAttrGet, ((dvoid *)param, OCI_DTYPE_PARAM, (dvoid *)&amp;outcol-&gt;data_size, (dvoid *)0, OCI_ATTR_DATA_SIZE, statement-&gt;err));</span>
<span class='curline'><a href='../S/809.html#L647'>outcol</a>            647 ext/oci8/oci8_statement.c 			outcol-&gt;storage_size4 = outcol-&gt;data_size;</span>
<span class='curline'><a href='../S/809.html#L648'>outcol</a>            648 ext/oci8/oci8_statement.c 			outcol-&gt;retlen = outcol-&gt;data_size;</span>
<span class='curline'><a href='../S/809.html#L651'>outcol</a>            651 ext/oci8/oci8_statement.c 			PHP_OCI_CALL_RETURN(errstatus, OCIAttrGet, ((dvoid *)param, OCI_DTYPE_PARAM, (dvoid *)&amp;outcol-&gt;scale, (dvoid *)0, OCI_ATTR_SCALE, statement-&gt;err));</span>
<span class='curline'><a href='../S/809.html#L661'>outcol</a>            661 ext/oci8/oci8_statement.c 			PHP_OCI_CALL_RETURN(errstatus, OCIAttrGet, ((dvoid *)param, OCI_DTYPE_PARAM, (dvoid *)&amp;outcol-&gt;precision, (dvoid *)0, OCI_ATTR_PRECISION, statement-&gt;err));</span>
<span class='curline'><a href='../S/809.html#L671'>outcol</a>            671 ext/oci8/oci8_statement.c 			PHP_OCI_CALL_RETURN(errstatus, OCIAttrGet, ((dvoid *)param, OCI_DTYPE_PARAM, (dvoid **)&amp;colname, (ub4 *)&amp;outcol-&gt;name_len, (ub4)OCI_ATTR_NAME, statement-&gt;err));</span>
<span class='curline'><a href='../S/809.html#L681'>outcol</a>            681 ext/oci8/oci8_statement.c 			outcol-&gt;name = ecalloc(1, outcol-&gt;name_len + 1);</span>
<span class='curline'><a href='../S/809.html#L682'>outcol</a>            682 ext/oci8/oci8_statement.c 			memcpy(outcol-&gt;name, colname, outcol-&gt;name_len);</span>
<span class='curline'><a href='../S/809.html#L686'>outcol</a>            686 ext/oci8/oci8_statement.c 				if ((outcol-&gt;define = zend_hash_str_find_ptr(statement-&gt;defines, outcol-&gt;name, outcol-&gt;name_len)) != NULL) {</span>
<span class='curline'><a href='../S/809.html#L687'>outcol</a>            687 ext/oci8/oci8_statement.c 					if (outcol-&gt;define-&gt;type) {</span>
<span class='curline'><a href='../S/809.html#L688'>outcol</a>            688 ext/oci8/oci8_statement.c 						outcol-&gt;data_type = outcol-&gt;define-&gt;type;</span>
<span class='curline'><a href='../S/809.html#L694'>outcol</a>            694 ext/oci8/oci8_statement.c 			switch (outcol-&gt;data_type) {</span>
<span class='curline'><a href='../S/809.html#L696'>outcol</a>            696 ext/oci8/oci8_statement.c 					outcol-&gt;statement = statement; /* parent handle */</span>
<span class='curline'><a href='../S/809.html#L699'>outcol</a>            699 ext/oci8/oci8_statement.c 					outcol-&gt;is_cursor = 1;</span>
<span class='curline'><a href='../S/809.html#L700'>outcol</a>            700 ext/oci8/oci8_statement.c 					outcol-&gt;statement-&gt;has_descr = 1;</span>
<span class='curline'><a href='../S/809.html#L701'>outcol</a>            701 ext/oci8/oci8_statement.c 					outcol-&gt;storage_size4 = -1;</span>
<span class='curline'><a href='../S/809.html#L702'>outcol</a>            702 ext/oci8/oci8_statement.c 					outcol-&gt;retlen = -1;</span>
<span class='curline'><a href='../S/809.html#L710'>outcol</a>            710 ext/oci8/oci8_statement.c 					outcol-&gt;statement = statement; /* parent handle */</span>
<span class='curline'><a href='../S/809.html#L712'>outcol</a>            712 ext/oci8/oci8_statement.c 					define_type = outcol-&gt;data_type;</span>
<span class='curline'><a href='../S/809.html#L713'>outcol</a>            713 ext/oci8/oci8_statement.c 					outcol-&gt;is_descr = 1;</span>
<span class='curline'><a href='../S/809.html#L714'>outcol</a>            714 ext/oci8/oci8_statement.c 					outcol-&gt;statement-&gt;has_descr = 1;</span>
<span class='curline'><a href='../S/809.html#L715'>outcol</a>            715 ext/oci8/oci8_statement.c 					outcol-&gt;storage_size4 = -1;</span>
<span class='curline'><a href='../S/809.html#L716'>outcol</a>            716 ext/oci8/oci8_statement.c 					outcol-&gt;chunk_size = 0;</span>
<span class='curline'><a href='../S/809.html#L722'>outcol</a>            722 ext/oci8/oci8_statement.c 					if (outcol-&gt;data_type == SQLT_LBI) {</span>
<span class='curline'><a href='../S/809.html#L727'>outcol</a>            727 ext/oci8/oci8_statement.c 					outcol-&gt;storage_size4 = PHP_OCI_MAX_DATA_SIZE;</span>
<span class='curline'><a href='../S/809.html#L728'>outcol</a>            728 ext/oci8/oci8_statement.c 					outcol-&gt;piecewise = 1;</span>
<span class='curline'><a href='../S/809.html#L735'>outcol</a>            735 ext/oci8/oci8_statement.c 					if (outcol-&gt;data_type == SQLT_BIN) {</span>
<span class='curline'><a href='../S/809.html#L738'>outcol</a>            738 ext/oci8/oci8_statement.c 					if ((outcol-&gt;data_type == SQLT_DAT) || (outcol-&gt;data_type == SQLT_NUM)</span>
<span class='curline'><a href='../S/809.html#L740'>outcol</a>            740 ext/oci8/oci8_statement.c 						|| (outcol-&gt;data_type == SQLT_TIMESTAMP)</span>
<span class='curline'><a href='../S/809.html#L743'>outcol</a>            743 ext/oci8/oci8_statement.c 						|| (outcol-&gt;data_type == SQLT_TIMESTAMP_TZ)</span>
<span class='curline'><a href='../S/809.html#L746'>outcol</a>            746 ext/oci8/oci8_statement.c 						|| (outcol-&gt;data_type == SQLT_TIMESTAMP_LTZ)</span>
<span class='curline'><a href='../S/809.html#L749'>outcol</a>            749 ext/oci8/oci8_statement.c 						|| (outcol-&gt;data_type == SQLT_INTERVAL_YM)</span>
<span class='curline'><a href='../S/809.html#L752'>outcol</a>            752 ext/oci8/oci8_statement.c 						|| (outcol-&gt;data_type == SQLT_INTERVAL_DS)</span>
<span class='curline'><a href='../S/809.html#L755'>outcol</a>            755 ext/oci8/oci8_statement.c 						outcol-&gt;storage_size4 = 512; /* XXX this should fit "most" NLS date-formats and Numbers */</span>
<span class='curline'><a href='../S/809.html#L757'>outcol</a>            757 ext/oci8/oci8_statement.c 					} else if (outcol-&gt;data_type == SQLT_IBFLOAT || outcol-&gt;data_type == SQLT_IBDOUBLE) {</span>
<span class='curline'><a href='../S/809.html#L758'>outcol</a>            758 ext/oci8/oci8_statement.c 						outcol-&gt;storage_size4 = 1024;</span>
<span class='curline'><a href='../S/809.html#L761'>outcol</a>            761 ext/oci8/oci8_statement.c 						outcol-&gt;storage_size4++; /* add one for string terminator */</span>
<span class='curline'><a href='../S/809.html#L764'>outcol</a>            764 ext/oci8/oci8_statement.c 					outcol-&gt;storage_size4 *= 3;</span>
<span class='curline'><a href='../S/809.html#L767'>outcol</a>            767 ext/oci8/oci8_statement.c 					buf = outcol-&gt;data = (text *) safe_emalloc(1, outcol-&gt;storage_size4, 0);</span>
<span class='curline'><a href='../S/809.html#L768'>outcol</a>            768 ext/oci8/oci8_statement.c 					memset(buf, 0, outcol-&gt;storage_size4);</span>
<span class='curline'><a href='../S/809.html#L777'>outcol</a>            777 ext/oci8/oci8_statement.c 						(OCIDefine **)&amp;outcol-&gt;oci_define,			/* IN/OUT pointer to a pointer to a define handle */</span>
<span class='curline'><a href='../S/809.html#L781'>outcol</a>            781 ext/oci8/oci8_statement.c 						outcol-&gt;storage_size4,						/* IN	  The size of each valuep buffer in bytes */</span>
<span class='curline'><a href='../S/809.html#L783'>outcol</a>            783 ext/oci8/oci8_statement.c 						(dvoid *)&amp;outcol-&gt;indicator,				/* IN	  pointer to an indicator variable or arr */</span>
<span class='curline'><a href='../S/809.html#L795'>outcol</a>            795 ext/oci8/oci8_statement.c 						(OCIDefine **)&amp;outcol-&gt;oci_define,			/* IN/OUT pointer to a pointer to a define handle */</span>
<span class='curline'><a href='../S/809.html#L799'>outcol</a>            799 ext/oci8/oci8_statement.c 						outcol-&gt;storage_size4,						/* IN	  The size of each valuep buffer in bytes */</span>
<span class='curline'><a href='../S/809.html#L801'>outcol</a>            801 ext/oci8/oci8_statement.c 						(dvoid *)&amp;outcol-&gt;indicator,				/* IN	  pointer to an indicator variable or arr */</span>
<span class='curline'><a href='../S/809.html#L802'>outcol</a>            802 ext/oci8/oci8_statement.c 						(ub2 *)&amp;outcol-&gt;retlen,						/* IN/OUT Pointer to array of length of data fetched */</span>
<span class='curline'><a href='../S/809.html#L803'>outcol</a>            803 ext/oci8/oci8_statement.c 						(ub2 *)&amp;outcol-&gt;retcode,					/* OUT	  Pointer to array of column-level return codes */</span>
<span class='curline'><a href='../S/809.html#L817'>outcol</a>            817 ext/oci8/oci8_statement.c 			switch (outcol-&gt;data_type) {</span>
<span class='curline'><a href='../S/809.html#L826'>outcol</a>            826 ext/oci8/oci8_statement.c 							outcol-&gt;oci_define,</span>
<span class='curline'><a href='../S/809.html#L828'>outcol</a>            828 ext/oci8/oci8_statement.c 							(dvoid *)outcol,</span>
</pre>
</body>
</html>
