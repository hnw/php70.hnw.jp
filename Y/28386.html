<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>newfile</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/960.html#L2509'>newfile</a>          2509 ext/phar/phar.c 	php_stream *file, *oldfile, *newfile, *stubfile;</span>
<span class='curline'><a href='../S/960.html#L2553'>newfile</a>          2553 ext/phar/phar.c 	newfile = php_stream_fopen_tmpfile();</span>
<span class='curline'><a href='../S/960.html#L2554'>newfile</a>          2554 ext/phar/phar.c 	if (!newfile) {</span>
<span class='curline'><a href='../S/960.html#L2572'>newfile</a>          2572 ext/phar/phar.c 				php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2589'>newfile</a>          2589 ext/phar/phar.c 				php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2607'>newfile</a>          2607 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2619'>newfile</a>          2619 ext/phar/phar.c 		if ((size_t)len != php_stream_write(newfile, user_stub, len)</span>
<span class='curline'><a href='../S/960.html#L2620'>newfile</a>          2620 ext/phar/phar.c 		||			  5 != php_stream_write(newfile, " ?&gt;\r\n", 5)) {</span>
<span class='curline'><a href='../S/960.html#L2624'>newfile</a>          2624 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2641'>newfile</a>          2641 ext/phar/phar.c 			php_stream_copy_to_stream_ex(oldfile, newfile, phar-&gt;halt_offset, &amp;written);</span>
<span class='curline'><a href='../S/960.html#L2647'>newfile</a>          2647 ext/phar/phar.c 			written = php_stream_write(newfile, ZSTR_VAL(newstub), phar-&gt;halt_offset);</span>
<span class='curline'><a href='../S/960.html#L2653'>newfile</a>          2653 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2670'>newfile</a>          2670 ext/phar/phar.c 	manifest_ftell = php_stream_tell(newfile);</span>
<span class='curline'><a href='../S/960.html#L2764'>newfile</a>          2764 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2787'>newfile</a>          2787 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2811'>newfile</a>          2811 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2819'>newfile</a>          2819 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2830'>newfile</a>          2830 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2884'>newfile</a>          2884 ext/phar/phar.c 	if (sizeof(manifest) != php_stream_write(newfile, manifest, sizeof(manifest))</span>
<span class='curline'><a href='../S/960.html#L2885'>newfile</a>          2885 ext/phar/phar.c 	|| (size_t)phar-&gt;alias_len != php_stream_write(newfile, phar-&gt;alias, phar-&gt;alias_len)) {</span>
<span class='curline'><a href='../S/960.html#L2891'>newfile</a>          2891 ext/phar/phar.c 		php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2904'>newfile</a>          2904 ext/phar/phar.c 	if (4 != php_stream_write(newfile, manifest, 4) || ((main_metadata_str.s ? ZSTR_LEN(main_metadata_str.s) : 0)</span>
<span class='curline'><a href='../S/960.html#L2905'>newfile</a>          2905 ext/phar/phar.c 	&amp;&amp; ZSTR_LEN(main_metadata_str.s) != php_stream_write(newfile, ZSTR_VAL(main_metadata_str.s), ZSTR_LEN(main_metadata_str.s)))) {</span>
<span class='curline'><a href='../S/960.html#L2912'>newfile</a>          2912 ext/phar/phar.c 		php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2924'>newfile</a>          2924 ext/phar/phar.c 	manifest_ftell = php_stream_tell(newfile);</span>
<span class='curline'><a href='../S/960.html#L2947'>newfile</a>          2947 ext/phar/phar.c 		if (4 != php_stream_write(newfile, entry_buffer, 4)</span>
<span class='curline'><a href='../S/960.html#L2948'>newfile</a>          2948 ext/phar/phar.c 		|| entry-&gt;filename_len != php_stream_write(newfile, entry-&gt;filename, entry-&gt;filename_len)</span>
<span class='curline'><a href='../S/960.html#L2949'>newfile</a>          2949 ext/phar/phar.c 		|| (entry-&gt;is_dir &amp;&amp; 1 != php_stream_write(newfile, "/", 1))) {</span>
<span class='curline'><a href='../S/960.html#L2953'>newfile</a>          2953 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2981'>newfile</a>          2981 ext/phar/phar.c 		if (sizeof(entry_buffer) != php_stream_write(newfile, entry_buffer, sizeof(entry_buffer))</span>
<span class='curline'><a href='../S/960.html#L2983'>newfile</a>          2983 ext/phar/phar.c 		    ZSTR_LEN(entry-&gt;metadata_str.s) != php_stream_write(newfile, ZSTR_VAL(entry-&gt;metadata_str.s), ZSTR_LEN(entry-&gt;metadata_str.s)))) {</span>
<span class='curline'><a href='../S/960.html#L2988'>newfile</a>          2988 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L2999'>newfile</a>          2999 ext/phar/phar.c 		if(1 != php_stream_write(newfile, manifest, 1)) {</span>
<span class='curline'><a href='../S/960.html#L3004'>newfile</a>          3004 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L3015'>newfile</a>          3015 ext/phar/phar.c 	offset = php_stream_tell(newfile);</span>
<span class='curline'><a href='../S/960.html#L3037'>newfile</a>          3037 ext/phar/phar.c 				php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L3049'>newfile</a>          3049 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L3059'>newfile</a>          3059 ext/phar/phar.c 		if (php_stream_copy_to_stream_ex(file, newfile, entry-&gt;compressed_filesize, &amp;wrote) == FAILURE) {</span>
<span class='curline'><a href='../S/960.html#L3064'>newfile</a>          3064 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L3097'>newfile</a>          3097 ext/phar/phar.c 		php_stream_rewind(newfile);</span>
<span class='curline'><a href='../S/960.html#L3111'>newfile</a>          3111 ext/phar/phar.c 				php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L3121'>newfile</a>          3121 ext/phar/phar.c 				if (FAILURE == phar_create_signature(phar, newfile, &amp;digest, &amp;digest_len, error)) {</span>
<span class='curline'><a href='../S/960.html#L3133'>newfile</a>          3133 ext/phar/phar.c 					php_stream_close(newfile);</span>
<span class='curline'><a href='../S/960.html#L3137'>newfile</a>          3137 ext/phar/phar.c 				php_stream_write(newfile, digest, digest_len);</span>
<span class='curline'><a href='../S/960.html#L3141'>newfile</a>          3141 ext/phar/phar.c 					php_stream_write(newfile, sig_buf, 4);</span>
<span class='curline'><a href='../S/960.html#L3147'>newfile</a>          3147 ext/phar/phar.c 		php_stream_write(newfile, sig_buf, 4);</span>
<span class='curline'><a href='../S/960.html#L3148'>newfile</a>          3148 ext/phar/phar.c 		php_stream_write(newfile, "GBMB", 4);</span>
<span class='curline'><a href='../S/960.html#L3173'>newfile</a>          3173 ext/phar/phar.c 	php_stream_rewind(newfile);</span>
<span class='curline'><a href='../S/960.html#L3177'>newfile</a>          3177 ext/phar/phar.c 		phar-&gt;fp = newfile;</span>
<span class='curline'><a href='../S/960.html#L3181'>newfile</a>          3181 ext/phar/phar.c 			phar-&gt;fp = newfile;</span>
<span class='curline'><a href='../S/960.html#L3205'>newfile</a>          3205 ext/phar/phar.c 			php_stream_copy_to_stream_ex(newfile, phar-&gt;fp, PHP_STREAM_COPY_ALL, NULL);</span>
<span class='curline'><a href='../S/960.html#L3210'>newfile</a>          3210 ext/phar/phar.c 			phar-&gt;fp = newfile;</span>
<span class='curline'><a href='../S/960.html#L3214'>newfile</a>          3214 ext/phar/phar.c 			php_stream_copy_to_stream_ex(newfile, phar-&gt;fp, PHP_STREAM_COPY_ALL, NULL);</span>
<span class='curline'><a href='../S/960.html#L3219'>newfile</a>          3219 ext/phar/phar.c 			phar-&gt;fp = newfile;</span>
<span class='curline'><a href='../S/960.html#L3221'>newfile</a>          3221 ext/phar/phar.c 			php_stream_copy_to_stream_ex(newfile, phar-&gt;fp, PHP_STREAM_COPY_ALL, NULL);</span>
<span class='curline'><a href='../S/960.html#L3223'>newfile</a>          3223 ext/phar/phar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/962.html#L3395'>newfile</a>          3395 ext/phar/phar_object.c 	char *oldfile, *newfile, *error;</span>
<span class='curline'><a href='../S/962.html#L3403'>newfile</a>          3403 ext/phar/phar_object.c 	if (zend_parse_parameters(ZEND_NUM_ARGS(), "pp", &amp;oldfile, &amp;oldfile_len, &amp;newfile, &amp;newfile_len) == FAILURE) {</span>
<span class='curline'><a href='../S/962.html#L3409'>newfile</a>          3409 ext/phar/phar_object.c 			"Cannot copy \"%s\" to \"%s\", phar is read-only", oldfile, newfile);</span>
<span class='curline'><a href='../S/962.html#L3416'>newfile</a>          3416 ext/phar/phar_object.c 			"file \"%s\" cannot be copied to file \"%s\", cannot copy Phar meta-file in %s", oldfile, newfile, phar_obj-&gt;archive-&gt;fname);</span>
<span class='curline'><a href='../S/962.html#L3420'>newfile</a>          3420 ext/phar/phar_object.c 	if (newfile_len &gt;= sizeof(".phar")-1 &amp;&amp; !memcmp(newfile, ".phar", sizeof(".phar")-1)) {</span>
<span class='curline'><a href='../S/962.html#L3423'>newfile</a>          3423 ext/phar/phar_object.c 			"file \"%s\" cannot be copied to file \"%s\", cannot copy to Phar meta-file in %s", oldfile, newfile, phar_obj-&gt;archive-&gt;fname);</span>
<span class='curline'><a href='../S/962.html#L3429'>newfile</a>          3429 ext/phar/phar_object.c 			"file \"%s\" cannot be copied to file \"%s\", file does not exist in %s", oldfile, newfile, phar_obj-&gt;archive-&gt;fname);</span>
<span class='curline'><a href='../S/962.html#L3433'>newfile</a>          3433 ext/phar/phar_object.c 	if (zend_hash_str_exists(&amp;phar_obj-&gt;archive-&gt;manifest, newfile, (uint) newfile_len)) {</span>
<span class='curline'><a href='../S/962.html#L3434'>newfile</a>          3434 ext/phar/phar_object.c 		if (NULL != (temp = zend_hash_str_find_ptr(&amp;phar_obj-&gt;archive-&gt;manifest, newfile, (uint) newfile_len)) || !temp-&gt;is_deleted) {</span>
<span class='curline'><a href='../S/962.html#L3436'>newfile</a>          3436 ext/phar/phar_object.c 				"file \"%s\" cannot be copied to file \"%s\", file must not already exist in phar %s", oldfile, newfile, phar_obj-&gt;archive-&gt;fname);</span>
<span class='curline'><a href='../S/962.html#L3442'>newfile</a>          3442 ext/phar/phar_object.c 	if (phar_path_check(&amp;newfile, &amp;tmp_len, &amp;pcr_error) &gt; pcr_is_ok) {</span>
<span class='curline'><a href='../S/962.html#L3444'>newfile</a>          3444 ext/phar/phar_object.c 				"file \"%s\" contains invalid characters %s, cannot be copied from \"%s\" in phar %s", newfile, pcr_error, oldfile, phar_obj-&gt;archive-&gt;fname);</span>
<span class='curline'><a href='../S/962.html#L3465'>newfile</a>          3465 ext/phar/phar_object.c 	newentry.filename = estrndup(newfile, newfile_len);</span>
<span class='curline'><a href='../S/962.html#L3479'>newfile</a>          3479 ext/phar/phar_object.c 	zend_hash_str_add_mem(&amp;oldentry-&gt;phar-&gt;manifest, newfile, newfile_len, &amp;newentry, sizeof(phar_entry_info));</span>
<span class='curline'><a href='../S/962.html#L5153'>newfile</a>          5153 ext/phar/phar_object.c 	ZEND_ARG_INFO(0, newfile)</span>
<span class='curline'><a href='../S/969.html#L948'>newfile</a>           948 ext/phar/tar.c 	php_stream *oldfile, *newfile, *stubfile;</span>
<span class='curline'><a href='../S/969.html#L1140'>newfile</a>          1140 ext/phar/tar.c 	newfile = php_stream_fopen_tmpfile();</span>
<span class='curline'><a href='../S/969.html#L1141'>newfile</a>          1141 ext/phar/tar.c 	if (!newfile) {</span>
<span class='curline'><a href='../S/969.html#L1152'>newfile</a>          1152 ext/phar/tar.c 	pass.new = newfile;</span>
<span class='curline'><a href='../S/969.html#L1201'>newfile</a>          1201 ext/phar/tar.c 		php_stream_close(newfile);</span>
<span class='curline'><a href='../S/969.html#L1209'>newfile</a>          1209 ext/phar/tar.c 		if (FAILURE == phar_create_signature(phar, newfile, &amp;signature, &amp;signature_length, error)) {</span>
<span class='curline'><a href='../S/969.html#L1220'>newfile</a>          1220 ext/phar/tar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/969.html#L1252'>newfile</a>          1252 ext/phar/tar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/969.html#L1266'>newfile</a>          1266 ext/phar/tar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/969.html#L1273'>newfile</a>          1273 ext/phar/tar.c 	php_stream_write(newfile, buf, 1024);</span>
<span class='curline'><a href='../S/969.html#L1282'>newfile</a>          1282 ext/phar/tar.c 		php_stream_close(newfile);</span>
<span class='curline'><a href='../S/969.html#L1298'>newfile</a>          1298 ext/phar/tar.c 	php_stream_rewind(newfile);</span>
<span class='curline'><a href='../S/969.html#L1302'>newfile</a>          1302 ext/phar/tar.c 		phar-&gt;fp = newfile;</span>
<span class='curline'><a href='../S/969.html#L1306'>newfile</a>          1306 ext/phar/tar.c 			phar-&gt;fp = newfile;</span>
<span class='curline'><a href='../S/969.html#L1329'>newfile</a>          1329 ext/phar/tar.c 				php_stream_copy_to_stream_ex(newfile, phar-&gt;fp, PHP_STREAM_COPY_ALL, NULL);</span>
<span class='curline'><a href='../S/969.html#L1330'>newfile</a>          1330 ext/phar/tar.c 				php_stream_close(newfile);</span>
<span class='curline'><a href='../S/969.html#L1338'>newfile</a>          1338 ext/phar/tar.c 			php_stream_copy_to_stream_ex(newfile, phar-&gt;fp, PHP_STREAM_COPY_ALL, NULL);</span>
<span class='curline'><a href='../S/969.html#L1343'>newfile</a>          1343 ext/phar/tar.c 			phar-&gt;fp = newfile;</span>
<span class='curline'><a href='../S/969.html#L1349'>newfile</a>          1349 ext/phar/tar.c 			php_stream_copy_to_stream_ex(newfile, phar-&gt;fp, PHP_STREAM_COPY_ALL, NULL);</span>
<span class='curline'><a href='../S/969.html#L1354'>newfile</a>          1354 ext/phar/tar.c 			phar-&gt;fp = newfile;</span>
<span class='curline'><a href='../S/969.html#L1356'>newfile</a>          1356 ext/phar/tar.c 			php_stream_copy_to_stream_ex(newfile, phar-&gt;fp, PHP_STREAM_COPY_ALL, NULL);</span>
<span class='curline'><a href='../S/969.html#L1358'>newfile</a>          1358 ext/phar/tar.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/972.html#L1112'>newfile</a>          1112 ext/phar/zip.c 		php_stream *newfile;</span>
<span class='curline'><a href='../S/972.html#L1115'>newfile</a>          1115 ext/phar/zip.c 		newfile = php_stream_fopen_tmpfile();</span>
<span class='curline'><a href='../S/972.html#L1116'>newfile</a>          1116 ext/phar/zip.c 		if (newfile == NULL) {</span>
<span class='curline'><a href='../S/972.html#L1123'>newfile</a>          1123 ext/phar/zip.c 		php_stream_copy_to_stream_ex(pass-&gt;filefp, newfile, tell, NULL);</span>
<span class='curline'><a href='../S/972.html#L1126'>newfile</a>          1126 ext/phar/zip.c 		php_stream_copy_to_stream_ex(pass-&gt;centralfp, newfile, tell, NULL);</span>
<span class='curline'><a href='../S/972.html#L1128'>newfile</a>          1128 ext/phar/zip.c 			php_stream_write(newfile, ZSTR_VAL(metadata-&gt;s), ZSTR_LEN(metadata-&gt;s));</span>
<span class='curline'><a href='../S/972.html#L1131'>newfile</a>          1131 ext/phar/zip.c 		if (FAILURE == phar_create_signature(phar, newfile, &amp;signature, &amp;signature_length, pass-&gt;error)) {</span>
<span class='curline'><a href='../S/972.html#L1138'>newfile</a>          1138 ext/phar/zip.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/972.html#L1161'>newfile</a>          1161 ext/phar/zip.c 			php_stream_close(newfile);</span>
<span class='curline'><a href='../S/972.html#L1170'>newfile</a>          1170 ext/phar/zip.c 		php_stream_close(newfile);</span>
<span class='curline'><a href='../S/972.html#L1174'>newfile</a>          1174 ext/phar/zip.c 			php_stream_close(newfile);</span>
</pre>
</body>
</html>
