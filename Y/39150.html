<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>tzobj</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/79.html#L2265'>tzobj</a>            2265 ext/date/php_date.c 	php_timezone_obj     *tzobj;</span>
<span class='curline'><a href='../S/79.html#L2268'>tzobj</a>            2268 ext/date/php_date.c 	tzobj = Z_PHPTIMEZONE_P(object);</span>
<span class='curline'><a href='../S/79.html#L2272'>tzobj</a>            2272 ext/date/php_date.c 	if (!tzobj-&gt;initialized) {</span>
<span class='curline'><a href='../S/79.html#L2276'>tzobj</a>            2276 ext/date/php_date.c 	ZVAL_LONG(&amp;zv, tzobj-&gt;type);</span>
<span class='curline'><a href='../S/79.html#L2279'>tzobj</a>            2279 ext/date/php_date.c 	switch (tzobj-&gt;type) {</span>
<span class='curline'><a href='../S/79.html#L2281'>tzobj</a>            2281 ext/date/php_date.c 			ZVAL_STRING(&amp;zv, tzobj-&gt;tzi.tz-&gt;name);</span>
<span class='curline'><a href='../S/79.html#L2287'>tzobj</a>            2287 ext/date/php_date.c 			tzobj-&gt;tzi.utc_offset &gt; 0 ? '-' : '+',</span>
<span class='curline'><a href='../S/79.html#L2288'>tzobj</a>            2288 ext/date/php_date.c 			abs(tzobj-&gt;tzi.utc_offset / 60),</span>
<span class='curline'><a href='../S/79.html#L2289'>tzobj</a>            2289 ext/date/php_date.c 			abs((tzobj-&gt;tzi.utc_offset % 60)));</span>
<span class='curline'><a href='../S/79.html#L2295'>tzobj</a>            2295 ext/date/php_date.c 			ZVAL_STRING(&amp;zv, tzobj-&gt;tzi.z.abbr);</span>
<span class='curline'><a href='../S/79.html#L2517'>tzobj</a>            2517 ext/date/php_date.c 		php_timezone_obj *tzobj;</span>
<span class='curline'><a href='../S/79.html#L2519'>tzobj</a>            2519 ext/date/php_date.c 		tzobj = Z_PHPTIMEZONE_P(timezone_object);</span>
<span class='curline'><a href='../S/79.html#L2520'>tzobj</a>            2520 ext/date/php_date.c 		switch (tzobj-&gt;type) {</span>
<span class='curline'><a href='../S/79.html#L2522'>tzobj</a>            2522 ext/date/php_date.c 				tzi = tzobj-&gt;tzi.tz;</span>
<span class='curline'><a href='../S/79.html#L2525'>tzobj</a>            2525 ext/date/php_date.c 				new_offset = tzobj-&gt;tzi.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L2528'>tzobj</a>            2528 ext/date/php_date.c 				new_offset = tzobj-&gt;tzi.z.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L2529'>tzobj</a>            2529 ext/date/php_date.c 				new_dst    = tzobj-&gt;tzi.z.dst;</span>
<span class='curline'><a href='../S/79.html#L2530'>tzobj</a>            2530 ext/date/php_date.c 				new_abbr   = timelib_strdup(tzobj-&gt;tzi.z.abbr);</span>
<span class='curline'><a href='../S/79.html#L2533'>tzobj</a>            2533 ext/date/php_date.c 		type = tzobj-&gt;type;</span>
<span class='curline'><a href='../S/79.html#L2727'>tzobj</a>            2727 ext/date/php_date.c 	php_timezone_obj *tzobj;</span>
<span class='curline'><a href='../S/79.html#L2755'>tzobj</a>            2755 ext/date/php_date.c 						tzobj = Z_PHPTIMEZONE_P(php_date_instantiate(date_ce_timezone, &amp;tmp_obj));</span>
<span class='curline'><a href='../S/79.html#L2756'>tzobj</a>            2756 ext/date/php_date.c 						tzobj-&gt;type = TIMELIB_ZONETYPE_ID;</span>
<span class='curline'><a href='../S/79.html#L2757'>tzobj</a>            2757 ext/date/php_date.c 						tzobj-&gt;tzi.tz = tzi;</span>
<span class='curline'><a href='../S/79.html#L2758'>tzobj</a>            2758 ext/date/php_date.c 						tzobj-&gt;initialized = 1;</span>
<span class='curline'><a href='../S/79.html#L3212'>tzobj</a>            3212 ext/date/php_date.c static void set_timezone_from_timelib_time(php_timezone_obj *tzobj, timelib_time *t)</span>
<span class='curline'><a href='../S/79.html#L3214'>tzobj</a>            3214 ext/date/php_date.c        tzobj-&gt;initialized = 1;</span>
<span class='curline'><a href='../S/79.html#L3215'>tzobj</a>            3215 ext/date/php_date.c        tzobj-&gt;type = t-&gt;zone_type;</span>
<span class='curline'><a href='../S/79.html#L3218'>tzobj</a>            3218 ext/date/php_date.c                        tzobj-&gt;tzi.tz = t-&gt;tz_info;</span>
<span class='curline'><a href='../S/79.html#L3221'>tzobj</a>            3221 ext/date/php_date.c                        tzobj-&gt;tzi.utc_offset = t-&gt;z;</span>
<span class='curline'><a href='../S/79.html#L3224'>tzobj</a>            3224 ext/date/php_date.c                        tzobj-&gt;tzi.z.utc_offset = t-&gt;z;</span>
<span class='curline'><a href='../S/79.html#L3225'>tzobj</a>            3225 ext/date/php_date.c                        tzobj-&gt;tzi.z.dst = t-&gt;dst;</span>
<span class='curline'><a href='../S/79.html#L3226'>tzobj</a>            3226 ext/date/php_date.c                        tzobj-&gt;tzi.z.abbr = timelib_strdup(t-&gt;tz_abbr);</span>
<span class='curline'><a href='../S/79.html#L3239'>tzobj</a>            3239 ext/date/php_date.c 	php_timezone_obj *tzobj;</span>
<span class='curline'><a href='../S/79.html#L3248'>tzobj</a>            3248 ext/date/php_date.c 		tzobj = Z_PHPTIMEZONE_P(return_value);</span>
<span class='curline'><a href='../S/79.html#L3249'>tzobj</a>            3249 ext/date/php_date.c 		set_timezone_from_timelib_time(tzobj, dateobj-&gt;time);</span>
<span class='curline'><a href='../S/79.html#L3259'>tzobj</a>            3259 ext/date/php_date.c 	php_timezone_obj *tzobj;</span>
<span class='curline'><a href='../S/79.html#L3263'>tzobj</a>            3263 ext/date/php_date.c 	tzobj = Z_PHPTIMEZONE_P(timezone_object);</span>
<span class='curline'><a href='../S/79.html#L3265'>tzobj</a>            3265 ext/date/php_date.c 	switch (tzobj-&gt;type) {</span>
<span class='curline'><a href='../S/79.html#L3267'>tzobj</a>            3267 ext/date/php_date.c 			timelib_set_timezone_from_offset(dateobj-&gt;time, tzobj-&gt;tzi.utc_offset);</span>
<span class='curline'><a href='../S/79.html#L3270'>tzobj</a>            3270 ext/date/php_date.c 			timelib_set_timezone_from_abbr(dateobj-&gt;time, tzobj-&gt;tzi.z);</span>
<span class='curline'><a href='../S/79.html#L3273'>tzobj</a>            3273 ext/date/php_date.c 			timelib_set_timezone(dateobj-&gt;time, tzobj-&gt;tzi.tz);</span>
<span class='curline'><a href='../S/79.html#L3605'>tzobj</a>            3605 ext/date/php_date.c static int timezone_initialize(php_timezone_obj *tzobj, /*const*/ char *tz, size_t tz_len) /* {{{ */</span>
<span class='curline'><a href='../S/79.html#L3622'>tzobj</a>            3622 ext/date/php_date.c 		set_timezone_from_timelib_time(tzobj, dummy_t);</span>
<span class='curline'><a href='../S/79.html#L3636'>tzobj</a>            3636 ext/date/php_date.c 	php_timezone_obj *tzobj;</span>
<span class='curline'><a href='../S/79.html#L3641'>tzobj</a>            3641 ext/date/php_date.c 	tzobj = Z_PHPTIMEZONE_P(php_date_instantiate(date_ce_timezone, return_value));</span>
<span class='curline'><a href='../S/79.html#L3642'>tzobj</a>            3642 ext/date/php_date.c 	if (SUCCESS != timezone_initialize(tzobj, tz, tz_len)) {</span>
<span class='curline'><a href='../S/79.html#L3656'>tzobj</a>            3656 ext/date/php_date.c 	php_timezone_obj *tzobj;</span>
<span class='curline'><a href='../S/79.html#L3664'>tzobj</a>            3664 ext/date/php_date.c 	tzobj = Z_PHPTIMEZONE_P(getThis());</span>
<span class='curline'><a href='../S/79.html#L3665'>tzobj</a>            3665 ext/date/php_date.c 	timezone_initialize(tzobj, tz, tz_len);</span>
<span class='curline'><a href='../S/79.html#L3670'>tzobj</a>            3670 ext/date/php_date.c static int php_date_timezone_initialize_from_hash(zval **return_value, php_timezone_obj **tzobj, HashTable *myht) /* {{{ */</span>
<span class='curline'><a href='../S/79.html#L3683'>tzobj</a>            3683 ext/date/php_date.c 			if (SUCCESS == timezone_initialize(*tzobj, Z_STRVAL_P(z_timezone), Z_STRLEN_P(z_timezone))) {</span>
<span class='curline'><a href='../S/79.html#L3695'>tzobj</a>            3695 ext/date/php_date.c 	php_timezone_obj *tzobj;</span>
<span class='curline'><a href='../S/79.html#L3706'>tzobj</a>            3706 ext/date/php_date.c 	tzobj = Z_PHPTIMEZONE_P(return_value);</span>
<span class='curline'><a href='../S/79.html#L3707'>tzobj</a>            3707 ext/date/php_date.c 	if(php_date_timezone_initialize_from_hash(&amp;return_value, &amp;tzobj, myht) != SUCCESS) {</span>
<span class='curline'><a href='../S/79.html#L3718'>tzobj</a>            3718 ext/date/php_date.c 	php_timezone_obj *tzobj;</span>
<span class='curline'><a href='../S/79.html#L3721'>tzobj</a>            3721 ext/date/php_date.c 	tzobj = Z_PHPTIMEZONE_P(object);</span>
<span class='curline'><a href='../S/79.html#L3725'>tzobj</a>            3725 ext/date/php_date.c 	if(php_date_timezone_initialize_from_hash(&amp;return_value, &amp;tzobj, myht) != SUCCESS) {</span>
<span class='curline'><a href='../S/79.html#L3737'>tzobj</a>            3737 ext/date/php_date.c 	php_timezone_obj *tzobj;</span>
<span class='curline'><a href='../S/79.html#L3742'>tzobj</a>            3742 ext/date/php_date.c 	tzobj = Z_PHPTIMEZONE_P(object);</span>
<span class='curline'><a href='../S/79.html#L3743'>tzobj</a>            3743 ext/date/php_date.c 	DATE_CHECK_INITIALIZED(tzobj-&gt;initialized, DateTimeZone);</span>
<span class='curline'><a href='../S/79.html#L3745'>tzobj</a>            3745 ext/date/php_date.c 	switch (tzobj-&gt;type) {</span>
<span class='curline'><a href='../S/79.html#L3747'>tzobj</a>            3747 ext/date/php_date.c 			RETURN_STRING(tzobj-&gt;tzi.tz-&gt;name);</span>
<span class='curline'><a href='../S/79.html#L3751'>tzobj</a>            3751 ext/date/php_date.c 			timelib_sll utc_offset = tzobj-&gt;tzi.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L3762'>tzobj</a>            3762 ext/date/php_date.c 			RETURN_STRING(tzobj-&gt;tzi.z.abbr);</span>
<span class='curline'><a href='../S/79.html#L3798'>tzobj</a>            3798 ext/date/php_date.c 	php_timezone_obj    *tzobj;</span>
<span class='curline'><a href='../S/79.html#L3805'>tzobj</a>            3805 ext/date/php_date.c 	tzobj = Z_PHPTIMEZONE_P(object);</span>
<span class='curline'><a href='../S/79.html#L3806'>tzobj</a>            3806 ext/date/php_date.c 	DATE_CHECK_INITIALIZED(tzobj-&gt;initialized, DateTimeZone);</span>
<span class='curline'><a href='../S/79.html#L3810'>tzobj</a>            3810 ext/date/php_date.c 	switch (tzobj-&gt;type) {</span>
<span class='curline'><a href='../S/79.html#L3812'>tzobj</a>            3812 ext/date/php_date.c 			offset = timelib_get_time_zone_info(dateobj-&gt;time-&gt;sse, tzobj-&gt;tzi.tz);</span>
<span class='curline'><a href='../S/79.html#L3817'>tzobj</a>            3817 ext/date/php_date.c 			RETURN_LONG(tzobj-&gt;tzi.utc_offset * -60);</span>
<span class='curline'><a href='../S/79.html#L3820'>tzobj</a>            3820 ext/date/php_date.c 			RETURN_LONG((tzobj-&gt;tzi.z.utc_offset - (tzobj-&gt;tzi.z.dst*60)) * -60);</span>
<span class='curline'><a href='../S/79.html#L3832'>tzobj</a>            3832 ext/date/php_date.c 	php_timezone_obj    *tzobj;</span>
<span class='curline'><a href='../S/79.html#L3839'>tzobj</a>            3839 ext/date/php_date.c 	tzobj = Z_PHPTIMEZONE_P(object);</span>
<span class='curline'><a href='../S/79.html#L3840'>tzobj</a>            3840 ext/date/php_date.c 	DATE_CHECK_INITIALIZED(tzobj-&gt;initialized, DateTimeZone);</span>
<span class='curline'><a href='../S/79.html#L3841'>tzobj</a>            3841 ext/date/php_date.c 	if (tzobj-&gt;type != TIMELIB_ZONETYPE_ID) {</span>
<span class='curline'><a href='../S/79.html#L3849'>tzobj</a>            3849 ext/date/php_date.c 		add_assoc_long(&amp;element, "offset", tzobj-&gt;tzi.tz-&gt;type[0].offset); \</span>
<span class='curline'><a href='../S/79.html#L3850'>tzobj</a>            3850 ext/date/php_date.c 		add_assoc_bool(&amp;element, "isdst",  tzobj-&gt;tzi.tz-&gt;type[0].isdst); \</span>
<span class='curline'><a href='../S/79.html#L3851'>tzobj</a>            3851 ext/date/php_date.c 		add_assoc_string(&amp;element, "abbr", &amp;tzobj-&gt;tzi.tz-&gt;timezone_abbr[tzobj-&gt;tzi.tz-&gt;type[0].abbr_idx]); \</span>
<span class='curline'><a href='../S/79.html#L3858'>tzobj</a>            3858 ext/date/php_date.c 		add_assoc_long(&amp;element, "offset", tzobj-&gt;tzi.tz-&gt;type[tzobj-&gt;tzi.tz-&gt;trans_idx[i]].offset); \</span>
<span class='curline'><a href='../S/79.html#L3859'>tzobj</a>            3859 ext/date/php_date.c 		add_assoc_bool(&amp;element, "isdst",  tzobj-&gt;tzi.tz-&gt;type[tzobj-&gt;tzi.tz-&gt;trans_idx[i]].isdst); \</span>
<span class='curline'><a href='../S/79.html#L3860'>tzobj</a>            3860 ext/date/php_date.c 		add_assoc_string(&amp;element, "abbr", &amp;tzobj-&gt;tzi.tz-&gt;timezone_abbr[tzobj-&gt;tzi.tz-&gt;type[tzobj-&gt;tzi.tz-&gt;trans_idx[i]].abbr_idx]); \</span>
<span class='curline'><a href='../S/79.html#L3863'>tzobj</a>            3863 ext/date/php_date.c #define add_last() add(tzobj-&gt;tzi.tz-&gt;bit32.timecnt - 1, timestamp_begin)</span>
<span class='curline'><a href='../S/79.html#L3874'>tzobj</a>            3874 ext/date/php_date.c 		if (tzobj-&gt;tzi.tz-&gt;bit32.timecnt &gt; 0) {</span>
<span class='curline'><a href='../S/79.html#L3876'>tzobj</a>            3876 ext/date/php_date.c 				if (tzobj-&gt;tzi.tz-&gt;trans[begin] &gt; timestamp_begin) {</span>
<span class='curline'><a href='../S/79.html#L3886'>tzobj</a>            3886 ext/date/php_date.c 			} while (begin &lt; tzobj-&gt;tzi.tz-&gt;bit32.timecnt);</span>
<span class='curline'><a href='../S/79.html#L3891'>tzobj</a>            3891 ext/date/php_date.c 		if (tzobj-&gt;tzi.tz-&gt;bit32.timecnt &gt; 0) {</span>
<span class='curline'><a href='../S/79.html#L3897'>tzobj</a>            3897 ext/date/php_date.c 		for (i = begin; i &lt; tzobj-&gt;tzi.tz-&gt;bit32.timecnt; ++i) {</span>
<span class='curline'><a href='../S/79.html#L3898'>tzobj</a>            3898 ext/date/php_date.c 			if (tzobj-&gt;tzi.tz-&gt;trans[i] &lt; timestamp_end) {</span>
<span class='curline'><a href='../S/79.html#L3899'>tzobj</a>            3899 ext/date/php_date.c 				add(i, tzobj-&gt;tzi.tz-&gt;trans[i]);</span>
<span class='curline'><a href='../S/79.html#L3912'>tzobj</a>            3912 ext/date/php_date.c 	php_timezone_obj    *tzobj;</span>
<span class='curline'><a href='../S/79.html#L3917'>tzobj</a>            3917 ext/date/php_date.c 	tzobj = Z_PHPTIMEZONE_P(object);</span>
<span class='curline'><a href='../S/79.html#L3918'>tzobj</a>            3918 ext/date/php_date.c 	DATE_CHECK_INITIALIZED(tzobj-&gt;initialized, DateTimeZone);</span>
<span class='curline'><a href='../S/79.html#L3919'>tzobj</a>            3919 ext/date/php_date.c 	if (tzobj-&gt;type != TIMELIB_ZONETYPE_ID) {</span>
<span class='curline'><a href='../S/79.html#L3924'>tzobj</a>            3924 ext/date/php_date.c 	add_assoc_string(return_value, "country_code", tzobj-&gt;tzi.tz-&gt;location.country_code);</span>
<span class='curline'><a href='../S/79.html#L3925'>tzobj</a>            3925 ext/date/php_date.c 	add_assoc_double(return_value, "latitude", tzobj-&gt;tzi.tz-&gt;location.latitude);</span>
<span class='curline'><a href='../S/79.html#L3926'>tzobj</a>            3926 ext/date/php_date.c 	add_assoc_double(return_value, "longitude", tzobj-&gt;tzi.tz-&gt;location.longitude);</span>
<span class='curline'><a href='../S/79.html#L3927'>tzobj</a>            3927 ext/date/php_date.c 	add_assoc_string(return_value, "comments", tzobj-&gt;tzi.tz-&gt;location.comments);</span>
</pre>
</body>
</html>
