<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pg_link</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/954.html#L84'>pg_link</a>            84 ext/pgsql/pgsql.c #define PQ_SETNONBLOCKING(pg_link, flag) PQsetnonblocking(pg_link, flag)</span>
<span class='curline'><a href='../S/954.html#L86'>pg_link</a>            86 ext/pgsql/pgsql.c #define PQ_SETNONBLOCKING(pg_link, flag) 0</span>
<span class='curline'><a href='../S/954.html#L2314'>pg_link</a>          2314 ext/pgsql/pgsql.c 	PGconn *pg_link;</span>
<span class='curline'><a href='../S/954.html#L2322'>pg_link</a>          2322 ext/pgsql/pgsql.c 	if ((pg_link = (PGconn *)zend_fetch_resource2(Z_RES_P(pgsql_link), "PostgreSQL link", le_link, le_plink)) == NULL) {</span>
<span class='curline'><a href='../S/954.html#L5488'>pg_link</a>          5488 ext/pgsql/pgsql.c PHP_PGSQL_API int php_pgsql_meta_data(PGconn *pg_link, const char *table_name, zval *meta, zend_bool extended)</span>
<span class='curline'><a href='../S/954.html#L5536'>pg_link</a>          5536 ext/pgsql/pgsql.c 	new_len = PQescapeStringConn(pg_link, escaped, tmp_name2, strlen(tmp_name2), NULL);</span>
<span class='curline'><a href='../S/954.html#L5544'>pg_link</a>          5544 ext/pgsql/pgsql.c 	new_len = PQescapeStringConn(pg_link, escaped, tmp_name, strlen(tmp_name), NULL);</span>
<span class='curline'><a href='../S/954.html#L5554'>pg_link</a>          5554 ext/pgsql/pgsql.c 	pg_result = PQexec(pg_link, ZSTR_VAL(querystr.s));</span>
<span class='curline'><a href='../S/954.html#L5801'>pg_link</a>          5801 ext/pgsql/pgsql.c PHP_PGSQL_API int php_pgsql_convert(PGconn *pg_link, const char *table_name, const zval *values, zval *result, zend_ulong opt)</span>
<span class='curline'><a href='../S/954.html#L5808'>pg_link</a>          5808 ext/pgsql/pgsql.c 	assert(pg_link != NULL);</span>
<span class='curline'><a href='../S/954.html#L5819'>pg_link</a>          5819 ext/pgsql/pgsql.c 	if (php_pgsql_meta_data(pg_link, table_name, &amp;meta, 0) == FAILURE) {</span>
<span class='curline'><a href='../S/954.html#L6050'>pg_link</a>          6050 ext/pgsql/pgsql.c 							ZSTR_LEN(str) = PQescapeStringConn(pg_link, ZSTR_VAL(str), Z_STRVAL_P(val), Z_STRLEN_P(val), NULL);</span>
<span class='curline'><a href='../S/954.html#L6339'>pg_link</a>          6339 ext/pgsql/pgsql.c 							tmp = PQescapeByteaConn(pg_link, (unsigned char *)Z_STRVAL_P(val), Z_STRLEN_P(val), &amp;to_len);</span>
<span class='curline'><a href='../S/954.html#L6425'>pg_link</a>          6425 ext/pgsql/pgsql.c 				escaped = PGSQLescapeIdentifier(pg_link, ZSTR_VAL(field), ZSTR_LEN(field));</span>
<span class='curline'><a href='../S/954.html#L6450'>pg_link</a>          6450 ext/pgsql/pgsql.c 	PGconn *pg_link;</span>
<span class='curline'><a href='../S/954.html#L6465'>pg_link</a>          6465 ext/pgsql/pgsql.c 	if ((pg_link = (PGconn *)zend_fetch_resource2(Z_RES_P(pgsql_link), "PostgreSQL link", le_link, le_plink)) == NULL) {</span>
<span class='curline'><a href='../S/954.html#L6469'>pg_link</a>          6469 ext/pgsql/pgsql.c 	if (php_pgsql_flush_query(pg_link)) {</span>
<span class='curline'><a href='../S/954.html#L6473'>pg_link</a>          6473 ext/pgsql/pgsql.c 	if (php_pgsql_convert(pg_link, table_name, values, return_value, option) == FAILURE) {</span>
<span class='curline'><a href='../S/954.html#L6480'>pg_link</a>          6480 ext/pgsql/pgsql.c static int do_exec(smart_str *querystr, int expect, PGconn *pg_link, zend_ulong opt) /* {{{ */</span>
<span class='curline'><a href='../S/954.html#L6483'>pg_link</a>          6483 ext/pgsql/pgsql.c 		if (PQsendQuery(pg_link, ZSTR_VAL(querystr-&gt;s))) {</span>
<span class='curline'><a href='../S/954.html#L6490'>pg_link</a>          6490 ext/pgsql/pgsql.c 		pg_result = PQexec(pg_link, ZSTR_VAL(querystr-&gt;s));</span>
<span class='curline'><a href='../S/954.html#L6504'>pg_link</a>          6504 ext/pgsql/pgsql.c static inline void build_tablename(smart_str *querystr, PGconn *pg_link, const char *table) /* {{{ */</span>
<span class='curline'><a href='../S/954.html#L6520'>pg_link</a>          6520 ext/pgsql/pgsql.c 		escaped = PGSQLescapeIdentifier(pg_link, token, len);</span>
<span class='curline'><a href='../S/954.html#L6531'>pg_link</a>          6531 ext/pgsql/pgsql.c 			escaped = PGSQLescapeIdentifier(pg_link, tmp, len);</span>
<span class='curline'><a href='../S/954.html#L6543'>pg_link</a>          6543 ext/pgsql/pgsql.c PHP_PGSQL_API int php_pgsql_insert(PGconn *pg_link, const char *table, zval *var_array, zend_ulong opt, zend_string **sql)</span>
<span class='curline'><a href='../S/954.html#L6552'>pg_link</a>          6552 ext/pgsql/pgsql.c 	assert(pg_link != NULL);</span>
<span class='curline'><a href='../S/954.html#L6559'>pg_link</a>          6559 ext/pgsql/pgsql.c 		build_tablename(&amp;querystr, pg_link, table);</span>
<span class='curline'><a href='../S/954.html#L6568'>pg_link</a>          6568 ext/pgsql/pgsql.c 		if (php_pgsql_convert(pg_link, table, var_array, &amp;converted, (opt &amp; PGSQL_CONV_OPTS)) == FAILURE) {</span>
<span class='curline'><a href='../S/954.html#L6575'>pg_link</a>          6575 ext/pgsql/pgsql.c 	build_tablename(&amp;querystr, pg_link, table);</span>
<span class='curline'><a href='../S/954.html#L6584'>pg_link</a>          6584 ext/pgsql/pgsql.c 			tmp = PGSQLescapeIdentifier(pg_link, ZSTR_VAL(fld), ZSTR_LEN(fld) + 1);</span>
<span class='curline'><a href='../S/954.html#L6604'>pg_link</a>          6604 ext/pgsql/pgsql.c 					new_len = PQescapeStringConn(pg_link, tmp, Z_STRVAL_P(val), Z_STRLEN_P(val), NULL);</span>
<span class='curline'><a href='../S/954.html#L6638'>pg_link</a>          6638 ext/pgsql/pgsql.c 		do_exec(&amp;querystr, PGRES_COMMAND_OK, pg_link, (opt &amp; PGSQL_CONV_OPTS)) == 0) {</span>
<span class='curline'><a href='../S/954.html#L6665'>pg_link</a>          6665 ext/pgsql/pgsql.c 	PGconn *pg_link;</span>
<span class='curline'><a href='../S/954.html#L6681'>pg_link</a>          6681 ext/pgsql/pgsql.c 	if ((pg_link = (PGconn *)zend_fetch_resource2(Z_RES_P(pgsql_link), "PostgreSQL link", le_link, le_plink)) == NULL) {</span>
<span class='curline'><a href='../S/954.html#L6685'>pg_link</a>          6685 ext/pgsql/pgsql.c 	if (php_pgsql_flush_query(pg_link)) {</span>
<span class='curline'><a href='../S/954.html#L6692'>pg_link</a>          6692 ext/pgsql/pgsql.c 		if (php_pgsql_insert(pg_link, table, values, option|PGSQL_DML_STRING, &amp;sql) == FAILURE) {</span>
<span class='curline'><a href='../S/954.html#L6695'>pg_link</a>          6695 ext/pgsql/pgsql.c 		pg_result = PQexec(pg_link, ZSTR_VAL(sql));</span>
<span class='curline'><a href='../S/954.html#L6696'>pg_link</a>          6696 ext/pgsql/pgsql.c 		if ((PGG(auto_reset_persistent) &amp; 2) &amp;&amp; PQstatus(pg_link) != CONNECTION_OK) {</span>
<span class='curline'><a href='../S/954.html#L6698'>pg_link</a>          6698 ext/pgsql/pgsql.c 			PQreset(pg_link);</span>
<span class='curline'><a href='../S/954.html#L6699'>pg_link</a>          6699 ext/pgsql/pgsql.c 			pg_result = PQexec(pg_link, ZSTR_VAL(sql));</span>
<span class='curline'><a href='../S/954.html#L6706'>pg_link</a>          6706 ext/pgsql/pgsql.c 			status = (ExecStatusType) PQstatus(pg_link);</span>
<span class='curline'><a href='../S/954.html#L6714'>pg_link</a>          6714 ext/pgsql/pgsql.c 				PHP_PQ_ERROR("Query failed: %s", pg_link);</span>
<span class='curline'><a href='../S/954.html#L6722'>pg_link</a>          6722 ext/pgsql/pgsql.c 					pgsql_handle-&gt;conn = pg_link;</span>
<span class='curline'><a href='../S/954.html#L6732'>pg_link</a>          6732 ext/pgsql/pgsql.c 	} else if (php_pgsql_insert(pg_link, table, values, option, &amp;sql) == FAILURE) {</span>
<span class='curline'><a href='../S/954.html#L6743'>pg_link</a>          6743 ext/pgsql/pgsql.c static inline int build_assignment_string(PGconn *pg_link, smart_str *querystr, HashTable *ht, int where_cond, const char *pad, int pad_len, zend_ulong opt) /* {{{ */</span>
<span class='curline'><a href='../S/954.html#L6756'>pg_link</a>          6756 ext/pgsql/pgsql.c 			tmp = PGSQLescapeIdentifier(pg_link, ZSTR_VAL(fld), ZSTR_LEN(fld) + 1);</span>
<span class='curline'><a href='../S/954.html#L6773'>pg_link</a>          6773 ext/pgsql/pgsql.c 					new_len = PQescapeStringConn(pg_link, tmp, Z_STRVAL_P(val), Z_STRLEN_P(val), NULL);</span>
<span class='curline'><a href='../S/954.html#L6807'>pg_link</a>          6807 ext/pgsql/pgsql.c PHP_PGSQL_API int php_pgsql_update(PGconn *pg_link, const char *table, zval *var_array, zval *ids_array, zend_ulong opt, zend_string **sql)</span>
<span class='curline'><a href='../S/954.html#L6813'>pg_link</a>          6813 ext/pgsql/pgsql.c 	assert(pg_link != NULL);</span>
<span class='curline'><a href='../S/954.html#L6828'>pg_link</a>          6828 ext/pgsql/pgsql.c 		if (php_pgsql_convert(pg_link, table, var_array, &amp;var_converted, (opt &amp; PGSQL_CONV_OPTS)) == FAILURE) {</span>
<span class='curline'><a href='../S/954.html#L6833'>pg_link</a>          6833 ext/pgsql/pgsql.c 		if (php_pgsql_convert(pg_link, table, ids_array, &amp;ids_converted, (opt &amp; PGSQL_CONV_OPTS)) == FAILURE) {</span>
<span class='curline'><a href='../S/954.html#L6840'>pg_link</a>          6840 ext/pgsql/pgsql.c 	build_tablename(&amp;querystr, pg_link, table);</span>
<span class='curline'><a href='../S/954.html#L6843'>pg_link</a>          6843 ext/pgsql/pgsql.c 	if (build_assignment_string(pg_link, &amp;querystr, Z_ARRVAL_P(var_array), 0, ",", 1, opt))</span>
<span class='curline'><a href='../S/954.html#L6848'>pg_link</a>          6848 ext/pgsql/pgsql.c 	if (build_assignment_string(pg_link, &amp;querystr, Z_ARRVAL_P(ids_array), 1, " AND ", sizeof(" AND ")-1, opt))</span>
<span class='curline'><a href='../S/954.html#L6854'>pg_link</a>          6854 ext/pgsql/pgsql.c 	if ((opt &amp; PGSQL_DML_EXEC) &amp;&amp; do_exec(&amp;querystr, PGRES_COMMAND_OK, pg_link, opt) == 0) {</span>
<span class='curline'><a href='../S/954.html#L6881'>pg_link</a>          6881 ext/pgsql/pgsql.c 	PGconn *pg_link;</span>
<span class='curline'><a href='../S/954.html#L6894'>pg_link</a>          6894 ext/pgsql/pgsql.c 	if ((pg_link = (PGconn *)zend_fetch_resource2(Z_RES_P(pgsql_link), "PostgreSQL link", le_link, le_plink)) == NULL) {</span>
<span class='curline'><a href='../S/954.html#L6898'>pg_link</a>          6898 ext/pgsql/pgsql.c 	if (php_pgsql_flush_query(pg_link)) {</span>
<span class='curline'><a href='../S/954.html#L6901'>pg_link</a>          6901 ext/pgsql/pgsql.c 	if (php_pgsql_update(pg_link, table, values, ids, option, &amp;sql) == FAILURE) {</span>
<span class='curline'><a href='../S/954.html#L6913'>pg_link</a>          6913 ext/pgsql/pgsql.c PHP_PGSQL_API int php_pgsql_delete(PGconn *pg_link, const char *table, zval *ids_array, zend_ulong opt, zend_string **sql)</span>
<span class='curline'><a href='../S/954.html#L6919'>pg_link</a>          6919 ext/pgsql/pgsql.c 	assert(pg_link != NULL);</span>
<span class='curline'><a href='../S/954.html#L6931'>pg_link</a>          6931 ext/pgsql/pgsql.c 		if (php_pgsql_convert(pg_link, table, ids_array, &amp;ids_converted, (opt &amp; PGSQL_CONV_OPTS)) == FAILURE) {</span>
<span class='curline'><a href='../S/954.html#L6938'>pg_link</a>          6938 ext/pgsql/pgsql.c 	build_tablename(&amp;querystr, pg_link, table);</span>
<span class='curline'><a href='../S/954.html#L6941'>pg_link</a>          6941 ext/pgsql/pgsql.c 	if (build_assignment_string(pg_link, &amp;querystr, Z_ARRVAL_P(ids_array), 1, " AND ", sizeof(" AND ")-1, opt))</span>
<span class='curline'><a href='../S/954.html#L6947'>pg_link</a>          6947 ext/pgsql/pgsql.c 	if ((opt &amp; PGSQL_DML_EXEC) &amp;&amp; do_exec(&amp;querystr, PGRES_COMMAND_OK, pg_link, opt) == 0) {</span>
<span class='curline'><a href='../S/954.html#L6973'>pg_link</a>          6973 ext/pgsql/pgsql.c 	PGconn *pg_link;</span>
<span class='curline'><a href='../S/954.html#L6986'>pg_link</a>          6986 ext/pgsql/pgsql.c 	if ((pg_link = (PGconn *)zend_fetch_resource2(Z_RES_P(pgsql_link), "PostgreSQL link", le_link, le_plink)) == NULL) {</span>
<span class='curline'><a href='../S/954.html#L6990'>pg_link</a>          6990 ext/pgsql/pgsql.c 	if (php_pgsql_flush_query(pg_link)) {</span>
<span class='curline'><a href='../S/954.html#L6993'>pg_link</a>          6993 ext/pgsql/pgsql.c 	if (php_pgsql_delete(pg_link, table, ids, option, &amp;sql) == FAILURE) {</span>
<span class='curline'><a href='../S/954.html#L7041'>pg_link</a>          7041 ext/pgsql/pgsql.c PHP_PGSQL_API int php_pgsql_select(PGconn *pg_link, const char *table, zval *ids_array, zval *ret_array, zend_ulong opt, zend_string **sql)</span>
<span class='curline'><a href='../S/954.html#L7048'>pg_link</a>          7048 ext/pgsql/pgsql.c 	assert(pg_link != NULL);</span>
<span class='curline'><a href='../S/954.html#L7061'>pg_link</a>          7061 ext/pgsql/pgsql.c 		if (php_pgsql_convert(pg_link, table, ids_array, &amp;ids_converted, (opt &amp; PGSQL_CONV_OPTS)) == FAILURE) {</span>
<span class='curline'><a href='../S/954.html#L7068'>pg_link</a>          7068 ext/pgsql/pgsql.c 	build_tablename(&amp;querystr, pg_link, table);</span>
<span class='curline'><a href='../S/954.html#L7071'>pg_link</a>          7071 ext/pgsql/pgsql.c 	if (build_assignment_string(pg_link, &amp;querystr, Z_ARRVAL_P(ids_array), 1, " AND ", sizeof(" AND ")-1, opt))</span>
<span class='curline'><a href='../S/954.html#L7077'>pg_link</a>          7077 ext/pgsql/pgsql.c 	pg_result = PQexec(pg_link, ZSTR_VAL(querystr.s));</span>
<span class='curline'><a href='../S/954.html#L7105'>pg_link</a>          7105 ext/pgsql/pgsql.c 	PGconn *pg_link;</span>
<span class='curline'><a href='../S/954.html#L7118'>pg_link</a>          7118 ext/pgsql/pgsql.c 	if ((pg_link = (PGconn *)zend_fetch_resource2(Z_RES_P(pgsql_link), "PostgreSQL link", le_link, le_plink)) == NULL) {</span>
<span class='curline'><a href='../S/954.html#L7122'>pg_link</a>          7122 ext/pgsql/pgsql.c 	if (php_pgsql_flush_query(pg_link)) {</span>
<span class='curline'><a href='../S/954.html#L7126'>pg_link</a>          7126 ext/pgsql/pgsql.c 	if (php_pgsql_select(pg_link, table, ids, return_value, option, &amp;sql) == FAILURE) {</span>
<span class='curline'><a href='../S/955.html#L216'>pg_link</a>           216 ext/pgsql/php_pgsql.h PHP_PGSQL_API int php_pgsql_meta_data(PGconn *pg_link, const char *table_name, zval *meta, zend_bool extended);</span>
<span class='curline'><a href='../S/955.html#L217'>pg_link</a>           217 ext/pgsql/php_pgsql.h PHP_PGSQL_API int php_pgsql_convert(PGconn *pg_link, const char *table_name, const zval *values, zval *result, zend_ulong opt);</span>
<span class='curline'><a href='../S/955.html#L218'>pg_link</a>           218 ext/pgsql/php_pgsql.h PHP_PGSQL_API int php_pgsql_insert(PGconn *pg_link, const char *table, zval *values, zend_ulong opt, zend_string **sql);</span>
<span class='curline'><a href='../S/955.html#L219'>pg_link</a>           219 ext/pgsql/php_pgsql.h PHP_PGSQL_API int php_pgsql_update(PGconn *pg_link, const char *table, zval *values, zval *ids, zend_ulong opt , zend_string **sql);</span>
<span class='curline'><a href='../S/955.html#L220'>pg_link</a>           220 ext/pgsql/php_pgsql.h PHP_PGSQL_API int php_pgsql_delete(PGconn *pg_link, const char *table, zval *ids, zend_ulong opt, zend_string **sql);</span>
<span class='curline'><a href='../S/955.html#L221'>pg_link</a>           221 ext/pgsql/php_pgsql.h PHP_PGSQL_API int php_pgsql_select(PGconn *pg_link, const char *table, zval *ids, zval *ret_array, zend_ulong opt, zend_string **sql );</span>
</pre>
</body>
</html>
