<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>eLock</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1054.html#L42274'>eLock</a>            42274 ext/sqlite3/libsqlite/sqlite3.c   u8 eLock;                   /* Current lock held on database file */</span>
<span class='curline'><a href='../S/1054.html#L42485'>eLock</a>            42485 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;tempFile==0 || p-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42514'>eLock</a>            42514 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;changeCountDone==0 || pPager-&gt;eLock&gt;=RESERVED_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42515'>eLock</a>            42515 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;eLock!=PENDING_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42526'>eLock</a>            42526 ext/sqlite3/libsqlite/sqlite3.c       assert( p-&gt;eLock!=UNKNOWN_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42527'>eLock</a>            42527 ext/sqlite3/libsqlite/sqlite3.c       assert( p-&gt;eLock&gt;=SHARED_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42531'>eLock</a>            42531 ext/sqlite3/libsqlite/sqlite3.c       assert( p-&gt;eLock!=UNKNOWN_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42534'>eLock</a>            42534 ext/sqlite3/libsqlite/sqlite3.c         assert( p-&gt;eLock&gt;=RESERVED_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42543'>eLock</a>            42543 ext/sqlite3/libsqlite/sqlite3.c       assert( p-&gt;eLock!=UNKNOWN_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42551'>eLock</a>            42551 ext/sqlite3/libsqlite/sqlite3.c         assert( p-&gt;eLock&gt;=RESERVED_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42562'>eLock</a>            42562 ext/sqlite3/libsqlite/sqlite3.c       assert( p-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42565'>eLock</a>            42565 ext/sqlite3/libsqlite/sqlite3.c       assert( p-&gt;eLock&gt;=EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42574'>eLock</a>            42574 ext/sqlite3/libsqlite/sqlite3.c       assert( p-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42627'>eLock</a>            42627 ext/sqlite3/libsqlite/sqlite3.c       , p-&gt;eLock==NO_LOCK         ? "NO_LOCK" :</span>
<span class='curline'><a href='../S/1054.html#L42628'>eLock</a>            42628 ext/sqlite3/libsqlite/sqlite3.c         p-&gt;eLock==RESERVED_LOCK   ? "RESERVED" :</span>
<span class='curline'><a href='../S/1054.html#L42629'>eLock</a>            42629 ext/sqlite3/libsqlite/sqlite3.c         p-&gt;eLock==EXCLUSIVE_LOCK  ? "EXCLUSIVE" :</span>
<span class='curline'><a href='../S/1054.html#L42630'>eLock</a>            42630 ext/sqlite3/libsqlite/sqlite3.c         p-&gt;eLock==SHARED_LOCK     ? "SHARED" :</span>
<span class='curline'><a href='../S/1054.html#L42631'>eLock</a>            42631 ext/sqlite3/libsqlite/sqlite3.c         p-&gt;eLock==UNKNOWN_LOCK    ? "UNKNOWN" : "?error?"</span>
<span class='curline'><a href='../S/1054.html#L42719'>eLock</a>            42719 ext/sqlite3/libsqlite/sqlite3.c static int pagerUnlockDb(Pager *pPager, int eLock){</span>
<span class='curline'><a href='../S/1054.html#L42722'>eLock</a>            42722 ext/sqlite3/libsqlite/sqlite3.c   assert( !pPager-&gt;exclusiveMode || pPager-&gt;eLock==eLock );</span>
<span class='curline'><a href='../S/1054.html#L42723'>eLock</a>            42723 ext/sqlite3/libsqlite/sqlite3.c   assert( eLock==NO_LOCK || eLock==SHARED_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42724'>eLock</a>            42724 ext/sqlite3/libsqlite/sqlite3.c   assert( eLock!=NO_LOCK || pagerUseWal(pPager)==0 );</span>
<span class='curline'><a href='../S/1054.html#L42726'>eLock</a>            42726 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;eLock&gt;=eLock );</span>
<span class='curline'><a href='../S/1054.html#L42727'>eLock</a>            42727 ext/sqlite3/libsqlite/sqlite3.c     rc = pPager-&gt;noLock ? SQLITE_OK : sqlite3OsUnlock(pPager-&gt;fd, eLock);</span>
<span class='curline'><a href='../S/1054.html#L42728'>eLock</a>            42728 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;eLock!=UNKNOWN_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L42729'>eLock</a>            42729 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;eLock = (u8)eLock;</span>
<span class='curline'><a href='../S/1054.html#L42731'>eLock</a>            42731 ext/sqlite3/libsqlite/sqlite3.c     IOTRACE(("UNLOCK %p %d\n", pPager, eLock))</span>
<span class='curline'><a href='../S/1054.html#L42746'>eLock</a>            42746 ext/sqlite3/libsqlite/sqlite3.c static int pagerLockDb(Pager *pPager, int eLock){</span>
<span class='curline'><a href='../S/1054.html#L42749'>eLock</a>            42749 ext/sqlite3/libsqlite/sqlite3.c   assert( eLock==SHARED_LOCK || eLock==RESERVED_LOCK || eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42750'>eLock</a>            42750 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eLock&lt;eLock || pPager-&gt;eLock==UNKNOWN_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L42751'>eLock</a>            42751 ext/sqlite3/libsqlite/sqlite3.c     rc = pPager-&gt;noLock ? SQLITE_OK : sqlite3OsLock(pPager-&gt;fd, eLock);</span>
<span class='curline'><a href='../S/1054.html#L42752'>eLock</a>            42752 ext/sqlite3/libsqlite/sqlite3.c     if( rc==SQLITE_OK &amp;&amp; (pPager-&gt;eLock!=UNKNOWN_LOCK||eLock==EXCLUSIVE_LOCK) ){</span>
<span class='curline'><a href='../S/1054.html#L42753'>eLock</a>            42753 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;eLock = (u8)eLock;</span>
<span class='curline'><a href='../S/1054.html#L42754'>eLock</a>            42754 ext/sqlite3/libsqlite/sqlite3.c       IOTRACE(("LOCK %p %d\n", pPager, eLock))</span>
<span class='curline'><a href='../S/1054.html#L43428'>eLock</a>            43428 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;eLock = UNKNOWN_LOCK;</span>
<span class='curline'><a href='../S/1054.html#L43567'>eLock</a>            43567 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eState&lt;PAGER_WRITER_LOCKED &amp;&amp; pPager-&gt;eLock&lt;RESERVED_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L43649'>eLock</a>            43649 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L43814'>eLock</a>            43814 ext/sqlite3/libsqlite/sqlite3.c        || (pPager-&gt;eState==PAGER_OPEN &amp;&amp; pPager-&gt;eLock==EXCLUSIVE_LOCK)</span>
<span class='curline'><a href='../S/1054.html#L44168'>eLock</a>            44168 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L44779'>eLock</a>            44779 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eLock&gt;=SHARED_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L44834'>eLock</a>            44834 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eLock&gt;=SHARED_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L45412'>eLock</a>            45412 ext/sqlite3/libsqlite/sqlite3.c   assert( (pPager-&gt;eLock&gt;=locktype)</span>
<span class='curline'><a href='../S/1054.html#L45413'>eLock</a>            45413 ext/sqlite3/libsqlite/sqlite3.c        || (pPager-&gt;eLock==NO_LOCK &amp;&amp; locktype==SHARED_LOCK)</span>
<span class='curline'><a href='../S/1054.html#L45414'>eLock</a>            45414 ext/sqlite3/libsqlite/sqlite3.c        || (pPager-&gt;eLock==RESERVED_LOCK &amp;&amp; locktype==EXCLUSIVE_LOCK)</span>
<span class='curline'><a href='../S/1054.html#L45852'>eLock</a>            45852 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L46359'>eLock</a>            46359 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;eLock = EXCLUSIVE_LOCK;    /* Pretend we are in EXCLUSIVE locking mode */</span>
<span class='curline'><a href='../S/1054.html#L46642'>eLock</a>            46642 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;eLock==NO_LOCK || pPager-&gt;eLock==UNKNOWN_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L46649'>eLock</a>            46649 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;eLock&lt;=SHARED_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L46753'>eLock</a>            46753 ext/sqlite3/libsqlite/sqlite3.c       assert( (pPager-&gt;eLock==SHARED_LOCK)</span>
<span class='curline'><a href='../S/1054.html#L46754'>eLock</a>            46754 ext/sqlite3/libsqlite/sqlite3.c            || (pPager-&gt;exclusiveMode &amp;&amp; pPager-&gt;eLock&gt;SHARED_LOCK)</span>
<span class='curline'><a href='../S/1054.html#L48620'>eLock</a>            48620 ext/sqlite3/libsqlite/sqlite3.c       if( pPager-&gt;eLock&gt;=RESERVED_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L48745'>eLock</a>            48745 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eLock==SHARED_LOCK || pPager-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L48766'>eLock</a>            48766 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eLock==SHARED_LOCK || pPager-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L52399'>eLock</a>            52399 ext/sqlite3/libsqlite/sqlite3.c   u8 eLock;             /* READ_LOCK or WRITE_LOCK */</span>
<span class='curline'><a href='../S/1054.html#L53247'>eLock</a>            53247 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; (pLock-&gt;iTable==iTab || (pLock-&gt;eLock==WRITE_LOCK &amp;&amp; pLock-&gt;iTable==1))</span>
<span class='curline'><a href='../S/1054.html#L53248'>eLock</a>            53248 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; pLock-&gt;eLock&gt;=eLockType </span>
<span class='curline'><a href='../S/1054.html#L53298'>eLock</a>            53298 ext/sqlite3/libsqlite/sqlite3.c static int querySharedCacheTableLock(Btree *p, Pgno iTab, u8 eLock){</span>
<span class='curline'><a href='../S/1054.html#L53303'>eLock</a>            53303 ext/sqlite3/libsqlite/sqlite3.c   assert( eLock==READ_LOCK || eLock==WRITE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L53305'>eLock</a>            53305 ext/sqlite3/libsqlite/sqlite3.c   assert( !(p-&gt;db-&gt;flags&amp;SQLITE_ReadUncommitted)||eLock==WRITE_LOCK||iTab==1 );</span>
<span class='curline'><a href='../S/1054.html#L53311'>eLock</a>            53311 ext/sqlite3/libsqlite/sqlite3.c   assert( eLock==READ_LOCK || (p==pBt-&gt;pWriter &amp;&amp; p-&gt;inTrans==TRANS_WRITE) );</span>
<span class='curline'><a href='../S/1054.html#L53312'>eLock</a>            53312 ext/sqlite3/libsqlite/sqlite3.c   assert( eLock==READ_LOCK || pBt-&gt;inTransaction==TRANS_WRITE );</span>
<span class='curline'><a href='../S/1054.html#L53337'>eLock</a>            53337 ext/sqlite3/libsqlite/sqlite3.c     assert( pIter-&gt;eLock==READ_LOCK || pIter-&gt;eLock==WRITE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L53338'>eLock</a>            53338 ext/sqlite3/libsqlite/sqlite3.c     assert( eLock==READ_LOCK || pIter-&gt;pBtree==p || pIter-&gt;eLock==READ_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L53339'>eLock</a>            53339 ext/sqlite3/libsqlite/sqlite3.c     if( pIter-&gt;pBtree!=p &amp;&amp; pIter-&gt;iTable==iTab &amp;&amp; pIter-&gt;eLock!=eLock ){</span>
<span class='curline'><a href='../S/1054.html#L53341'>eLock</a>            53341 ext/sqlite3/libsqlite/sqlite3.c       if( eLock==WRITE_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L53370'>eLock</a>            53370 ext/sqlite3/libsqlite/sqlite3.c static int setSharedCacheTableLock(Btree *p, Pgno iTable, u8 eLock){</span>
<span class='curline'><a href='../S/1054.html#L53376'>eLock</a>            53376 ext/sqlite3/libsqlite/sqlite3.c   assert( eLock==READ_LOCK || eLock==WRITE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L53383'>eLock</a>            53383 ext/sqlite3/libsqlite/sqlite3.c   assert( 0==(p-&gt;db-&gt;flags&amp;SQLITE_ReadUncommitted) || eLock==WRITE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L53388'>eLock</a>            53388 ext/sqlite3/libsqlite/sqlite3.c   assert( SQLITE_OK==querySharedCacheTableLock(p, iTable, eLock) );</span>
<span class='curline'><a href='../S/1054.html#L53417'>eLock</a>            53417 ext/sqlite3/libsqlite/sqlite3.c   if( eLock&gt;pLock-&gt;eLock ){</span>
<span class='curline'><a href='../S/1054.html#L53418'>eLock</a>            53418 ext/sqlite3/libsqlite/sqlite3.c     pLock-&gt;eLock = eLock;</span>
<span class='curline'><a href='../S/1054.html#L53445'>eLock</a>            53445 ext/sqlite3/libsqlite/sqlite3.c     assert( pLock-&gt;pBtree-&gt;inTrans&gt;=pLock-&gt;eLock );</span>
<span class='curline'><a href='../S/1054.html#L53485'>eLock</a>            53485 ext/sqlite3/libsqlite/sqlite3.c       assert( pLock-&gt;eLock==READ_LOCK || pLock-&gt;pBtree==p );</span>
<span class='curline'><a href='../S/1054.html#L53486'>eLock</a>            53486 ext/sqlite3/libsqlite/sqlite3.c       pLock-&gt;eLock = READ_LOCK;</span>
<span class='curline'><a href='../S/1054.html#L56019'>eLock</a>            56019 ext/sqlite3/libsqlite/sqlite3.c         p-&gt;lock.eLock = READ_LOCK;</span>
</pre>
</body>
</html>
