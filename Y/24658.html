<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>last_op</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/817.html#L612'>last_op</a>           612 ext/opcache/Optimizer/block_pass.c 	zend_op *end, *last_op = NULL;</span>
<span class='curline'><a href='../S/817.html#L897'>last_op</a>           897 ext/opcache/Optimizer/block_pass.c 		} else if (last_op &amp;&amp; opline-&gt;opcode == ZEND_ECHO &amp;&amp;</span>
<span class='curline'><a href='../S/817.html#L898'>last_op</a>           898 ext/opcache/Optimizer/block_pass.c 				  last_op-&gt;opcode == ZEND_ECHO &amp;&amp;</span>
<span class='curline'><a href='../S/817.html#L901'>last_op</a>           901 ext/opcache/Optimizer/block_pass.c 				  ZEND_OP1_TYPE(last_op) == IS_CONST &amp;&amp;</span>
<span class='curline'><a href='../S/817.html#L902'>last_op</a>           902 ext/opcache/Optimizer/block_pass.c 				  Z_TYPE(ZEND_OP1_LITERAL(last_op)) != IS_DOUBLE) {</span>
<span class='curline'><a href='../S/817.html#L912'>last_op</a>           912 ext/opcache/Optimizer/block_pass.c 			if (Z_TYPE(ZEND_OP1_LITERAL(last_op)) != IS_STRING) {</span>
<span class='curline'><a href='../S/817.html#L913'>last_op</a>           913 ext/opcache/Optimizer/block_pass.c 				convert_to_string_safe(&amp;ZEND_OP1_LITERAL(last_op));</span>
<span class='curline'><a href='../S/817.html#L915'>last_op</a>           915 ext/opcache/Optimizer/block_pass.c 			old_len = Z_STRLEN(ZEND_OP1_LITERAL(last_op));</span>
<span class='curline'><a href='../S/817.html#L917'>last_op</a>           917 ext/opcache/Optimizer/block_pass.c 			if (!Z_REFCOUNTED(ZEND_OP1_LITERAL(last_op))) {</span>
<span class='curline'><a href='../S/817.html#L919'>last_op</a>           919 ext/opcache/Optimizer/block_pass.c 				memcpy(ZSTR_VAL(tmp), Z_STRVAL(ZEND_OP1_LITERAL(last_op)), old_len);</span>
<span class='curline'><a href='../S/817.html#L920'>last_op</a>           920 ext/opcache/Optimizer/block_pass.c 				Z_STR(ZEND_OP1_LITERAL(last_op)) = tmp;</span>
<span class='curline'><a href='../S/817.html#L922'>last_op</a>           922 ext/opcache/Optimizer/block_pass.c 				Z_STR(ZEND_OP1_LITERAL(last_op)) = zend_string_extend(Z_STR(ZEND_OP1_LITERAL(last_op)), l, 0);</span>
<span class='curline'><a href='../S/817.html#L924'>last_op</a>           924 ext/opcache/Optimizer/block_pass.c 			Z_TYPE_INFO(ZEND_OP1_LITERAL(last_op)) = IS_STRING_EX;</span>
<span class='curline'><a href='../S/817.html#L925'>last_op</a>           925 ext/opcache/Optimizer/block_pass.c 			memcpy(Z_STRVAL(ZEND_OP1_LITERAL(last_op)) + old_len, Z_STRVAL(ZEND_OP1_LITERAL(opline)), Z_STRLEN(ZEND_OP1_LITERAL(opline)));</span>
<span class='curline'><a href='../S/817.html#L926'>last_op</a>           926 ext/opcache/Optimizer/block_pass.c 			Z_STRVAL(ZEND_OP1_LITERAL(last_op))[l] = '\0';</span>
<span class='curline'><a href='../S/817.html#L928'>last_op</a>           928 ext/opcache/Optimizer/block_pass.c 			ZVAL_STR(&amp;ZEND_OP1_LITERAL(opline), zend_new_interned_string(Z_STR(ZEND_OP1_LITERAL(last_op))));</span>
<span class='curline'><a href='../S/817.html#L929'>last_op</a>           929 ext/opcache/Optimizer/block_pass.c 			ZVAL_NULL(&amp;ZEND_OP1_LITERAL(last_op));</span>
<span class='curline'><a href='../S/817.html#L930'>last_op</a>           930 ext/opcache/Optimizer/block_pass.c 			MAKE_NOP(last_op);</span>
<span class='curline'><a href='../S/817.html#L957'>last_op</a>           957 ext/opcache/Optimizer/block_pass.c 				Z_STR(ZEND_OP2_LITERAL(last_op)) = tmp;</span>
<span class='curline'><a href='../S/817.html#L961'>last_op</a>           961 ext/opcache/Optimizer/block_pass.c 			Z_TYPE_INFO(ZEND_OP2_LITERAL(last_op)) = IS_STRING_EX;</span>
<span class='curline'><a href='../S/817.html#L1130'>last_op</a>          1130 ext/opcache/Optimizer/block_pass.c 			last_op = opline;</span>
<span class='curline'><a href='../S/817.html#L1252'>last_op</a>          1252 ext/opcache/Optimizer/block_pass.c 	zend_op *last_op = (block-&gt;start_opline + block-&gt;len - 1);</span>
<span class='curline'><a href='../S/817.html#L1257'>last_op</a>          1257 ext/opcache/Optimizer/block_pass.c 	switch (last_op-&gt;opcode) {</span>
<span class='curline'><a href='../S/817.html#L1272'>last_op</a>          1272 ext/opcache/Optimizer/block_pass.c 					MAKE_NOP(last_op);</span>
<span class='curline'><a href='../S/817.html#L1287'>last_op</a>          1287 ext/opcache/Optimizer/block_pass.c 					*last_op = *target;</span>
<span class='curline'><a href='../S/817.html#L1288'>last_op</a>          1288 ext/opcache/Optimizer/block_pass.c 					if (ZEND_OP1_TYPE(last_op) == IS_CONST) {</span>
<span class='curline'><a href='../S/817.html#L1289'>last_op</a>          1289 ext/opcache/Optimizer/block_pass.c 						zval zv = ZEND_OP1_LITERAL(last_op);</span>
<span class='curline'><a href='../S/817.html#L1291'>last_op</a>          1291 ext/opcache/Optimizer/block_pass.c 						last_op-&gt;op1.constant = zend_optimizer_add_literal(op_array, &amp;zv);</span>
<span class='curline'><a href='../S/817.html#L1313'>last_op</a>          1313 ext/opcache/Optimizer/block_pass.c 					*last_op = *target;</span>
<span class='curline'><a href='../S/817.html#L1314'>last_op</a>          1314 ext/opcache/Optimizer/block_pass.c 					if (ZEND_OP1_TYPE(last_op) == IS_CONST) {</span>
<span class='curline'><a href='../S/817.html#L1315'>last_op</a>          1315 ext/opcache/Optimizer/block_pass.c 						zval zv = ZEND_OP1_LITERAL(last_op);</span>
<span class='curline'><a href='../S/817.html#L1317'>last_op</a>          1317 ext/opcache/Optimizer/block_pass.c 						last_op-&gt;op1.constant = zend_optimizer_add_literal(op_array, &amp;zv);</span>
<span class='curline'><a href='../S/817.html#L1364'>last_op</a>          1364 ext/opcache/Optimizer/block_pass.c 							MAKE_NOP(last_op);</span>
<span class='curline'><a href='../S/817.html#L1381'>last_op</a>          1381 ext/opcache/Optimizer/block_pass.c 			if (ZEND_OP1_TYPE(last_op) == IS_CONST) {</span>
<span class='curline'><a href='../S/817.html#L1382'>last_op</a>          1382 ext/opcache/Optimizer/block_pass.c 				int should_jmp = zend_is_true(&amp;ZEND_OP1_LITERAL(last_op));</span>
<span class='curline'><a href='../S/817.html#L1384'>last_op</a>          1384 ext/opcache/Optimizer/block_pass.c 				if (last_op-&gt;opcode == ZEND_JMPZ) {</span>
<span class='curline'><a href='../S/817.html#L1387'>last_op</a>          1387 ext/opcache/Optimizer/block_pass.c 				literal_dtor(&amp;ZEND_OP1_LITERAL(last_op));</span>
<span class='curline'><a href='../S/817.html#L1388'>last_op</a>          1388 ext/opcache/Optimizer/block_pass.c 				ZEND_OP1_TYPE(last_op) = IS_UNUSED;</span>
<span class='curline'><a href='../S/817.html#L1391'>last_op</a>          1391 ext/opcache/Optimizer/block_pass.c 					last_op-&gt;opcode = ZEND_JMP;</span>
<span class='curline'><a href='../S/817.html#L1392'>last_op</a>          1392 ext/opcache/Optimizer/block_pass.c 					COPY_NODE(last_op-&gt;op1, last_op-&gt;op2);</span>
<span class='curline'><a href='../S/817.html#L1399'>last_op</a>          1399 ext/opcache/Optimizer/block_pass.c 					MAKE_NOP(last_op);</span>
<span class='curline'><a href='../S/817.html#L1409'>last_op</a>          1409 ext/opcache/Optimizer/block_pass.c 				if (last_op-&gt;op1_type == IS_VAR) {</span>
<span class='curline'><a href='../S/817.html#L1411'>last_op</a>          1411 ext/opcache/Optimizer/block_pass.c 					zend_op *src = VAR_SOURCE(last_op-&gt;op1);</span>
<span class='curline'><a href='../S/817.html#L1418'>last_op</a>          1418 ext/opcache/Optimizer/block_pass.c 						MAKE_NOP(last_op);</span>
<span class='curline'><a href='../S/817.html#L1423'>last_op</a>          1423 ext/opcache/Optimizer/block_pass.c 				if (last_op-&gt;op1_type &amp; (IS_VAR|IS_TMP_VAR)) {</span>
<span class='curline'><a href='../S/817.html#L1424'>last_op</a>          1424 ext/opcache/Optimizer/block_pass.c 					last_op-&gt;opcode = ZEND_FREE;</span>
<span class='curline'><a href='../S/817.html#L1425'>last_op</a>          1425 ext/opcache/Optimizer/block_pass.c 					last_op-&gt;op2.num = 0;</span>
<span class='curline'><a href='../S/817.html#L1428'>last_op</a>          1428 ext/opcache/Optimizer/block_pass.c 					MAKE_NOP(last_op);</span>
<span class='curline'><a href='../S/817.html#L1435'>last_op</a>          1435 ext/opcache/Optimizer/block_pass.c 				zend_uchar same_type = ZEND_OP1_TYPE(last_op);</span>
<span class='curline'><a href='../S/817.html#L1436'>last_op</a>          1436 ext/opcache/Optimizer/block_pass.c 				uint32_t same_var = VAR_NUM_EX(last_op-&gt;op1);</span>
<span class='curline'><a href='../S/817.html#L1452'>last_op</a>          1452 ext/opcache/Optimizer/block_pass.c 				} else if (target-&gt;opcode == INV_COND(last_op-&gt;opcode) &amp;&amp;</span>
<span class='curline'><a href='../S/817.html#L1463'>last_op</a>          1463 ext/opcache/Optimizer/block_pass.c 				} else if (target-&gt;opcode == INV_COND_EX(last_op-&gt;opcode) &amp;&amp;</span>
<span class='curline'><a href='../S/817.html#L1470'>last_op</a>          1470 ext/opcache/Optimizer/block_pass.c 					last_op-&gt;opcode += 3;</span>
<span class='curline'><a href='../S/817.html#L1471'>last_op</a>          1471 ext/opcache/Optimizer/block_pass.c 					last_op-&gt;result = target-&gt;result;</span>
<span class='curline'><a href='../S/817.html#L1476'>last_op</a>          1476 ext/opcache/Optimizer/block_pass.c 						   target-&gt;opcode == last_op-&gt;opcode &amp;&amp;</span>
<span class='curline'><a href='../S/817.html#L1501'>last_op</a>          1501 ext/opcache/Optimizer/block_pass.c 					if (last_op-&gt;opcode == ZEND_JMPZ) {</span>
<span class='curline'><a href='../S/817.html#L1511'>last_op</a>          1511 ext/opcache/Optimizer/block_pass.c 			    (last_op-&gt;opcode == ZEND_JMPZ || last_op-&gt;opcode == ZEND_JMPNZ)) {</span>
<span class='curline'><a href='../S/817.html#L1536'>last_op</a>          1536 ext/opcache/Optimizer/block_pass.c 					if (last_op-&gt;opcode == ZEND_JMPZ) {</span>
<span class='curline'><a href='../S/817.html#L1545'>last_op</a>          1545 ext/opcache/Optimizer/block_pass.c 					last_op-&gt;opcode = ZEND_JMPZNZ;</span>
<span class='curline'><a href='../S/817.html#L1553'>last_op</a>          1553 ext/opcache/Optimizer/block_pass.c 			if (ZEND_OP1_TYPE(last_op) == IS_CONST) {</span>
<span class='curline'><a href='../S/817.html#L1554'>last_op</a>          1554 ext/opcache/Optimizer/block_pass.c 				int should_jmp = zend_is_true(&amp;ZEND_OP1_LITERAL(last_op));</span>
<span class='curline'><a href='../S/817.html#L1556'>last_op</a>          1556 ext/opcache/Optimizer/block_pass.c 				if (last_op-&gt;opcode == ZEND_JMPZ_EX) {</span>
<span class='curline'><a href='../S/817.html#L1563'>last_op</a>          1563 ext/opcache/Optimizer/block_pass.c 					last_op-&gt;opcode = ZEND_QM_ASSIGN;</span>
<span class='curline'><a href='../S/817.html#L1564'>last_op</a>          1564 ext/opcache/Optimizer/block_pass.c 					SET_UNUSED(last_op-&gt;op2);</span>
<span class='curline'><a href='../S/817.html#L1582'>last_op</a>          1582 ext/opcache/Optimizer/block_pass.c 				same_t[VAR_NUM_EX(last_op-&gt;op1)] |= ZEND_OP1_TYPE(last_op);</span>
<span class='curline'><a href='../S/817.html#L1583'>last_op</a>          1583 ext/opcache/Optimizer/block_pass.c 				same_t[VAR_NUM_EX(last_op-&gt;result)] |= ZEND_RESULT_TYPE(last_op);</span>
<span class='curline'><a href='../S/817.html#L1596'>last_op</a>          1596 ext/opcache/Optimizer/block_pass.c 						   target-&gt;opcode == last_op-&gt;opcode-3 &amp;&amp;</span>
<span class='curline'><a href='../S/817.html#L1605'>last_op</a>          1605 ext/opcache/Optimizer/block_pass.c 						   target-&gt;opcode == INV_EX_COND(last_op-&gt;opcode) &amp;&amp;</span>
<span class='curline'><a href='../S/817.html#L1614'>last_op</a>          1614 ext/opcache/Optimizer/block_pass.c 						   target-&gt;opcode == INV_EX_COND_EX(last_op-&gt;opcode) &amp;&amp;</span>
<span class='curline'><a href='../S/817.html#L1624'>last_op</a>          1624 ext/opcache/Optimizer/block_pass.c 						   target-&gt;opcode == last_op-&gt;opcode &amp;&amp;</span>
<span class='curline'><a href='../S/817.html#L1648'>last_op</a>          1648 ext/opcache/Optimizer/block_pass.c 					if (last_op-&gt;opcode == ZEND_JMPZ_EX) {</span>
<span class='curline'><a href='../S/817.html#L1666'>last_op</a>          1666 ext/opcache/Optimizer/block_pass.c 			if (ZEND_OP1_TYPE(last_op) == IS_CONST) {</span>
<span class='curline'><a href='../S/817.html#L1667'>last_op</a>          1667 ext/opcache/Optimizer/block_pass.c 				if (!zend_is_true(&amp;ZEND_OP1_LITERAL(last_op))) {</span>
<span class='curline'><a href='../S/817.html#L1671'>last_op</a>          1671 ext/opcache/Optimizer/block_pass.c 					literal_dtor(&amp;ZEND_OP1_LITERAL(last_op));</span>
<span class='curline'><a href='../S/817.html#L1672'>last_op</a>          1672 ext/opcache/Optimizer/block_pass.c 					last_op-&gt;opcode = ZEND_JMP;</span>
<span class='curline'><a href='../S/817.html#L1673'>last_op</a>          1673 ext/opcache/Optimizer/block_pass.c 					SET_UNUSED(last_op-&gt;op1);</span>
<span class='curline'><a href='../S/817.html#L1674'>last_op</a>          1674 ext/opcache/Optimizer/block_pass.c 					SET_UNUSED(last_op-&gt;op2);</span>
<span class='curline'><a href='../S/817.html#L1684'>last_op</a>          1684 ext/opcache/Optimizer/block_pass.c 					literal_dtor(&amp;ZEND_OP1_LITERAL(last_op));</span>
<span class='curline'><a href='../S/817.html#L1685'>last_op</a>          1685 ext/opcache/Optimizer/block_pass.c 					last_op-&gt;opcode = ZEND_JMP;</span>
<span class='curline'><a href='../S/817.html#L1686'>last_op</a>          1686 ext/opcache/Optimizer/block_pass.c 					SET_UNUSED(last_op-&gt;op1);</span>
<span class='curline'><a href='../S/817.html#L1687'>last_op</a>          1687 ext/opcache/Optimizer/block_pass.c 					SET_UNUSED(last_op-&gt;op2);</span>
<span class='curline'><a href='../S/817.html#L1696'>last_op</a>          1696 ext/opcache/Optimizer/block_pass.c 				if (!(last_op-&gt;op1_type &amp; (IS_VAR|IS_TMP_VAR))) {</span>
<span class='curline'><a href='../S/817.html#L1698'>last_op</a>          1698 ext/opcache/Optimizer/block_pass.c 					last_op-&gt;opcode = ZEND_JMP;</span>
<span class='curline'><a href='../S/817.html#L1699'>last_op</a>          1699 ext/opcache/Optimizer/block_pass.c 					SET_UNUSED(last_op-&gt;op1);</span>
<span class='curline'><a href='../S/817.html#L1700'>last_op</a>          1700 ext/opcache/Optimizer/block_pass.c 					SET_UNUSED(last_op-&gt;op2);</span>
<span class='curline'><a href='../S/817.html#L1708'>last_op</a>          1708 ext/opcache/Optimizer/block_pass.c 				last_op-&gt;opcode = ZEND_JMPNZ;</span>
<span class='curline'><a href='../S/817.html#L1716'>last_op</a>          1716 ext/opcache/Optimizer/block_pass.c 				last_op-&gt;opcode = ZEND_JMPZ;</span>
<span class='curline'><a href='../S/817.html#L1722'>last_op</a>          1722 ext/opcache/Optimizer/block_pass.c 			if (last_op-&gt;opcode == ZEND_JMPZNZ &amp;&amp; block-&gt;op2_to) {</span>
<span class='curline'><a href='../S/817.html#L1723'>last_op</a>          1723 ext/opcache/Optimizer/block_pass.c 				zend_uchar same_type = ZEND_OP1_TYPE(last_op);</span>
<span class='curline'><a href='../S/817.html#L1724'>last_op</a>          1724 ext/opcache/Optimizer/block_pass.c 				zend_uchar same_var = VAR_NUM_EX(last_op-&gt;op1);</span>
<span class='curline'><a href='../S/822.html#L178'>last_op</a>           178 ext/opcache/Optimizer/pass1_5.c 				zend_op *last_op;</span>
<span class='curline'><a href='../S/822.html#L199'>last_op</a>           199 ext/opcache/Optimizer/pass1_5.c 				last_op = next_op;</span>
<span class='curline'><a href='../S/822.html#L219'>last_op</a>           219 ext/opcache/Optimizer/pass1_5.c 				while (next_op &lt; last_op) {</span>
<span class='curline'><a href='../S/822.html#L233'>last_op</a>           233 ext/opcache/Optimizer/pass1_5.c 					if (last_op-opline &gt;= 3) { /* If we have more than 2 NOPS then JMP over them */</span>
<span class='curline'><a href='../S/822.html#L235'>last_op</a>           235 ext/opcache/Optimizer/pass1_5.c 						ZEND_OP1(opline + 1).opline_num = last_op - op_array-&gt;opcodes; /* that's OK even for ZE2, since opline_num's are resolved in pass 2 later */</span>
<span class='curline'><a href='../S/1426.html#L131'>last_op</a>           131 main/streams/plain_wrapper.c 	char last_op;</span>
<span class='curline'><a href='../S/1426.html#L352'>last_op</a>           352 main/streams/plain_wrapper.c 		if (!data-&gt;is_pipe &amp;&amp; data-&gt;last_op == 'r') {</span>
<span class='curline'><a href='../S/1426.html#L355'>last_op</a>           355 main/streams/plain_wrapper.c 		data-&gt;last_op = 'w';</span>
<span class='curline'><a href='../S/1426.html#L411'>last_op</a>           411 main/streams/plain_wrapper.c 		if (!data-&gt;is_pipe &amp;&amp; data-&gt;last_op == 'w')</span>
<span class='curline'><a href='../S/1426.html#L413'>last_op</a>           413 main/streams/plain_wrapper.c 		data-&gt;last_op = 'r';</span>
</pre>
</body>
</html>
