<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>newentry</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/960.html#L2500'>newentry</a>         2500 ext/phar/phar.c 	phar_entry_info *entry, *newentry;</span>
<span class='curline'><a href='../S/960.html#L2750'>newentry</a>         2750 ext/phar/phar.c 			newentry = phar_open_jit(phar, entry, error);</span>
<span class='curline'><a href='../S/960.html#L2751'>newentry</a>         2751 ext/phar/phar.c 			if (!newentry) {</span>
<span class='curline'><a href='../S/960.html#L2757'>newentry</a>         2757 ext/phar/phar.c 			entry = newentry;</span>
<span class='curline'><a href='../S/962.html#L2202'>newentry</a>         2202 ext/phar/phar_object.c 	phar_entry_info *entry, newentry;</span>
<span class='curline'><a href='../S/962.html#L2251'>newentry</a>         2251 ext/phar/phar_object.c 		newentry = *entry;</span>
<span class='curline'><a href='../S/962.html#L2253'>newentry</a>         2253 ext/phar/phar_object.c 		if (newentry.link) {</span>
<span class='curline'><a href='../S/962.html#L2254'>newentry</a>         2254 ext/phar/phar_object.c 			newentry.link = estrdup(newentry.link);</span>
<span class='curline'><a href='../S/962.html#L2258'>newentry</a>         2258 ext/phar/phar_object.c 		if (newentry.tmp) {</span>
<span class='curline'><a href='../S/962.html#L2259'>newentry</a>         2259 ext/phar/phar_object.c 			newentry.tmp = estrdup(newentry.tmp);</span>
<span class='curline'><a href='../S/962.html#L2263'>newentry</a>         2263 ext/phar/phar_object.c 		newentry.metadata_str.s = NULL;</span>
<span class='curline'><a href='../S/962.html#L2265'>newentry</a>         2265 ext/phar/phar_object.c 		if (FAILURE == phar_copy_file_contents(&amp;newentry, phar-&gt;fp)) {</span>
<span class='curline'><a href='../S/962.html#L2273'>newentry</a>         2273 ext/phar/phar_object.c 		newentry.filename = estrndup(newentry.filename, newentry.filename_len);</span>
<span class='curline'><a href='../S/962.html#L2275'>newentry</a>         2275 ext/phar/phar_object.c 		if (Z_TYPE(newentry.metadata) != IS_UNDEF) {</span>
<span class='curline'><a href='../S/962.html#L2276'>newentry</a>         2276 ext/phar/phar_object.c 			zval_copy_ctor(&amp;newentry.metadata);</span>
<span class='curline'><a href='../S/962.html#L2277'>newentry</a>         2277 ext/phar/phar_object.c 			newentry.metadata_str.s = NULL;</span>
<span class='curline'><a href='../S/962.html#L2280'>newentry</a>         2280 ext/phar/phar_object.c 		newentry.is_zip = phar-&gt;is_zip;</span>
<span class='curline'><a href='../S/962.html#L2281'>newentry</a>         2281 ext/phar/phar_object.c 		newentry.is_tar = phar-&gt;is_tar;</span>
<span class='curline'><a href='../S/962.html#L2283'>newentry</a>         2283 ext/phar/phar_object.c 		if (newentry.is_tar) {</span>
<span class='curline'><a href='../S/962.html#L2284'>newentry</a>         2284 ext/phar/phar_object.c 			newentry.tar_type = (entry-&gt;is_dir ? TAR_DIR : TAR_FILE);</span>
<span class='curline'><a href='../S/962.html#L2287'>newentry</a>         2287 ext/phar/phar_object.c 		newentry.is_modified = 1;</span>
<span class='curline'><a href='../S/962.html#L2288'>newentry</a>         2288 ext/phar/phar_object.c 		newentry.phar = phar;</span>
<span class='curline'><a href='../S/962.html#L2289'>newentry</a>         2289 ext/phar/phar_object.c 		newentry.old_flags = newentry.flags &amp; ~PHAR_ENT_COMPRESSION_MASK; /* remove compression from old_flags */</span>
<span class='curline'><a href='../S/962.html#L2290'>newentry</a>         2290 ext/phar/phar_object.c 		phar_set_inode(&amp;newentry);</span>
<span class='curline'><a href='../S/962.html#L2291'>newentry</a>         2291 ext/phar/phar_object.c 		zend_hash_str_add_mem(&amp;(phar-&gt;manifest), newentry.filename, newentry.filename_len, (void*)&amp;newentry, sizeof(phar_entry_info));</span>
<span class='curline'><a href='../S/962.html#L2292'>newentry</a>         2292 ext/phar/phar_object.c 		phar_add_virtual_dirs(phar, newentry.filename, newentry.filename_len);</span>
<span class='curline'><a href='../S/962.html#L3398'>newentry</a>         3398 ext/phar/phar_object.c 	phar_entry_info *oldentry, newentry = {0}, *temp;</span>
<span class='curline'><a href='../S/962.html#L3458'>newentry</a>         3458 ext/phar/phar_object.c 	memcpy((void *) &amp;newentry, oldentry, sizeof(phar_entry_info));</span>
<span class='curline'><a href='../S/962.html#L3460'>newentry</a>         3460 ext/phar/phar_object.c 	if (Z_TYPE(newentry.metadata) != IS_UNDEF) {</span>
<span class='curline'><a href='../S/962.html#L3461'>newentry</a>         3461 ext/phar/phar_object.c 		zval_copy_ctor(&amp;newentry.metadata);</span>
<span class='curline'><a href='../S/962.html#L3462'>newentry</a>         3462 ext/phar/phar_object.c 		newentry.metadata_str.s = NULL;</span>
<span class='curline'><a href='../S/962.html#L3465'>newentry</a>         3465 ext/phar/phar_object.c 	newentry.filename = estrndup(newfile, newfile_len);</span>
<span class='curline'><a href='../S/962.html#L3466'>newentry</a>         3466 ext/phar/phar_object.c 	newentry.filename_len = newfile_len;</span>
<span class='curline'><a href='../S/962.html#L3467'>newentry</a>         3467 ext/phar/phar_object.c 	newentry.fp_refcount = 0;</span>
<span class='curline'><a href='../S/962.html#L3470'>newentry</a>         3470 ext/phar/phar_object.c 		if (FAILURE == phar_copy_entry_fp(oldentry, &amp;newentry, &amp;error)) {</span>
<span class='curline'><a href='../S/962.html#L3471'>newentry</a>         3471 ext/phar/phar_object.c 			efree(newentry.filename);</span>
<span class='curline'><a href='../S/962.html#L3472'>newentry</a>         3472 ext/phar/phar_object.c 			php_stream_close(newentry.fp);</span>
<span class='curline'><a href='../S/962.html#L3479'>newentry</a>         3479 ext/phar/phar_object.c 	zend_hash_str_add_mem(&amp;oldentry-&gt;phar-&gt;manifest, newfile, newfile_len, &amp;newentry, sizeof(phar_entry_info));</span>
<span class='curline'><a href='../S/969.html#L255'>newentry</a>          255 ext/phar/tar.c 		phar_entry_info *newentry;</span>
<span class='curline'><a href='../S/969.html#L502'>newentry</a>          502 ext/phar/tar.c 		newentry = zend_hash_str_update_mem(&amp;myphar-&gt;manifest, entry.filename, entry.filename_len, (void*)&amp;entry, sizeof(phar_entry_info));</span>
<span class='curline'><a href='../S/969.html#L503'>newentry</a>          503 ext/phar/tar.c 		ZEND_ASSERT(newentry != NULL);</span>
<span class='curline'><a href='../S/969.html#L510'>newentry</a>          510 ext/phar/tar.c 			if (FAILURE == phar_tar_process_metadata(newentry, fp)) {</span>
<span class='curline'><a href='../S/969.html#L893'>newentry</a>          893 ext/phar/tar.c 	phar_entry_info *entry = (phar_entry_info *)Z_PTR_P(zv), *metadata, newentry = {0};</span>
<span class='curline'><a href='../S/969.html#L928'>newentry</a>          928 ext/phar/tar.c 	newentry.filename = lookfor;</span>
<span class='curline'><a href='../S/969.html#L929'>newentry</a>          929 ext/phar/tar.c 	newentry.filename_len = lookfor_len;</span>
<span class='curline'><a href='../S/969.html#L930'>newentry</a>          930 ext/phar/tar.c 	newentry.phar = entry-&gt;phar;</span>
<span class='curline'><a href='../S/969.html#L931'>newentry</a>          931 ext/phar/tar.c 	newentry.tar_type = TAR_FILE;</span>
<span class='curline'><a href='../S/969.html#L932'>newentry</a>          932 ext/phar/tar.c 	newentry.is_tar = 1;</span>
<span class='curline'><a href='../S/969.html#L934'>newentry</a>          934 ext/phar/tar.c 	if (NULL == (metadata = zend_hash_str_add_mem(&amp;(entry-&gt;phar-&gt;manifest), lookfor, lookfor_len, (void *)&amp;newentry, sizeof(phar_entry_info)))) {</span>
<span class='curline'><a href='../S/969.html#L1167'>newentry</a>         1167 ext/phar/tar.c 			phar_entry_info newentry = {0};</span>
<span class='curline'><a href='../S/969.html#L1169'>newentry</a>         1169 ext/phar/tar.c 			newentry.filename = estrndup(".phar/.metadata.bin", sizeof(".phar/.metadata.bin")-1);</span>
<span class='curline'><a href='../S/969.html#L1170'>newentry</a>         1170 ext/phar/tar.c 			newentry.filename_len = sizeof(".phar/.metadata.bin")-1;</span>
<span class='curline'><a href='../S/969.html#L1171'>newentry</a>         1171 ext/phar/tar.c 			newentry.phar = phar;</span>
<span class='curline'><a href='../S/969.html#L1172'>newentry</a>         1172 ext/phar/tar.c 			newentry.tar_type = TAR_FILE;</span>
<span class='curline'><a href='../S/969.html#L1173'>newentry</a>         1173 ext/phar/tar.c 			newentry.is_tar = 1;</span>
<span class='curline'><a href='../S/969.html#L1175'>newentry</a>         1175 ext/phar/tar.c 			if (NULL == (mentry = zend_hash_str_add_mem(&amp;(phar-&gt;manifest), ".phar/.metadata.bin", sizeof(".phar/.metadata.bin")-1, (void *)&amp;newentry, sizeof(phar_entry_info)))) {</span>
</pre>
</body>
</html>
