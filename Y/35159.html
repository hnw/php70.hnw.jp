<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>sCheck</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1054.html#L61923'>sCheck</a>           61923 ext/sqlite3/libsqlite/sqlite3.c   IntegrityCk sCheck;</span>
<span class='curline'><a href='../S/1054.html#L61930'>sCheck</a>           61930 ext/sqlite3/libsqlite/sqlite3.c   sCheck.pBt = pBt;</span>
<span class='curline'><a href='../S/1054.html#L61931'>sCheck</a>           61931 ext/sqlite3/libsqlite/sqlite3.c   sCheck.pPager = pBt-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L61932'>sCheck</a>           61932 ext/sqlite3/libsqlite/sqlite3.c   sCheck.nPage = btreePagecount(sCheck.pBt);</span>
<span class='curline'><a href='../S/1054.html#L61933'>sCheck</a>           61933 ext/sqlite3/libsqlite/sqlite3.c   sCheck.mxErr = mxErr;</span>
<span class='curline'><a href='../S/1054.html#L61934'>sCheck</a>           61934 ext/sqlite3/libsqlite/sqlite3.c   sCheck.nErr = 0;</span>
<span class='curline'><a href='../S/1054.html#L61935'>sCheck</a>           61935 ext/sqlite3/libsqlite/sqlite3.c   sCheck.mallocFailed = 0;</span>
<span class='curline'><a href='../S/1054.html#L61936'>sCheck</a>           61936 ext/sqlite3/libsqlite/sqlite3.c   sCheck.zPfx = 0;</span>
<span class='curline'><a href='../S/1054.html#L61937'>sCheck</a>           61937 ext/sqlite3/libsqlite/sqlite3.c   sCheck.v1 = 0;</span>
<span class='curline'><a href='../S/1054.html#L61938'>sCheck</a>           61938 ext/sqlite3/libsqlite/sqlite3.c   sCheck.v2 = 0;</span>
<span class='curline'><a href='../S/1054.html#L61940'>sCheck</a>           61940 ext/sqlite3/libsqlite/sqlite3.c   if( sCheck.nPage==0 ){</span>
<span class='curline'><a href='../S/1054.html#L61945'>sCheck</a>           61945 ext/sqlite3/libsqlite/sqlite3.c   sCheck.aPgRef = sqlite3MallocZero((sCheck.nPage / 8)+ 1);</span>
<span class='curline'><a href='../S/1054.html#L61946'>sCheck</a>           61946 ext/sqlite3/libsqlite/sqlite3.c   if( !sCheck.aPgRef ){</span>
<span class='curline'><a href='../S/1054.html#L61952'>sCheck</a>           61952 ext/sqlite3/libsqlite/sqlite3.c   if( i&lt;=sCheck.nPage ) setPageReferenced(&amp;sCheck, i);</span>
<span class='curline'><a href='../S/1054.html#L61953'>sCheck</a>           61953 ext/sqlite3/libsqlite/sqlite3.c   sqlite3StrAccumInit(&amp;sCheck.errMsg, 0, zErr, sizeof(zErr), SQLITE_MAX_LENGTH);</span>
<span class='curline'><a href='../S/1054.html#L61957'>sCheck</a>           61957 ext/sqlite3/libsqlite/sqlite3.c   sCheck.zPfx = "Main freelist: ";</span>
<span class='curline'><a href='../S/1054.html#L61958'>sCheck</a>           61958 ext/sqlite3/libsqlite/sqlite3.c   checkList(&amp;sCheck, 1, get4byte(&amp;pBt-&gt;pPage1-&gt;aData[32]),</span>
<span class='curline'><a href='../S/1054.html#L61960'>sCheck</a>           61960 ext/sqlite3/libsqlite/sqlite3.c   sCheck.zPfx = 0;</span>
<span class='curline'><a href='../S/1054.html#L61964'>sCheck</a>           61964 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; (int)i&lt;nRoot &amp;&amp; sCheck.mxErr; i++){</span>
<span class='curline'><a href='../S/1054.html#L61968'>sCheck</a>           61968 ext/sqlite3/libsqlite/sqlite3.c       checkPtrmap(&amp;sCheck, aRoot[i], PTRMAP_ROOTPAGE, 0);</span>
<span class='curline'><a href='../S/1054.html#L61971'>sCheck</a>           61971 ext/sqlite3/libsqlite/sqlite3.c     sCheck.zPfx = "List of tree roots: ";</span>
<span class='curline'><a href='../S/1054.html#L61972'>sCheck</a>           61972 ext/sqlite3/libsqlite/sqlite3.c     checkTreePage(&amp;sCheck, aRoot[i], NULL, NULL);</span>
<span class='curline'><a href='../S/1054.html#L61973'>sCheck</a>           61973 ext/sqlite3/libsqlite/sqlite3.c     sCheck.zPfx = 0;</span>
<span class='curline'><a href='../S/1054.html#L61978'>sCheck</a>           61978 ext/sqlite3/libsqlite/sqlite3.c   for(i=1; i&lt;=sCheck.nPage &amp;&amp; sCheck.mxErr; i++){</span>
<span class='curline'><a href='../S/1054.html#L61980'>sCheck</a>           61980 ext/sqlite3/libsqlite/sqlite3.c     if( getPageReferenced(&amp;sCheck, i)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L61981'>sCheck</a>           61981 ext/sqlite3/libsqlite/sqlite3.c       checkAppendMsg(&amp;sCheck, "Page %d is never used", i);</span>
<span class='curline'><a href='../S/1054.html#L61987'>sCheck</a>           61987 ext/sqlite3/libsqlite/sqlite3.c     if( getPageReferenced(&amp;sCheck, i)==0 &amp;&amp; </span>
<span class='curline'><a href='../S/1054.html#L61989'>sCheck</a>           61989 ext/sqlite3/libsqlite/sqlite3.c       checkAppendMsg(&amp;sCheck, "Page %d is never used", i);</span>
<span class='curline'><a href='../S/1054.html#L61991'>sCheck</a>           61991 ext/sqlite3/libsqlite/sqlite3.c     if( getPageReferenced(&amp;sCheck, i)!=0 &amp;&amp; </span>
<span class='curline'><a href='../S/1054.html#L61993'>sCheck</a>           61993 ext/sqlite3/libsqlite/sqlite3.c       checkAppendMsg(&amp;sCheck, "Pointer map page %d is referenced", i);</span>
<span class='curline'><a href='../S/1054.html#L62003'>sCheck</a>           62003 ext/sqlite3/libsqlite/sqlite3.c     checkAppendMsg(&amp;sCheck,</span>
<span class='curline'><a href='../S/1054.html#L62012'>sCheck</a>           62012 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_free(sCheck.aPgRef);</span>
<span class='curline'><a href='../S/1054.html#L62013'>sCheck</a>           62013 ext/sqlite3/libsqlite/sqlite3.c   if( sCheck.mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L62014'>sCheck</a>           62014 ext/sqlite3/libsqlite/sqlite3.c     sqlite3StrAccumReset(&amp;sCheck.errMsg);</span>
<span class='curline'><a href='../S/1054.html#L62015'>sCheck</a>           62015 ext/sqlite3/libsqlite/sqlite3.c     *pnErr = sCheck.nErr+1;</span>
<span class='curline'><a href='../S/1054.html#L62018'>sCheck</a>           62018 ext/sqlite3/libsqlite/sqlite3.c   *pnErr = sCheck.nErr;</span>
<span class='curline'><a href='../S/1054.html#L62019'>sCheck</a>           62019 ext/sqlite3/libsqlite/sqlite3.c   if( sCheck.nErr==0 ) sqlite3StrAccumReset(&amp;sCheck.errMsg);</span>
<span class='curline'><a href='../S/1054.html#L62020'>sCheck</a>           62020 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3StrAccumFinish(&amp;sCheck.errMsg);</span>
</pre>
</body>
</html>
