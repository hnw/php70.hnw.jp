<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>ib_query</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/305.html#L155'>ib_query</a>          155 ext/interbase/ibase_query.c static void _php_ibase_free_query(ibase_query *ib_query) /* {{{ */</span>
<span class='curline'><a href='../S/305.html#L159'>ib_query</a>          159 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda) {</span>
<span class='curline'><a href='../S/305.html#L160'>ib_query</a>          160 ext/interbase/ibase_query.c 		efree(ib_query-&gt;in_sqlda);</span>
<span class='curline'><a href='../S/305.html#L162'>ib_query</a>          162 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_sqlda) {</span>
<span class='curline'><a href='../S/305.html#L163'>ib_query</a>          163 ext/interbase/ibase_query.c 		efree(ib_query-&gt;out_sqlda);</span>
<span class='curline'><a href='../S/305.html#L165'>ib_query</a>          165 ext/interbase/ibase_query.c 	if (ib_query-&gt;result != NULL) {</span>
<span class='curline'><a href='../S/305.html#L167'>ib_query</a>          167 ext/interbase/ibase_query.c 		ib_query-&gt;result-&gt;query = NULL;	/* Indicate to result, that query is released */</span>
<span class='curline'><a href='../S/305.html#L169'>ib_query</a>          169 ext/interbase/ibase_query.c 		_php_ibase_free_stmt_handle(ib_query-&gt;link, ib_query-&gt;stmt);</span>
<span class='curline'><a href='../S/305.html#L171'>ib_query</a>          171 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_array) {</span>
<span class='curline'><a href='../S/305.html#L172'>ib_query</a>          172 ext/interbase/ibase_query.c 		efree(ib_query-&gt;in_array);</span>
<span class='curline'><a href='../S/305.html#L174'>ib_query</a>          174 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_array) {</span>
<span class='curline'><a href='../S/305.html#L175'>ib_query</a>          175 ext/interbase/ibase_query.c 		efree(ib_query-&gt;out_array);</span>
<span class='curline'><a href='../S/305.html#L177'>ib_query</a>          177 ext/interbase/ibase_query.c 	if (ib_query-&gt;query) {</span>
<span class='curline'><a href='../S/305.html#L178'>ib_query</a>          178 ext/interbase/ibase_query.c 		efree(ib_query-&gt;query);</span>
<span class='curline'><a href='../S/305.html#L185'>ib_query</a>          185 ext/interbase/ibase_query.c 	ibase_query *ib_query = (ibase_query *)rsrc-&gt;ptr;</span>
<span class='curline'><a href='../S/305.html#L187'>ib_query</a>          187 ext/interbase/ibase_query.c 	if (ib_query != NULL) {</span>
<span class='curline'><a href='../S/305.html#L189'>ib_query</a>          189 ext/interbase/ibase_query.c 		_php_ibase_free_query(ib_query);</span>
<span class='curline'><a href='../S/305.html#L190'>ib_query</a>          190 ext/interbase/ibase_query.c 		efree(ib_query);</span>
<span class='curline'><a href='../S/305.html#L315'>ib_query</a>          315 ext/interbase/ibase_query.c static int _php_ibase_alloc_query(ibase_query *ib_query, ibase_db_link *link, /* {{{ */</span>
<span class='curline'><a href='../S/305.html#L327'>ib_query</a>          327 ext/interbase/ibase_query.c 	ib_query-&gt;link = link;</span>
<span class='curline'><a href='../S/305.html#L328'>ib_query</a>          328 ext/interbase/ibase_query.c 	ib_query-&gt;trans = trans;</span>
<span class='curline'><a href='../S/305.html#L329'>ib_query</a>          329 ext/interbase/ibase_query.c 	ib_query-&gt;result_res = NULL;</span>
<span class='curline'><a href='../S/305.html#L330'>ib_query</a>          330 ext/interbase/ibase_query.c 	ib_query-&gt;result = NULL;</span>
<span class='curline'><a href='../S/305.html#L331'>ib_query</a>          331 ext/interbase/ibase_query.c 	ib_query-&gt;stmt = 0;</span>
<span class='curline'><a href='../S/305.html#L332'>ib_query</a>          332 ext/interbase/ibase_query.c 	ib_query-&gt;in_array = NULL;</span>
<span class='curline'><a href='../S/305.html#L333'>ib_query</a>          333 ext/interbase/ibase_query.c 	ib_query-&gt;out_array = NULL;</span>
<span class='curline'><a href='../S/305.html#L334'>ib_query</a>          334 ext/interbase/ibase_query.c 	ib_query-&gt;dialect = dialect;</span>
<span class='curline'><a href='../S/305.html#L335'>ib_query</a>          335 ext/interbase/ibase_query.c 	ib_query-&gt;query = estrdup(query);</span>
<span class='curline'><a href='../S/305.html#L336'>ib_query</a>          336 ext/interbase/ibase_query.c 	ib_query-&gt;trans_res = trans_res;</span>
<span class='curline'><a href='../S/305.html#L337'>ib_query</a>          337 ext/interbase/ibase_query.c 	ib_query-&gt;out_sqlda = NULL;</span>
<span class='curline'><a href='../S/305.html#L338'>ib_query</a>          338 ext/interbase/ibase_query.c 	ib_query-&gt;in_sqlda = NULL;</span>
<span class='curline'><a href='../S/305.html#L340'>ib_query</a>          340 ext/interbase/ibase_query.c 	if (isc_dsql_allocate_statement(IB_STATUS, &amp;link-&gt;handle, &amp;ib_query-&gt;stmt)) {</span>
<span class='curline'><a href='../S/305.html#L345'>ib_query</a>          345 ext/interbase/ibase_query.c 	ib_query-&gt;out_sqlda = (XSQLDA *) emalloc(XSQLDA_LENGTH(1));</span>
<span class='curline'><a href='../S/305.html#L346'>ib_query</a>          346 ext/interbase/ibase_query.c 	ib_query-&gt;out_sqlda-&gt;sqln = 1;</span>
<span class='curline'><a href='../S/305.html#L347'>ib_query</a>          347 ext/interbase/ibase_query.c 	ib_query-&gt;out_sqlda-&gt;version = SQLDA_CURRENT_VERSION;</span>
<span class='curline'><a href='../S/305.html#L349'>ib_query</a>          349 ext/interbase/ibase_query.c 	if (isc_dsql_prepare(IB_STATUS, &amp;ib_query-&gt;trans-&gt;handle, &amp;ib_query-&gt;stmt,</span>
<span class='curline'><a href='../S/305.html#L350'>ib_query</a>          350 ext/interbase/ibase_query.c 			0, query, dialect, ib_query-&gt;out_sqlda)) {</span>
<span class='curline'><a href='../S/305.html#L356'>ib_query</a>          356 ext/interbase/ibase_query.c 	if (isc_dsql_sql_info(IB_STATUS, &amp;ib_query-&gt;stmt, sizeof(info_type),</span>
<span class='curline'><a href='../S/305.html#L361'>ib_query</a>          361 ext/interbase/ibase_query.c 	ib_query-&gt;statement_type = result[3];</span>
<span class='curline'><a href='../S/305.html#L364'>ib_query</a>          364 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_sqlda-&gt;sqld &gt; ib_query-&gt;out_sqlda-&gt;sqln) {</span>
<span class='curline'><a href='../S/305.html#L365'>ib_query</a>          365 ext/interbase/ibase_query.c 		ib_query-&gt;out_sqlda = erealloc(ib_query-&gt;out_sqlda, XSQLDA_LENGTH(ib_query-&gt;out_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/305.html#L366'>ib_query</a>          366 ext/interbase/ibase_query.c 		ib_query-&gt;out_sqlda-&gt;sqln = ib_query-&gt;out_sqlda-&gt;sqld;</span>
<span class='curline'><a href='../S/305.html#L367'>ib_query</a>          367 ext/interbase/ibase_query.c 		ib_query-&gt;out_sqlda-&gt;version = SQLDA_CURRENT_VERSION;</span>
<span class='curline'><a href='../S/305.html#L368'>ib_query</a>          368 ext/interbase/ibase_query.c 		if (isc_dsql_describe(IB_STATUS, &amp;ib_query-&gt;stmt, SQLDA_CURRENT_VERSION, ib_query-&gt;out_sqlda)) {</span>
<span class='curline'><a href='../S/305.html#L375'>ib_query</a>          375 ext/interbase/ibase_query.c 	ib_query-&gt;in_sqlda = emalloc(XSQLDA_LENGTH(1));</span>
<span class='curline'><a href='../S/305.html#L376'>ib_query</a>          376 ext/interbase/ibase_query.c 	ib_query-&gt;in_sqlda-&gt;sqln = 1;</span>
<span class='curline'><a href='../S/305.html#L377'>ib_query</a>          377 ext/interbase/ibase_query.c 	ib_query-&gt;in_sqlda-&gt;version = SQLDA_CURRENT_VERSION;</span>
<span class='curline'><a href='../S/305.html#L378'>ib_query</a>          378 ext/interbase/ibase_query.c 	if (isc_dsql_describe_bind(IB_STATUS, &amp;ib_query-&gt;stmt, SQLDA_CURRENT_VERSION, ib_query-&gt;in_sqlda)) {</span>
<span class='curline'><a href='../S/305.html#L384'>ib_query</a>          384 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda-&gt;sqln &lt; ib_query-&gt;in_sqlda-&gt;sqld) {</span>
<span class='curline'><a href='../S/305.html#L385'>ib_query</a>          385 ext/interbase/ibase_query.c 		ib_query-&gt;in_sqlda = erealloc(ib_query-&gt;in_sqlda, XSQLDA_LENGTH(ib_query-&gt;in_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/305.html#L386'>ib_query</a>          386 ext/interbase/ibase_query.c 		ib_query-&gt;in_sqlda-&gt;sqln = ib_query-&gt;in_sqlda-&gt;sqld;</span>
<span class='curline'><a href='../S/305.html#L387'>ib_query</a>          387 ext/interbase/ibase_query.c 		ib_query-&gt;in_sqlda-&gt;version = SQLDA_CURRENT_VERSION;</span>
<span class='curline'><a href='../S/305.html#L389'>ib_query</a>          389 ext/interbase/ibase_query.c 		if (isc_dsql_describe_bind(IB_STATUS, &amp;ib_query-&gt;stmt,</span>
<span class='curline'><a href='../S/305.html#L390'>ib_query</a>          390 ext/interbase/ibase_query.c 				SQLDA_CURRENT_VERSION, ib_query-&gt;in_sqlda)) {</span>
<span class='curline'><a href='../S/305.html#L397'>ib_query</a>          397 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda-&gt;sqld == 0) {</span>
<span class='curline'><a href='../S/305.html#L398'>ib_query</a>          398 ext/interbase/ibase_query.c 		efree(ib_query-&gt;in_sqlda);</span>
<span class='curline'><a href='../S/305.html#L399'>ib_query</a>          399 ext/interbase/ibase_query.c 		ib_query-&gt;in_sqlda = NULL;</span>
<span class='curline'><a href='../S/305.html#L400'>ib_query</a>          400 ext/interbase/ibase_query.c 	} else if (FAILURE == _php_ibase_alloc_array(&amp;ib_query-&gt;in_array, ib_query-&gt;in_sqlda,</span>
<span class='curline'><a href='../S/305.html#L401'>ib_query</a>          401 ext/interbase/ibase_query.c 			link-&gt;handle, trans-&gt;handle, &amp;ib_query-&gt;in_array_cnt)) {</span>
<span class='curline'><a href='../S/305.html#L405'>ib_query</a>          405 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_sqlda-&gt;sqld == 0) {</span>
<span class='curline'><a href='../S/305.html#L406'>ib_query</a>          406 ext/interbase/ibase_query.c 		efree(ib_query-&gt;out_sqlda);</span>
<span class='curline'><a href='../S/305.html#L407'>ib_query</a>          407 ext/interbase/ibase_query.c 		ib_query-&gt;out_sqlda = NULL;</span>
<span class='curline'><a href='../S/305.html#L408'>ib_query</a>          408 ext/interbase/ibase_query.c 	} else 	if (FAILURE == _php_ibase_alloc_array(&amp;ib_query-&gt;out_array, ib_query-&gt;out_sqlda,</span>
<span class='curline'><a href='../S/305.html#L409'>ib_query</a>          409 ext/interbase/ibase_query.c 			link-&gt;handle, trans-&gt;handle, &amp;ib_query-&gt;out_array_cnt)) {</span>
<span class='curline'><a href='../S/305.html#L417'>ib_query</a>          417 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_sqlda) {</span>
<span class='curline'><a href='../S/305.html#L418'>ib_query</a>          418 ext/interbase/ibase_query.c 		efree(ib_query-&gt;out_sqlda);</span>
<span class='curline'><a href='../S/305.html#L420'>ib_query</a>          420 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda) {</span>
<span class='curline'><a href='../S/305.html#L421'>ib_query</a>          421 ext/interbase/ibase_query.c 		efree(ib_query-&gt;in_sqlda);</span>
<span class='curline'><a href='../S/305.html#L423'>ib_query</a>          423 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_array) {</span>
<span class='curline'><a href='../S/305.html#L424'>ib_query</a>          424 ext/interbase/ibase_query.c 		efree(ib_query-&gt;out_array);</span>
<span class='curline'><a href='../S/305.html#L426'>ib_query</a>          426 ext/interbase/ibase_query.c 	if (ib_query-&gt;query) {</span>
<span class='curline'><a href='../S/305.html#L427'>ib_query</a>          427 ext/interbase/ibase_query.c 		efree(ib_query-&gt;query);</span>
<span class='curline'><a href='../S/305.html#L642'>ib_query</a>          642 ext/interbase/ibase_query.c 	ibase_query *ib_query)</span>
<span class='curline'><a href='../S/305.html#L746'>ib_query</a>          746 ext/interbase/ibase_query.c 					if (isc_create_blob(IB_STATUS, &amp;ib_query-&gt;link-&gt;handle,</span>
<span class='curline'><a href='../S/305.html#L747'>ib_query</a>          747 ext/interbase/ibase_query.c 							&amp;ib_query-&gt;trans-&gt;handle, &amp;ib_blob.bl_handle, &amp;ib_blob.bl_qd)) {</span>
<span class='curline'><a href='../S/305.html#L777'>ib_query</a>          777 ext/interbase/ibase_query.c 					ibase_array *ar = &amp;ib_query-&gt;in_array[array_cnt];</span>
<span class='curline'><a href='../S/305.html#L789'>ib_query</a>          789 ext/interbase/ibase_query.c 					if (isc_array_put_slice(IB_STATUS, &amp;ib_query-&gt;link-&gt;handle, &amp;ib_query-&gt;trans-&gt;handle,</span>
<span class='curline'><a href='../S/305.html#L866'>ib_query</a>          866 ext/interbase/ibase_query.c 	ibase_query *ib_query, zval *args)</span>
<span class='curline'><a href='../S/305.html#L874'>ib_query</a>          874 ext/interbase/ibase_query.c 	int argc = ib_query-&gt;in_sqlda ? ib_query-&gt;in_sqlda-&gt;sqld : 0;</span>
<span class='curline'><a href='../S/305.html#L882'>ib_query</a>          882 ext/interbase/ibase_query.c 	switch (ib_query-&gt;statement_type) {</span>
<span class='curline'><a href='../S/305.html#L892'>ib_query</a>          892 ext/interbase/ibase_query.c 			if (isc_dsql_execute_immediate(IB_STATUS, &amp;ib_query-&gt;link-&gt;handle, &amp;tr, 0,</span>
<span class='curline'><a href='../S/305.html#L893'>ib_query</a>          893 ext/interbase/ibase_query.c 					ib_query-&gt;query, ib_query-&gt;dialect, NULL)) {</span>
<span class='curline'><a href='../S/305.html#L902'>ib_query</a>          902 ext/interbase/ibase_query.c 			trans-&gt;db_link[0] = ib_query-&gt;link;</span>
<span class='curline'><a href='../S/305.html#L904'>ib_query</a>          904 ext/interbase/ibase_query.c 			if (ib_query-&gt;link-&gt;tr_list == NULL) {</span>
<span class='curline'><a href='../S/305.html#L905'>ib_query</a>          905 ext/interbase/ibase_query.c 				ib_query-&gt;link-&gt;tr_list = (ibase_tr_list *) emalloc(sizeof(ibase_tr_list));</span>
<span class='curline'><a href='../S/305.html#L906'>ib_query</a>          906 ext/interbase/ibase_query.c 				ib_query-&gt;link-&gt;tr_list-&gt;trans = NULL;</span>
<span class='curline'><a href='../S/305.html#L907'>ib_query</a>          907 ext/interbase/ibase_query.c 				ib_query-&gt;link-&gt;tr_list-&gt;next = NULL;</span>
<span class='curline'><a href='../S/305.html#L911'>ib_query</a>          911 ext/interbase/ibase_query.c 			for (l = &amp;ib_query-&gt;link-&gt;tr_list; *l != NULL; l = &amp;(*l)-&gt;next);</span>
<span class='curline'><a href='../S/305.html#L924'>ib_query</a>          924 ext/interbase/ibase_query.c 			if (isc_dsql_execute_immediate(IB_STATUS, &amp;ib_query-&gt;link-&gt;handle,</span>
<span class='curline'><a href='../S/305.html#L925'>ib_query</a>          925 ext/interbase/ibase_query.c 					&amp;ib_query-&gt;trans-&gt;handle, 0, ib_query-&gt;query, ib_query-&gt;dialect, NULL)) {</span>
<span class='curline'><a href='../S/305.html#L930'>ib_query</a>          930 ext/interbase/ibase_query.c 			if (ib_query-&gt;trans-&gt;handle == 0 &amp;&amp; ib_query-&gt;trans_res != NULL) {</span>
<span class='curline'><a href='../S/305.html#L933'>ib_query</a>          933 ext/interbase/ibase_query.c 				zend_list_delete(ib_query-&gt;trans_res);</span>
<span class='curline'><a href='../S/305.html#L934'>ib_query</a>          934 ext/interbase/ibase_query.c 				ib_query-&gt;trans_res = NULL;</span>
<span class='curline'><a href='../S/305.html#L946'>ib_query</a>          946 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_sqlda) { /* output variables in select, select for update */</span>
<span class='curline'><a href='../S/305.html#L950'>ib_query</a>          950 ext/interbase/ibase_query.c 		res = emalloc(sizeof(ibase_result)+sizeof(ibase_array)*max(0,ib_query-&gt;out_array_cnt-1));</span>
<span class='curline'><a href='../S/305.html#L951'>ib_query</a>          951 ext/interbase/ibase_query.c 		res-&gt;link = ib_query-&gt;link;</span>
<span class='curline'><a href='../S/305.html#L952'>ib_query</a>          952 ext/interbase/ibase_query.c 		res-&gt;trans = ib_query-&gt;trans;</span>
<span class='curline'><a href='../S/305.html#L953'>ib_query</a>          953 ext/interbase/ibase_query.c 		res-&gt;stmt = ib_query-&gt;stmt;</span>
<span class='curline'><a href='../S/305.html#L955'>ib_query</a>          955 ext/interbase/ibase_query.c 		res-&gt;query = ib_query;</span>
<span class='curline'><a href='../S/305.html#L956'>ib_query</a>          956 ext/interbase/ibase_query.c 		ib_query-&gt;result = res;</span>
<span class='curline'><a href='../S/305.html#L957'>ib_query</a>          957 ext/interbase/ibase_query.c 		res-&gt;statement_type = ib_query-&gt;statement_type;</span>
<span class='curline'><a href='../S/305.html#L960'>ib_query</a>          960 ext/interbase/ibase_query.c 		out_sqlda = res-&gt;out_sqlda = emalloc(XSQLDA_LENGTH(ib_query-&gt;out_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/305.html#L961'>ib_query</a>          961 ext/interbase/ibase_query.c 		memcpy(out_sqlda, ib_query-&gt;out_sqlda, XSQLDA_LENGTH(ib_query-&gt;out_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/305.html#L964'>ib_query</a>          964 ext/interbase/ibase_query.c 		if (ib_query-&gt;out_array) {</span>
<span class='curline'><a href='../S/305.html#L965'>ib_query</a>          965 ext/interbase/ibase_query.c 			memcpy(&amp;res-&gt;out_array, ib_query-&gt;out_array, sizeof(ibase_array)*ib_query-&gt;out_array_cnt);</span>
<span class='curline'><a href='../S/305.html#L970'>ib_query</a>          970 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda) { /* has placeholders */</span>
<span class='curline'><a href='../S/305.html#L972'>ib_query</a>          972 ext/interbase/ibase_query.c 		in_sqlda = emalloc(XSQLDA_LENGTH(ib_query-&gt;in_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/305.html#L973'>ib_query</a>          973 ext/interbase/ibase_query.c 		memcpy(in_sqlda, ib_query-&gt;in_sqlda, XSQLDA_LENGTH(ib_query-&gt;in_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/305.html#L974'>ib_query</a>          974 ext/interbase/ibase_query.c 		bind_buf = safe_emalloc(sizeof(BIND_BUF), ib_query-&gt;in_sqlda-&gt;sqld, 0);</span>
<span class='curline'><a href='../S/305.html#L975'>ib_query</a>          975 ext/interbase/ibase_query.c 		if (_php_ibase_bind(in_sqlda, args, bind_buf, ib_query) == FAILURE) {</span>
<span class='curline'><a href='../S/305.html#L981'>ib_query</a>          981 ext/interbase/ibase_query.c 	if (ib_query-&gt;statement_type == isc_info_sql_stmt_exec_procedure) {</span>
<span class='curline'><a href='../S/305.html#L982'>ib_query</a>          982 ext/interbase/ibase_query.c 		isc_result = isc_dsql_execute2(IB_STATUS, &amp;ib_query-&gt;trans-&gt;handle,</span>
<span class='curline'><a href='../S/305.html#L983'>ib_query</a>          983 ext/interbase/ibase_query.c 			&amp;ib_query-&gt;stmt, SQLDA_CURRENT_VERSION, in_sqlda, out_sqlda);</span>
<span class='curline'><a href='../S/305.html#L985'>ib_query</a>          985 ext/interbase/ibase_query.c 		isc_result = isc_dsql_execute(IB_STATUS, &amp;ib_query-&gt;trans-&gt;handle,</span>
<span class='curline'><a href='../S/305.html#L986'>ib_query</a>          986 ext/interbase/ibase_query.c 			&amp;ib_query-&gt;stmt, SQLDA_CURRENT_VERSION, in_sqlda);</span>
<span class='curline'><a href='../S/305.html#L993'>ib_query</a>          993 ext/interbase/ibase_query.c 	ib_query-&gt;trans-&gt;affected_rows = 0;</span>
<span class='curline'><a href='../S/305.html#L995'>ib_query</a>          995 ext/interbase/ibase_query.c 	switch (ib_query-&gt;statement_type) {</span>
<span class='curline'><a href='../S/305.html#L1004'>ib_query</a>         1004 ext/interbase/ibase_query.c 			if (isc_dsql_sql_info(IB_STATUS, &amp;ib_query-&gt;stmt, sizeof(info_count),</span>
<span class='curline'><a href='../S/305.html#L1024'>ib_query</a>         1024 ext/interbase/ibase_query.c 			ib_query-&gt;trans-&gt;affected_rows = affected_rows;</span>
<span class='curline'><a href='../S/305.html#L1026'>ib_query</a>         1026 ext/interbase/ibase_query.c 			if (!ib_query-&gt;out_sqlda) { /* no result set is being returned */</span>
<span class='curline'><a href='../S/305.html#L1073'>ib_query</a>         1073 ext/interbase/ibase_query.c 	ibase_query ib_query = { NULL, NULL, 0, 0 };</span>
<span class='curline'><a href='../S/305.html#L1159'>ib_query</a>         1159 ext/interbase/ibase_query.c 			|| FAILURE == _php_ibase_alloc_query(&amp;ib_query, ib_link, trans, query, ib_link-&gt;dialect, trans_res)) {</span>
<span class='curline'><a href='../S/305.html#L1165'>ib_query</a>         1165 ext/interbase/ibase_query.c 		    expected_n = ib_query.in_sqlda ? ib_query.in_sqlda-&gt;sqld : 0;</span>
<span class='curline'><a href='../S/305.html#L1179'>ib_query</a>         1179 ext/interbase/ibase_query.c 		if (FAILURE == _php_ibase_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, &amp;result, &amp;ib_query,</span>
<span class='curline'><a href='../S/305.html#L1188'>ib_query</a>         1188 ext/interbase/ibase_query.c 			if (ib_query.statement_type != isc_info_sql_stmt_exec_procedure) {</span>
<span class='curline'><a href='../S/305.html#L1189'>ib_query</a>         1189 ext/interbase/ibase_query.c 				ib_query.stmt = 0; /* keep stmt when free query */</span>
<span class='curline'><a href='../S/305.html#L1196'>ib_query</a>         1196 ext/interbase/ibase_query.c 	_php_ibase_free_query(&amp;ib_query);</span>
<span class='curline'><a href='../S/305.html#L1738'>ib_query</a>         1738 ext/interbase/ibase_query.c 	ibase_query *ib_query;</span>
<span class='curline'><a href='../S/305.html#L1770'>ib_query</a>         1770 ext/interbase/ibase_query.c 	ib_query = (ibase_query *) emalloc(sizeof(ibase_query));</span>
<span class='curline'><a href='../S/305.html#L1772'>ib_query</a>         1772 ext/interbase/ibase_query.c 	if (FAILURE == _php_ibase_alloc_query(ib_query, ib_link, trans, query, ib_link-&gt;dialect, trans_res)) {</span>
<span class='curline'><a href='../S/305.html#L1773'>ib_query</a>         1773 ext/interbase/ibase_query.c 		efree(ib_query);</span>
<span class='curline'><a href='../S/305.html#L1776'>ib_query</a>         1776 ext/interbase/ibase_query.c 	RETVAL_RES(zend_register_resource(ib_query, le_query));</span>
<span class='curline'><a href='../S/305.html#L1786'>ib_query</a>         1786 ext/interbase/ibase_query.c 	ibase_query *ib_query;</span>
<span class='curline'><a href='../S/305.html#L1798'>ib_query</a>         1798 ext/interbase/ibase_query.c 	ib_query = (ibase_query *)zend_fetch_resource_ex(query, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/305.html#L1801'>ib_query</a>         1801 ext/interbase/ibase_query.c 		int	expected_n = ib_query-&gt;in_sqlda ? ib_query-&gt;in_sqlda-&gt;sqld : 0;</span>
<span class='curline'><a href='../S/305.html#L1813'>ib_query</a>         1813 ext/interbase/ibase_query.c 		if (ib_query-&gt;result_res != NULL</span>
<span class='curline'><a href='../S/305.html#L1814'>ib_query</a>         1814 ext/interbase/ibase_query.c 				&amp;&amp; ib_query-&gt;statement_type != isc_info_sql_stmt_exec_procedure) {</span>
<span class='curline'><a href='../S/305.html#L1817'>ib_query</a>         1817 ext/interbase/ibase_query.c 			if (isc_dsql_free_statement(IB_STATUS, &amp;ib_query-&gt;stmt, DSQL_close)) {</span>
<span class='curline'><a href='../S/305.html#L1821'>ib_query</a>         1821 ext/interbase/ibase_query.c 			zend_list_delete(ib_query-&gt;result_res);</span>
<span class='curline'><a href='../S/305.html#L1822'>ib_query</a>         1822 ext/interbase/ibase_query.c 			ib_query-&gt;result_res = NULL;</span>
<span class='curline'><a href='../S/305.html#L1825'>ib_query</a>         1825 ext/interbase/ibase_query.c 		if (FAILURE == _php_ibase_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, &amp;result, ib_query,</span>
<span class='curline'><a href='../S/305.html#L1831'>ib_query</a>         1831 ext/interbase/ibase_query.c 		if (ib_query-&gt;trans-&gt;handle == 0) {</span>
<span class='curline'><a href='../S/305.html#L1839'>ib_query</a>         1839 ext/interbase/ibase_query.c 			if (ib_query-&gt;statement_type == isc_info_sql_stmt_exec_procedure) {</span>
<span class='curline'><a href='../S/305.html#L1844'>ib_query</a>         1844 ext/interbase/ibase_query.c 			ib_query-&gt;result_res = Z_RES_P(ret);</span>
<span class='curline'><a href='../S/305.html#L1858'>ib_query</a>         1858 ext/interbase/ibase_query.c 	ibase_query *ib_query;</span>
<span class='curline'><a href='../S/305.html#L1866'>ib_query</a>         1866 ext/interbase/ibase_query.c 	ib_query = (ibase_query *)zend_fetch_resource_ex(query_arg, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/305.html#L1867'>ib_query</a>         1867 ext/interbase/ibase_query.c 	if (!ib_query) {</span>
<span class='curline'><a href='../S/305.html#L1893'>ib_query</a>         1893 ext/interbase/ibase_query.c 		ibase_query *ib_query;</span>
<span class='curline'><a href='../S/305.html#L1895'>ib_query</a>         1895 ext/interbase/ibase_query.c 		ib_query = (ibase_query *)zend_fetch_resource_ex(result, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/305.html#L1896'>ib_query</a>         1896 ext/interbase/ibase_query.c 		sqlda = ib_query-&gt;out_sqlda;</span>
<span class='curline'><a href='../S/305.html#L2017'>ib_query</a>         2017 ext/interbase/ibase_query.c 		ibase_query *ib_query;</span>
<span class='curline'><a href='../S/305.html#L2019'>ib_query</a>         2019 ext/interbase/ibase_query.c 		ib_query= (ibase_query *)zend_fetch_resource_ex(result_arg, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/305.html#L2020'>ib_query</a>         2020 ext/interbase/ibase_query.c 		sqlda = ib_query-&gt;out_sqlda;</span>
<span class='curline'><a href='../S/305.html#L2045'>ib_query</a>         2045 ext/interbase/ibase_query.c 	ibase_query *ib_query;</span>
<span class='curline'><a href='../S/305.html#L2053'>ib_query</a>         2053 ext/interbase/ibase_query.c 	ib_query = (ibase_query *)zend_fetch_resource_ex(result, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/305.html#L2055'>ib_query</a>         2055 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda == NULL) {</span>
<span class='curline'><a href='../S/305.html#L2058'>ib_query</a>         2058 ext/interbase/ibase_query.c 		RETURN_LONG(ib_query-&gt;in_sqlda-&gt;sqld);</span>
<span class='curline'><a href='../S/305.html#L2069'>ib_query</a>         2069 ext/interbase/ibase_query.c 	ibase_query *ib_query;</span>
<span class='curline'><a href='../S/305.html#L2077'>ib_query</a>         2077 ext/interbase/ibase_query.c 	ib_query = (ibase_query *)zend_fetch_resource_ex(result_arg, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/305.html#L2079'>ib_query</a>         2079 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda == NULL) {</span>
<span class='curline'><a href='../S/305.html#L2083'>ib_query</a>         2083 ext/interbase/ibase_query.c 	if (field_arg &lt; 0 || field_arg &gt;= ib_query-&gt;in_sqlda-&gt;sqld) {</span>
<span class='curline'><a href='../S/305.html#L2087'>ib_query</a>         2087 ext/interbase/ibase_query.c 	_php_ibase_field_info(return_value,ib_query-&gt;in_sqlda-&gt;sqlvar + field_arg);</span>
</pre>
</body>
</html>
