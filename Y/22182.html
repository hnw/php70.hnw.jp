<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>iFrame</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1054.html#L44509'>iFrame</a>           44509 ext/sqlite3/libsqlite/sqlite3.c static int readDbPage(PgHdr *pPg, u32 iFrame){</span>
<span class='curline'><a href='../S/1054.html#L44519'>iFrame</a>           44519 ext/sqlite3/libsqlite/sqlite3.c   if( iFrame ){</span>
<span class='curline'><a href='../S/1054.html#L44521'>iFrame</a>           44521 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3WalReadFrame(pPager-&gt;pWal, iFrame, pgsz, pPg-&gt;pData);</span>
<span class='curline'><a href='../S/1054.html#L44609'>iFrame</a>           44609 ext/sqlite3/libsqlite/sqlite3.c       u32 iFrame = 0;</span>
<span class='curline'><a href='../S/1054.html#L44610'>iFrame</a>           44610 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3WalFindFrame(pPager-&gt;pWal, pPg-&gt;pgno, &amp;iFrame);</span>
<span class='curline'><a href='../S/1054.html#L44612'>iFrame</a>           44612 ext/sqlite3/libsqlite/sqlite3.c         rc = readDbPage(pPg, iFrame);</span>
<span class='curline'><a href='../S/1054.html#L46907'>iFrame</a>           46907 ext/sqlite3/libsqlite/sqlite3.c   u32 iFrame = 0;                 /* Frame to read from WAL file */</span>
<span class='curline'><a href='../S/1054.html#L46936'>iFrame</a>           46936 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3WalFindFrame(pPager-&gt;pWal, pgno, &amp;iFrame);</span>
<span class='curline'><a href='../S/1054.html#L46940'>iFrame</a>           46940 ext/sqlite3/libsqlite/sqlite3.c     if( bMmapOk &amp;&amp; iFrame==0 ){</span>
<span class='curline'><a href='../S/1054.html#L47035'>iFrame</a>           47035 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3WalFindFrame(pPager-&gt;pWal, pgno, &amp;iFrame);</span>
<span class='curline'><a href='../S/1054.html#L47040'>iFrame</a>           47040 ext/sqlite3/libsqlite/sqlite3.c       rc = readDbPage(pPg, iFrame);</span>
<span class='curline'><a href='../S/1054.html#L49305'>iFrame</a>           49305 ext/sqlite3/libsqlite/sqlite3.c #define walFrameOffset(iFrame, szPage) (                               \</span>
<span class='curline'><a href='../S/1054.html#L49306'>iFrame</a>           49306 ext/sqlite3/libsqlite/sqlite3.c   WAL_HDRSIZE + ((iFrame)-1)*(i64)((szPage)+WAL_FRAME_HDRSIZE)         \</span>
<span class='curline'><a href='../S/1054.html#L49778'>iFrame</a>           49778 ext/sqlite3/libsqlite/sqlite3.c static int walFramePage(u32 iFrame){</span>
<span class='curline'><a href='../S/1054.html#L49779'>iFrame</a>           49779 ext/sqlite3/libsqlite/sqlite3.c   int iHash = (iFrame+HASHTABLE_NPAGE-HASHTABLE_NPAGE_ONE-1) / HASHTABLE_NPAGE;</span>
<span class='curline'><a href='../S/1054.html#L49780'>iFrame</a>           49780 ext/sqlite3/libsqlite/sqlite3.c   assert( (iHash==0 || iFrame&gt;HASHTABLE_NPAGE_ONE)</span>
<span class='curline'><a href='../S/1054.html#L49781'>iFrame</a>           49781 ext/sqlite3/libsqlite/sqlite3.c        &amp;&amp; (iHash&gt;=1 || iFrame&lt;=HASHTABLE_NPAGE_ONE)</span>
<span class='curline'><a href='../S/1054.html#L49782'>iFrame</a>           49782 ext/sqlite3/libsqlite/sqlite3.c        &amp;&amp; (iHash&lt;=1 || iFrame&gt;(HASHTABLE_NPAGE_ONE+HASHTABLE_NPAGE))</span>
<span class='curline'><a href='../S/1054.html#L49783'>iFrame</a>           49783 ext/sqlite3/libsqlite/sqlite3.c        &amp;&amp; (iHash&gt;=2 || iFrame&lt;=HASHTABLE_NPAGE_ONE+HASHTABLE_NPAGE)</span>
<span class='curline'><a href='../S/1054.html#L49784'>iFrame</a>           49784 ext/sqlite3/libsqlite/sqlite3.c        &amp;&amp; (iHash&lt;=2 || iFrame&gt;(HASHTABLE_NPAGE_ONE+2*HASHTABLE_NPAGE))</span>
<span class='curline'><a href='../S/1054.html#L49792'>iFrame</a>           49792 ext/sqlite3/libsqlite/sqlite3.c static u32 walFramePgno(Wal *pWal, u32 iFrame){</span>
<span class='curline'><a href='../S/1054.html#L49793'>iFrame</a>           49793 ext/sqlite3/libsqlite/sqlite3.c   int iHash = walFramePage(iFrame);</span>
<span class='curline'><a href='../S/1054.html#L49795'>iFrame</a>           49795 ext/sqlite3/libsqlite/sqlite3.c     return pWal-&gt;apWiData[0][WALINDEX_HDR_SIZE/sizeof(u32) + iFrame - 1];</span>
<span class='curline'><a href='../S/1054.html#L49797'>iFrame</a>           49797 ext/sqlite3/libsqlite/sqlite3.c   return pWal-&gt;apWiData[iHash][(iFrame-1-HASHTABLE_NPAGE_ONE)%HASHTABLE_NPAGE];</span>
<span class='curline'><a href='../S/1054.html#L49874'>iFrame</a>           49874 ext/sqlite3/libsqlite/sqlite3.c static int walIndexAppend(Wal *pWal, u32 iFrame, u32 iPage){</span>
<span class='curline'><a href='../S/1054.html#L49880'>iFrame</a>           49880 ext/sqlite3/libsqlite/sqlite3.c   rc = walHashGet(pWal, walFramePage(iFrame), &amp;aHash, &amp;aPgno, &amp;iZero);</span>
<span class='curline'><a href='../S/1054.html#L49890'>iFrame</a>           49890 ext/sqlite3/libsqlite/sqlite3.c     idx = iFrame - iZero;</span>
<span class='curline'><a href='../S/1054.html#L50000'>iFrame</a>           50000 ext/sqlite3/libsqlite/sqlite3.c     int iFrame;                   /* Index of last frame read */</span>
<span class='curline'><a href='../S/1054.html#L50060'>iFrame</a>           50060 ext/sqlite3/libsqlite/sqlite3.c     iFrame = 0;</span>
<span class='curline'><a href='../S/1054.html#L50066'>iFrame</a>           50066 ext/sqlite3/libsqlite/sqlite3.c       iFrame++;</span>
<span class='curline'><a href='../S/1054.html#L50071'>iFrame</a>           50071 ext/sqlite3/libsqlite/sqlite3.c       rc = walIndexAppend(pWal, iFrame, pgno);</span>
<span class='curline'><a href='../S/1054.html#L50076'>iFrame</a>           50076 ext/sqlite3/libsqlite/sqlite3.c         pWal-&gt;hdr.mxFrame = iFrame;</span>
<span class='curline'><a href='../S/1054.html#L50604'>iFrame</a>           50604 ext/sqlite3/libsqlite/sqlite3.c   u32 iFrame = 0;                 /* Wal frame containing data for iDbpage */</span>
<span class='curline'><a href='../S/1054.html#L50683'>iFrame</a>           50683 ext/sqlite3/libsqlite/sqlite3.c       while( rc==SQLITE_OK &amp;&amp; 0==walIteratorNext(pIter, &amp;iDbpage, &amp;iFrame) ){</span>
<span class='curline'><a href='../S/1054.html#L50685'>iFrame</a>           50685 ext/sqlite3/libsqlite/sqlite3.c         assert( walFramePgno(pWal, iFrame)==iDbpage );</span>
<span class='curline'><a href='../S/1054.html#L50686'>iFrame</a>           50686 ext/sqlite3/libsqlite/sqlite3.c         if( iFrame&lt;=nBackfill || iFrame&gt;mxSafeFrame || iDbpage&gt;mxPage ){</span>
<span class='curline'><a href='../S/1054.html#L50689'>iFrame</a>           50689 ext/sqlite3/libsqlite/sqlite3.c         iOffset = walFrameOffset(iFrame, szPage) + WAL_FRAME_HDRSIZE;</span>
<span class='curline'><a href='../S/1054.html#L51327'>iFrame</a>           51327 ext/sqlite3/libsqlite/sqlite3.c       u32 iFrame = aHash[iKey] + iZero;</span>
<span class='curline'><a href='../S/1054.html#L51328'>iFrame</a>           51328 ext/sqlite3/libsqlite/sqlite3.c       if( iFrame&lt;=iLast &amp;&amp; aPgno[aHash[iKey]]==pgno ){</span>
<span class='curline'><a href='../S/1054.html#L51329'>iFrame</a>           51329 ext/sqlite3/libsqlite/sqlite3.c         assert( iFrame&gt;iRead || CORRUPT_DB );</span>
<span class='curline'><a href='../S/1054.html#L51330'>iFrame</a>           51330 ext/sqlite3/libsqlite/sqlite3.c         iRead = iFrame;</span>
<span class='curline'><a href='../S/1054.html#L51467'>iFrame</a>           51467 ext/sqlite3/libsqlite/sqlite3.c     Pgno iFrame;</span>
<span class='curline'><a href='../S/1054.html#L51474'>iFrame</a>           51474 ext/sqlite3/libsqlite/sqlite3.c     for(iFrame=pWal-&gt;hdr.mxFrame+1; </span>
<span class='curline'><a href='../S/1054.html#L51475'>iFrame</a>           51475 ext/sqlite3/libsqlite/sqlite3.c         ALWAYS(rc==SQLITE_OK) &amp;&amp; iFrame&lt;=iMax; </span>
<span class='curline'><a href='../S/1054.html#L51476'>iFrame</a>           51476 ext/sqlite3/libsqlite/sqlite3.c         iFrame++</span>
<span class='curline'><a href='../S/1054.html#L51489'>iFrame</a>           51489 ext/sqlite3/libsqlite/sqlite3.c       assert( walFramePgno(pWal, iFrame)!=1 );</span>
<span class='curline'><a href='../S/1054.html#L51490'>iFrame</a>           51490 ext/sqlite3/libsqlite/sqlite3.c       rc = xUndo(pUndoCtx, walFramePgno(pWal, iFrame));</span>
<span class='curline'><a href='../S/1054.html#L51677'>iFrame</a>           51677 ext/sqlite3/libsqlite/sqlite3.c   u32 iFrame;                     /* Next frame address */</span>
<span class='curline'><a href='../S/1054.html#L51710'>iFrame</a>           51710 ext/sqlite3/libsqlite/sqlite3.c   iFrame = pWal-&gt;hdr.mxFrame;</span>
<span class='curline'><a href='../S/1054.html#L51711'>iFrame</a>           51711 ext/sqlite3/libsqlite/sqlite3.c   if( iFrame==0 ){</span>
<span class='curline'><a href='../S/1054.html#L51757'>iFrame</a>           51757 ext/sqlite3/libsqlite/sqlite3.c   iOffset = walFrameOffset(iFrame+1, szPage);</span>
<span class='curline'><a href='../S/1054.html#L51763'>iFrame</a>           51763 ext/sqlite3/libsqlite/sqlite3.c     iFrame++;</span>
<span class='curline'><a href='../S/1054.html#L51764'>iFrame</a>           51764 ext/sqlite3/libsqlite/sqlite3.c     assert( iOffset==walFrameOffset(iFrame, szPage) );</span>
<span class='curline'><a href='../S/1054.html#L51807'>iFrame</a>           51807 ext/sqlite3/libsqlite/sqlite3.c     if( walFrameOffset(iFrame+nExtra+1, szPage)&gt;pWal-&gt;mxWalSize ){</span>
<span class='curline'><a href='../S/1054.html#L51808'>iFrame</a>           51808 ext/sqlite3/libsqlite/sqlite3.c       sz = walFrameOffset(iFrame+nExtra+1, szPage);</span>
<span class='curline'><a href='../S/1054.html#L51819'>iFrame</a>           51819 ext/sqlite3/libsqlite/sqlite3.c   iFrame = pWal-&gt;hdr.mxFrame;</span>
<span class='curline'><a href='../S/1054.html#L51821'>iFrame</a>           51821 ext/sqlite3/libsqlite/sqlite3.c     iFrame++;</span>
<span class='curline'><a href='../S/1054.html#L51822'>iFrame</a>           51822 ext/sqlite3/libsqlite/sqlite3.c     rc = walIndexAppend(pWal, iFrame, p-&gt;pgno);</span>
<span class='curline'><a href='../S/1054.html#L51825'>iFrame</a>           51825 ext/sqlite3/libsqlite/sqlite3.c     iFrame++;</span>
<span class='curline'><a href='../S/1054.html#L51827'>iFrame</a>           51827 ext/sqlite3/libsqlite/sqlite3.c     rc = walIndexAppend(pWal, iFrame, pLast-&gt;pgno);</span>
<span class='curline'><a href='../S/1054.html#L51835'>iFrame</a>           51835 ext/sqlite3/libsqlite/sqlite3.c     pWal-&gt;hdr.mxFrame = iFrame;</span>
<span class='curline'><a href='../S/1054.html#L51843'>iFrame</a>           51843 ext/sqlite3/libsqlite/sqlite3.c       pWal-&gt;iCallback = iFrame;</span>
</pre>
</body>
</html>
