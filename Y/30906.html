<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pTask</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1054.html#L78156'>pTask</a>            78156 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask;        /* Used by this thread only */</span>
<span class='curline'><a href='../S/1054.html#L78295'>pTask</a>            78295 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask;             /* Task that owns this merger */</span>
<span class='curline'><a href='../S/1054.html#L78511'>pTask</a>            78511 ext/sqlite3/libsqlite/sqlite3.c static int vdbeSorterMapFile(SortSubtask *pTask, SorterFile *pFile, u8 **pp){</span>
<span class='curline'><a href='../S/1054.html#L78513'>pTask</a>            78513 ext/sqlite3/libsqlite/sqlite3.c   if( pFile-&gt;iEof&lt;=(i64)(pTask-&gt;pSorter-&gt;db-&gt;nMaxSorterMmap) ){</span>
<span class='curline'><a href='../S/1054.html#L78529'>pTask</a>            78529 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,             /* Task context */</span>
<span class='curline'><a href='../S/1054.html#L78547'>pTask</a>            78547 ext/sqlite3/libsqlite/sqlite3.c   rc = vdbeSorterMapFile(pTask, pFile, &amp;pReadr-&gt;aMap);</span>
<span class='curline'><a href='../S/1054.html#L78549'>pTask</a>            78549 ext/sqlite3/libsqlite/sqlite3.c     int pgsz = pTask-&gt;pSorter-&gt;pgsz;</span>
<span class='curline'><a href='../S/1054.html#L78587'>pTask</a>            78587 ext/sqlite3/libsqlite/sqlite3.c             pIncr-&gt;pTask, pReadr, &amp;pIncr-&gt;aFile[0], pIncr-&gt;iStartOff</span>
<span class='curline'><a href='../S/1054.html#L78623'>pTask</a>            78623 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,             /* Task context */</span>
<span class='curline'><a href='../S/1054.html#L78636'>pTask</a>            78636 ext/sqlite3/libsqlite/sqlite3.c   rc = vdbePmaReaderSeek(pTask, pReadr, pFile, iStart);</span>
<span class='curline'><a href='../S/1054.html#L78656'>pTask</a>            78656 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,             /* Subtask context (for pKeyInfo) */</span>
<span class='curline'><a href='../S/1054.html#L78661'>pTask</a>            78661 ext/sqlite3/libsqlite/sqlite3.c   UnpackedRecord *r2 = pTask-&gt;pUnpacked;</span>
<span class='curline'><a href='../S/1054.html#L78663'>pTask</a>            78663 ext/sqlite3/libsqlite/sqlite3.c     sqlite3VdbeRecordUnpack(pTask-&gt;pSorter-&gt;pKeyInfo, nKey2, pKey2, r2);</span>
<span class='curline'><a href='../S/1054.html#L78683'>pTask</a>            78683 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,             /* Subtask context (for pKeyInfo) */</span>
<span class='curline'><a href='../S/1054.html#L78688'>pTask</a>            78688 ext/sqlite3/libsqlite/sqlite3.c   UnpackedRecord *r2 = pTask-&gt;pUnpacked;</span>
<span class='curline'><a href='../S/1054.html#L78690'>pTask</a>            78690 ext/sqlite3/libsqlite/sqlite3.c     sqlite3VdbeRecordUnpack(pTask-&gt;pSorter-&gt;pKeyInfo, nKey2, pKey2, r2);</span>
<span class='curline'><a href='../S/1054.html#L78702'>pTask</a>            78702 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,             /* Subtask context (for pKeyInfo) */</span>
<span class='curline'><a href='../S/1054.html#L78724'>pTask</a>            78724 ext/sqlite3/libsqlite/sqlite3.c     if( pTask-&gt;pSorter-&gt;pKeyInfo-&gt;nField&gt;1 ){</span>
<span class='curline'><a href='../S/1054.html#L78726'>pTask</a>            78726 ext/sqlite3/libsqlite/sqlite3.c           pTask, pbKey2Cached, pKey1, nKey1, pKey2, nKey2</span>
<span class='curline'><a href='../S/1054.html#L78730'>pTask</a>            78730 ext/sqlite3/libsqlite/sqlite3.c     if( pTask-&gt;pSorter-&gt;pKeyInfo-&gt;aSortOrder[0] ){</span>
<span class='curline'><a href='../S/1054.html#L78743'>pTask</a>            78743 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,             /* Subtask context (for pKeyInfo) */</span>
<span class='curline'><a href='../S/1054.html#L78794'>pTask</a>            78794 ext/sqlite3/libsqlite/sqlite3.c     if( pTask-&gt;pSorter-&gt;pKeyInfo-&gt;nField&gt;1 ){</span>
<span class='curline'><a href='../S/1054.html#L78796'>pTask</a>            78796 ext/sqlite3/libsqlite/sqlite3.c           pTask, pbKey2Cached, pKey1, nKey1, pKey2, nKey2</span>
<span class='curline'><a href='../S/1054.html#L78799'>pTask</a>            78799 ext/sqlite3/libsqlite/sqlite3.c   }else if( pTask-&gt;pSorter-&gt;pKeyInfo-&gt;aSortOrder[0] ){</span>
<span class='curline'><a href='../S/1054.html#L78883'>pTask</a>            78883 ext/sqlite3/libsqlite/sqlite3.c       SortSubtask *pTask = &amp;pSorter-&gt;aTask[i];</span>
<span class='curline'><a href='../S/1054.html#L78884'>pTask</a>            78884 ext/sqlite3/libsqlite/sqlite3.c       pTask-&gt;pSorter = pSorter;</span>
<span class='curline'><a href='../S/1054.html#L78933'>pTask</a>            78933 ext/sqlite3/libsqlite/sqlite3.c static void vdbeSortSubtaskCleanup(sqlite3 *db, SortSubtask *pTask){</span>
<span class='curline'><a href='../S/1054.html#L78934'>pTask</a>            78934 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pTask-&gt;pUnpacked);</span>
<span class='curline'><a href='../S/1054.html#L78938'>pTask</a>            78938 ext/sqlite3/libsqlite/sqlite3.c   if( pTask-&gt;list.aMemory ){</span>
<span class='curline'><a href='../S/1054.html#L78939'>pTask</a>            78939 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_free(pTask-&gt;list.aMemory);</span>
<span class='curline'><a href='../S/1054.html#L78943'>pTask</a>            78943 ext/sqlite3/libsqlite/sqlite3.c     assert( pTask-&gt;list.aMemory==0 );</span>
<span class='curline'><a href='../S/1054.html#L78944'>pTask</a>            78944 ext/sqlite3/libsqlite/sqlite3.c     vdbeSorterRecordFree(0, pTask-&gt;list.pList);</span>
<span class='curline'><a href='../S/1054.html#L78946'>pTask</a>            78946 ext/sqlite3/libsqlite/sqlite3.c   if( pTask-&gt;file.pFd ){</span>
<span class='curline'><a href='../S/1054.html#L78947'>pTask</a>            78947 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsCloseFree(pTask-&gt;file.pFd);</span>
<span class='curline'><a href='../S/1054.html#L78949'>pTask</a>            78949 ext/sqlite3/libsqlite/sqlite3.c   if( pTask-&gt;file2.pFd ){</span>
<span class='curline'><a href='../S/1054.html#L78950'>pTask</a>            78950 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsCloseFree(pTask-&gt;file2.pFd);</span>
<span class='curline'><a href='../S/1054.html#L78952'>pTask</a>            78952 ext/sqlite3/libsqlite/sqlite3.c   memset(pTask, 0, sizeof(SortSubtask));</span>
<span class='curline'><a href='../S/1054.html#L78956'>pTask</a>            78956 ext/sqlite3/libsqlite/sqlite3.c static void vdbeSorterWorkDebug(SortSubtask *pTask, const char *zEvent){</span>
<span class='curline'><a href='../S/1054.html#L78958'>pTask</a>            78958 ext/sqlite3/libsqlite/sqlite3.c   int iTask = (pTask - pTask-&gt;pSorter-&gt;aTask);</span>
<span class='curline'><a href='../S/1054.html#L78959'>pTask</a>            78959 ext/sqlite3/libsqlite/sqlite3.c   sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/1054.html#L78968'>pTask</a>            78968 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,</span>
<span class='curline'><a href='../S/1054.html#L78972'>pTask</a>            78972 ext/sqlite3/libsqlite/sqlite3.c   int iTask = (pTask - pTask-&gt;pSorter-&gt;aTask);</span>
<span class='curline'><a href='../S/1054.html#L78973'>pTask</a>            78973 ext/sqlite3/libsqlite/sqlite3.c   sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/1054.html#L78977'>pTask</a>            78977 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,</span>
<span class='curline'><a href='../S/1054.html#L78983'>pTask</a>            78983 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/1054.html#L78998'>pTask</a>            78998 ext/sqlite3/libsqlite/sqlite3.c static int vdbeSorterJoinThread(SortSubtask *pTask){</span>
<span class='curline'><a href='../S/1054.html#L79000'>pTask</a>            79000 ext/sqlite3/libsqlite/sqlite3.c   if( pTask-&gt;pThread ){</span>
<span class='curline'><a href='../S/1054.html#L79002'>pTask</a>            79002 ext/sqlite3/libsqlite/sqlite3.c     int bDone = pTask-&gt;bDone;</span>
<span class='curline'><a href='../S/1054.html#L79005'>pTask</a>            79005 ext/sqlite3/libsqlite/sqlite3.c     vdbeSorterBlockDebug(pTask, !bDone, "enter");</span>
<span class='curline'><a href='../S/1054.html#L79006'>pTask</a>            79006 ext/sqlite3/libsqlite/sqlite3.c     (void)sqlite3ThreadJoin(pTask-&gt;pThread, &amp;pRet);</span>
<span class='curline'><a href='../S/1054.html#L79007'>pTask</a>            79007 ext/sqlite3/libsqlite/sqlite3.c     vdbeSorterBlockDebug(pTask, !bDone, "exit");</span>
<span class='curline'><a href='../S/1054.html#L79009'>pTask</a>            79009 ext/sqlite3/libsqlite/sqlite3.c     assert( pTask-&gt;bDone==1 );</span>
<span class='curline'><a href='../S/1054.html#L79010'>pTask</a>            79010 ext/sqlite3/libsqlite/sqlite3.c     pTask-&gt;bDone = 0;</span>
<span class='curline'><a href='../S/1054.html#L79011'>pTask</a>            79011 ext/sqlite3/libsqlite/sqlite3.c     pTask-&gt;pThread = 0;</span>
<span class='curline'><a href='../S/1054.html#L79020'>pTask</a>            79020 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,             /* Thread will use this task object */</span>
<span class='curline'><a href='../S/1054.html#L79024'>pTask</a>            79024 ext/sqlite3/libsqlite/sqlite3.c   assert( pTask-&gt;pThread==0 &amp;&amp; pTask-&gt;bDone==0 );</span>
<span class='curline'><a href='../S/1054.html#L79025'>pTask</a>            79025 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3ThreadCreate(&amp;pTask-&gt;pThread, xTask, pIn);</span>
<span class='curline'><a href='../S/1054.html#L79044'>pTask</a>            79044 ext/sqlite3/libsqlite/sqlite3.c     SortSubtask *pTask = &amp;pSorter-&gt;aTask[i];</span>
<span class='curline'><a href='../S/1054.html#L79045'>pTask</a>            79045 ext/sqlite3/libsqlite/sqlite3.c     int rc2 = vdbeSorterJoinThread(pTask);</span>
<span class='curline'><a href='../S/1054.html#L79052'>pTask</a>            79052 ext/sqlite3/libsqlite/sqlite3.c # define vdbeSorterJoinThread(pTask) SQLITE_OK</span>
<span class='curline'><a href='../S/1054.html#L79075'>pTask</a>            79075 ext/sqlite3/libsqlite/sqlite3.c     pNew-&gt;pTask = 0;</span>
<span class='curline'><a href='../S/1054.html#L79103'>pTask</a>            79103 ext/sqlite3/libsqlite/sqlite3.c       vdbeSorterJoinThread(pIncr-&gt;pTask);</span>
<span class='curline'><a href='../S/1054.html#L79130'>pTask</a>            79130 ext/sqlite3/libsqlite/sqlite3.c     SortSubtask *pTask = &amp;pSorter-&gt;aTask[i];</span>
<span class='curline'><a href='../S/1054.html#L79131'>pTask</a>            79131 ext/sqlite3/libsqlite/sqlite3.c     vdbeSortSubtaskCleanup(db, pTask);</span>
<span class='curline'><a href='../S/1054.html#L79132'>pTask</a>            79132 ext/sqlite3/libsqlite/sqlite3.c     pTask-&gt;pSorter = pSorter;</span>
<span class='curline'><a href='../S/1054.html#L79215'>pTask</a>            79215 ext/sqlite3/libsqlite/sqlite3.c static int vdbeSortAllocUnpacked(SortSubtask *pTask){</span>
<span class='curline'><a href='../S/1054.html#L79216'>pTask</a>            79216 ext/sqlite3/libsqlite/sqlite3.c   if( pTask-&gt;pUnpacked==0 ){</span>
<span class='curline'><a href='../S/1054.html#L79218'>pTask</a>            79218 ext/sqlite3/libsqlite/sqlite3.c     pTask-&gt;pUnpacked = sqlite3VdbeAllocUnpackedRecord(</span>
<span class='curline'><a href='../S/1054.html#L79219'>pTask</a>            79219 ext/sqlite3/libsqlite/sqlite3.c         pTask-&gt;pSorter-&gt;pKeyInfo, 0, 0, &amp;pFree</span>
<span class='curline'><a href='../S/1054.html#L79221'>pTask</a>            79221 ext/sqlite3/libsqlite/sqlite3.c     assert( pTask-&gt;pUnpacked==(UnpackedRecord*)pFree );</span>
<span class='curline'><a href='../S/1054.html#L79223'>pTask</a>            79223 ext/sqlite3/libsqlite/sqlite3.c     pTask-&gt;pUnpacked-&gt;nField = pTask-&gt;pSorter-&gt;pKeyInfo-&gt;nField;</span>
<span class='curline'><a href='../S/1054.html#L79224'>pTask</a>            79224 ext/sqlite3/libsqlite/sqlite3.c     pTask-&gt;pUnpacked-&gt;errCode = 0;</span>
<span class='curline'><a href='../S/1054.html#L79235'>pTask</a>            79235 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,             /* Calling thread context */</span>
<span class='curline'><a href='../S/1054.html#L79246'>pTask</a>            79246 ext/sqlite3/libsqlite/sqlite3.c     res = pTask-&gt;xCompare(</span>
<span class='curline'><a href='../S/1054.html#L79247'>pTask</a>            79247 ext/sqlite3/libsqlite/sqlite3.c         pTask, &amp;bCached, SRVAL(p1), p1-&gt;nVal, SRVAL(p2), p2-&gt;nVal</span>
<span class='curline'><a href='../S/1054.html#L79283'>pTask</a>            79283 ext/sqlite3/libsqlite/sqlite3.c static int vdbeSorterSort(SortSubtask *pTask, SorterList *pList){</span>
<span class='curline'><a href='../S/1054.html#L79289'>pTask</a>            79289 ext/sqlite3/libsqlite/sqlite3.c   rc = vdbeSortAllocUnpacked(pTask);</span>
<span class='curline'><a href='../S/1054.html#L79293'>pTask</a>            79293 ext/sqlite3/libsqlite/sqlite3.c   pTask-&gt;xCompare = vdbeSorterGetCompare(pTask-&gt;pSorter);</span>
<span class='curline'><a href='../S/1054.html#L79315'>pTask</a>            79315 ext/sqlite3/libsqlite/sqlite3.c       vdbeSorterMerge(pTask, p, aSlot[i], &amp;p);</span>
<span class='curline'><a href='../S/1054.html#L79324'>pTask</a>            79324 ext/sqlite3/libsqlite/sqlite3.c     vdbeSorterMerge(pTask, p, aSlot[i], &amp;p);</span>
<span class='curline'><a href='../S/1054.html#L79329'>pTask</a>            79329 ext/sqlite3/libsqlite/sqlite3.c   assert( pTask-&gt;pUnpacked-&gt;errCode==SQLITE_OK </span>
<span class='curline'><a href='../S/1054.html#L79330'>pTask</a>            79330 ext/sqlite3/libsqlite/sqlite3.c        || pTask-&gt;pUnpacked-&gt;errCode==SQLITE_NOMEM </span>
<span class='curline'><a href='../S/1054.html#L79332'>pTask</a>            79332 ext/sqlite3/libsqlite/sqlite3.c   return pTask-&gt;pUnpacked-&gt;errCode;</span>
<span class='curline'><a href='../S/1054.html#L79433'>pTask</a>            79433 ext/sqlite3/libsqlite/sqlite3.c static int vdbeSorterListToPMA(SortSubtask *pTask, SorterList *pList){</span>
<span class='curline'><a href='../S/1054.html#L79434'>pTask</a>            79434 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pTask-&gt;pSorter-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L79441'>pTask</a>            79441 ext/sqlite3/libsqlite/sqlite3.c   i64 iSz = pList-&gt;szPMA + sqlite3VarintLen(pList-&gt;szPMA) + pTask-&gt;file.iEof;</span>
<span class='curline'><a href='../S/1054.html#L79444'>pTask</a>            79444 ext/sqlite3/libsqlite/sqlite3.c   vdbeSorterWorkDebug(pTask, "enter");</span>
<span class='curline'><a href='../S/1054.html#L79449'>pTask</a>            79449 ext/sqlite3/libsqlite/sqlite3.c   if( pTask-&gt;file.pFd==0 ){</span>
<span class='curline'><a href='../S/1054.html#L79450'>pTask</a>            79450 ext/sqlite3/libsqlite/sqlite3.c     rc = vdbeSorterOpenTempFile(db, 0, &amp;pTask-&gt;file.pFd);</span>
<span class='curline'><a href='../S/1054.html#L79451'>pTask</a>            79451 ext/sqlite3/libsqlite/sqlite3.c     assert( rc!=SQLITE_OK || pTask-&gt;file.pFd );</span>
<span class='curline'><a href='../S/1054.html#L79452'>pTask</a>            79452 ext/sqlite3/libsqlite/sqlite3.c     assert( pTask-&gt;file.iEof==0 );</span>
<span class='curline'><a href='../S/1054.html#L79453'>pTask</a>            79453 ext/sqlite3/libsqlite/sqlite3.c     assert( pTask-&gt;nPMA==0 );</span>
<span class='curline'><a href='../S/1054.html#L79458'>pTask</a>            79458 ext/sqlite3/libsqlite/sqlite3.c     vdbeSorterExtendFile(db, pTask-&gt;file.pFd, pTask-&gt;file.iEof+pList-&gt;szPMA+9);</span>
<span class='curline'><a href='../S/1054.html#L79463'>pTask</a>            79463 ext/sqlite3/libsqlite/sqlite3.c     rc = vdbeSorterSort(pTask, pList);</span>
<span class='curline'><a href='../S/1054.html#L79470'>pTask</a>            79470 ext/sqlite3/libsqlite/sqlite3.c     vdbePmaWriterInit(pTask-&gt;file.pFd, &amp;writer, pTask-&gt;pSorter-&gt;pgsz,</span>
<span class='curline'><a href='../S/1054.html#L79471'>pTask</a>            79471 ext/sqlite3/libsqlite/sqlite3.c                       pTask-&gt;file.iEof);</span>
<span class='curline'><a href='../S/1054.html#L79472'>pTask</a>            79472 ext/sqlite3/libsqlite/sqlite3.c     pTask-&gt;nPMA++;</span>
<span class='curline'><a href='../S/1054.html#L79481'>pTask</a>            79481 ext/sqlite3/libsqlite/sqlite3.c     rc = vdbePmaWriterFinish(&amp;writer, &amp;pTask-&gt;file.iEof);</span>
<span class='curline'><a href='../S/1054.html#L79484'>pTask</a>            79484 ext/sqlite3/libsqlite/sqlite3.c   vdbeSorterWorkDebug(pTask, "exit");</span>
<span class='curline'><a href='../S/1054.html#L79486'>pTask</a>            79486 ext/sqlite3/libsqlite/sqlite3.c   assert( rc!=SQLITE_OK || pTask-&gt;file.iEof==iSz );</span>
<span class='curline'><a href='../S/1054.html#L79503'>pTask</a>            79503 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask = pMerger-&gt;pTask;</span>
<span class='curline'><a href='../S/1054.html#L79528'>pTask</a>            79528 ext/sqlite3/libsqlite/sqlite3.c         iRes = pTask-&gt;xCompare(pTask, &amp;bCached,</span>
<span class='curline'><a href='../S/1054.html#L79561'>pTask</a>            79561 ext/sqlite3/libsqlite/sqlite3.c   return (rc==SQLITE_OK ? pTask-&gt;pUnpacked-&gt;errCode : rc);</span>
<span class='curline'><a href='../S/1054.html#L79569'>pTask</a>            79569 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask = (SortSubtask*)pCtx;</span>
<span class='curline'><a href='../S/1054.html#L79571'>pTask</a>            79571 ext/sqlite3/libsqlite/sqlite3.c   assert( pTask-&gt;bDone==0 );</span>
<span class='curline'><a href='../S/1054.html#L79572'>pTask</a>            79572 ext/sqlite3/libsqlite/sqlite3.c   rc = vdbeSorterListToPMA(pTask, &amp;pTask-&gt;list);</span>
<span class='curline'><a href='../S/1054.html#L79573'>pTask</a>            79573 ext/sqlite3/libsqlite/sqlite3.c   pTask-&gt;bDone = 1;</span>
<span class='curline'><a href='../S/1054.html#L79589'>pTask</a>            79589 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask = 0;    /* Thread context used to create new PMA */</span>
<span class='curline'><a href='../S/1054.html#L79606'>pTask</a>            79606 ext/sqlite3/libsqlite/sqlite3.c     pTask = &amp;pSorter-&gt;aTask[iTest];</span>
<span class='curline'><a href='../S/1054.html#L79607'>pTask</a>            79607 ext/sqlite3/libsqlite/sqlite3.c     if( pTask-&gt;bDone ){</span>
<span class='curline'><a href='../S/1054.html#L79608'>pTask</a>            79608 ext/sqlite3/libsqlite/sqlite3.c       rc = vdbeSorterJoinThread(pTask);</span>
<span class='curline'><a href='../S/1054.html#L79610'>pTask</a>            79610 ext/sqlite3/libsqlite/sqlite3.c     if( rc!=SQLITE_OK || pTask-&gt;pThread==0 ) break;</span>
<span class='curline'><a href='../S/1054.html#L79619'>pTask</a>            79619 ext/sqlite3/libsqlite/sqlite3.c       u8 *aMem = pTask-&gt;list.aMemory;</span>
<span class='curline'><a href='../S/1054.html#L79620'>pTask</a>            79620 ext/sqlite3/libsqlite/sqlite3.c       void *pCtx = (void*)pTask;</span>
<span class='curline'><a href='../S/1054.html#L79622'>pTask</a>            79622 ext/sqlite3/libsqlite/sqlite3.c       assert( pTask-&gt;pThread==0 &amp;&amp; pTask-&gt;bDone==0 );</span>
<span class='curline'><a href='../S/1054.html#L79623'>pTask</a>            79623 ext/sqlite3/libsqlite/sqlite3.c       assert( pTask-&gt;list.pList==0 );</span>
<span class='curline'><a href='../S/1054.html#L79624'>pTask</a>            79624 ext/sqlite3/libsqlite/sqlite3.c       assert( pTask-&gt;list.aMemory==0 || pSorter-&gt;list.aMemory!=0 );</span>
<span class='curline'><a href='../S/1054.html#L79626'>pTask</a>            79626 ext/sqlite3/libsqlite/sqlite3.c       pSorter-&gt;iPrev = (u8)(pTask - pSorter-&gt;aTask);</span>
<span class='curline'><a href='../S/1054.html#L79627'>pTask</a>            79627 ext/sqlite3/libsqlite/sqlite3.c       pTask-&gt;list = pSorter-&gt;list;</span>
<span class='curline'><a href='../S/1054.html#L79638'>pTask</a>            79638 ext/sqlite3/libsqlite/sqlite3.c       rc = vdbeSorterCreateThread(pTask, vdbeSorterFlushThread, pCtx);</span>
<span class='curline'><a href='../S/1054.html#L79760'>pTask</a>            79760 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask = pIncr-&gt;pTask;</span>
<span class='curline'><a href='../S/1054.html#L79765'>pTask</a>            79765 ext/sqlite3/libsqlite/sqlite3.c   vdbeSorterPopulateDebug(pTask, "enter");</span>
<span class='curline'><a href='../S/1054.html#L79767'>pTask</a>            79767 ext/sqlite3/libsqlite/sqlite3.c   vdbePmaWriterInit(pOut-&gt;pFd, &amp;writer, pTask-&gt;pSorter-&gt;pgsz, iStart);</span>
<span class='curline'><a href='../S/1054.html#L79782'>pTask</a>            79782 ext/sqlite3/libsqlite/sqlite3.c     assert( pIncr-&gt;pMerger-&gt;pTask==pTask );</span>
<span class='curline'><a href='../S/1054.html#L79788'>pTask</a>            79788 ext/sqlite3/libsqlite/sqlite3.c   vdbeSorterPopulateDebug(pTask, "exit");</span>
<span class='curline'><a href='../S/1054.html#L79800'>pTask</a>            79800 ext/sqlite3/libsqlite/sqlite3.c   pIncr-&gt;pTask-&gt;bDone = 1;</span>
<span class='curline'><a href='../S/1054.html#L79810'>pTask</a>            79810 ext/sqlite3/libsqlite/sqlite3.c   return vdbeSorterCreateThread(pIncr-&gt;pTask, vdbeIncrPopulateThread, p);</span>
<span class='curline'><a href='../S/1054.html#L79836'>pTask</a>            79836 ext/sqlite3/libsqlite/sqlite3.c     rc = vdbeSorterJoinThread(pIncr-&gt;pTask);</span>
<span class='curline'><a href='../S/1054.html#L79871'>pTask</a>            79871 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,     /* The thread that will be using the new IncrMerger */</span>
<span class='curline'><a href='../S/1054.html#L79880'>pTask</a>            79880 ext/sqlite3/libsqlite/sqlite3.c     pIncr-&gt;pTask = pTask;</span>
<span class='curline'><a href='../S/1054.html#L79881'>pTask</a>            79881 ext/sqlite3/libsqlite/sqlite3.c     pIncr-&gt;mxSz = MAX(pTask-&gt;pSorter-&gt;mxKeysize+9,pTask-&gt;pSorter-&gt;mxPmaSize/2);</span>
<span class='curline'><a href='../S/1054.html#L79882'>pTask</a>            79882 ext/sqlite3/libsqlite/sqlite3.c     pTask-&gt;file2.iEof += pIncr-&gt;mxSz;</span>
<span class='curline'><a href='../S/1054.html#L79896'>pTask</a>            79896 ext/sqlite3/libsqlite/sqlite3.c   pIncr-&gt;pTask-&gt;file2.iEof -= pIncr-&gt;mxSz;</span>
<span class='curline'><a href='../S/1054.html#L79935'>pTask</a>            79935 ext/sqlite3/libsqlite/sqlite3.c     SortSubtask *pTask = pMerger-&gt;pTask;</span>
<span class='curline'><a href='../S/1054.html#L79938'>pTask</a>            79938 ext/sqlite3/libsqlite/sqlite3.c     assert( pTask-&gt;pUnpacked!=0 );  /* from vdbeSortSubtaskMain() */</span>
<span class='curline'><a href='../S/1054.html#L79939'>pTask</a>            79939 ext/sqlite3/libsqlite/sqlite3.c     res = pTask-&gt;xCompare(</span>
<span class='curline'><a href='../S/1054.html#L79940'>pTask</a>            79940 ext/sqlite3/libsqlite/sqlite3.c         pTask, &amp;bCached, p1-&gt;aKey, p1-&gt;nKey, p2-&gt;aKey, p2-&gt;nKey</span>
<span class='curline'><a href='../S/1054.html#L79990'>pTask</a>            79990 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,             /* Thread that will run pMerger */</span>
<span class='curline'><a href='../S/1054.html#L80002'>pTask</a>            80002 ext/sqlite3/libsqlite/sqlite3.c   assert( pMerger-&gt;pTask==0 );</span>
<span class='curline'><a href='../S/1054.html#L80003'>pTask</a>            80003 ext/sqlite3/libsqlite/sqlite3.c   pMerger-&gt;pTask = pTask;</span>
<span class='curline'><a href='../S/1054.html#L80024'>pTask</a>            80024 ext/sqlite3/libsqlite/sqlite3.c   return pTask-&gt;pUnpacked-&gt;errCode;</span>
<span class='curline'><a href='../S/1054.html#L80063'>pTask</a>            80063 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask = pIncr-&gt;pTask;</span>
<span class='curline'><a href='../S/1054.html#L80064'>pTask</a>            80064 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pTask-&gt;pSorter-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L80069'>pTask</a>            80069 ext/sqlite3/libsqlite/sqlite3.c   rc = vdbeMergeEngineInit(pTask, pIncr-&gt;pMerger, eMode);</span>
<span class='curline'><a href='../S/1054.html#L80085'>pTask</a>            80085 ext/sqlite3/libsqlite/sqlite3.c       if( pTask-&gt;file2.pFd==0 ){</span>
<span class='curline'><a href='../S/1054.html#L80086'>pTask</a>            80086 ext/sqlite3/libsqlite/sqlite3.c         assert( pTask-&gt;file2.iEof&gt;0 );</span>
<span class='curline'><a href='../S/1054.html#L80087'>pTask</a>            80087 ext/sqlite3/libsqlite/sqlite3.c         rc = vdbeSorterOpenTempFile(db, pTask-&gt;file2.iEof, &amp;pTask-&gt;file2.pFd);</span>
<span class='curline'><a href='../S/1054.html#L80088'>pTask</a>            80088 ext/sqlite3/libsqlite/sqlite3.c         pTask-&gt;file2.iEof = 0;</span>
<span class='curline'><a href='../S/1054.html#L80091'>pTask</a>            80091 ext/sqlite3/libsqlite/sqlite3.c         pIncr-&gt;aFile[1].pFd = pTask-&gt;file2.pFd;</span>
<span class='curline'><a href='../S/1054.html#L80092'>pTask</a>            80092 ext/sqlite3/libsqlite/sqlite3.c         pIncr-&gt;iStartOff = pTask-&gt;file2.iEof;</span>
<span class='curline'><a href='../S/1054.html#L80093'>pTask</a>            80093 ext/sqlite3/libsqlite/sqlite3.c         pTask-&gt;file2.iEof += mxSz;</span>
<span class='curline'><a href='../S/1054.html#L80132'>pTask</a>            80132 ext/sqlite3/libsqlite/sqlite3.c   pReader-&gt;pIncr-&gt;pTask-&gt;bDone = 1;</span>
<span class='curline'><a href='../S/1054.html#L80156'>pTask</a>            80156 ext/sqlite3/libsqlite/sqlite3.c       rc = vdbeSorterCreateThread(pIncr-&gt;pTask, vdbePmaReaderBgIncrInit, pCtx);</span>
<span class='curline'><a href='../S/1054.html#L80179'>pTask</a>            80179 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,             /* Sorter task to read from */</span>
<span class='curline'><a href='../S/1054.html#L80195'>pTask</a>            80195 ext/sqlite3/libsqlite/sqlite3.c     rc = vdbePmaReaderInit(pTask, &amp;pTask-&gt;file, iOff, pReadr, &amp;nDummy);</span>
<span class='curline'><a href='../S/1054.html#L80236'>pTask</a>            80236 ext/sqlite3/libsqlite/sqlite3.c   SortSubtask *pTask,             /* Task context */</span>
<span class='curline'><a href='../S/1054.html#L80248'>pTask</a>            80248 ext/sqlite3/libsqlite/sqlite3.c   rc = vdbeIncrMergerNew(pTask, pLeaf, &amp;pIncr);</span>
<span class='curline'><a href='../S/1054.html#L80263'>pTask</a>            80263 ext/sqlite3/libsqlite/sqlite3.c         rc = vdbeIncrMergerNew(pTask, pNew, &amp;pReadr-&gt;pIncr);</span>
<span class='curline'><a href='../S/1054.html#L80311'>pTask</a>            80311 ext/sqlite3/libsqlite/sqlite3.c     SortSubtask *pTask = &amp;pSorter-&gt;aTask[iTask];</span>
<span class='curline'><a href='../S/1054.html#L80312'>pTask</a>            80312 ext/sqlite3/libsqlite/sqlite3.c     assert( pTask-&gt;nPMA&gt;0 || SQLITE_MAX_WORKER_THREADS&gt;0 );</span>
<span class='curline'><a href='../S/1054.html#L80313'>pTask</a>            80313 ext/sqlite3/libsqlite/sqlite3.c     if( SQLITE_MAX_WORKER_THREADS==0 || pTask-&gt;nPMA ){</span>
<span class='curline'><a href='../S/1054.html#L80315'>pTask</a>            80315 ext/sqlite3/libsqlite/sqlite3.c       int nDepth = vdbeSorterTreeDepth(pTask-&gt;nPMA);</span>
<span class='curline'><a href='../S/1054.html#L80318'>pTask</a>            80318 ext/sqlite3/libsqlite/sqlite3.c       if( pTask-&gt;nPMA&lt;=SORTER_MAX_MERGE_COUNT ){</span>
<span class='curline'><a href='../S/1054.html#L80319'>pTask</a>            80319 ext/sqlite3/libsqlite/sqlite3.c         rc = vdbeMergeEngineLevel0(pTask, pTask-&gt;nPMA, &amp;iReadOff, &amp;pRoot);</span>
<span class='curline'><a href='../S/1054.html#L80325'>pTask</a>            80325 ext/sqlite3/libsqlite/sqlite3.c         for(i=0; i&lt;pTask-&gt;nPMA &amp;&amp; rc==SQLITE_OK; i += SORTER_MAX_MERGE_COUNT){</span>
<span class='curline'><a href='../S/1054.html#L80329'>pTask</a>            80329 ext/sqlite3/libsqlite/sqlite3.c           nReader = MIN(pTask-&gt;nPMA - i, SORTER_MAX_MERGE_COUNT);</span>
<span class='curline'><a href='../S/1054.html#L80330'>pTask</a>            80330 ext/sqlite3/libsqlite/sqlite3.c           rc = vdbeMergeEngineLevel0(pTask, nReader, &amp;iReadOff, &amp;pMerger);</span>
<span class='curline'><a href='../S/1054.html#L80332'>pTask</a>            80332 ext/sqlite3/libsqlite/sqlite3.c             rc = vdbeSorterAddToTree(pTask, nDepth, iSeq++, pRoot, pMerger);</span>
<span class='curline'><a href='../S/1054.html#L80340'>pTask</a>            80340 ext/sqlite3/libsqlite/sqlite3.c           rc = vdbeIncrMergerNew(pTask, pRoot, &amp;pMain-&gt;aReadr[iTask].pIncr);</span>
<span class='curline'><a href='../S/1054.html#L80405'>pTask</a>            80405 ext/sqlite3/libsqlite/sqlite3.c               assert( pIncr-&gt;pTask!=pLast );</span>
<span class='curline'><a href='../S/1054.html#L80420'>pTask</a>            80420 ext/sqlite3/libsqlite/sqlite3.c                 (p-&gt;pIncr-&gt;pTask==&amp;pSorter-&gt;aTask[iTask])             /* a */</span>
<span class='curline'><a href='../S/1054.html#L80515'>pTask</a>            80515 ext/sqlite3/libsqlite/sqlite3.c       assert( pSorter-&gt;pMerger-&gt;pTask==(&amp;pSorter-&gt;aTask[0]) );</span>
</pre>
</body>
</html>
