<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pWriter</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1054.html#L52523'>pWriter</a>          52523 ext/sqlite3/libsqlite/sqlite3.c   Btree *pWriter;       /* Btree with currently open write transaction */</span>
<span class='curline'><a href='../S/1054.html#L53311'>pWriter</a>          53311 ext/sqlite3/libsqlite/sqlite3.c   assert( eLock==READ_LOCK || (p==pBt-&gt;pWriter &amp;&amp; p-&gt;inTrans==TRANS_WRITE) );</span>
<span class='curline'><a href='../S/1054.html#L53322'>pWriter</a>          53322 ext/sqlite3/libsqlite/sqlite3.c   if( pBt-&gt;pWriter!=p &amp;&amp; (pBt-&gt;btsFlags &amp; BTS_EXCLUSIVE)!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L53323'>pWriter</a>          53323 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ConnectionBlocked(p-&gt;db, pBt-&gt;pWriter-&gt;db);</span>
<span class='curline'><a href='../S/1054.html#L53342'>pWriter</a>          53342 ext/sqlite3/libsqlite/sqlite3.c         assert( p==pBt-&gt;pWriter );</span>
<span class='curline'><a href='../S/1054.html#L53444'>pWriter</a>          53444 ext/sqlite3/libsqlite/sqlite3.c     assert( (pBt-&gt;btsFlags &amp; BTS_EXCLUSIVE)==0 || pBt-&gt;pWriter==pLock-&gt;pBtree );</span>
<span class='curline'><a href='../S/1054.html#L53457'>pWriter</a>          53457 ext/sqlite3/libsqlite/sqlite3.c   assert( (pBt-&gt;btsFlags &amp; BTS_PENDING)==0 || pBt-&gt;pWriter );</span>
<span class='curline'><a href='../S/1054.html#L53458'>pWriter</a>          53458 ext/sqlite3/libsqlite/sqlite3.c   if( pBt-&gt;pWriter==p ){</span>
<span class='curline'><a href='../S/1054.html#L53459'>pWriter</a>          53459 ext/sqlite3/libsqlite/sqlite3.c     pBt-&gt;pWriter = 0;</span>
<span class='curline'><a href='../S/1054.html#L53480'>pWriter</a>          53480 ext/sqlite3/libsqlite/sqlite3.c   if( pBt-&gt;pWriter==p ){</span>
<span class='curline'><a href='../S/1054.html#L53482'>pWriter</a>          53482 ext/sqlite3/libsqlite/sqlite3.c     pBt-&gt;pWriter = 0;</span>
<span class='curline'><a href='../S/1054.html#L55961'>pWriter</a>          55961 ext/sqlite3/libsqlite/sqlite3.c     pBlock = pBt-&gt;pWriter-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L56032'>pWriter</a>          56032 ext/sqlite3/libsqlite/sqlite3.c       assert( !pBt-&gt;pWriter );</span>
<span class='curline'><a href='../S/1054.html#L56033'>pWriter</a>          56033 ext/sqlite3/libsqlite/sqlite3.c       pBt-&gt;pWriter = p;</span>
<span class='curline'><a href='../S/1054.html#L145159'>pWriter</a>          145159 ext/sqlite3/libsqlite/sqlite3.c   SegmentWriter *pWriter = *ppWriter;</span>
<span class='curline'><a href='../S/1054.html#L145161'>pWriter</a>          145161 ext/sqlite3/libsqlite/sqlite3.c   if( !pWriter ){</span>
<span class='curline'><a href='../S/1054.html#L145166'>pWriter</a>          145166 ext/sqlite3/libsqlite/sqlite3.c     pWriter = (SegmentWriter *)sqlite3_malloc(sizeof(SegmentWriter));</span>
<span class='curline'><a href='../S/1054.html#L145167'>pWriter</a>          145167 ext/sqlite3/libsqlite/sqlite3.c     if( !pWriter ) return SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/1054.html#L145168'>pWriter</a>          145168 ext/sqlite3/libsqlite/sqlite3.c     memset(pWriter, 0, sizeof(SegmentWriter));</span>
<span class='curline'><a href='../S/1054.html#L145169'>pWriter</a>          145169 ext/sqlite3/libsqlite/sqlite3.c     *ppWriter = pWriter;</span>
<span class='curline'><a href='../S/1054.html#L145172'>pWriter</a>          145172 ext/sqlite3/libsqlite/sqlite3.c     pWriter-&gt;aData = (char *)sqlite3_malloc(p-&gt;nNodeSize);</span>
<span class='curline'><a href='../S/1054.html#L145173'>pWriter</a>          145173 ext/sqlite3/libsqlite/sqlite3.c     if( !pWriter-&gt;aData ) return SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/1054.html#L145174'>pWriter</a>          145174 ext/sqlite3/libsqlite/sqlite3.c     pWriter-&gt;nSize = p-&gt;nNodeSize;</span>
<span class='curline'><a href='../S/1054.html#L145180'>pWriter</a>          145180 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;iFree = sqlite3_column_int64(pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L145181'>pWriter</a>          145181 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;iFirst = pWriter-&gt;iFree;</span>
<span class='curline'><a href='../S/1054.html#L145186'>pWriter</a>          145186 ext/sqlite3/libsqlite/sqlite3.c   nData = pWriter-&gt;nData;</span>
<span class='curline'><a href='../S/1054.html#L145188'>pWriter</a>          145188 ext/sqlite3/libsqlite/sqlite3.c   nPrefix = fts3PrefixCompress(pWriter-&gt;zTerm, pWriter-&gt;nTerm, zTerm, nTerm);</span>
<span class='curline'><a href='../S/1054.html#L145202'>pWriter</a>          145202 ext/sqlite3/libsqlite/sqlite3.c     rc = fts3WriteSegment(p, pWriter-&gt;iFree++, pWriter-&gt;aData, nData);</span>
<span class='curline'><a href='../S/1054.html#L145219'>pWriter</a>          145219 ext/sqlite3/libsqlite/sqlite3.c     rc = fts3NodeAddTerm(p, &amp;pWriter-&gt;pTree, isCopyTerm, zTerm, nPrefix+1);</span>
<span class='curline'><a href='../S/1054.html#L145223'>pWriter</a>          145223 ext/sqlite3/libsqlite/sqlite3.c     pWriter-&gt;nTerm = 0;</span>
<span class='curline'><a href='../S/1054.html#L145235'>pWriter</a>          145235 ext/sqlite3/libsqlite/sqlite3.c   pWriter-&gt;nLeafData += nReq;</span>
<span class='curline'><a href='../S/1054.html#L145240'>pWriter</a>          145240 ext/sqlite3/libsqlite/sqlite3.c   if( nReq&gt;pWriter-&gt;nSize ){</span>
<span class='curline'><a href='../S/1054.html#L145241'>pWriter</a>          145241 ext/sqlite3/libsqlite/sqlite3.c     char *aNew = sqlite3_realloc(pWriter-&gt;aData, nReq);</span>
<span class='curline'><a href='../S/1054.html#L145243'>pWriter</a>          145243 ext/sqlite3/libsqlite/sqlite3.c     pWriter-&gt;aData = aNew;</span>
<span class='curline'><a href='../S/1054.html#L145244'>pWriter</a>          145244 ext/sqlite3/libsqlite/sqlite3.c     pWriter-&gt;nSize = nReq;</span>
<span class='curline'><a href='../S/1054.html#L145246'>pWriter</a>          145246 ext/sqlite3/libsqlite/sqlite3.c   assert( nData+nReq&lt;=pWriter-&gt;nSize );</span>
<span class='curline'><a href='../S/1054.html#L145249'>pWriter</a>          145249 ext/sqlite3/libsqlite/sqlite3.c   nData += sqlite3Fts3PutVarint(&amp;pWriter-&gt;aData[nData], nPrefix);</span>
<span class='curline'><a href='../S/1054.html#L145250'>pWriter</a>          145250 ext/sqlite3/libsqlite/sqlite3.c   nData += sqlite3Fts3PutVarint(&amp;pWriter-&gt;aData[nData], nSuffix);</span>
<span class='curline'><a href='../S/1054.html#L145251'>pWriter</a>          145251 ext/sqlite3/libsqlite/sqlite3.c   memcpy(&amp;pWriter-&gt;aData[nData], &amp;zTerm[nPrefix], nSuffix);</span>
<span class='curline'><a href='../S/1054.html#L145253'>pWriter</a>          145253 ext/sqlite3/libsqlite/sqlite3.c   nData += sqlite3Fts3PutVarint(&amp;pWriter-&gt;aData[nData], nDoclist);</span>
<span class='curline'><a href='../S/1054.html#L145254'>pWriter</a>          145254 ext/sqlite3/libsqlite/sqlite3.c   memcpy(&amp;pWriter-&gt;aData[nData], aDoclist, nDoclist);</span>
<span class='curline'><a href='../S/1054.html#L145255'>pWriter</a>          145255 ext/sqlite3/libsqlite/sqlite3.c   pWriter-&gt;nData = nData + nDoclist;</span>
<span class='curline'><a href='../S/1054.html#L145263'>pWriter</a>          145263 ext/sqlite3/libsqlite/sqlite3.c     if( nTerm&gt;pWriter-&gt;nMalloc ){</span>
<span class='curline'><a href='../S/1054.html#L145264'>pWriter</a>          145264 ext/sqlite3/libsqlite/sqlite3.c       char *zNew = sqlite3_realloc(pWriter-&gt;zMalloc, nTerm*2);</span>
<span class='curline'><a href='../S/1054.html#L145268'>pWriter</a>          145268 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;nMalloc = nTerm*2;</span>
<span class='curline'><a href='../S/1054.html#L145269'>pWriter</a>          145269 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;zMalloc = zNew;</span>
<span class='curline'><a href='../S/1054.html#L145270'>pWriter</a>          145270 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;zTerm = zNew;</span>
<span class='curline'><a href='../S/1054.html#L145272'>pWriter</a>          145272 ext/sqlite3/libsqlite/sqlite3.c     assert( pWriter-&gt;zTerm==pWriter-&gt;zMalloc );</span>
<span class='curline'><a href='../S/1054.html#L145273'>pWriter</a>          145273 ext/sqlite3/libsqlite/sqlite3.c     memcpy(pWriter-&gt;zTerm, zTerm, nTerm);</span>
<span class='curline'><a href='../S/1054.html#L145275'>pWriter</a>          145275 ext/sqlite3/libsqlite/sqlite3.c     pWriter-&gt;zTerm = (char *)zTerm;</span>
<span class='curline'><a href='../S/1054.html#L145277'>pWriter</a>          145277 ext/sqlite3/libsqlite/sqlite3.c   pWriter-&gt;nTerm = nTerm;</span>
<span class='curline'><a href='../S/1054.html#L145290'>pWriter</a>          145290 ext/sqlite3/libsqlite/sqlite3.c   SegmentWriter *pWriter,         /* SegmentWriter to flush to the db */</span>
<span class='curline'><a href='../S/1054.html#L145295'>pWriter</a>          145295 ext/sqlite3/libsqlite/sqlite3.c   if( pWriter-&gt;pTree ){</span>
<span class='curline'><a href='../S/1054.html#L145301'>pWriter</a>          145301 ext/sqlite3/libsqlite/sqlite3.c     iLastLeaf = pWriter-&gt;iFree;</span>
<span class='curline'><a href='../S/1054.html#L145302'>pWriter</a>          145302 ext/sqlite3/libsqlite/sqlite3.c     rc = fts3WriteSegment(p, pWriter-&gt;iFree++, pWriter-&gt;aData, pWriter-&gt;nData);</span>
<span class='curline'><a href='../S/1054.html#L145304'>pWriter</a>          145304 ext/sqlite3/libsqlite/sqlite3.c       rc = fts3NodeWrite(p, pWriter-&gt;pTree, 1,</span>
<span class='curline'><a href='../S/1054.html#L145305'>pWriter</a>          145305 ext/sqlite3/libsqlite/sqlite3.c           pWriter-&gt;iFirst, pWriter-&gt;iFree, &amp;iLast, &amp;zRoot, &amp;nRoot);</span>
<span class='curline'><a href='../S/1054.html#L145309'>pWriter</a>          145309 ext/sqlite3/libsqlite/sqlite3.c           pWriter-&gt;iFirst, iLastLeaf, iLast, pWriter-&gt;nLeafData, zRoot, nRoot);</span>
<span class='curline'><a href='../S/1054.html#L145314'>pWriter</a>          145314 ext/sqlite3/libsqlite/sqlite3.c         0, 0, 0, pWriter-&gt;nLeafData, pWriter-&gt;aData, pWriter-&gt;nData);</span>
<span class='curline'><a href='../S/1054.html#L145324'>pWriter</a>          145324 ext/sqlite3/libsqlite/sqlite3.c static void fts3SegWriterFree(SegmentWriter *pWriter){</span>
<span class='curline'><a href='../S/1054.html#L145325'>pWriter</a>          145325 ext/sqlite3/libsqlite/sqlite3.c   if( pWriter ){</span>
<span class='curline'><a href='../S/1054.html#L145326'>pWriter</a>          145326 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_free(pWriter-&gt;aData);</span>
<span class='curline'><a href='../S/1054.html#L145327'>pWriter</a>          145327 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_free(pWriter-&gt;zMalloc);</span>
<span class='curline'><a href='../S/1054.html#L145328'>pWriter</a>          145328 ext/sqlite3/libsqlite/sqlite3.c     fts3NodeFree(pWriter-&gt;pTree);</span>
<span class='curline'><a href='../S/1054.html#L145329'>pWriter</a>          145329 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_free(pWriter);</span>
<span class='curline'><a href='../S/1054.html#L146118'>pWriter</a>          146118 ext/sqlite3/libsqlite/sqlite3.c   SegmentWriter *pWriter = 0;     /* Used to write the new, merged, segment */</span>
<span class='curline'><a href='../S/1054.html#L146175'>pWriter</a>          146175 ext/sqlite3/libsqlite/sqlite3.c     rc = fts3SegWriterAdd(p, &amp;pWriter, 1, </span>
<span class='curline'><a href='../S/1054.html#L146179'>pWriter</a>          146179 ext/sqlite3/libsqlite/sqlite3.c   assert( pWriter || bIgnoreEmpty );</span>
<span class='curline'><a href='../S/1054.html#L146187'>pWriter</a>          146187 ext/sqlite3/libsqlite/sqlite3.c   if( pWriter ){</span>
<span class='curline'><a href='../S/1054.html#L146188'>pWriter</a>          146188 ext/sqlite3/libsqlite/sqlite3.c     rc = fts3SegWriterFlush(p, pWriter, iNewLevel, iIdx);</span>
<span class='curline'><a href='../S/1054.html#L146191'>pWriter</a>          146191 ext/sqlite3/libsqlite/sqlite3.c         rc = fts3PromoteSegments(p, iNewLevel, pWriter-&gt;nLeafData);</span>
<span class='curline'><a href='../S/1054.html#L146197'>pWriter</a>          146197 ext/sqlite3/libsqlite/sqlite3.c   fts3SegWriterFree(pWriter);</span>
<span class='curline'><a href='../S/1054.html#L146735'>pWriter</a>          146735 ext/sqlite3/libsqlite/sqlite3.c   IncrmergeWriter *pWriter,       /* Writer object */</span>
<span class='curline'><a href='../S/1054.html#L146739'>pWriter</a>          146739 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_int64 iPtr = pWriter-&gt;aNodeWriter[0].iBlock;</span>
<span class='curline'><a href='../S/1054.html#L146745'>pWriter</a>          146745 ext/sqlite3/libsqlite/sqlite3.c     NodeWriter *pNode = &amp;pWriter-&gt;aNodeWriter[iLayer];</span>
<span class='curline'><a href='../S/1054.html#L146886'>pWriter</a>          146886 ext/sqlite3/libsqlite/sqlite3.c   IncrmergeWriter *pWriter,       /* Writer object */</span>
<span class='curline'><a href='../S/1054.html#L146899'>pWriter</a>          146899 ext/sqlite3/libsqlite/sqlite3.c   pLeaf = &amp;pWriter-&gt;aNodeWriter[0];</span>
<span class='curline'><a href='../S/1054.html#L146912'>pWriter</a>          146912 ext/sqlite3/libsqlite/sqlite3.c     pWriter-&gt;nWork++;</span>
<span class='curline'><a href='../S/1054.html#L146927'>pWriter</a>          146927 ext/sqlite3/libsqlite/sqlite3.c       rc = fts3IncrmergePush(p, pWriter, zTerm, nPrefix+1);</span>
<span class='curline'><a href='../S/1054.html#L146941'>pWriter</a>          146941 ext/sqlite3/libsqlite/sqlite3.c   pWriter-&gt;nLeafData += nSpace;</span>
<span class='curline'><a href='../S/1054.html#L146971'>pWriter</a>          146971 ext/sqlite3/libsqlite/sqlite3.c   IncrmergeWriter *pWriter,       /* Merge-writer object */</span>
<span class='curline'><a href='../S/1054.html#L146984'>pWriter</a>          146984 ext/sqlite3/libsqlite/sqlite3.c     NodeWriter *pNode = &amp;pWriter-&gt;aNodeWriter[iRoot];</span>
<span class='curline'><a href='../S/1054.html#L147011'>pWriter</a>          147011 ext/sqlite3/libsqlite/sqlite3.c     Blob *pBlock = &amp;pWriter-&gt;aNodeWriter[1].block;</span>
<span class='curline'><a href='../S/1054.html#L147016'>pWriter</a>          147016 ext/sqlite3/libsqlite/sqlite3.c           &amp;pBlock-&gt;a[1], pWriter-&gt;aNodeWriter[0].iBlock</span>
<span class='curline'><a href='../S/1054.html#L147021'>pWriter</a>          147021 ext/sqlite3/libsqlite/sqlite3.c   pRoot = &amp;pWriter-&gt;aNodeWriter[iRoot];</span>
<span class='curline'><a href='../S/1054.html#L147025'>pWriter</a>          147025 ext/sqlite3/libsqlite/sqlite3.c     NodeWriter *pNode = &amp;pWriter-&gt;aNodeWriter[i];</span>
<span class='curline'><a href='../S/1054.html#L147036'>pWriter</a>          147036 ext/sqlite3/libsqlite/sqlite3.c         pWriter-&gt;iAbsLevel+1,               /* level */</span>
<span class='curline'><a href='../S/1054.html#L147037'>pWriter</a>          147037 ext/sqlite3/libsqlite/sqlite3.c         pWriter-&gt;iIdx,                      /* idx */</span>
<span class='curline'><a href='../S/1054.html#L147038'>pWriter</a>          147038 ext/sqlite3/libsqlite/sqlite3.c         pWriter-&gt;iStart,                    /* start_block */</span>
<span class='curline'><a href='../S/1054.html#L147039'>pWriter</a>          147039 ext/sqlite3/libsqlite/sqlite3.c         pWriter-&gt;aNodeWriter[0].iBlock,     /* leaves_end_block */</span>
<span class='curline'><a href='../S/1054.html#L147040'>pWriter</a>          147040 ext/sqlite3/libsqlite/sqlite3.c         pWriter-&gt;iEnd,                      /* end_block */</span>
<span class='curline'><a href='../S/1054.html#L147041'>pWriter</a>          147041 ext/sqlite3/libsqlite/sqlite3.c         (pWriter-&gt;bNoLeafData==0 ? pWriter-&gt;nLeafData : 0),   /* end_block */</span>
<span class='curline'><a href='../S/1054.html#L147122'>pWriter</a>          147122 ext/sqlite3/libsqlite/sqlite3.c   IncrmergeWriter *pWriter        /* Populate this object */</span>
<span class='curline'><a href='../S/1054.html#L147143'>pWriter</a>          147143 ext/sqlite3/libsqlite/sqlite3.c       fts3ReadEndBlockField(pSelect, 3, &amp;iEnd, &amp;pWriter-&gt;nLeafData);</span>
<span class='curline'><a href='../S/1054.html#L147144'>pWriter</a>          147144 ext/sqlite3/libsqlite/sqlite3.c       if( pWriter-&gt;nLeafData&lt;0 ){</span>
<span class='curline'><a href='../S/1054.html#L147145'>pWriter</a>          147145 ext/sqlite3/libsqlite/sqlite3.c         pWriter-&gt;nLeafData = pWriter-&gt;nLeafData * -1;</span>
<span class='curline'><a href='../S/1054.html#L147147'>pWriter</a>          147147 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;bNoLeafData = (pWriter-&gt;nLeafData==0);</span>
<span class='curline'><a href='../S/1054.html#L147186'>pWriter</a>          147186 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;nLeafEst = (int)((iEnd - iStart) + 1)/FTS_MAX_APPENDABLE_HEIGHT;</span>
<span class='curline'><a href='../S/1054.html#L147187'>pWriter</a>          147187 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;iStart = iStart;</span>
<span class='curline'><a href='../S/1054.html#L147188'>pWriter</a>          147188 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;iEnd = iEnd;</span>
<span class='curline'><a href='../S/1054.html#L147189'>pWriter</a>          147189 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;iAbsLevel = iAbsLevel;</span>
<span class='curline'><a href='../S/1054.html#L147190'>pWriter</a>          147190 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;iIdx = iIdx;</span>
<span class='curline'><a href='../S/1054.html#L147193'>pWriter</a>          147193 ext/sqlite3/libsqlite/sqlite3.c         pWriter-&gt;aNodeWriter[i].iBlock = pWriter-&gt;iStart + i*pWriter-&gt;nLeafEst;</span>
<span class='curline'><a href='../S/1054.html#L147196'>pWriter</a>          147196 ext/sqlite3/libsqlite/sqlite3.c       pNode = &amp;pWriter-&gt;aNodeWriter[nHeight];</span>
<span class='curline'><a href='../S/1054.html#L147197'>pWriter</a>          147197 ext/sqlite3/libsqlite/sqlite3.c       pNode-&gt;iBlock = pWriter-&gt;iStart + pWriter-&gt;nLeafEst*nHeight;</span>
<span class='curline'><a href='../S/1054.html#L147206'>pWriter</a>          147206 ext/sqlite3/libsqlite/sqlite3.c         pNode = &amp;pWriter-&gt;aNodeWriter[i];</span>
<span class='curline'><a href='../S/1054.html#L147217'>pWriter</a>          147217 ext/sqlite3/libsqlite/sqlite3.c             pNode = &amp;pWriter-&gt;aNodeWriter[i-1];</span>
<span class='curline'><a href='../S/1054.html#L147298'>pWriter</a>          147298 ext/sqlite3/libsqlite/sqlite3.c   IncrmergeWriter *pWriter        /* Populate this object */</span>
<span class='curline'><a href='../S/1054.html#L147322'>pWriter</a>          147322 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;iStart = sqlite3_column_int64(pFirstBlock, 0);</span>
<span class='curline'><a href='../S/1054.html#L147323'>pWriter</a>          147323 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;iEnd = pWriter-&gt;iStart - 1;</span>
<span class='curline'><a href='../S/1054.html#L147324'>pWriter</a>          147324 ext/sqlite3/libsqlite/sqlite3.c       pWriter-&gt;iEnd += nLeafEst * FTS_MAX_APPENDABLE_HEIGHT;</span>
<span class='curline'><a href='../S/1054.html#L147333'>pWriter</a>          147333 ext/sqlite3/libsqlite/sqlite3.c   rc = fts3WriteSegment(p, pWriter-&gt;iEnd, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L147336'>pWriter</a>          147336 ext/sqlite3/libsqlite/sqlite3.c   pWriter-&gt;iAbsLevel = iAbsLevel;</span>
<span class='curline'><a href='../S/1054.html#L147337'>pWriter</a>          147337 ext/sqlite3/libsqlite/sqlite3.c   pWriter-&gt;nLeafEst = nLeafEst;</span>
<span class='curline'><a href='../S/1054.html#L147338'>pWriter</a>          147338 ext/sqlite3/libsqlite/sqlite3.c   pWriter-&gt;iIdx = iIdx;</span>
<span class='curline'><a href='../S/1054.html#L147342'>pWriter</a>          147342 ext/sqlite3/libsqlite/sqlite3.c     pWriter-&gt;aNodeWriter[i].iBlock = pWriter-&gt;iStart + i*pWriter-&gt;nLeafEst;</span>
<span class='curline'><a href='../S/1054.html#L147759'>pWriter</a>          147759 ext/sqlite3/libsqlite/sqlite3.c   IncrmergeWriter *pWriter;       /* Writer object */</span>
<span class='curline'><a href='../S/1054.html#L147766'>pWriter</a>          147766 ext/sqlite3/libsqlite/sqlite3.c   const int nAlloc = sizeof(*pCsr) + sizeof(*pFilter) + sizeof(*pWriter);</span>
<span class='curline'><a href='../S/1054.html#L147767'>pWriter</a>          147767 ext/sqlite3/libsqlite/sqlite3.c   pWriter = (IncrmergeWriter *)sqlite3_malloc(nAlloc);</span>
<span class='curline'><a href='../S/1054.html#L147768'>pWriter</a>          147768 ext/sqlite3/libsqlite/sqlite3.c   if( !pWriter ) return SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/1054.html#L147769'>pWriter</a>          147769 ext/sqlite3/libsqlite/sqlite3.c   pFilter = (Fts3SegFilter *)&amp;pWriter[1];</span>
<span class='curline'><a href='../S/1054.html#L147829'>pWriter</a>          147829 ext/sqlite3/libsqlite/sqlite3.c     memset(pWriter, 0, nAlloc);</span>
<span class='curline'><a href='../S/1054.html#L147854'>pWriter</a>          147854 ext/sqlite3/libsqlite/sqlite3.c         rc = fts3IncrmergeLoad(p, iAbsLevel, iIdx-1, zKey, nKey, pWriter);</span>
<span class='curline'><a href='../S/1054.html#L147856'>pWriter</a>          147856 ext/sqlite3/libsqlite/sqlite3.c         rc = fts3IncrmergeWriter(p, iAbsLevel, iIdx, pCsr, pWriter);</span>
<span class='curline'><a href='../S/1054.html#L147859'>pWriter</a>          147859 ext/sqlite3/libsqlite/sqlite3.c       if( rc==SQLITE_OK &amp;&amp; pWriter-&gt;nLeafEst ){</span>
<span class='curline'><a href='../S/1054.html#L147862'>pWriter</a>          147862 ext/sqlite3/libsqlite/sqlite3.c           rc = fts3IncrmergeAppend(p, pWriter, pCsr);</span>
<span class='curline'><a href='../S/1054.html#L147864'>pWriter</a>          147864 ext/sqlite3/libsqlite/sqlite3.c           if( pWriter-&gt;nWork&gt;=nRem &amp;&amp; rc==SQLITE_ROW ) rc = SQLITE_OK;</span>
<span class='curline'><a href='../S/1054.html#L147869'>pWriter</a>          147869 ext/sqlite3/libsqlite/sqlite3.c           nRem -= (1 + pWriter-&gt;nWork);</span>
<span class='curline'><a href='../S/1054.html#L147879'>pWriter</a>          147879 ext/sqlite3/libsqlite/sqlite3.c         pWriter-&gt;nLeafData = pWriter-&gt;nLeafData * -1;</span>
<span class='curline'><a href='../S/1054.html#L147881'>pWriter</a>          147881 ext/sqlite3/libsqlite/sqlite3.c       fts3IncrmergeRelease(p, pWriter, &amp;rc);</span>
<span class='curline'><a href='../S/1054.html#L147882'>pWriter</a>          147882 ext/sqlite3/libsqlite/sqlite3.c       if( nSeg==0 &amp;&amp; pWriter-&gt;bNoLeafData==0 ){</span>
<span class='curline'><a href='../S/1054.html#L147883'>pWriter</a>          147883 ext/sqlite3/libsqlite/sqlite3.c         fts3PromoteSegments(p, iAbsLevel+1, pWriter-&gt;nLeafData);</span>
<span class='curline'><a href='../S/1054.html#L147895'>pWriter</a>          147895 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_free(pWriter);</span>
</pre>
</body>
</html>
