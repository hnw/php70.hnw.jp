<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>tzi</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/73.html#L102'>tzi</a>               102 ext/date/lib/timelib.h void timelib_update_ts(timelib_time* time, timelib_tzinfo* tzi);</span>
<span class='curline'><a href='../S/77.html#L373'>tzi</a>               373 ext/date/lib/tm2unixtime.c static timelib_sll do_adjust_timezone(timelib_time *tz, timelib_tzinfo *tzi)</span>
<span class='curline'><a href='../S/77.html#L394'>tzi</a>               394 ext/date/lib/tm2unixtime.c 			tzi = tz-&gt;tz_info;</span>
<span class='curline'><a href='../S/77.html#L399'>tzi</a>               399 ext/date/lib/tm2unixtime.c 			if (tzi) {</span>
<span class='curline'><a href='../S/77.html#L405'>tzi</a>               405 ext/date/lib/tm2unixtime.c 				before = timelib_get_time_zone_info(tz-&gt;sse, tzi);</span>
<span class='curline'><a href='../S/77.html#L406'>tzi</a>               406 ext/date/lib/tm2unixtime.c 				after = timelib_get_time_zone_info(tz-&gt;sse - before-&gt;offset, tzi);</span>
<span class='curline'><a href='../S/77.html#L407'>tzi</a>               407 ext/date/lib/tm2unixtime.c 				timelib_set_timezone(tz, tzi);</span>
<span class='curline'><a href='../S/77.html#L425'>tzi</a>               425 ext/date/lib/tm2unixtime.c 					gmt_offset = timelib_get_time_zone_info(tz-&gt;sse + tmp, tzi);</span>
<span class='curline'><a href='../S/77.html#L441'>tzi</a>               441 ext/date/lib/tm2unixtime.c void timelib_update_ts(timelib_time* time, timelib_tzinfo* tzi)</span>
<span class='curline'><a href='../S/77.html#L454'>tzi</a>               454 ext/date/lib/tm2unixtime.c 	res += do_adjust_timezone(time, tzi);</span>
<span class='curline'><a href='../S/79.html#L688'>tzi</a>               688 ext/date/php_date.c 	timelib_tzinfo *tzi = (timelib_tzinfo*)Z_PTR_P(zv);</span>
<span class='curline'><a href='../S/79.html#L690'>tzi</a>               690 ext/date/php_date.c 	timelib_tzinfo_dtor(tzi);</span>
<span class='curline'><a href='../S/79.html#L919'>tzi</a>               919 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L926'>tzi</a>               926 ext/date/php_date.c 	if ((tzi = zend_hash_str_find_ptr(DATEG(tzcache), formal_tzname, strlen(formal_tzname))) != NULL) {</span>
<span class='curline'><a href='../S/79.html#L927'>tzi</a>               927 ext/date/php_date.c 		return tzi;</span>
<span class='curline'><a href='../S/79.html#L930'>tzi</a>               930 ext/date/php_date.c 	tzi = timelib_parse_tzfile(formal_tzname, tzdb);</span>
<span class='curline'><a href='../S/79.html#L931'>tzi</a>               931 ext/date/php_date.c 	if (tzi) {</span>
<span class='curline'><a href='../S/79.html#L932'>tzi</a>               932 ext/date/php_date.c 		zend_hash_str_add_ptr(DATEG(tzcache), formal_tzname, strlen(formal_tzname), tzi);</span>
<span class='curline'><a href='../S/79.html#L934'>tzi</a>               934 ext/date/php_date.c 	return tzi;</span>
<span class='curline'><a href='../S/79.html#L1002'>tzi</a>              1002 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1005'>tzi</a>              1005 ext/date/php_date.c 	tzi = php_date_parse_tzfile(tz, DATE_TIMEZONEDB);</span>
<span class='curline'><a href='../S/79.html#L1006'>tzi</a>              1006 ext/date/php_date.c 	if (! tzi) {</span>
<span class='curline'><a href='../S/79.html#L1009'>tzi</a>              1009 ext/date/php_date.c 	return tzi;</span>
<span class='curline'><a href='../S/79.html#L1250'>tzi</a>              1250 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1256'>tzi</a>              1256 ext/date/php_date.c 		tzi = get_timezone_info();</span>
<span class='curline'><a href='../S/79.html#L1257'>tzi</a>              1257 ext/date/php_date.c 		t-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1261'>tzi</a>              1261 ext/date/php_date.c 		tzi = NULL;</span>
<span class='curline'><a href='../S/79.html#L1277'>tzi</a>              1277 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1285'>tzi</a>              1285 ext/date/php_date.c 		tzi = get_timezone_info();</span>
<span class='curline'><a href='../S/79.html#L1286'>tzi</a>              1286 ext/date/php_date.c 		t-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1290'>tzi</a>              1290 ext/date/php_date.c 		tzi = NULL;</span>
<span class='curline'><a href='../S/79.html#L1462'>tzi</a>              1462 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1468'>tzi</a>              1468 ext/date/php_date.c 	tzi = get_timezone_info();</span>
<span class='curline'><a href='../S/79.html#L1471'>tzi</a>              1471 ext/date/php_date.c 	now-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1480'>tzi</a>              1480 ext/date/php_date.c 	timelib_update_ts(t, tzi);</span>
<span class='curline'><a href='../S/79.html#L1499'>tzi</a>              1499 ext/date/php_date.c 	timelib_tzinfo *tzi = NULL;</span>
<span class='curline'><a href='../S/79.html#L1511'>tzi</a>              1511 ext/date/php_date.c 		tzi = get_timezone_info();</span>
<span class='curline'><a href='../S/79.html#L1512'>tzi</a>              1512 ext/date/php_date.c 		now-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1550'>tzi</a>              1550 ext/date/php_date.c 		timelib_update_ts(now, tzi);</span>
<span class='curline'><a href='../S/79.html#L1610'>tzi</a>              1610 ext/date/php_date.c 	timelib_tzinfo      *tzi;</span>
<span class='curline'><a href='../S/79.html#L1626'>tzi</a>              1626 ext/date/php_date.c 		tzi = NULL;</span>
<span class='curline'><a href='../S/79.html#L1629'>tzi</a>              1629 ext/date/php_date.c 		tzi = get_timezone_info();</span>
<span class='curline'><a href='../S/79.html#L1630'>tzi</a>              1630 ext/date/php_date.c 		ts-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1651'>tzi</a>              1651 ext/date/php_date.c 		offset = timelib_get_time_zone_info(timestamp, tzi);</span>
<span class='curline'><a href='../S/79.html#L1726'>tzi</a>              1726 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1733'>tzi</a>              1733 ext/date/php_date.c 	tzi = get_timezone_info();</span>
<span class='curline'><a href='../S/79.html#L1735'>tzi</a>              1735 ext/date/php_date.c 	ts-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1772'>tzi</a>              1772 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1779'>tzi</a>              1779 ext/date/php_date.c 	tzi = get_timezone_info();</span>
<span class='curline'><a href='../S/79.html#L1781'>tzi</a>              1781 ext/date/php_date.c 	ts-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L2246'>tzi</a>              2246 ext/date/php_date.c 			new_obj-&gt;tzi.tz = old_obj-&gt;tzi.tz;</span>
<span class='curline'><a href='../S/79.html#L2249'>tzi</a>              2249 ext/date/php_date.c 			new_obj-&gt;tzi.utc_offset = old_obj-&gt;tzi.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L2252'>tzi</a>              2252 ext/date/php_date.c 			new_obj-&gt;tzi.z.utc_offset = old_obj-&gt;tzi.z.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L2253'>tzi</a>              2253 ext/date/php_date.c 			new_obj-&gt;tzi.z.dst        = old_obj-&gt;tzi.z.dst;</span>
<span class='curline'><a href='../S/79.html#L2254'>tzi</a>              2254 ext/date/php_date.c 			new_obj-&gt;tzi.z.abbr       = timelib_strdup(old_obj-&gt;tzi.z.abbr);</span>
<span class='curline'><a href='../S/79.html#L2281'>tzi</a>              2281 ext/date/php_date.c 			ZVAL_STRING(&amp;zv, tzobj-&gt;tzi.tz-&gt;name);</span>
<span class='curline'><a href='../S/79.html#L2287'>tzi</a>              2287 ext/date/php_date.c 			tzobj-&gt;tzi.utc_offset &gt; 0 ? '-' : '+',</span>
<span class='curline'><a href='../S/79.html#L2288'>tzi</a>              2288 ext/date/php_date.c 			abs(tzobj-&gt;tzi.utc_offset / 60),</span>
<span class='curline'><a href='../S/79.html#L2289'>tzi</a>              2289 ext/date/php_date.c 			abs((tzobj-&gt;tzi.utc_offset % 60)));</span>
<span class='curline'><a href='../S/79.html#L2295'>tzi</a>              2295 ext/date/php_date.c 			ZVAL_STRING(&amp;zv, tzobj-&gt;tzi.z.abbr);</span>
<span class='curline'><a href='../S/79.html#L2432'>tzi</a>              2432 ext/date/php_date.c 		timelib_free(intern-&gt;tzi.z.abbr);</span>
<span class='curline'><a href='../S/79.html#L2486'>tzi</a>              2486 ext/date/php_date.c 	timelib_tzinfo *tzi = NULL;</span>
<span class='curline'><a href='../S/79.html#L2522'>tzi</a>              2522 ext/date/php_date.c 				tzi = tzobj-&gt;tzi.tz;</span>
<span class='curline'><a href='../S/79.html#L2525'>tzi</a>              2525 ext/date/php_date.c 				new_offset = tzobj-&gt;tzi.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L2528'>tzi</a>              2528 ext/date/php_date.c 				new_offset = tzobj-&gt;tzi.z.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L2529'>tzi</a>              2529 ext/date/php_date.c 				new_dst    = tzobj-&gt;tzi.z.dst;</span>
<span class='curline'><a href='../S/79.html#L2530'>tzi</a>              2530 ext/date/php_date.c 				new_abbr   = timelib_strdup(tzobj-&gt;tzi.z.abbr);</span>
<span class='curline'><a href='../S/79.html#L2535'>tzi</a>              2535 ext/date/php_date.c 		tzi = dateobj-&gt;time-&gt;tz_info;</span>
<span class='curline'><a href='../S/79.html#L2537'>tzi</a>              2537 ext/date/php_date.c 		tzi = get_timezone_info();</span>
<span class='curline'><a href='../S/79.html#L2544'>tzi</a>              2544 ext/date/php_date.c 			now-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L2558'>tzi</a>              2558 ext/date/php_date.c 	timelib_update_ts(dateobj-&gt;time, tzi);</span>
<span class='curline'><a href='../S/79.html#L2726'>tzi</a>              2726 ext/date/php_date.c 	timelib_tzinfo   *tzi;</span>
<span class='curline'><a href='../S/79.html#L2749'>tzi</a>              2749 ext/date/php_date.c 						tzi = php_date_parse_tzfile(Z_STRVAL_P(z_timezone), DATE_TIMEZONEDB);</span>
<span class='curline'><a href='../S/79.html#L2751'>tzi</a>              2751 ext/date/php_date.c 						if (tzi == NULL) {</span>
<span class='curline'><a href='../S/79.html#L2757'>tzi</a>              2757 ext/date/php_date.c 						tzobj-&gt;tzi.tz = tzi;</span>
<span class='curline'><a href='../S/79.html#L3218'>tzi</a>              3218 ext/date/php_date.c                        tzobj-&gt;tzi.tz = t-&gt;tz_info;</span>
<span class='curline'><a href='../S/79.html#L3221'>tzi</a>              3221 ext/date/php_date.c                        tzobj-&gt;tzi.utc_offset = t-&gt;z;</span>
<span class='curline'><a href='../S/79.html#L3224'>tzi</a>              3224 ext/date/php_date.c                        tzobj-&gt;tzi.z.utc_offset = t-&gt;z;</span>
<span class='curline'><a href='../S/79.html#L3225'>tzi</a>              3225 ext/date/php_date.c                        tzobj-&gt;tzi.z.dst = t-&gt;dst;</span>
<span class='curline'><a href='../S/79.html#L3226'>tzi</a>              3226 ext/date/php_date.c                        tzobj-&gt;tzi.z.abbr = timelib_strdup(t-&gt;tz_abbr);</span>
<span class='curline'><a href='../S/79.html#L3267'>tzi</a>              3267 ext/date/php_date.c 			timelib_set_timezone_from_offset(dateobj-&gt;time, tzobj-&gt;tzi.utc_offset);</span>
<span class='curline'><a href='../S/79.html#L3270'>tzi</a>              3270 ext/date/php_date.c 			timelib_set_timezone_from_abbr(dateobj-&gt;time, tzobj-&gt;tzi.z);</span>
<span class='curline'><a href='../S/79.html#L3273'>tzi</a>              3273 ext/date/php_date.c 			timelib_set_timezone(dateobj-&gt;time, tzobj-&gt;tzi.tz);</span>
<span class='curline'><a href='../S/79.html#L3747'>tzi</a>              3747 ext/date/php_date.c 			RETURN_STRING(tzobj-&gt;tzi.tz-&gt;name);</span>
<span class='curline'><a href='../S/79.html#L3751'>tzi</a>              3751 ext/date/php_date.c 			timelib_sll utc_offset = tzobj-&gt;tzi.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L3762'>tzi</a>              3762 ext/date/php_date.c 			RETURN_STRING(tzobj-&gt;tzi.z.abbr);</span>
<span class='curline'><a href='../S/79.html#L3812'>tzi</a>              3812 ext/date/php_date.c 			offset = timelib_get_time_zone_info(dateobj-&gt;time-&gt;sse, tzobj-&gt;tzi.tz);</span>
<span class='curline'><a href='../S/79.html#L3817'>tzi</a>              3817 ext/date/php_date.c 			RETURN_LONG(tzobj-&gt;tzi.utc_offset * -60);</span>
<span class='curline'><a href='../S/79.html#L3820'>tzi</a>              3820 ext/date/php_date.c 			RETURN_LONG((tzobj-&gt;tzi.z.utc_offset - (tzobj-&gt;tzi.z.dst*60)) * -60);</span>
<span class='curline'><a href='../S/79.html#L3849'>tzi</a>              3849 ext/date/php_date.c 		add_assoc_long(&amp;element, "offset", tzobj-&gt;tzi.tz-&gt;type[0].offset); \</span>
<span class='curline'><a href='../S/79.html#L3850'>tzi</a>              3850 ext/date/php_date.c 		add_assoc_bool(&amp;element, "isdst",  tzobj-&gt;tzi.tz-&gt;type[0].isdst); \</span>
<span class='curline'><a href='../S/79.html#L3851'>tzi</a>              3851 ext/date/php_date.c 		add_assoc_string(&amp;element, "abbr", &amp;tzobj-&gt;tzi.tz-&gt;timezone_abbr[tzobj-&gt;tzi.tz-&gt;type[0].abbr_idx]); \</span>
<span class='curline'><a href='../S/79.html#L3858'>tzi</a>              3858 ext/date/php_date.c 		add_assoc_long(&amp;element, "offset", tzobj-&gt;tzi.tz-&gt;type[tzobj-&gt;tzi.tz-&gt;trans_idx[i]].offset); \</span>
<span class='curline'><a href='../S/79.html#L3859'>tzi</a>              3859 ext/date/php_date.c 		add_assoc_bool(&amp;element, "isdst",  tzobj-&gt;tzi.tz-&gt;type[tzobj-&gt;tzi.tz-&gt;trans_idx[i]].isdst); \</span>
<span class='curline'><a href='../S/79.html#L3860'>tzi</a>              3860 ext/date/php_date.c 		add_assoc_string(&amp;element, "abbr", &amp;tzobj-&gt;tzi.tz-&gt;timezone_abbr[tzobj-&gt;tzi.tz-&gt;type[tzobj-&gt;tzi.tz-&gt;trans_idx[i]].abbr_idx]); \</span>
<span class='curline'><a href='../S/79.html#L3863'>tzi</a>              3863 ext/date/php_date.c #define add_last() add(tzobj-&gt;tzi.tz-&gt;bit32.timecnt - 1, timestamp_begin)</span>
<span class='curline'><a href='../S/79.html#L3874'>tzi</a>              3874 ext/date/php_date.c 		if (tzobj-&gt;tzi.tz-&gt;bit32.timecnt &gt; 0) {</span>
<span class='curline'><a href='../S/79.html#L3876'>tzi</a>              3876 ext/date/php_date.c 				if (tzobj-&gt;tzi.tz-&gt;trans[begin] &gt; timestamp_begin) {</span>
<span class='curline'><a href='../S/79.html#L3886'>tzi</a>              3886 ext/date/php_date.c 			} while (begin &lt; tzobj-&gt;tzi.tz-&gt;bit32.timecnt);</span>
<span class='curline'><a href='../S/79.html#L3891'>tzi</a>              3891 ext/date/php_date.c 		if (tzobj-&gt;tzi.tz-&gt;bit32.timecnt &gt; 0) {</span>
<span class='curline'><a href='../S/79.html#L3897'>tzi</a>              3897 ext/date/php_date.c 		for (i = begin; i &lt; tzobj-&gt;tzi.tz-&gt;bit32.timecnt; ++i) {</span>
<span class='curline'><a href='../S/79.html#L3898'>tzi</a>              3898 ext/date/php_date.c 			if (tzobj-&gt;tzi.tz-&gt;trans[i] &lt; timestamp_end) {</span>
<span class='curline'><a href='../S/79.html#L3899'>tzi</a>              3899 ext/date/php_date.c 				add(i, tzobj-&gt;tzi.tz-&gt;trans[i]);</span>
<span class='curline'><a href='../S/79.html#L3924'>tzi</a>              3924 ext/date/php_date.c 	add_assoc_string(return_value, "country_code", tzobj-&gt;tzi.tz-&gt;location.country_code);</span>
<span class='curline'><a href='../S/79.html#L3925'>tzi</a>              3925 ext/date/php_date.c 	add_assoc_double(return_value, "latitude", tzobj-&gt;tzi.tz-&gt;location.latitude);</span>
<span class='curline'><a href='../S/79.html#L3926'>tzi</a>              3926 ext/date/php_date.c 	add_assoc_double(return_value, "longitude", tzobj-&gt;tzi.tz-&gt;location.longitude);</span>
<span class='curline'><a href='../S/79.html#L3927'>tzi</a>              3927 ext/date/php_date.c 	add_assoc_string(return_value, "comments", tzobj-&gt;tzi.tz-&gt;location.comments);</span>
<span class='curline'><a href='../S/79.html#L4636'>tzi</a>              4636 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L4675'>tzi</a>              4675 ext/date/php_date.c 	tzi = get_timezone_info();</span>
<span class='curline'><a href='../S/79.html#L4676'>tzi</a>              4676 ext/date/php_date.c 	t-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L4735'>tzi</a>              4735 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L4746'>tzi</a>              4746 ext/date/php_date.c 	tzi = get_timezone_info();</span>
<span class='curline'><a href='../S/79.html#L4747'>tzi</a>              4747 ext/date/php_date.c 	t-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/80.html#L155'>tzi</a>               155 ext/date/php_date.h 	} tzi;</span>
</pre>
</body>
</html>
