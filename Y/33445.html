<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>progress</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/60.html#L1426'>progress</a>         1426 ext/curl/interface.c 	php_curl_progress *t = ch-&gt;handlers-&gt;progress;</span>
<span class='curline'><a href='../S/60.html#L1748'>progress</a>         1748 ext/curl/interface.c 	ch-&gt;handlers-&gt;progress     = NULL;</span>
<span class='curline'><a href='../S/60.html#L1986'>progress</a>         1986 ext/curl/interface.c 	if (ch-&gt;handlers-&gt;progress) {</span>
<span class='curline'><a href='../S/60.html#L1987'>progress</a>         1987 ext/curl/interface.c 		dupch-&gt;handlers-&gt;progress = ecalloc(1, sizeof(php_curl_progress));</span>
<span class='curline'><a href='../S/60.html#L1988'>progress</a>         1988 ext/curl/interface.c 		if (!Z_ISUNDEF(ch-&gt;handlers-&gt;progress-&gt;func_name)) {</span>
<span class='curline'><a href='../S/60.html#L1989'>progress</a>         1989 ext/curl/interface.c 			ZVAL_COPY(&amp;dupch-&gt;handlers-&gt;progress-&gt;func_name, &amp;ch-&gt;handlers-&gt;progress-&gt;func_name);</span>
<span class='curline'><a href='../S/60.html#L1991'>progress</a>         1991 ext/curl/interface.c 		dupch-&gt;handlers-&gt;progress-&gt;method = ch-&gt;handlers-&gt;progress-&gt;method;</span>
<span class='curline'><a href='../S/60.html#L2640'>progress</a>         2640 ext/curl/interface.c 			if (ch-&gt;handlers-&gt;progress == NULL) {</span>
<span class='curline'><a href='../S/60.html#L2641'>progress</a>         2641 ext/curl/interface.c 				ch-&gt;handlers-&gt;progress = ecalloc(1, sizeof(php_curl_progress));</span>
<span class='curline'><a href='../S/60.html#L2642'>progress</a>         2642 ext/curl/interface.c 			} else if (!Z_ISUNDEF(ch-&gt;handlers-&gt;progress-&gt;func_name)) {</span>
<span class='curline'><a href='../S/60.html#L2643'>progress</a>         2643 ext/curl/interface.c 				zval_ptr_dtor(&amp;ch-&gt;handlers-&gt;progress-&gt;func_name);</span>
<span class='curline'><a href='../S/60.html#L2644'>progress</a>         2644 ext/curl/interface.c 				ch-&gt;handlers-&gt;progress-&gt;fci_cache = empty_fcall_info_cache;</span>
<span class='curline'><a href='../S/60.html#L2646'>progress</a>         2646 ext/curl/interface.c 			ZVAL_COPY(&amp;ch-&gt;handlers-&gt;progress-&gt;func_name, zvalue);</span>
<span class='curline'><a href='../S/60.html#L2647'>progress</a>         2647 ext/curl/interface.c 			ch-&gt;handlers-&gt;progress-&gt;method = PHP_CURL_USER;</span>
<span class='curline'><a href='../S/60.html#L3250'>progress</a>         3250 ext/curl/interface.c 	if (ch-&gt;handlers-&gt;progress) {</span>
<span class='curline'><a href='../S/60.html#L3251'>progress</a>         3251 ext/curl/interface.c 		zval_ptr_dtor(&amp;ch-&gt;handlers-&gt;progress-&gt;func_name);</span>
<span class='curline'><a href='../S/60.html#L3252'>progress</a>         3252 ext/curl/interface.c 		efree(ch-&gt;handlers-&gt;progress);</span>
<span class='curline'><a href='../S/60.html#L3330'>progress</a>         3330 ext/curl/interface.c 	if (ch-&gt;handlers-&gt;progress) {</span>
<span class='curline'><a href='../S/60.html#L3331'>progress</a>         3331 ext/curl/interface.c 		zval_ptr_dtor(&amp;ch-&gt;handlers-&gt;progress-&gt;func_name);</span>
<span class='curline'><a href='../S/60.html#L3332'>progress</a>         3332 ext/curl/interface.c 		efree(ch-&gt;handlers-&gt;progress);</span>
<span class='curline'><a href='../S/60.html#L3333'>progress</a>         3333 ext/curl/interface.c 		ch-&gt;handlers-&gt;progress = NULL;</span>
<span class='curline'><a href='../S/62.html#L155'>progress</a>          155 ext/curl/php_curl.h 	php_curl_progress *progress;</span>
<span class='curline'><a href='../S/993.html#L2809'>progress</a>         2809 ext/session/session.c static zend_bool early_find_sid_in(zval *dest, int where, php_session_rfc1867_progress *progress) /* {{{ */</span>
<span class='curline'><a href='../S/993.html#L2817'>progress</a>         2817 ext/session/session.c 	if ((ppid = zend_hash_str_find(Z_ARRVAL(PG(http_globals)[where]), PS(session_name), progress-&gt;sname_len))</span>
<span class='curline'><a href='../S/993.html#L2828'>progress</a>         2828 ext/session/session.c static void php_session_rfc1867_early_find_sid(php_session_rfc1867_progress *progress) /* {{{ */</span>
<span class='curline'><a href='../S/993.html#L2833'>progress</a>         2833 ext/session/session.c 		if (early_find_sid_in(&amp;progress-&gt;sid, TRACK_VARS_COOKIE, progress)) {</span>
<span class='curline'><a href='../S/993.html#L2834'>progress</a>         2834 ext/session/session.c 			progress-&gt;apply_trans_sid = 0;</span>
<span class='curline'><a href='../S/993.html#L2842'>progress</a>         2842 ext/session/session.c 	early_find_sid_in(&amp;progress-&gt;sid, TRACK_VARS_GET, progress);</span>
<span class='curline'><a href='../S/993.html#L2845'>progress</a>         2845 ext/session/session.c static zend_bool php_check_cancel_upload(php_session_rfc1867_progress *progress) /* {{{ */</span>
<span class='curline'><a href='../S/993.html#L2849'>progress</a>         2849 ext/session/session.c 	if ((progress_ary = zend_symtable_find(Z_ARRVAL_P(Z_REFVAL(PS(http_session_vars))), progress-&gt;key.s)) == NULL) {</span>
<span class='curline'><a href='../S/993.html#L2861'>progress</a>         2861 ext/session/session.c static void php_session_rfc1867_update(php_session_rfc1867_progress *progress, int force_update) /* {{{ */</span>
<span class='curline'><a href='../S/993.html#L2864'>progress</a>         2864 ext/session/session.c 		if (Z_LVAL_P(progress-&gt;post_bytes_processed) &lt; progress-&gt;next_update) {</span>
<span class='curline'><a href='../S/993.html#L2873'>progress</a>         2873 ext/session/session.c 			if (dtv &lt; progress-&gt;next_update_time) {</span>
<span class='curline'><a href='../S/993.html#L2876'>progress</a>         2876 ext/session/session.c 			progress-&gt;next_update_time = dtv + PS(rfc1867_min_freq);</span>
<span class='curline'><a href='../S/993.html#L2879'>progress</a>         2879 ext/session/session.c 		progress-&gt;next_update = Z_LVAL_P(progress-&gt;post_bytes_processed) + progress-&gt;update_step;</span>
<span class='curline'><a href='../S/993.html#L2885'>progress</a>         2885 ext/session/session.c 		progress-&gt;cancel_upload |= php_check_cancel_upload(progress);</span>
<span class='curline'><a href='../S/993.html#L2886'>progress</a>         2886 ext/session/session.c 		if (Z_REFCOUNTED(progress-&gt;data)) Z_ADDREF(progress-&gt;data);</span>
<span class='curline'><a href='../S/993.html#L2887'>progress</a>         2887 ext/session/session.c 		zend_hash_update(Z_ARRVAL_P(Z_REFVAL(PS(http_session_vars))), progress-&gt;key.s, &amp;progress-&gt;data);</span>
<span class='curline'><a href='../S/993.html#L2892'>progress</a>         2892 ext/session/session.c static void php_session_rfc1867_cleanup(php_session_rfc1867_progress *progress) /* {{{ */</span>
<span class='curline'><a href='../S/993.html#L2897'>progress</a>         2897 ext/session/session.c 		zend_hash_del(Z_ARRVAL_P(Z_REFVAL(PS(http_session_vars))), progress-&gt;key.s);</span>
<span class='curline'><a href='../S/993.html#L2904'>progress</a>         2904 ext/session/session.c 	php_session_rfc1867_progress *progress;</span>
<span class='curline'><a href='../S/993.html#L2914'>progress</a>         2914 ext/session/session.c 	progress = PS(rfc1867_progress);</span>
<span class='curline'><a href='../S/993.html#L2919'>progress</a>         2919 ext/session/session.c 			progress = ecalloc(1, sizeof(php_session_rfc1867_progress));</span>
<span class='curline'><a href='../S/993.html#L2920'>progress</a>         2920 ext/session/session.c 			progress-&gt;content_length = data-&gt;content_length;</span>
<span class='curline'><a href='../S/993.html#L2921'>progress</a>         2921 ext/session/session.c 			progress-&gt;sname_len  = strlen(PS(session_name));</span>
<span class='curline'><a href='../S/993.html#L2922'>progress</a>         2922 ext/session/session.c 			PS(rfc1867_progress) = progress;</span>
<span class='curline'><a href='../S/993.html#L2929'>progress</a>         2929 ext/session/session.c 			if (Z_TYPE(progress-&gt;sid) &amp;&amp; progress-&gt;key.s) {</span>
<span class='curline'><a href='../S/993.html#L2943'>progress</a>         2943 ext/session/session.c 				if (name_len == progress-&gt;sname_len &amp;&amp; memcmp(data-&gt;name, PS(session_name), name_len) == 0) {</span>
<span class='curline'><a href='../S/993.html#L2944'>progress</a>         2944 ext/session/session.c 					zval_dtor(&amp;progress-&gt;sid);</span>
<span class='curline'><a href='../S/993.html#L2945'>progress</a>         2945 ext/session/session.c 					ZVAL_STRINGL(&amp;progress-&gt;sid, (*data-&gt;value), value_len);</span>
<span class='curline'><a href='../S/993.html#L2947'>progress</a>         2947 ext/session/session.c 					smart_str_free(&amp;progress-&gt;key);</span>
<span class='curline'><a href='../S/993.html#L2948'>progress</a>         2948 ext/session/session.c 					smart_str_appends(&amp;progress-&gt;key, PS(rfc1867_prefix));</span>
<span class='curline'><a href='../S/993.html#L2949'>progress</a>         2949 ext/session/session.c 					smart_str_appendl(&amp;progress-&gt;key, *data-&gt;value, value_len);</span>
<span class='curline'><a href='../S/993.html#L2950'>progress</a>         2950 ext/session/session.c 					smart_str_0(&amp;progress-&gt;key);</span>
<span class='curline'><a href='../S/993.html#L2952'>progress</a>         2952 ext/session/session.c 					progress-&gt;apply_trans_sid = APPLY_TRANS_SID;</span>
<span class='curline'><a href='../S/993.html#L2953'>progress</a>         2953 ext/session/session.c 					php_session_rfc1867_early_find_sid(progress);</span>
<span class='curline'><a href='../S/993.html#L2963'>progress</a>         2963 ext/session/session.c 			if (!Z_TYPE(progress-&gt;sid) || !progress-&gt;key.s) {</span>
<span class='curline'><a href='../S/993.html#L2968'>progress</a>         2968 ext/session/session.c 			if (Z_ISUNDEF(progress-&gt;data)) {</span>
<span class='curline'><a href='../S/993.html#L2971'>progress</a>         2971 ext/session/session.c 					progress-&gt;update_step = PS(rfc1867_freq);</span>
<span class='curline'><a href='../S/993.html#L2973'>progress</a>         2973 ext/session/session.c 					progress-&gt;update_step = progress-&gt;content_length * -PS(rfc1867_freq) / 100;</span>
<span class='curline'><a href='../S/993.html#L2975'>progress</a>         2975 ext/session/session.c 				progress-&gt;next_update = 0;</span>
<span class='curline'><a href='../S/993.html#L2976'>progress</a>         2976 ext/session/session.c 				progress-&gt;next_update_time = 0.0;</span>
<span class='curline'><a href='../S/993.html#L2978'>progress</a>         2978 ext/session/session.c 				array_init(&amp;progress-&gt;data);</span>
<span class='curline'><a href='../S/993.html#L2979'>progress</a>         2979 ext/session/session.c 				array_init(&amp;progress-&gt;files);</span>
<span class='curline'><a href='../S/993.html#L2981'>progress</a>         2981 ext/session/session.c 				add_assoc_long_ex(&amp;progress-&gt;data, "start_time", sizeof("start_time") - 1, (zend_long)sapi_get_request_time());</span>
<span class='curline'><a href='../S/993.html#L2982'>progress</a>         2982 ext/session/session.c 				add_assoc_long_ex(&amp;progress-&gt;data, "content_length",  sizeof("content_length") - 1, progress-&gt;content_length);</span>
<span class='curline'><a href='../S/993.html#L2983'>progress</a>         2983 ext/session/session.c 				add_assoc_long_ex(&amp;progress-&gt;data, "bytes_processed", sizeof("bytes_processed") - 1, data-&gt;post_bytes_processed);</span>
<span class='curline'><a href='../S/993.html#L2984'>progress</a>         2984 ext/session/session.c 				add_assoc_bool_ex(&amp;progress-&gt;data, "done", sizeof("done") - 1, 0);</span>
<span class='curline'><a href='../S/993.html#L2985'>progress</a>         2985 ext/session/session.c 				add_assoc_zval_ex(&amp;progress-&gt;data, "files", sizeof("files") - 1, &amp;progress-&gt;files);</span>
<span class='curline'><a href='../S/993.html#L2987'>progress</a>         2987 ext/session/session.c 				progress-&gt;post_bytes_processed = zend_hash_str_find(Z_ARRVAL(progress-&gt;data), "bytes_processed", sizeof("bytes_processed") - 1);</span>
<span class='curline'><a href='../S/993.html#L2990'>progress</a>         2990 ext/session/session.c 				PS(id) = zend_string_init(Z_STRVAL(progress-&gt;sid), Z_STRLEN(progress-&gt;sid), 0);</span>
<span class='curline'><a href='../S/993.html#L2991'>progress</a>         2991 ext/session/session.c 				if (progress-&gt;apply_trans_sid) {</span>
<span class='curline'><a href='../S/993.html#L2999'>progress</a>         2999 ext/session/session.c 			array_init(&amp;progress-&gt;current_file);</span>
<span class='curline'><a href='../S/993.html#L3002'>progress</a>         3002 ext/session/session.c 			add_assoc_string_ex(&amp;progress-&gt;current_file, "field_name", sizeof("field_name") - 1, data-&gt;name);</span>
<span class='curline'><a href='../S/993.html#L3003'>progress</a>         3003 ext/session/session.c 			add_assoc_string_ex(&amp;progress-&gt;current_file, "name", sizeof("name") - 1, *data-&gt;filename);</span>
<span class='curline'><a href='../S/993.html#L3004'>progress</a>         3004 ext/session/session.c 			add_assoc_null_ex(&amp;progress-&gt;current_file, "tmp_name", sizeof("tmp_name") - 1);</span>
<span class='curline'><a href='../S/993.html#L3005'>progress</a>         3005 ext/session/session.c 			add_assoc_long_ex(&amp;progress-&gt;current_file, "error", sizeof("error") - 1, 0);</span>
<span class='curline'><a href='../S/993.html#L3007'>progress</a>         3007 ext/session/session.c 			add_assoc_bool_ex(&amp;progress-&gt;current_file, "done", sizeof("done") - 1, 0);</span>
<span class='curline'><a href='../S/993.html#L3008'>progress</a>         3008 ext/session/session.c 			add_assoc_long_ex(&amp;progress-&gt;current_file, "start_time", sizeof("start_time") - 1, (zend_long)time(NULL));</span>
<span class='curline'><a href='../S/993.html#L3009'>progress</a>         3009 ext/session/session.c 			add_assoc_long_ex(&amp;progress-&gt;current_file, "bytes_processed", sizeof("bytes_processed") - 1, 0);</span>
<span class='curline'><a href='../S/993.html#L3011'>progress</a>         3011 ext/session/session.c 			add_next_index_zval(&amp;progress-&gt;files, &amp;progress-&gt;current_file);</span>
<span class='curline'><a href='../S/993.html#L3013'>progress</a>         3013 ext/session/session.c 			progress-&gt;current_file_bytes_processed = zend_hash_str_find(Z_ARRVAL(progress-&gt;current_file), "bytes_processed", sizeof("bytes_processed") - 1);</span>
<span class='curline'><a href='../S/993.html#L3015'>progress</a>         3015 ext/session/session.c 			Z_LVAL_P(progress-&gt;current_file_bytes_processed) =  data-&gt;post_bytes_processed;</span>
<span class='curline'><a href='../S/993.html#L3016'>progress</a>         3016 ext/session/session.c 			php_session_rfc1867_update(progress, 0);</span>
<span class='curline'><a href='../S/993.html#L3022'>progress</a>         3022 ext/session/session.c 			if (!Z_TYPE(progress-&gt;sid) || !progress-&gt;key.s) {</span>
<span class='curline'><a href='../S/993.html#L3026'>progress</a>         3026 ext/session/session.c 			Z_LVAL_P(progress-&gt;current_file_bytes_processed) = data-&gt;offset + data-&gt;length;</span>
<span class='curline'><a href='../S/993.html#L3027'>progress</a>         3027 ext/session/session.c 			Z_LVAL_P(progress-&gt;post_bytes_processed) = data-&gt;post_bytes_processed;</span>
<span class='curline'><a href='../S/993.html#L3029'>progress</a>         3029 ext/session/session.c 			php_session_rfc1867_update(progress, 0);</span>
<span class='curline'><a href='../S/993.html#L3035'>progress</a>         3035 ext/session/session.c 			if (!Z_TYPE(progress-&gt;sid) || !progress-&gt;key.s) {</span>
<span class='curline'><a href='../S/993.html#L3040'>progress</a>         3040 ext/session/session.c 				add_assoc_string_ex(&amp;progress-&gt;current_file, "tmp_name",  sizeof("tmp_name") - 1, data-&gt;temp_filename);</span>
<span class='curline'><a href='../S/993.html#L3043'>progress</a>         3043 ext/session/session.c 			add_assoc_long_ex(&amp;progress-&gt;current_file, "error", sizeof("error") - 1, data-&gt;cancel_upload);</span>
<span class='curline'><a href='../S/993.html#L3044'>progress</a>         3044 ext/session/session.c 			add_assoc_bool_ex(&amp;progress-&gt;current_file, "done", sizeof("done") - 1,  1);</span>
<span class='curline'><a href='../S/993.html#L3046'>progress</a>         3046 ext/session/session.c 			Z_LVAL_P(progress-&gt;post_bytes_processed) = data-&gt;post_bytes_processed;</span>
<span class='curline'><a href='../S/993.html#L3048'>progress</a>         3048 ext/session/session.c 			php_session_rfc1867_update(progress, 0);</span>
<span class='curline'><a href='../S/993.html#L3054'>progress</a>         3054 ext/session/session.c 			if (Z_TYPE(progress-&gt;sid) &amp;&amp; progress-&gt;key.s) {</span>
<span class='curline'><a href='../S/993.html#L3056'>progress</a>         3056 ext/session/session.c 					php_session_rfc1867_cleanup(progress);</span>
<span class='curline'><a href='../S/993.html#L3058'>progress</a>         3058 ext/session/session.c 					add_assoc_bool_ex(&amp;progress-&gt;data, "done", sizeof("done") - 1, 1);</span>
<span class='curline'><a href='../S/993.html#L3059'>progress</a>         3059 ext/session/session.c 					Z_LVAL_P(progress-&gt;post_bytes_processed) = data-&gt;post_bytes_processed;</span>
<span class='curline'><a href='../S/993.html#L3060'>progress</a>         3060 ext/session/session.c 					php_session_rfc1867_update(progress, 1);</span>
<span class='curline'><a href='../S/993.html#L3065'>progress</a>         3065 ext/session/session.c 			if (!Z_ISUNDEF(progress-&gt;data)) {</span>
<span class='curline'><a href='../S/993.html#L3066'>progress</a>         3066 ext/session/session.c 				zval_ptr_dtor(&amp;progress-&gt;data);</span>
<span class='curline'><a href='../S/993.html#L3068'>progress</a>         3068 ext/session/session.c 			zval_ptr_dtor(&amp;progress-&gt;sid);</span>
<span class='curline'><a href='../S/993.html#L3069'>progress</a>         3069 ext/session/session.c 			smart_str_free(&amp;progress-&gt;key);</span>
<span class='curline'><a href='../S/993.html#L3070'>progress</a>         3070 ext/session/session.c 			efree(progress);</span>
<span class='curline'><a href='../S/993.html#L3071'>progress</a>         3071 ext/session/session.c 			progress = NULL;</span>
<span class='curline'><a href='../S/993.html#L3077'>progress</a>         3077 ext/session/session.c 	if (progress &amp;&amp; progress-&gt;cancel_upload) {</span>
<span class='curline'><a href='../S/1418.html#L50'>progress</a>           50 main/streams/php_stream_context.h 	size_t progress, progress_max; /* position for progress notification */</span>
<span class='curline'><a href='../S/1418.html#L102'>progress</a>          102 main/streams/php_stream_context.h 	(context)-&gt;notifier-&gt;progress = (sofar); \</span>
<span class='curline'><a href='../S/1418.html#L108'>progress</a>          108 main/streams/php_stream_context.h 	(context)-&gt;notifier-&gt;progress += (dsofar); \</span>
<span class='curline'><a href='../S/1418.html#L110'>progress</a>          110 main/streams/php_stream_context.h 	php_stream_notify_progress((context), (context)-&gt;notifier-&gt;progress, (context)-&gt;notifier-&gt;progress_max); } } while (0)</span>
</pre>
</body>
</html>
