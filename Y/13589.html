<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>charset_token</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/301.html#L4260'>charset_token</a>    4260 ext/imap/php_imap.c 	zend_long charset_token, encoding_token, end_token, end, offset=0, i;</span>
<span class='curline'><a href='../S/301.html#L4275'>charset_token</a>    4275 ext/imap/php_imap.c 		if ((charset_token = (zend_long)php_memnstr(&amp;string[offset], "=?", 2, string + end))) {	/* Is there anything encoded in the string? */</span>
<span class='curline'><a href='../S/301.html#L4276'>charset_token</a>    4276 ext/imap/php_imap.c 			charset_token -= (zend_long)string;</span>
<span class='curline'><a href='../S/301.html#L4277'>charset_token</a>    4277 ext/imap/php_imap.c 			if (offset != charset_token) {	/* Is there anything before the encoded data? */</span>
<span class='curline'><a href='../S/301.html#L4279'>charset_token</a>    4279 ext/imap/php_imap.c 				memcpy(text, &amp;string[offset], charset_token-offset);</span>
<span class='curline'><a href='../S/301.html#L4280'>charset_token</a>    4280 ext/imap/php_imap.c 				text[charset_token - offset] = 0x00;</span>
<span class='curline'><a href='../S/301.html#L4286'>charset_token</a>    4286 ext/imap/php_imap.c 			if ((encoding_token = (zend_long)php_memnstr(&amp;string[charset_token+2], "?", 1, string+end))) {		/* Find token for encoding */</span>
<span class='curline'><a href='../S/301.html#L4290'>charset_token</a>    4290 ext/imap/php_imap.c 					memcpy(charset, &amp;string[charset_token + 2], encoding_token - (charset_token + 2));	/* Extract charset encoding */</span>
<span class='curline'><a href='../S/301.html#L4291'>charset_token</a>    4291 ext/imap/php_imap.c 					charset[encoding_token-(charset_token + 2)] = 0x00;</span>
<span class='curline'><a href='../S/301.html#L4330'>charset_token</a>    4330 ext/imap/php_imap.c 			charset_token = offset;</span>
<span class='curline'><a href='../S/301.html#L4334'>charset_token</a>    4334 ext/imap/php_imap.c 		memcpy(text, &amp;string[charset_token], end - charset_token);	/* Extract unencoded text from string */</span>
<span class='curline'><a href='../S/301.html#L4335'>charset_token</a>    4335 ext/imap/php_imap.c 		text[end - charset_token] = 0x00;</span>
</pre>
</body>
</html>
