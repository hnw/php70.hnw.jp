<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>filefp</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/972.html#L780'>filefp</a>            780 ext/phar/zip.c 	php_stream *filefp;</span>
<span class='curline'><a href='../S/972.html#L847'>filefp</a>            847 ext/phar/zip.c 	PHAR_SET_32(central.offset, php_stream_tell(p-&gt;filefp));</span>
<span class='curline'><a href='../S/972.html#L977'>filefp</a>            977 ext/phar/zip.c 	entry-&gt;header_offset = php_stream_tell(p-&gt;filefp);</span>
<span class='curline'><a href='../S/972.html#L980'>filefp</a>            980 ext/phar/zip.c 	if (sizeof(local) != php_stream_write(p-&gt;filefp, (char *)&amp;local, sizeof(local))) {</span>
<span class='curline'><a href='../S/972.html#L991'>filefp</a>            991 ext/phar/zip.c 		if (entry-&gt;filename_len != php_stream_write(p-&gt;filefp, entry-&gt;filename, entry-&gt;filename_len)) {</span>
<span class='curline'><a href='../S/972.html#L996'>filefp</a>            996 ext/phar/zip.c 		if (1 != php_stream_write(p-&gt;filefp, "/", 1)) {</span>
<span class='curline'><a href='../S/972.html#L1011'>filefp</a>           1011 ext/phar/zip.c 		if (entry-&gt;filename_len != php_stream_write(p-&gt;filefp, entry-&gt;filename, entry-&gt;filename_len)) {</span>
<span class='curline'><a href='../S/972.html#L1022'>filefp</a>           1022 ext/phar/zip.c 	if (sizeof(perms) != php_stream_write(p-&gt;filefp, (char *)&amp;perms, sizeof(perms))) {</span>
<span class='curline'><a href='../S/972.html#L1034'>filefp</a>           1034 ext/phar/zip.c 			if (SUCCESS != php_stream_copy_to_stream_ex(entry-&gt;cfp, p-&gt;filefp, entry-&gt;compressed_filesize, NULL)) {</span>
<span class='curline'><a href='../S/972.html#L1048'>filefp</a>           1048 ext/phar/zip.c 			if (SUCCESS != php_stream_copy_to_stream_ex(phar_get_efp(entry, 0), p-&gt;filefp, entry-&gt;uncompressed_filesize, NULL)) {</span>
<span class='curline'><a href='../S/972.html#L1074'>filefp</a>           1074 ext/phar/zip.c 		if (!entry-&gt;is_dir &amp;&amp; entry-&gt;compressed_filesize &amp;&amp; SUCCESS != php_stream_copy_to_stream_ex(p-&gt;old, p-&gt;filefp, entry-&gt;compressed_filesize, NULL)) {</span>
<span class='curline'><a href='../S/972.html#L1120'>filefp</a>           1120 ext/phar/zip.c 		st = tell = php_stream_tell(pass-&gt;filefp);</span>
<span class='curline'><a href='../S/972.html#L1122'>filefp</a>           1122 ext/phar/zip.c 		php_stream_seek(pass-&gt;filefp, 0, SEEK_SET);</span>
<span class='curline'><a href='../S/972.html#L1123'>filefp</a>           1123 ext/phar/zip.c 		php_stream_copy_to_stream_ex(pass-&gt;filefp, newfile, tell, NULL);</span>
<span class='curline'><a href='../S/972.html#L1403'>filefp</a>           1403 ext/phar/zip.c 	pass.filefp = php_stream_fopen_tmpfile();</span>
<span class='curline'><a href='../S/972.html#L1405'>filefp</a>           1405 ext/phar/zip.c 	if (!pass.filefp) {</span>
<span class='curline'><a href='../S/972.html#L1455'>filefp</a>           1455 ext/phar/zip.c 		php_stream_close(pass.filefp);</span>
<span class='curline'><a href='../S/972.html#L1468'>filefp</a>           1468 ext/phar/zip.c 	cdir_offset = php_stream_tell(pass.filefp);</span>
<span class='curline'><a href='../S/972.html#L1475'>filefp</a>           1475 ext/phar/zip.c 		int ret = php_stream_copy_to_stream_ex(pass.centralfp, pass.filefp, PHP_STREAM_COPY_ALL, &amp;clen);</span>
<span class='curline'><a href='../S/972.html#L1490'>filefp</a>           1490 ext/phar/zip.c 		if (sizeof(eocd) != php_stream_write(pass.filefp, (char *)&amp;eocd, sizeof(eocd))) {</span>
<span class='curline'><a href='../S/972.html#L1497'>filefp</a>           1497 ext/phar/zip.c 		if (ZSTR_LEN(main_metadata_str.s) != php_stream_write(pass.filefp, ZSTR_VAL(main_metadata_str.s), ZSTR_LEN(main_metadata_str.s))) {</span>
<span class='curline'><a href='../S/972.html#L1507'>filefp</a>           1507 ext/phar/zip.c 		if (sizeof(eocd) != php_stream_write(pass.filefp, (char *)&amp;eocd, sizeof(eocd))) {</span>
<span class='curline'><a href='../S/972.html#L1531'>filefp</a>           1531 ext/phar/zip.c 		phar-&gt;fp = pass.filefp;</span>
<span class='curline'><a href='../S/972.html#L1538'>filefp</a>           1538 ext/phar/zip.c 			phar-&gt;fp = pass.filefp;</span>
<span class='curline'><a href='../S/972.html#L1544'>filefp</a>           1544 ext/phar/zip.c 		php_stream_rewind(pass.filefp);</span>
<span class='curline'><a href='../S/972.html#L1545'>filefp</a>           1545 ext/phar/zip.c 		php_stream_copy_to_stream_ex(pass.filefp, phar-&gt;fp, PHP_STREAM_COPY_ALL, NULL);</span>
<span class='curline'><a href='../S/972.html#L1547'>filefp</a>           1547 ext/phar/zip.c 		php_stream_close(pass.filefp);</span>
</pre>
</body>
</html>
