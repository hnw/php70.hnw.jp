<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pPager</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1054.html#L10229'>pPager</a>           10229 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerClose(Pager *pPager);</span>
<span class='curline'><a href='../S/1054.html#L10248'>pPager</a>           10248 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerAcquire(Pager *pPager, Pgno pgno, DbPage **ppPage, int clrFlag);</span>
<span class='curline'><a href='../S/1054.html#L10250'>pPager</a>           10250 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE DbPage *sqlite3PagerLookup(Pager *pPager, Pgno pgno);</span>
<span class='curline'><a href='../S/1054.html#L10268'>pPager</a>           10268 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerSync(Pager *pPager, const char *zMaster);</span>
<span class='curline'><a href='../S/1054.html#L10271'>pPager</a>           10271 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerOpenSavepoint(Pager *pPager, int n);</span>
<span class='curline'><a href='../S/1054.html#L10272'>pPager</a>           10272 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerSavepoint(Pager *pPager, int op, int iSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L10273'>pPager</a>           10273 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerSharedLock(Pager *pPager);</span>
<span class='curline'><a href='../S/1054.html#L10276'>pPager</a>           10276 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE   int sqlite3PagerCheckpoint(Pager *pPager, int, int*, int*);</span>
<span class='curline'><a href='../S/1054.html#L10277'>pPager</a>           10277 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE   int sqlite3PagerWalSupported(Pager *pPager);</span>
<span class='curline'><a href='../S/1054.html#L10278'>pPager</a>           10278 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE   int sqlite3PagerWalCallback(Pager *pPager);</span>
<span class='curline'><a href='../S/1054.html#L10279'>pPager</a>           10279 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE   int sqlite3PagerOpenWal(Pager *pPager, int *pisOpen);</span>
<span class='curline'><a href='../S/1054.html#L10280'>pPager</a>           10280 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE   int sqlite3PagerCloseWal(Pager *pPager);</span>
<span class='curline'><a href='../S/1054.html#L10284'>pPager</a>           10284 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE   int sqlite3PagerWalFramesize(Pager *pPager);</span>
<span class='curline'><a href='../S/1054.html#L10362'>pPager</a>           10362 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager;                 /* The pager this page is part of */</span>
<span class='curline'><a href='../S/1054.html#L15205'>pPager</a>           15205 ext/sqlite3/libsqlite/sqlite3.c           Pager *pPager = sqlite3BtreePager(pBt);</span>
<span class='curline'><a href='../S/1054.html#L15206'>pPager</a>           15206 ext/sqlite3/libsqlite/sqlite3.c           totalUsed += sqlite3PagerMemUsed(pPager);</span>
<span class='curline'><a href='../S/1054.html#L15295'>pPager</a>           15295 ext/sqlite3/libsqlite/sqlite3.c           Pager *pPager = sqlite3BtreePager(db-&gt;aDb[i].pBt);</span>
<span class='curline'><a href='../S/1054.html#L15296'>pPager</a>           15296 ext/sqlite3/libsqlite/sqlite3.c           sqlite3PagerCacheStat(pPager, op, resetFlag, &amp;nRet);</span>
<span class='curline'><a href='../S/1054.html#L42394'>pPager</a>           42394 ext/sqlite3/libsqlite/sqlite3.c #define JOURNAL_PG_SZ(pPager)  ((pPager-&gt;pageSize) + 8)</span>
<span class='curline'><a href='../S/1054.html#L42400'>pPager</a>           42400 ext/sqlite3/libsqlite/sqlite3.c #define JOURNAL_HDR_SZ(pPager) (pPager-&gt;sectorSize)</span>
<span class='curline'><a href='../S/1054.html#L42411'>pPager</a>           42411 ext/sqlite3/libsqlite/sqlite3.c # define MEMDB pPager-&gt;memDb</span>
<span class='curline'><a href='../S/1054.html#L42448'>pPager</a>           42448 ext/sqlite3/libsqlite/sqlite3.c static int pagerUseWal(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L42449'>pPager</a>           42449 ext/sqlite3/libsqlite/sqlite3.c   return (pPager-&gt;pWal!=0);</span>
<span class='curline'><a href='../S/1054.html#L42469'>pPager</a>           42469 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = p;</span>
<span class='curline'><a href='../S/1054.html#L42486'>pPager</a>           42486 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;tempFile==0 || pPager-&gt;changeCountDone );</span>
<span class='curline'><a href='../S/1054.html#L42514'>pPager</a>           42514 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;changeCountDone==0 || pPager-&gt;eLock&gt;=RESERVED_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L42520'>pPager</a>           42520 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;errCode==SQLITE_OK );</span>
<span class='curline'><a href='../S/1054.html#L42521'>pPager</a>           42521 ext/sqlite3/libsqlite/sqlite3.c       assert( sqlite3PcacheRefCount(pPager-&gt;pPCache)==0 || pPager-&gt;tempFile );</span>
<span class='curline'><a href='../S/1054.html#L42525'>pPager</a>           42525 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;errCode==SQLITE_OK );</span>
<span class='curline'><a href='../S/1054.html#L42532'>pPager</a>           42532 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;errCode==SQLITE_OK );</span>
<span class='curline'><a href='../S/1054.html#L42533'>pPager</a>           42533 ext/sqlite3/libsqlite/sqlite3.c       if( !pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L42536'>pPager</a>           42536 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;dbSize==pPager-&gt;dbOrigSize );</span>
<span class='curline'><a href='../S/1054.html#L42537'>pPager</a>           42537 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;dbOrigSize==pPager-&gt;dbFileSize );</span>
<span class='curline'><a href='../S/1054.html#L42538'>pPager</a>           42538 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;dbOrigSize==pPager-&gt;dbHintSize );</span>
<span class='curline'><a href='../S/1054.html#L42539'>pPager</a>           42539 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;setMaster==0 );</span>
<span class='curline'><a href='../S/1054.html#L42544'>pPager</a>           42544 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;errCode==SQLITE_OK );</span>
<span class='curline'><a href='../S/1054.html#L42545'>pPager</a>           42545 ext/sqlite3/libsqlite/sqlite3.c       if( !pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L42557'>pPager</a>           42557 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;dbOrigSize==pPager-&gt;dbFileSize );</span>
<span class='curline'><a href='../S/1054.html#L42558'>pPager</a>           42558 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;dbOrigSize==pPager-&gt;dbHintSize );</span>
<span class='curline'><a href='../S/1054.html#L42563'>pPager</a>           42563 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;errCode==SQLITE_OK );</span>
<span class='curline'><a href='../S/1054.html#L42564'>pPager</a>           42564 ext/sqlite3/libsqlite/sqlite3.c       assert( !pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L42570'>pPager</a>           42570 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;dbOrigSize&lt;=pPager-&gt;dbHintSize );</span>
<span class='curline'><a href='../S/1054.html#L42575'>pPager</a>           42575 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;errCode==SQLITE_OK );</span>
<span class='curline'><a href='../S/1054.html#L42576'>pPager</a>           42576 ext/sqlite3/libsqlite/sqlite3.c       assert( !pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L42588'>pPager</a>           42588 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;errCode!=SQLITE_OK );</span>
<span class='curline'><a href='../S/1054.html#L42589'>pPager</a>           42589 ext/sqlite3/libsqlite/sqlite3.c       assert( sqlite3PcacheRefCount(pPager-&gt;pPCache)&gt;0 );</span>
<span class='curline'><a href='../S/1054.html#L42658'>pPager</a>           42658 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L42662'>pPager</a>           42662 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;pPager-&gt;nSavepoint; i++){</span>
<span class='curline'><a href='../S/1054.html#L42663'>pPager</a>           42663 ext/sqlite3/libsqlite/sqlite3.c     p = &amp;pPager-&gt;aSavepoint[i];</span>
<span class='curline'><a href='../S/1054.html#L42674'>pPager</a>           42674 ext/sqlite3/libsqlite/sqlite3.c static int pageInJournal(Pager *pPager, PgHdr *pPg){</span>
<span class='curline'><a href='../S/1054.html#L42675'>pPager</a>           42675 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3BitvecTest(pPager-&gt;pInJournal, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/1054.html#L42719'>pPager</a>           42719 ext/sqlite3/libsqlite/sqlite3.c static int pagerUnlockDb(Pager *pPager, int eLock){</span>
<span class='curline'><a href='../S/1054.html#L42722'>pPager</a>           42722 ext/sqlite3/libsqlite/sqlite3.c   assert( !pPager-&gt;exclusiveMode || pPager-&gt;eLock==eLock );</span>
<span class='curline'><a href='../S/1054.html#L42724'>pPager</a>           42724 ext/sqlite3/libsqlite/sqlite3.c   assert( eLock!=NO_LOCK || pagerUseWal(pPager)==0 );</span>
<span class='curline'><a href='../S/1054.html#L42725'>pPager</a>           42725 ext/sqlite3/libsqlite/sqlite3.c   if( isOpen(pPager-&gt;fd) ){</span>
<span class='curline'><a href='../S/1054.html#L42726'>pPager</a>           42726 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;eLock&gt;=eLock );</span>
<span class='curline'><a href='../S/1054.html#L42727'>pPager</a>           42727 ext/sqlite3/libsqlite/sqlite3.c     rc = pPager-&gt;noLock ? SQLITE_OK : sqlite3OsUnlock(pPager-&gt;fd, eLock);</span>
<span class='curline'><a href='../S/1054.html#L42728'>pPager</a>           42728 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;eLock!=UNKNOWN_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L42729'>pPager</a>           42729 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;eLock = (u8)eLock;</span>
<span class='curline'><a href='../S/1054.html#L42731'>pPager</a>           42731 ext/sqlite3/libsqlite/sqlite3.c     IOTRACE(("UNLOCK %p %d\n", pPager, eLock))</span>
<span class='curline'><a href='../S/1054.html#L42746'>pPager</a>           42746 ext/sqlite3/libsqlite/sqlite3.c static int pagerLockDb(Pager *pPager, int eLock){</span>
<span class='curline'><a href='../S/1054.html#L42750'>pPager</a>           42750 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eLock&lt;eLock || pPager-&gt;eLock==UNKNOWN_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L42751'>pPager</a>           42751 ext/sqlite3/libsqlite/sqlite3.c     rc = pPager-&gt;noLock ? SQLITE_OK : sqlite3OsLock(pPager-&gt;fd, eLock);</span>
<span class='curline'><a href='../S/1054.html#L42752'>pPager</a>           42752 ext/sqlite3/libsqlite/sqlite3.c     if( rc==SQLITE_OK &amp;&amp; (pPager-&gt;eLock!=UNKNOWN_LOCK||eLock==EXCLUSIVE_LOCK) ){</span>
<span class='curline'><a href='../S/1054.html#L42753'>pPager</a>           42753 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;eLock = (u8)eLock;</span>
<span class='curline'><a href='../S/1054.html#L42754'>pPager</a>           42754 ext/sqlite3/libsqlite/sqlite3.c       IOTRACE(("LOCK %p %d\n", pPager, eLock))</span>
<span class='curline'><a href='../S/1054.html#L42778'>pPager</a>           42778 ext/sqlite3/libsqlite/sqlite3.c static int jrnlBufferSize(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L42780'>pPager</a>           42780 ext/sqlite3/libsqlite/sqlite3.c   if( !pPager-&gt;tempFile ){</span>
<span class='curline'><a href='../S/1054.html#L42785'>pPager</a>           42785 ext/sqlite3/libsqlite/sqlite3.c     assert( isOpen(pPager-&gt;fd) );</span>
<span class='curline'><a href='../S/1054.html#L42786'>pPager</a>           42786 ext/sqlite3/libsqlite/sqlite3.c     dc = sqlite3OsDeviceCharacteristics(pPager-&gt;fd);</span>
<span class='curline'><a href='../S/1054.html#L42787'>pPager</a>           42787 ext/sqlite3/libsqlite/sqlite3.c     nSector = pPager-&gt;sectorSize;</span>
<span class='curline'><a href='../S/1054.html#L42788'>pPager</a>           42788 ext/sqlite3/libsqlite/sqlite3.c     szPage = pPager-&gt;pageSize;</span>
<span class='curline'><a href='../S/1054.html#L42797'>pPager</a>           42797 ext/sqlite3/libsqlite/sqlite3.c   return JOURNAL_HDR_SZ(pPager) + JOURNAL_PG_SZ(pPager);</span>
<span class='curline'><a href='../S/1054.html#L42819'>pPager</a>           42819 ext/sqlite3/libsqlite/sqlite3.c   return pager_datahash(pPage-&gt;pPager-&gt;pageSize, (unsigned char *)pPage-&gt;pData);</span>
<span class='curline'><a href='../S/1054.html#L42832'>pPager</a>           42832 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L42833'>pPager</a>           42833 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState!=PAGER_ERROR );</span>
<span class='curline'><a href='../S/1054.html#L42923'>pPager</a>           42923 ext/sqlite3/libsqlite/sqlite3.c static i64 journalHdrOffset(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L42925'>pPager</a>           42925 ext/sqlite3/libsqlite/sqlite3.c   i64 c = pPager-&gt;journalOff;</span>
<span class='curline'><a href='../S/1054.html#L42927'>pPager</a>           42927 ext/sqlite3/libsqlite/sqlite3.c     offset = ((c-1)/JOURNAL_HDR_SZ(pPager) + 1) * JOURNAL_HDR_SZ(pPager);</span>
<span class='curline'><a href='../S/1054.html#L42929'>pPager</a>           42929 ext/sqlite3/libsqlite/sqlite3.c   assert( offset%JOURNAL_HDR_SZ(pPager)==0 );</span>
<span class='curline'><a href='../S/1054.html#L42931'>pPager</a>           42931 ext/sqlite3/libsqlite/sqlite3.c   assert( (offset-c)&lt;JOURNAL_HDR_SZ(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L42956'>pPager</a>           42956 ext/sqlite3/libsqlite/sqlite3.c static int zeroJournalHdr(Pager *pPager, int doTruncate){</span>
<span class='curline'><a href='../S/1054.html#L42958'>pPager</a>           42958 ext/sqlite3/libsqlite/sqlite3.c   assert( isOpen(pPager-&gt;jfd) );</span>
<span class='curline'><a href='../S/1054.html#L42959'>pPager</a>           42959 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;journalOff ){</span>
<span class='curline'><a href='../S/1054.html#L42960'>pPager</a>           42960 ext/sqlite3/libsqlite/sqlite3.c     const i64 iLimit = pPager-&gt;journalSizeLimit;    /* Local cache of jsl */</span>
<span class='curline'><a href='../S/1054.html#L42962'>pPager</a>           42962 ext/sqlite3/libsqlite/sqlite3.c     IOTRACE(("JZEROHDR %p\n", pPager))</span>
<span class='curline'><a href='../S/1054.html#L42964'>pPager</a>           42964 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3OsTruncate(pPager-&gt;jfd, 0);</span>
<span class='curline'><a href='../S/1054.html#L42967'>pPager</a>           42967 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3OsWrite(pPager-&gt;jfd, zeroHdr, sizeof(zeroHdr), 0);</span>
<span class='curline'><a href='../S/1054.html#L42969'>pPager</a>           42969 ext/sqlite3/libsqlite/sqlite3.c     if( rc==SQLITE_OK &amp;&amp; !pPager-&gt;noSync ){</span>
<span class='curline'><a href='../S/1054.html#L42970'>pPager</a>           42970 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3OsSync(pPager-&gt;jfd, SQLITE_SYNC_DATAONLY|pPager-&gt;syncFlags);</span>
<span class='curline'><a href='../S/1054.html#L42981'>pPager</a>           42981 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3OsFileSize(pPager-&gt;jfd, &amp;sz);</span>
<span class='curline'><a href='../S/1054.html#L42983'>pPager</a>           42983 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsTruncate(pPager-&gt;jfd, iLimit);</span>
<span class='curline'><a href='../S/1054.html#L43005'>pPager</a>           43005 ext/sqlite3/libsqlite/sqlite3.c static int writeJournalHdr(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L43007'>pPager</a>           43007 ext/sqlite3/libsqlite/sqlite3.c   char *zHeader = pPager-&gt;pTmpSpace;  /* Temporary space used to build header */</span>
<span class='curline'><a href='../S/1054.html#L43008'>pPager</a>           43008 ext/sqlite3/libsqlite/sqlite3.c   u32 nHeader = (u32)pPager-&gt;pageSize;/* Size of buffer pointed to by zHeader */</span>
<span class='curline'><a href='../S/1054.html#L43012'>pPager</a>           43012 ext/sqlite3/libsqlite/sqlite3.c   assert( isOpen(pPager-&gt;jfd) );      /* Journal file must be open. */</span>
<span class='curline'><a href='../S/1054.html#L43014'>pPager</a>           43014 ext/sqlite3/libsqlite/sqlite3.c   if( nHeader&gt;JOURNAL_HDR_SZ(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L43015'>pPager</a>           43015 ext/sqlite3/libsqlite/sqlite3.c     nHeader = JOURNAL_HDR_SZ(pPager);</span>
<span class='curline'><a href='../S/1054.html#L43022'>pPager</a>           43022 ext/sqlite3/libsqlite/sqlite3.c   for(ii=0; ii&lt;pPager-&gt;nSavepoint; ii++){</span>
<span class='curline'><a href='../S/1054.html#L43023'>pPager</a>           43023 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;aSavepoint[ii].iHdrOffset==0 ){</span>
<span class='curline'><a href='../S/1054.html#L43024'>pPager</a>           43024 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;aSavepoint[ii].iHdrOffset = pPager-&gt;journalOff;</span>
<span class='curline'><a href='../S/1054.html#L43028'>pPager</a>           43028 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;journalHdr = pPager-&gt;journalOff = journalHdrOffset(pPager);</span>
<span class='curline'><a href='../S/1054.html#L43050'>pPager</a>           43050 ext/sqlite3/libsqlite/sqlite3.c   assert( isOpen(pPager-&gt;fd) || pPager-&gt;noSync );</span>
<span class='curline'><a href='../S/1054.html#L43051'>pPager</a>           43051 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;noSync || (pPager-&gt;journalMode==PAGER_JOURNALMODE_MEMORY)</span>
<span class='curline'><a href='../S/1054.html#L43052'>pPager</a>           43052 ext/sqlite3/libsqlite/sqlite3.c    || (sqlite3OsDeviceCharacteristics(pPager-&gt;fd)&amp;SQLITE_IOCAP_SAFE_APPEND) </span>
<span class='curline'><a href='../S/1054.html#L43061'>pPager</a>           43061 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_randomness(sizeof(pPager-&gt;cksumInit), &amp;pPager-&gt;cksumInit);</span>
<span class='curline'><a href='../S/1054.html#L43062'>pPager</a>           43062 ext/sqlite3/libsqlite/sqlite3.c   put32bits(&amp;zHeader[sizeof(aJournalMagic)+4], pPager-&gt;cksumInit);</span>
<span class='curline'><a href='../S/1054.html#L43064'>pPager</a>           43064 ext/sqlite3/libsqlite/sqlite3.c   put32bits(&amp;zHeader[sizeof(aJournalMagic)+8], pPager-&gt;dbOrigSize);</span>
<span class='curline'><a href='../S/1054.html#L43066'>pPager</a>           43066 ext/sqlite3/libsqlite/sqlite3.c   put32bits(&amp;zHeader[sizeof(aJournalMagic)+12], pPager-&gt;sectorSize);</span>
<span class='curline'><a href='../S/1054.html#L43069'>pPager</a>           43069 ext/sqlite3/libsqlite/sqlite3.c   put32bits(&amp;zHeader[sizeof(aJournalMagic)+16], pPager-&gt;pageSize);</span>
<span class='curline'><a href='../S/1054.html#L43096'>pPager</a>           43096 ext/sqlite3/libsqlite/sqlite3.c   for(nWrite=0; rc==SQLITE_OK&amp;&amp;nWrite&lt;JOURNAL_HDR_SZ(pPager); nWrite+=nHeader){</span>
<span class='curline'><a href='../S/1054.html#L43097'>pPager</a>           43097 ext/sqlite3/libsqlite/sqlite3.c     IOTRACE(("JHDR %p %lld %d\n", pPager, pPager-&gt;journalHdr, nHeader))</span>
<span class='curline'><a href='../S/1054.html#L43098'>pPager</a>           43098 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsWrite(pPager-&gt;jfd, zHeader, nHeader, pPager-&gt;journalOff);</span>
<span class='curline'><a href='../S/1054.html#L43099'>pPager</a>           43099 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;journalHdr &lt;= pPager-&gt;journalOff );</span>
<span class='curline'><a href='../S/1054.html#L43100'>pPager</a>           43100 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;journalOff += nHeader;</span>
<span class='curline'><a href='../S/1054.html#L43124'>pPager</a>           43124 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager,               /* Pager object */</span>
<span class='curline'><a href='../S/1054.html#L43134'>pPager</a>           43134 ext/sqlite3/libsqlite/sqlite3.c   assert( isOpen(pPager-&gt;jfd) );      /* Journal file must be open. */</span>
<span class='curline'><a href='../S/1054.html#L43140'>pPager</a>           43140 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;journalOff = journalHdrOffset(pPager);</span>
<span class='curline'><a href='../S/1054.html#L43141'>pPager</a>           43141 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;journalOff+JOURNAL_HDR_SZ(pPager) &gt; journalSize ){</span>
<span class='curline'><a href='../S/1054.html#L43144'>pPager</a>           43144 ext/sqlite3/libsqlite/sqlite3.c   iHdrOff = pPager-&gt;journalOff;</span>
<span class='curline'><a href='../S/1054.html#L43151'>pPager</a>           43151 ext/sqlite3/libsqlite/sqlite3.c   if( isHot || iHdrOff!=pPager-&gt;journalHdr ){</span>
<span class='curline'><a href='../S/1054.html#L43152'>pPager</a>           43152 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsRead(pPager-&gt;jfd, aMagic, sizeof(aMagic), iHdrOff);</span>
<span class='curline'><a href='../S/1054.html#L43165'>pPager</a>           43165 ext/sqlite3/libsqlite/sqlite3.c   if( SQLITE_OK!=(rc = read32bits(pPager-&gt;jfd, iHdrOff+8, pNRec))</span>
<span class='curline'><a href='../S/1054.html#L43166'>pPager</a>           43166 ext/sqlite3/libsqlite/sqlite3.c    || SQLITE_OK!=(rc = read32bits(pPager-&gt;jfd, iHdrOff+12, &amp;pPager-&gt;cksumInit))</span>
<span class='curline'><a href='../S/1054.html#L43167'>pPager</a>           43167 ext/sqlite3/libsqlite/sqlite3.c    || SQLITE_OK!=(rc = read32bits(pPager-&gt;jfd, iHdrOff+16, pDbSize))</span>
<span class='curline'><a href='../S/1054.html#L43172'>pPager</a>           43172 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;journalOff==0 ){</span>
<span class='curline'><a href='../S/1054.html#L43177'>pPager</a>           43177 ext/sqlite3/libsqlite/sqlite3.c     if( SQLITE_OK!=(rc = read32bits(pPager-&gt;jfd, iHdrOff+20, &amp;iSectorSize))</span>
<span class='curline'><a href='../S/1054.html#L43178'>pPager</a>           43178 ext/sqlite3/libsqlite/sqlite3.c      || SQLITE_OK!=(rc = read32bits(pPager-&gt;jfd, iHdrOff+24, &amp;iPageSize))</span>
<span class='curline'><a href='../S/1054.html#L43188'>pPager</a>           43188 ext/sqlite3/libsqlite/sqlite3.c       iPageSize = pPager-&gt;pageSize;</span>
<span class='curline'><a href='../S/1054.html#L43212'>pPager</a>           43212 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerSetPagesize(pPager, &amp;iPageSize, -1);</span>
<span class='curline'><a href='../S/1054.html#L43221'>pPager</a>           43221 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;sectorSize = iSectorSize;</span>
<span class='curline'><a href='../S/1054.html#L43224'>pPager</a>           43224 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;journalOff += JOURNAL_HDR_SZ(pPager);</span>
<span class='curline'><a href='../S/1054.html#L43248'>pPager</a>           43248 ext/sqlite3/libsqlite/sqlite3.c static int writeMasterJournal(Pager *pPager, const char *zMaster){</span>
<span class='curline'><a href='../S/1054.html#L43255'>pPager</a>           43255 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;setMaster==0 );</span>
<span class='curline'><a href='../S/1054.html#L43256'>pPager</a>           43256 ext/sqlite3/libsqlite/sqlite3.c   assert( !pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L43259'>pPager</a>           43259 ext/sqlite3/libsqlite/sqlite3.c    || pPager-&gt;journalMode==PAGER_JOURNALMODE_MEMORY </span>
<span class='curline'><a href='../S/1054.html#L43260'>pPager</a>           43260 ext/sqlite3/libsqlite/sqlite3.c    || !isOpen(pPager-&gt;jfd)</span>
<span class='curline'><a href='../S/1054.html#L43264'>pPager</a>           43264 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;setMaster = 1;</span>
<span class='curline'><a href='../S/1054.html#L43265'>pPager</a>           43265 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;journalHdr &lt;= pPager-&gt;journalOff );</span>
<span class='curline'><a href='../S/1054.html#L43276'>pPager</a>           43276 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;fullSync ){</span>
<span class='curline'><a href='../S/1054.html#L43277'>pPager</a>           43277 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;journalOff = journalHdrOffset(pPager);</span>
<span class='curline'><a href='../S/1054.html#L43279'>pPager</a>           43279 ext/sqlite3/libsqlite/sqlite3.c   iHdrOff = pPager-&gt;journalOff;</span>
<span class='curline'><a href='../S/1054.html#L43284'>pPager</a>           43284 ext/sqlite3/libsqlite/sqlite3.c   if( (0 != (rc = write32bits(pPager-&gt;jfd, iHdrOff, PAGER_MJ_PGNO(pPager))))</span>
<span class='curline'><a href='../S/1054.html#L43285'>pPager</a>           43285 ext/sqlite3/libsqlite/sqlite3.c    || (0 != (rc = sqlite3OsWrite(pPager-&gt;jfd, zMaster, nMaster, iHdrOff+4)))</span>
<span class='curline'><a href='../S/1054.html#L43286'>pPager</a>           43286 ext/sqlite3/libsqlite/sqlite3.c    || (0 != (rc = write32bits(pPager-&gt;jfd, iHdrOff+4+nMaster, nMaster)))</span>
<span class='curline'><a href='../S/1054.html#L43287'>pPager</a>           43287 ext/sqlite3/libsqlite/sqlite3.c    || (0 != (rc = write32bits(pPager-&gt;jfd, iHdrOff+4+nMaster+4, cksum)))</span>
<span class='curline'><a href='../S/1054.html#L43288'>pPager</a>           43288 ext/sqlite3/libsqlite/sqlite3.c    || (0 != (rc = sqlite3OsWrite(pPager-&gt;jfd, aJournalMagic, 8, iHdrOff+4+nMaster+8)))</span>
<span class='curline'><a href='../S/1054.html#L43292'>pPager</a>           43292 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;journalOff += (nMaster+20);</span>
<span class='curline'><a href='../S/1054.html#L43304'>pPager</a>           43304 ext/sqlite3/libsqlite/sqlite3.c   if( SQLITE_OK==(rc = sqlite3OsFileSize(pPager-&gt;jfd, &amp;jrnlSize))</span>
<span class='curline'><a href='../S/1054.html#L43305'>pPager</a>           43305 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; jrnlSize&gt;pPager-&gt;journalOff</span>
<span class='curline'><a href='../S/1054.html#L43307'>pPager</a>           43307 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsTruncate(pPager-&gt;jfd, pPager-&gt;journalOff);</span>
<span class='curline'><a href='../S/1054.html#L43315'>pPager</a>           43315 ext/sqlite3/libsqlite/sqlite3.c static void pager_reset(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L43316'>pPager</a>           43316 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;iDataVersion++;</span>
<span class='curline'><a href='../S/1054.html#L43317'>pPager</a>           43317 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BackupRestart(pPager-&gt;pBackup);</span>
<span class='curline'><a href='../S/1054.html#L43318'>pPager</a>           43318 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PcacheClear(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L43324'>pPager</a>           43324 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE u32 sqlite3PagerDataVersion(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L43325'>pPager</a>           43325 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;PAGER_OPEN );</span>
<span class='curline'><a href='../S/1054.html#L43326'>pPager</a>           43326 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;iDataVersion;</span>
<span class='curline'><a href='../S/1054.html#L43334'>pPager</a>           43334 ext/sqlite3/libsqlite/sqlite3.c static void releaseAllSavepoints(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L43336'>pPager</a>           43336 ext/sqlite3/libsqlite/sqlite3.c   for(ii=0; ii&lt;pPager-&gt;nSavepoint; ii++){</span>
<span class='curline'><a href='../S/1054.html#L43337'>pPager</a>           43337 ext/sqlite3/libsqlite/sqlite3.c     sqlite3BitvecDestroy(pPager-&gt;aSavepoint[ii].pInSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L43339'>pPager</a>           43339 ext/sqlite3/libsqlite/sqlite3.c   if( !pPager-&gt;exclusiveMode || sqlite3IsMemJournal(pPager-&gt;sjfd) ){</span>
<span class='curline'><a href='../S/1054.html#L43340'>pPager</a>           43340 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsClose(pPager-&gt;sjfd);</span>
<span class='curline'><a href='../S/1054.html#L43342'>pPager</a>           43342 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_free(pPager-&gt;aSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L43343'>pPager</a>           43343 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;aSavepoint = 0;</span>
<span class='curline'><a href='../S/1054.html#L43344'>pPager</a>           43344 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;nSavepoint = 0;</span>
<span class='curline'><a href='../S/1054.html#L43345'>pPager</a>           43345 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;nSubRec = 0;</span>
<span class='curline'><a href='../S/1054.html#L43353'>pPager</a>           43353 ext/sqlite3/libsqlite/sqlite3.c static int addToSavepointBitvecs(Pager *pPager, Pgno pgno){</span>
<span class='curline'><a href='../S/1054.html#L43357'>pPager</a>           43357 ext/sqlite3/libsqlite/sqlite3.c   for(ii=0; ii&lt;pPager-&gt;nSavepoint; ii++){</span>
<span class='curline'><a href='../S/1054.html#L43358'>pPager</a>           43358 ext/sqlite3/libsqlite/sqlite3.c     PagerSavepoint *p = &amp;pPager-&gt;aSavepoint[ii];</span>
<span class='curline'><a href='../S/1054.html#L43385'>pPager</a>           43385 ext/sqlite3/libsqlite/sqlite3.c static void pager_unlock(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L43387'>pPager</a>           43387 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_READER </span>
<span class='curline'><a href='../S/1054.html#L43388'>pPager</a>           43388 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_OPEN </span>
<span class='curline'><a href='../S/1054.html#L43389'>pPager</a>           43389 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_ERROR </span>
<span class='curline'><a href='../S/1054.html#L43392'>pPager</a>           43392 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BitvecDestroy(pPager-&gt;pInJournal);</span>
<span class='curline'><a href='../S/1054.html#L43393'>pPager</a>           43393 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;pInJournal = 0;</span>
<span class='curline'><a href='../S/1054.html#L43394'>pPager</a>           43394 ext/sqlite3/libsqlite/sqlite3.c   releaseAllSavepoints(pPager);</span>
<span class='curline'><a href='../S/1054.html#L43396'>pPager</a>           43396 ext/sqlite3/libsqlite/sqlite3.c   if( pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L43397'>pPager</a>           43397 ext/sqlite3/libsqlite/sqlite3.c     assert( !isOpen(pPager-&gt;jfd) );</span>
<span class='curline'><a href='../S/1054.html#L43398'>pPager</a>           43398 ext/sqlite3/libsqlite/sqlite3.c     sqlite3WalEndReadTransaction(pPager-&gt;pWal);</span>
<span class='curline'><a href='../S/1054.html#L43399'>pPager</a>           43399 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;eState = PAGER_OPEN;</span>
<span class='curline'><a href='../S/1054.html#L43400'>pPager</a>           43400 ext/sqlite3/libsqlite/sqlite3.c   }else if( !pPager-&gt;exclusiveMode ){</span>
<span class='curline'><a href='../S/1054.html#L43402'>pPager</a>           43402 ext/sqlite3/libsqlite/sqlite3.c     int iDc = isOpen(pPager-&gt;fd)?sqlite3OsDeviceCharacteristics(pPager-&gt;fd):0;</span>
<span class='curline'><a href='../S/1054.html#L43416'>pPager</a>           43416 ext/sqlite3/libsqlite/sqlite3.c      || 1!=(pPager-&gt;journalMode &amp; 5)</span>
<span class='curline'><a href='../S/1054.html#L43418'>pPager</a>           43418 ext/sqlite3/libsqlite/sqlite3.c       sqlite3OsClose(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L43426'>pPager</a>           43426 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerUnlockDb(pPager, NO_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L43427'>pPager</a>           43427 ext/sqlite3/libsqlite/sqlite3.c     if( rc!=SQLITE_OK &amp;&amp; pPager-&gt;eState==PAGER_ERROR ){</span>
<span class='curline'><a href='../S/1054.html#L43428'>pPager</a>           43428 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;eLock = UNKNOWN_LOCK;</span>
<span class='curline'><a href='../S/1054.html#L43435'>pPager</a>           43435 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;errCode || pPager-&gt;eState!=PAGER_ERROR );</span>
<span class='curline'><a href='../S/1054.html#L43436'>pPager</a>           43436 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;changeCountDone = 0;</span>
<span class='curline'><a href='../S/1054.html#L43437'>pPager</a>           43437 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;eState = PAGER_OPEN;</span>
<span class='curline'><a href='../S/1054.html#L43445'>pPager</a>           43445 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;errCode ){</span>
<span class='curline'><a href='../S/1054.html#L43447'>pPager</a>           43447 ext/sqlite3/libsqlite/sqlite3.c     pager_reset(pPager);</span>
<span class='curline'><a href='../S/1054.html#L43448'>pPager</a>           43448 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;changeCountDone = pPager-&gt;tempFile;</span>
<span class='curline'><a href='../S/1054.html#L43449'>pPager</a>           43449 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;eState = PAGER_OPEN;</span>
<span class='curline'><a href='../S/1054.html#L43450'>pPager</a>           43450 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;errCode = SQLITE_OK;</span>
<span class='curline'><a href='../S/1054.html#L43451'>pPager</a>           43451 ext/sqlite3/libsqlite/sqlite3.c     if( USEFETCH(pPager) ) sqlite3OsUnfetch(pPager-&gt;fd, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L43454'>pPager</a>           43454 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;journalOff = 0;</span>
<span class='curline'><a href='../S/1054.html#L43455'>pPager</a>           43455 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;journalHdr = 0;</span>
<span class='curline'><a href='../S/1054.html#L43456'>pPager</a>           43456 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;setMaster = 0;</span>
<span class='curline'><a href='../S/1054.html#L43478'>pPager</a>           43478 ext/sqlite3/libsqlite/sqlite3.c static int pager_error(Pager *pPager, int rc){</span>
<span class='curline'><a href='../S/1054.html#L43482'>pPager</a>           43482 ext/sqlite3/libsqlite/sqlite3.c        pPager-&gt;errCode==SQLITE_FULL ||</span>
<span class='curline'><a href='../S/1054.html#L43483'>pPager</a>           43483 ext/sqlite3/libsqlite/sqlite3.c        pPager-&gt;errCode==SQLITE_OK ||</span>
<span class='curline'><a href='../S/1054.html#L43484'>pPager</a>           43484 ext/sqlite3/libsqlite/sqlite3.c        (pPager-&gt;errCode &amp; 0xff)==SQLITE_IOERR</span>
<span class='curline'><a href='../S/1054.html#L43487'>pPager</a>           43487 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;errCode = rc;</span>
<span class='curline'><a href='../S/1054.html#L43488'>pPager</a>           43488 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;eState = PAGER_ERROR;</span>
<span class='curline'><a href='../S/1054.html#L43493'>pPager</a>           43493 ext/sqlite3/libsqlite/sqlite3.c static int pager_truncate(Pager *pPager, Pgno nPage);</span>
<span class='curline'><a href='../S/1054.html#L43548'>pPager</a>           43548 ext/sqlite3/libsqlite/sqlite3.c static int pager_end_transaction(Pager *pPager, int hasMaster, int bCommit){</span>
<span class='curline'><a href='../S/1054.html#L43565'>pPager</a>           43565 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L43566'>pPager</a>           43566 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState!=PAGER_ERROR );</span>
<span class='curline'><a href='../S/1054.html#L43567'>pPager</a>           43567 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eState&lt;PAGER_WRITER_LOCKED &amp;&amp; pPager-&gt;eLock&lt;RESERVED_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L43571'>pPager</a>           43571 ext/sqlite3/libsqlite/sqlite3.c   releaseAllSavepoints(pPager);</span>
<span class='curline'><a href='../S/1054.html#L43572'>pPager</a>           43572 ext/sqlite3/libsqlite/sqlite3.c   assert( isOpen(pPager-&gt;jfd) || pPager-&gt;pInJournal==0 );</span>
<span class='curline'><a href='../S/1054.html#L43573'>pPager</a>           43573 ext/sqlite3/libsqlite/sqlite3.c   if( isOpen(pPager-&gt;jfd) ){</span>
<span class='curline'><a href='../S/1054.html#L43574'>pPager</a>           43574 ext/sqlite3/libsqlite/sqlite3.c     assert( !pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L43577'>pPager</a>           43577 ext/sqlite3/libsqlite/sqlite3.c     if( sqlite3IsMemJournal(pPager-&gt;jfd) ){</span>
<span class='curline'><a href='../S/1054.html#L43578'>pPager</a>           43578 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;journalMode==PAGER_JOURNALMODE_MEMORY );</span>
<span class='curline'><a href='../S/1054.html#L43579'>pPager</a>           43579 ext/sqlite3/libsqlite/sqlite3.c       sqlite3OsClose(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L43580'>pPager</a>           43580 ext/sqlite3/libsqlite/sqlite3.c     }else if( pPager-&gt;journalMode==PAGER_JOURNALMODE_TRUNCATE ){</span>
<span class='curline'><a href='../S/1054.html#L43581'>pPager</a>           43581 ext/sqlite3/libsqlite/sqlite3.c       if( pPager-&gt;journalOff==0 ){</span>
<span class='curline'><a href='../S/1054.html#L43584'>pPager</a>           43584 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsTruncate(pPager-&gt;jfd, 0);</span>
<span class='curline'><a href='../S/1054.html#L43585'>pPager</a>           43585 ext/sqlite3/libsqlite/sqlite3.c         if( rc==SQLITE_OK &amp;&amp; pPager-&gt;fullSync ){</span>
<span class='curline'><a href='../S/1054.html#L43591'>pPager</a>           43591 ext/sqlite3/libsqlite/sqlite3.c           rc = sqlite3OsSync(pPager-&gt;jfd, pPager-&gt;syncFlags);</span>
<span class='curline'><a href='../S/1054.html#L43594'>pPager</a>           43594 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;journalOff = 0;</span>
<span class='curline'><a href='../S/1054.html#L43595'>pPager</a>           43595 ext/sqlite3/libsqlite/sqlite3.c     }else if( pPager-&gt;journalMode==PAGER_JOURNALMODE_PERSIST</span>
<span class='curline'><a href='../S/1054.html#L43596'>pPager</a>           43596 ext/sqlite3/libsqlite/sqlite3.c       || (pPager-&gt;exclusiveMode &amp;&amp; pPager-&gt;journalMode!=PAGER_JOURNALMODE_WAL)</span>
<span class='curline'><a href='../S/1054.html#L43598'>pPager</a>           43598 ext/sqlite3/libsqlite/sqlite3.c       rc = zeroJournalHdr(pPager, hasMaster);</span>
<span class='curline'><a href='../S/1054.html#L43599'>pPager</a>           43599 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;journalOff = 0;</span>
<span class='curline'><a href='../S/1054.html#L43606'>pPager</a>           43606 ext/sqlite3/libsqlite/sqlite3.c       int bDelete = (!pPager-&gt;tempFile &amp;&amp; sqlite3JournalExists(pPager-&gt;jfd));</span>
<span class='curline'><a href='../S/1054.html#L43607'>pPager</a>           43607 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;journalMode==PAGER_JOURNALMODE_DELETE </span>
<span class='curline'><a href='../S/1054.html#L43608'>pPager</a>           43608 ext/sqlite3/libsqlite/sqlite3.c            || pPager-&gt;journalMode==PAGER_JOURNALMODE_MEMORY </span>
<span class='curline'><a href='../S/1054.html#L43609'>pPager</a>           43609 ext/sqlite3/libsqlite/sqlite3.c            || pPager-&gt;journalMode==PAGER_JOURNALMODE_WAL </span>
<span class='curline'><a href='../S/1054.html#L43611'>pPager</a>           43611 ext/sqlite3/libsqlite/sqlite3.c       sqlite3OsClose(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L43613'>pPager</a>           43613 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsDelete(pPager-&gt;pVfs, pPager-&gt;zJournal, 0);</span>
<span class='curline'><a href='../S/1054.html#L43619'>pPager</a>           43619 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PcacheIterateDirty(pPager-&gt;pPCache, pager_set_pagehash);</span>
<span class='curline'><a href='../S/1054.html#L43620'>pPager</a>           43620 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;dbSize==0 &amp;&amp; sqlite3PcacheRefCount(pPager-&gt;pPCache)&gt;0 ){</span>
<span class='curline'><a href='../S/1054.html#L43621'>pPager</a>           43621 ext/sqlite3/libsqlite/sqlite3.c     PgHdr *p = sqlite3PagerLookup(pPager, 1);</span>
<span class='curline'><a href='../S/1054.html#L43629'>pPager</a>           43629 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BitvecDestroy(pPager-&gt;pInJournal);</span>
<span class='curline'><a href='../S/1054.html#L43630'>pPager</a>           43630 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;pInJournal = 0;</span>
<span class='curline'><a href='../S/1054.html#L43631'>pPager</a>           43631 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;nRec = 0;</span>
<span class='curline'><a href='../S/1054.html#L43632'>pPager</a>           43632 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PcacheCleanAll(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L43633'>pPager</a>           43633 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PcacheTruncate(pPager-&gt;pPCache, pPager-&gt;dbSize);</span>
<span class='curline'><a href='../S/1054.html#L43635'>pPager</a>           43635 ext/sqlite3/libsqlite/sqlite3.c   if( pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L43640'>pPager</a>           43640 ext/sqlite3/libsqlite/sqlite3.c     rc2 = sqlite3WalEndWriteTransaction(pPager-&gt;pWal);</span>
<span class='curline'><a href='../S/1054.html#L43642'>pPager</a>           43642 ext/sqlite3/libsqlite/sqlite3.c   }else if( rc==SQLITE_OK &amp;&amp; bCommit &amp;&amp; pPager-&gt;dbFileSize&gt;pPager-&gt;dbSize ){</span>
<span class='curline'><a href='../S/1054.html#L43649'>pPager</a>           43649 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L43650'>pPager</a>           43650 ext/sqlite3/libsqlite/sqlite3.c     rc = pager_truncate(pPager, pPager-&gt;dbSize);</span>
<span class='curline'><a href='../S/1054.html#L43653'>pPager</a>           43653 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; bCommit &amp;&amp; isOpen(pPager-&gt;fd) ){</span>
<span class='curline'><a href='../S/1054.html#L43654'>pPager</a>           43654 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsFileControl(pPager-&gt;fd, SQLITE_FCNTL_COMMIT_PHASETWO, 0);</span>
<span class='curline'><a href='../S/1054.html#L43658'>pPager</a>           43658 ext/sqlite3/libsqlite/sqlite3.c   if( !pPager-&gt;exclusiveMode </span>
<span class='curline'><a href='../S/1054.html#L43659'>pPager</a>           43659 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; (!pagerUseWal(pPager) || sqlite3WalExclusiveMode(pPager-&gt;pWal, 0))</span>
<span class='curline'><a href='../S/1054.html#L43661'>pPager</a>           43661 ext/sqlite3/libsqlite/sqlite3.c     rc2 = pagerUnlockDb(pPager, SHARED_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L43662'>pPager</a>           43662 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;changeCountDone = 0;</span>
<span class='curline'><a href='../S/1054.html#L43664'>pPager</a>           43664 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;eState = PAGER_READER;</span>
<span class='curline'><a href='../S/1054.html#L43665'>pPager</a>           43665 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;setMaster = 0;</span>
<span class='curline'><a href='../S/1054.html#L43687'>pPager</a>           43687 ext/sqlite3/libsqlite/sqlite3.c static void pagerUnlockAndRollback(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L43688'>pPager</a>           43688 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eState!=PAGER_ERROR &amp;&amp; pPager-&gt;eState!=PAGER_OPEN ){</span>
<span class='curline'><a href='../S/1054.html#L43689'>pPager</a>           43689 ext/sqlite3/libsqlite/sqlite3.c     assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L43690'>pPager</a>           43690 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;eState&gt;=PAGER_WRITER_LOCKED ){</span>
<span class='curline'><a href='../S/1054.html#L43692'>pPager</a>           43692 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PagerRollback(pPager);</span>
<span class='curline'><a href='../S/1054.html#L43694'>pPager</a>           43694 ext/sqlite3/libsqlite/sqlite3.c     }else if( !pPager-&gt;exclusiveMode ){</span>
<span class='curline'><a href='../S/1054.html#L43695'>pPager</a>           43695 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;eState==PAGER_READER );</span>
<span class='curline'><a href='../S/1054.html#L43696'>pPager</a>           43696 ext/sqlite3/libsqlite/sqlite3.c       pager_end_transaction(pPager, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L43699'>pPager</a>           43699 ext/sqlite3/libsqlite/sqlite3.c   pager_unlock(pPager);</span>
<span class='curline'><a href='../S/1054.html#L43721'>pPager</a>           43721 ext/sqlite3/libsqlite/sqlite3.c static u32 pager_cksum(Pager *pPager, const u8 *aData){</span>
<span class='curline'><a href='../S/1054.html#L43722'>pPager</a>           43722 ext/sqlite3/libsqlite/sqlite3.c   u32 cksum = pPager-&gt;cksumInit;         /* Checksum value to return */</span>
<span class='curline'><a href='../S/1054.html#L43723'>pPager</a>           43723 ext/sqlite3/libsqlite/sqlite3.c   int i = pPager-&gt;pageSize-200;          /* Loop counter */</span>
<span class='curline'><a href='../S/1054.html#L43736'>pPager</a>           43736 ext/sqlite3/libsqlite/sqlite3.c static void pagerReportSize(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L43737'>pPager</a>           43737 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;xCodecSizeChng ){</span>
<span class='curline'><a href='../S/1054.html#L43738'>pPager</a>           43738 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;xCodecSizeChng(pPager-&gt;pCodec, pPager-&gt;pageSize,</span>
<span class='curline'><a href='../S/1054.html#L43739'>pPager</a>           43739 ext/sqlite3/libsqlite/sqlite3.c                            (int)pPager-&gt;nReserve);</span>
<span class='curline'><a href='../S/1054.html#L43784'>pPager</a>           43784 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager,                /* The pager being played back */</span>
<span class='curline'><a href='../S/1054.html#L43803'>pPager</a>           43803 ext/sqlite3/libsqlite/sqlite3.c   aData = pPager-&gt;pTmpSpace;</span>
<span class='curline'><a href='../S/1054.html#L43805'>pPager</a>           43805 ext/sqlite3/libsqlite/sqlite3.c   assert( pagerUseWal(pPager)==0 || (!isMainJrnl &amp;&amp; isSavepnt) );</span>
<span class='curline'><a href='../S/1054.html#L43813'>pPager</a>           43813 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;=PAGER_WRITER_CACHEMOD</span>
<span class='curline'><a href='../S/1054.html#L43814'>pPager</a>           43814 ext/sqlite3/libsqlite/sqlite3.c        || (pPager-&gt;eState==PAGER_OPEN &amp;&amp; pPager-&gt;eLock==EXCLUSIVE_LOCK)</span>
<span class='curline'><a href='../S/1054.html#L43816'>pPager</a>           43816 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;=PAGER_WRITER_CACHEMOD || isMainJrnl );</span>
<span class='curline'><a href='../S/1054.html#L43821'>pPager</a>           43821 ext/sqlite3/libsqlite/sqlite3.c   jfd = isMainJrnl ? pPager-&gt;jfd : pPager-&gt;sjfd;</span>
<span class='curline'><a href='../S/1054.html#L43824'>pPager</a>           43824 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3OsRead(jfd, (u8*)aData, pPager-&gt;pageSize, (*pOffset)+4);</span>
<span class='curline'><a href='../S/1054.html#L43826'>pPager</a>           43826 ext/sqlite3/libsqlite/sqlite3.c   *pOffset += pPager-&gt;pageSize + 4 + isMainJrnl*4;</span>
<span class='curline'><a href='../S/1054.html#L43833'>pPager</a>           43833 ext/sqlite3/libsqlite/sqlite3.c   if( pgno==0 || pgno==PAGER_MJ_PGNO(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L43837'>pPager</a>           43837 ext/sqlite3/libsqlite/sqlite3.c   if( pgno&gt;(Pgno)pPager-&gt;dbSize || sqlite3BitvecTest(pDone, pgno) ){</span>
<span class='curline'><a href='../S/1054.html#L43843'>pPager</a>           43843 ext/sqlite3/libsqlite/sqlite3.c     if( !isSavepnt &amp;&amp; pager_cksum(pPager, (u8*)aData)!=cksum ){</span>
<span class='curline'><a href='../S/1054.html#L43857'>pPager</a>           43857 ext/sqlite3/libsqlite/sqlite3.c   if( pgno==1 &amp;&amp; pPager-&gt;nReserve!=((u8*)aData)[20] ){</span>
<span class='curline'><a href='../S/1054.html#L43858'>pPager</a>           43858 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;nReserve = ((u8*)aData)[20];</span>
<span class='curline'><a href='../S/1054.html#L43859'>pPager</a>           43859 ext/sqlite3/libsqlite/sqlite3.c     pagerReportSize(pPager);</span>
<span class='curline'><a href='../S/1054.html#L43897'>pPager</a>           43897 ext/sqlite3/libsqlite/sqlite3.c   if( pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L43900'>pPager</a>           43900 ext/sqlite3/libsqlite/sqlite3.c     pPg = sqlite3PagerLookup(pPager, pgno);</span>
<span class='curline'><a href='../S/1054.html#L43903'>pPager</a>           43903 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState!=PAGER_OPEN || pPg==0 );</span>
<span class='curline'><a href='../S/1054.html#L43905'>pPager</a>           43905 ext/sqlite3/libsqlite/sqlite3.c            PAGERID(pPager), pgno, pager_datahash(pPager-&gt;pageSize, (u8*)aData),</span>
<span class='curline'><a href='../S/1054.html#L43909'>pPager</a>           43909 ext/sqlite3/libsqlite/sqlite3.c     isSynced = pPager-&gt;noSync || (*pOffset &lt;= pPager-&gt;journalHdr);</span>
<span class='curline'><a href='../S/1054.html#L43913'>pPager</a>           43913 ext/sqlite3/libsqlite/sqlite3.c   if( isOpen(pPager-&gt;fd)</span>
<span class='curline'><a href='../S/1054.html#L43914'>pPager</a>           43914 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; (pPager-&gt;eState&gt;=PAGER_WRITER_DBMOD || pPager-&gt;eState==PAGER_OPEN)</span>
<span class='curline'><a href='../S/1054.html#L43917'>pPager</a>           43917 ext/sqlite3/libsqlite/sqlite3.c     i64 ofst = (pgno-1)*(i64)pPager-&gt;pageSize;</span>
<span class='curline'><a href='../S/1054.html#L43919'>pPager</a>           43919 ext/sqlite3/libsqlite/sqlite3.c     assert( !pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L43920'>pPager</a>           43920 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsWrite(pPager-&gt;fd, (u8 *)aData, pPager-&gt;pageSize, ofst);</span>
<span class='curline'><a href='../S/1054.html#L43921'>pPager</a>           43921 ext/sqlite3/libsqlite/sqlite3.c     if( pgno&gt;pPager-&gt;dbFileSize ){</span>
<span class='curline'><a href='../S/1054.html#L43922'>pPager</a>           43922 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;dbFileSize = pgno;</span>
<span class='curline'><a href='../S/1054.html#L43924'>pPager</a>           43924 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;pBackup ){</span>
<span class='curline'><a href='../S/1054.html#L43925'>pPager</a>           43925 ext/sqlite3/libsqlite/sqlite3.c       CODEC1(pPager, aData, pgno, 3, rc=SQLITE_NOMEM);</span>
<span class='curline'><a href='../S/1054.html#L43926'>pPager</a>           43926 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BackupUpdate(pPager-&gt;pBackup, pgno, (u8*)aData);</span>
<span class='curline'><a href='../S/1054.html#L43927'>pPager</a>           43927 ext/sqlite3/libsqlite/sqlite3.c       CODEC2(pPager, aData, pgno, 7, rc=SQLITE_NOMEM, aData);</span>
<span class='curline'><a href='../S/1054.html#L43947'>pPager</a>           43947 ext/sqlite3/libsqlite/sqlite3.c     assert( (pPager-&gt;doNotSpill &amp; SPILLFLAG_ROLLBACK)==0 );</span>
<span class='curline'><a href='../S/1054.html#L43948'>pPager</a>           43948 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;doNotSpill |= SPILLFLAG_ROLLBACK;</span>
<span class='curline'><a href='../S/1054.html#L43949'>pPager</a>           43949 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerAcquire(pPager, pgno, &amp;pPg, 1);</span>
<span class='curline'><a href='../S/1054.html#L43950'>pPager</a>           43950 ext/sqlite3/libsqlite/sqlite3.c     assert( (pPager-&gt;doNotSpill &amp; SPILLFLAG_ROLLBACK)!=0 );</span>
<span class='curline'><a href='../S/1054.html#L43951'>pPager</a>           43951 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;doNotSpill &amp;= ~SPILLFLAG_ROLLBACK;</span>
<span class='curline'><a href='../S/1054.html#L43965'>pPager</a>           43965 ext/sqlite3/libsqlite/sqlite3.c     memcpy(pData, (u8*)aData, pPager-&gt;pageSize);</span>
<span class='curline'><a href='../S/1054.html#L43966'>pPager</a>           43966 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;xReiniter(pPg);</span>
<span class='curline'><a href='../S/1054.html#L43967'>pPager</a>           43967 ext/sqlite3/libsqlite/sqlite3.c     if( isMainJrnl &amp;&amp; (!isSavepnt || *pOffset&lt;=pPager-&gt;journalHdr) ){</span>
<span class='curline'><a href='../S/1054.html#L43987'>pPager</a>           43987 ext/sqlite3/libsqlite/sqlite3.c       assert( !pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L43995'>pPager</a>           43995 ext/sqlite3/libsqlite/sqlite3.c       memcpy(&amp;pPager-&gt;dbFileVers, &amp;((u8*)pData)[24],sizeof(pPager-&gt;dbFileVers));</span>
<span class='curline'><a href='../S/1054.html#L43999'>pPager</a>           43999 ext/sqlite3/libsqlite/sqlite3.c     CODEC1(pPager, pData, pPg-&gt;pgno, 3, rc=SQLITE_NOMEM);</span>
<span class='curline'><a href='../S/1054.html#L44048'>pPager</a>           44048 ext/sqlite3/libsqlite/sqlite3.c static int pager_delmaster(Pager *pPager, const char *zMaster){</span>
<span class='curline'><a href='../S/1054.html#L44049'>pPager</a>           44049 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_vfs *pVfs = pPager-&gt;pVfs;</span>
<span class='curline'><a href='../S/1054.html#L44158'>pPager</a>           44158 ext/sqlite3/libsqlite/sqlite3.c static int pager_truncate(Pager *pPager, Pgno nPage){</span>
<span class='curline'><a href='../S/1054.html#L44160'>pPager</a>           44160 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState!=PAGER_ERROR );</span>
<span class='curline'><a href='../S/1054.html#L44161'>pPager</a>           44161 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState!=PAGER_READER );</span>
<span class='curline'><a href='../S/1054.html#L44163'>pPager</a>           44163 ext/sqlite3/libsqlite/sqlite3.c   if( isOpen(pPager-&gt;fd) </span>
<span class='curline'><a href='../S/1054.html#L44164'>pPager</a>           44164 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; (pPager-&gt;eState&gt;=PAGER_WRITER_DBMOD || pPager-&gt;eState==PAGER_OPEN) </span>
<span class='curline'><a href='../S/1054.html#L44167'>pPager</a>           44167 ext/sqlite3/libsqlite/sqlite3.c     int szPage = pPager-&gt;pageSize;</span>
<span class='curline'><a href='../S/1054.html#L44168'>pPager</a>           44168 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L44170'>pPager</a>           44170 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsFileSize(pPager-&gt;fd, &amp;currentSize);</span>
<span class='curline'><a href='../S/1054.html#L44174'>pPager</a>           44174 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsTruncate(pPager-&gt;fd, newSize);</span>
<span class='curline'><a href='../S/1054.html#L44176'>pPager</a>           44176 ext/sqlite3/libsqlite/sqlite3.c         char *pTmp = pPager-&gt;pTmpSpace;</span>
<span class='curline'><a href='../S/1054.html#L44180'>pPager</a>           44180 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsWrite(pPager-&gt;fd, pTmp, szPage, newSize-szPage);</span>
<span class='curline'><a href='../S/1054.html#L44183'>pPager</a>           44183 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;dbFileSize = nPage;</span>
<span class='curline'><a href='../S/1054.html#L44228'>pPager</a>           44228 ext/sqlite3/libsqlite/sqlite3.c static void setSectorSize(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L44229'>pPager</a>           44229 ext/sqlite3/libsqlite/sqlite3.c   assert( isOpen(pPager-&gt;fd) || pPager-&gt;tempFile );</span>
<span class='curline'><a href='../S/1054.html#L44231'>pPager</a>           44231 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;tempFile</span>
<span class='curline'><a href='../S/1054.html#L44232'>pPager</a>           44232 ext/sqlite3/libsqlite/sqlite3.c    || (sqlite3OsDeviceCharacteristics(pPager-&gt;fd) &amp; </span>
<span class='curline'><a href='../S/1054.html#L44238'>pPager</a>           44238 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;sectorSize = 512;</span>
<span class='curline'><a href='../S/1054.html#L44240'>pPager</a>           44240 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;sectorSize = sqlite3SectorSize(pPager-&gt;fd);</span>
<span class='curline'><a href='../S/1054.html#L44301'>pPager</a>           44301 ext/sqlite3/libsqlite/sqlite3.c static int pager_playback(Pager *pPager, int isHot){</span>
<span class='curline'><a href='../S/1054.html#L44302'>pPager</a>           44302 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_vfs *pVfs = pPager-&gt;pVfs;</span>
<span class='curline'><a href='../S/1054.html#L44316'>pPager</a>           44316 ext/sqlite3/libsqlite/sqlite3.c   assert( isOpen(pPager-&gt;jfd) );</span>
<span class='curline'><a href='../S/1054.html#L44317'>pPager</a>           44317 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3OsFileSize(pPager-&gt;jfd, &amp;szJ);</span>
<span class='curline'><a href='../S/1054.html#L44333'>pPager</a>           44333 ext/sqlite3/libsqlite/sqlite3.c   zMaster = pPager-&gt;pTmpSpace;</span>
<span class='curline'><a href='../S/1054.html#L44334'>pPager</a>           44334 ext/sqlite3/libsqlite/sqlite3.c   rc = readMasterJournal(pPager-&gt;jfd, zMaster, pPager-&gt;pVfs-&gt;mxPathname+1);</span>
<span class='curline'><a href='../S/1054.html#L44342'>pPager</a>           44342 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;journalOff = 0;</span>
<span class='curline'><a href='../S/1054.html#L44355'>pPager</a>           44355 ext/sqlite3/libsqlite/sqlite3.c     rc = readJournalHdr(pPager, isHot, szJ, &amp;nRec, &amp;mxPg);</span>
<span class='curline'><a href='../S/1054.html#L44369'>pPager</a>           44369 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;journalOff==JOURNAL_HDR_SZ(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L44370'>pPager</a>           44370 ext/sqlite3/libsqlite/sqlite3.c       nRec = (int)((szJ - JOURNAL_HDR_SZ(pPager))/JOURNAL_PG_SZ(pPager));</span>
<span class='curline'><a href='../S/1054.html#L44388'>pPager</a>           44388 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;journalHdr+JOURNAL_HDR_SZ(pPager)==pPager-&gt;journalOff ){</span>
<span class='curline'><a href='../S/1054.html#L44389'>pPager</a>           44389 ext/sqlite3/libsqlite/sqlite3.c       nRec = (int)((szJ - pPager-&gt;journalOff) / JOURNAL_PG_SZ(pPager));</span>
<span class='curline'><a href='../S/1054.html#L44395'>pPager</a>           44395 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;journalOff==JOURNAL_HDR_SZ(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L44396'>pPager</a>           44396 ext/sqlite3/libsqlite/sqlite3.c       rc = pager_truncate(pPager, mxPg);</span>
<span class='curline'><a href='../S/1054.html#L44400'>pPager</a>           44400 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;dbSize = mxPg;</span>
<span class='curline'><a href='../S/1054.html#L44408'>pPager</a>           44408 ext/sqlite3/libsqlite/sqlite3.c         pager_reset(pPager);</span>
<span class='curline'><a href='../S/1054.html#L44411'>pPager</a>           44411 ext/sqlite3/libsqlite/sqlite3.c       rc = pager_playback_one_page(pPager,&amp;pPager-&gt;journalOff,0,1,0);</span>
<span class='curline'><a href='../S/1054.html#L44416'>pPager</a>           44416 ext/sqlite3/libsqlite/sqlite3.c           pPager-&gt;journalOff = szJ;</span>
<span class='curline'><a href='../S/1054.html#L44447'>pPager</a>           44447 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;fd-&gt;pMethods ){</span>
<span class='curline'><a href='../S/1054.html#L44448'>pPager</a>           44448 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsFileControlHint(pPager-&gt;fd,SQLITE_FCNTL_DB_UNCHANGED,0);</span>
<span class='curline'><a href='../S/1054.html#L44461'>pPager</a>           44461 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;changeCountDone = pPager-&gt;tempFile;</span>
<span class='curline'><a href='../S/1054.html#L44464'>pPager</a>           44464 ext/sqlite3/libsqlite/sqlite3.c     zMaster = pPager-&gt;pTmpSpace;</span>
<span class='curline'><a href='../S/1054.html#L44465'>pPager</a>           44465 ext/sqlite3/libsqlite/sqlite3.c     rc = readMasterJournal(pPager-&gt;jfd, zMaster, pPager-&gt;pVfs-&gt;mxPathname+1);</span>
<span class='curline'><a href='../S/1054.html#L44469'>pPager</a>           44469 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; (pPager-&gt;eState&gt;=PAGER_WRITER_DBMOD || pPager-&gt;eState==PAGER_OPEN)</span>
<span class='curline'><a href='../S/1054.html#L44471'>pPager</a>           44471 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerSync(pPager, 0);</span>
<span class='curline'><a href='../S/1054.html#L44474'>pPager</a>           44474 ext/sqlite3/libsqlite/sqlite3.c     rc = pager_end_transaction(pPager, zMaster[0]!='\0', 0);</span>
<span class='curline'><a href='../S/1054.html#L44481'>pPager</a>           44481 ext/sqlite3/libsqlite/sqlite3.c     rc = pager_delmaster(pPager, zMaster);</span>
<span class='curline'><a href='../S/1054.html#L44486'>pPager</a>           44486 ext/sqlite3/libsqlite/sqlite3.c                 nPlayback, pPager-&gt;zJournal);</span>
<span class='curline'><a href='../S/1054.html#L44493'>pPager</a>           44493 ext/sqlite3/libsqlite/sqlite3.c   setSectorSize(pPager);</span>
<span class='curline'><a href='../S/1054.html#L44510'>pPager</a>           44510 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = pPg-&gt;pPager; /* Pager object associated with page pPg */</span>
<span class='curline'><a href='../S/1054.html#L44513'>pPager</a>           44513 ext/sqlite3/libsqlite/sqlite3.c   int pgsz = pPager-&gt;pageSize; /* Number of bytes to read */</span>
<span class='curline'><a href='../S/1054.html#L44515'>pPager</a>           44515 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;=PAGER_READER &amp;&amp; !MEMDB );</span>
<span class='curline'><a href='../S/1054.html#L44516'>pPager</a>           44516 ext/sqlite3/libsqlite/sqlite3.c   assert( isOpen(pPager-&gt;fd) );</span>
<span class='curline'><a href='../S/1054.html#L44521'>pPager</a>           44521 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3WalReadFrame(pPager-&gt;pWal, iFrame, pgsz, pPg-&gt;pData);</span>
<span class='curline'><a href='../S/1054.html#L44525'>pPager</a>           44525 ext/sqlite3/libsqlite/sqlite3.c     i64 iOffset = (pgno-1)*(i64)pPager-&gt;pageSize;</span>
<span class='curline'><a href='../S/1054.html#L44526'>pPager</a>           44526 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsRead(pPager-&gt;fd, pPg-&gt;pData, pgsz, iOffset);</span>
<span class='curline'><a href='../S/1054.html#L44546'>pPager</a>           44546 ext/sqlite3/libsqlite/sqlite3.c       memset(pPager-&gt;dbFileVers, 0xff, sizeof(pPager-&gt;dbFileVers));</span>
<span class='curline'><a href='../S/1054.html#L44549'>pPager</a>           44549 ext/sqlite3/libsqlite/sqlite3.c       memcpy(&amp;pPager-&gt;dbFileVers, dbFileVers, sizeof(pPager-&gt;dbFileVers));</span>
<span class='curline'><a href='../S/1054.html#L44552'>pPager</a>           44552 ext/sqlite3/libsqlite/sqlite3.c   CODEC1(pPager, pPg-&gt;pData, pgno, 3, rc = SQLITE_NOMEM);</span>
<span class='curline'><a href='../S/1054.html#L44555'>pPager</a>           44555 ext/sqlite3/libsqlite/sqlite3.c   PAGER_INCR(pPager-&gt;nRead);</span>
<span class='curline'><a href='../S/1054.html#L44556'>pPager</a>           44556 ext/sqlite3/libsqlite/sqlite3.c   IOTRACE(("PGIN %p %d\n", pPager, pgno));</span>
<span class='curline'><a href='../S/1054.html#L44558'>pPager</a>           44558 ext/sqlite3/libsqlite/sqlite3.c                PAGERID(pPager), pgno, pager_pagehash(pPg)));</span>
<span class='curline'><a href='../S/1054.html#L44575'>pPager</a>           44575 ext/sqlite3/libsqlite/sqlite3.c   change_counter = sqlite3Get4byte((u8*)pPg-&gt;pPager-&gt;dbFileVers)+1;</span>
<span class='curline'><a href='../S/1054.html#L44600'>pPager</a>           44600 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = (Pager *)pCtx;</span>
<span class='curline'><a href='../S/1054.html#L44603'>pPager</a>           44603 ext/sqlite3/libsqlite/sqlite3.c   assert( pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L44604'>pPager</a>           44604 ext/sqlite3/libsqlite/sqlite3.c   pPg = sqlite3PagerLookup(pPager, iPg);</span>
<span class='curline'><a href='../S/1054.html#L44610'>pPager</a>           44610 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3WalFindFrame(pPager-&gt;pWal, pPg-&gt;pgno, &amp;iFrame);</span>
<span class='curline'><a href='../S/1054.html#L44615'>pPager</a>           44615 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;xReiniter(pPg);</span>
<span class='curline'><a href='../S/1054.html#L44629'>pPager</a>           44629 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BackupRestart(pPager-&gt;pBackup);</span>
<span class='curline'><a href='../S/1054.html#L44637'>pPager</a>           44637 ext/sqlite3/libsqlite/sqlite3.c static int pagerRollbackWal(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L44648'>pPager</a>           44648 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;dbSize = pPager-&gt;dbOrigSize;</span>
<span class='curline'><a href='../S/1054.html#L44649'>pPager</a>           44649 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3WalUndo(pPager-&gt;pWal, pagerUndoCallback, (void *)pPager);</span>
<span class='curline'><a href='../S/1054.html#L44650'>pPager</a>           44650 ext/sqlite3/libsqlite/sqlite3.c   pList = sqlite3PcacheDirtyList(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L44653'>pPager</a>           44653 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerUndoCallback((void *)pPager, pList-&gt;pgno);</span>
<span class='curline'><a href='../S/1054.html#L44670'>pPager</a>           44670 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager,                  /* Pager object */</span>
<span class='curline'><a href='../S/1054.html#L44679'>pPager</a>           44679 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;pWal );</span>
<span class='curline'><a href='../S/1054.html#L44706'>pPager</a>           44706 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;aStat[PAGER_STAT_WRITE] += nList;</span>
<span class='curline'><a href='../S/1054.html#L44709'>pPager</a>           44709 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3WalFrames(pPager-&gt;pWal, </span>
<span class='curline'><a href='../S/1054.html#L44710'>pPager</a>           44710 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;pageSize, pList, nTruncate, isCommit, pPager-&gt;walSyncFlags</span>
<span class='curline'><a href='../S/1054.html#L44712'>pPager</a>           44712 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; pPager-&gt;pBackup ){</span>
<span class='curline'><a href='../S/1054.html#L44714'>pPager</a>           44714 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BackupUpdate(pPager-&gt;pBackup, p-&gt;pgno, (u8 *)p-&gt;pData);</span>
<span class='curline'><a href='../S/1054.html#L44719'>pPager</a>           44719 ext/sqlite3/libsqlite/sqlite3.c   pList = sqlite3PcacheDirtyList(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L44736'>pPager</a>           44736 ext/sqlite3/libsqlite/sqlite3.c static int pagerBeginReadTransaction(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L44740'>pPager</a>           44740 ext/sqlite3/libsqlite/sqlite3.c   assert( pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L44741'>pPager</a>           44741 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_OPEN || pPager-&gt;eState==PAGER_READER );</span>
<span class='curline'><a href='../S/1054.html#L44748'>pPager</a>           44748 ext/sqlite3/libsqlite/sqlite3.c   sqlite3WalEndReadTransaction(pPager-&gt;pWal);</span>
<span class='curline'><a href='../S/1054.html#L44750'>pPager</a>           44750 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3WalBeginReadTransaction(pPager-&gt;pWal, &amp;changed);</span>
<span class='curline'><a href='../S/1054.html#L44752'>pPager</a>           44752 ext/sqlite3/libsqlite/sqlite3.c     pager_reset(pPager);</span>
<span class='curline'><a href='../S/1054.html#L44753'>pPager</a>           44753 ext/sqlite3/libsqlite/sqlite3.c     if( USEFETCH(pPager) ) sqlite3OsUnfetch(pPager-&gt;fd, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L44769'>pPager</a>           44769 ext/sqlite3/libsqlite/sqlite3.c static int pagerPagecount(Pager *pPager, Pgno *pnPage){</span>
<span class='curline'><a href='../S/1054.html#L44778'>pPager</a>           44778 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_OPEN );</span>
<span class='curline'><a href='../S/1054.html#L44779'>pPager</a>           44779 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eLock&gt;=SHARED_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L44780'>pPager</a>           44780 ext/sqlite3/libsqlite/sqlite3.c   nPage = sqlite3WalDbsize(pPager-&gt;pWal);</span>
<span class='curline'><a href='../S/1054.html#L44790'>pPager</a>           44790 ext/sqlite3/libsqlite/sqlite3.c     assert( isOpen(pPager-&gt;fd) || pPager-&gt;tempFile );</span>
<span class='curline'><a href='../S/1054.html#L44791'>pPager</a>           44791 ext/sqlite3/libsqlite/sqlite3.c     if( isOpen(pPager-&gt;fd) ){</span>
<span class='curline'><a href='../S/1054.html#L44792'>pPager</a>           44792 ext/sqlite3/libsqlite/sqlite3.c       int rc = sqlite3OsFileSize(pPager-&gt;fd, &amp;n);</span>
<span class='curline'><a href='../S/1054.html#L44797'>pPager</a>           44797 ext/sqlite3/libsqlite/sqlite3.c     nPage = (Pgno)((n+pPager-&gt;pageSize-1) / pPager-&gt;pageSize);</span>
<span class='curline'><a href='../S/1054.html#L44804'>pPager</a>           44804 ext/sqlite3/libsqlite/sqlite3.c   if( nPage&gt;pPager-&gt;mxPgno ){</span>
<span class='curline'><a href='../S/1054.html#L44805'>pPager</a>           44805 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;mxPgno = (Pgno)nPage;</span>
<span class='curline'><a href='../S/1054.html#L44831'>pPager</a>           44831 ext/sqlite3/libsqlite/sqlite3.c static int pagerOpenWalIfPresent(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L44833'>pPager</a>           44833 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_OPEN );</span>
<span class='curline'><a href='../S/1054.html#L44834'>pPager</a>           44834 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eLock&gt;=SHARED_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L44836'>pPager</a>           44836 ext/sqlite3/libsqlite/sqlite3.c   if( !pPager-&gt;tempFile ){</span>
<span class='curline'><a href='../S/1054.html#L44840'>pPager</a>           44840 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerPagecount(pPager, &amp;nPage);</span>
<span class='curline'><a href='../S/1054.html#L44843'>pPager</a>           44843 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3OsDelete(pPager-&gt;pVfs, pPager-&gt;zWal, 0);</span>
<span class='curline'><a href='../S/1054.html#L44848'>pPager</a>           44848 ext/sqlite3/libsqlite/sqlite3.c           pPager-&gt;pVfs, pPager-&gt;zWal, SQLITE_ACCESS_EXISTS, &amp;isWal</span>
<span class='curline'><a href='../S/1054.html#L44853'>pPager</a>           44853 ext/sqlite3/libsqlite/sqlite3.c         testcase( sqlite3PcachePagecount(pPager-&gt;pPCache)==0 );</span>
<span class='curline'><a href='../S/1054.html#L44854'>pPager</a>           44854 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3PagerOpenWal(pPager, 0);</span>
<span class='curline'><a href='../S/1054.html#L44855'>pPager</a>           44855 ext/sqlite3/libsqlite/sqlite3.c       }else if( pPager-&gt;journalMode==PAGER_JOURNALMODE_WAL ){</span>
<span class='curline'><a href='../S/1054.html#L44856'>pPager</a>           44856 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;journalMode = PAGER_JOURNALMODE_DELETE;</span>
<span class='curline'><a href='../S/1054.html#L44900'>pPager</a>           44900 ext/sqlite3/libsqlite/sqlite3.c static int pagerPlaybackSavepoint(Pager *pPager, PagerSavepoint *pSavepoint){</span>
<span class='curline'><a href='../S/1054.html#L44906'>pPager</a>           44906 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState!=PAGER_ERROR );</span>
<span class='curline'><a href='../S/1054.html#L44907'>pPager</a>           44907 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;=PAGER_WRITER_LOCKED );</span>
<span class='curline'><a href='../S/1054.html#L44920'>pPager</a>           44920 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;dbSize = pSavepoint ? pSavepoint-&gt;nOrig : pPager-&gt;dbOrigSize;</span>
<span class='curline'><a href='../S/1054.html#L44921'>pPager</a>           44921 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;changeCountDone = pPager-&gt;tempFile;</span>
<span class='curline'><a href='../S/1054.html#L44923'>pPager</a>           44923 ext/sqlite3/libsqlite/sqlite3.c   if( !pSavepoint &amp;&amp; pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L44924'>pPager</a>           44924 ext/sqlite3/libsqlite/sqlite3.c     return pagerRollbackWal(pPager);</span>
<span class='curline'><a href='../S/1054.html#L44932'>pPager</a>           44932 ext/sqlite3/libsqlite/sqlite3.c   szJ = pPager-&gt;journalOff;</span>
<span class='curline'><a href='../S/1054.html#L44933'>pPager</a>           44933 ext/sqlite3/libsqlite/sqlite3.c   assert( pagerUseWal(pPager)==0 || szJ==0 );</span>
<span class='curline'><a href='../S/1054.html#L44942'>pPager</a>           44942 ext/sqlite3/libsqlite/sqlite3.c   if( pSavepoint &amp;&amp; !pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L44944'>pPager</a>           44944 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;journalOff = pSavepoint-&gt;iOffset;</span>
<span class='curline'><a href='../S/1054.html#L44945'>pPager</a>           44945 ext/sqlite3/libsqlite/sqlite3.c     while( rc==SQLITE_OK &amp;&amp; pPager-&gt;journalOff&lt;iHdrOff ){</span>
<span class='curline'><a href='../S/1054.html#L44946'>pPager</a>           44946 ext/sqlite3/libsqlite/sqlite3.c       rc = pager_playback_one_page(pPager, &amp;pPager-&gt;journalOff, pDone, 1, 1);</span>
<span class='curline'><a href='../S/1054.html#L44950'>pPager</a>           44950 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;journalOff = 0;</span>
<span class='curline'><a href='../S/1054.html#L44958'>pPager</a>           44958 ext/sqlite3/libsqlite/sqlite3.c   while( rc==SQLITE_OK &amp;&amp; pPager-&gt;journalOff&lt;szJ ){</span>
<span class='curline'><a href='../S/1054.html#L44962'>pPager</a>           44962 ext/sqlite3/libsqlite/sqlite3.c     rc = readJournalHdr(pPager, 0, szJ, &amp;nJRec, &amp;dummy);</span>
<span class='curline'><a href='../S/1054.html#L44971'>pPager</a>           44971 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; pPager-&gt;journalHdr+JOURNAL_HDR_SZ(pPager)==pPager-&gt;journalOff</span>
<span class='curline'><a href='../S/1054.html#L44973'>pPager</a>           44973 ext/sqlite3/libsqlite/sqlite3.c       nJRec = (u32)((szJ - pPager-&gt;journalOff)/JOURNAL_PG_SZ(pPager));</span>
<span class='curline'><a href='../S/1054.html#L44975'>pPager</a>           44975 ext/sqlite3/libsqlite/sqlite3.c     for(ii=0; rc==SQLITE_OK &amp;&amp; ii&lt;nJRec &amp;&amp; pPager-&gt;journalOff&lt;szJ; ii++){</span>
<span class='curline'><a href='../S/1054.html#L44976'>pPager</a>           44976 ext/sqlite3/libsqlite/sqlite3.c       rc = pager_playback_one_page(pPager, &amp;pPager-&gt;journalOff, pDone, 1, 1);</span>
<span class='curline'><a href='../S/1054.html#L44980'>pPager</a>           44980 ext/sqlite3/libsqlite/sqlite3.c   assert( rc!=SQLITE_OK || pPager-&gt;journalOff&gt;=szJ );</span>
<span class='curline'><a href='../S/1054.html#L44988'>pPager</a>           44988 ext/sqlite3/libsqlite/sqlite3.c     i64 offset = (i64)pSavepoint-&gt;iSubRec*(4+pPager-&gt;pageSize);</span>
<span class='curline'><a href='../S/1054.html#L44990'>pPager</a>           44990 ext/sqlite3/libsqlite/sqlite3.c     if( pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L44991'>pPager</a>           44991 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3WalSavepointUndo(pPager-&gt;pWal, pSavepoint-&gt;aWalData);</span>
<span class='curline'><a href='../S/1054.html#L44993'>pPager</a>           44993 ext/sqlite3/libsqlite/sqlite3.c     for(ii=pSavepoint-&gt;iSubRec; rc==SQLITE_OK &amp;&amp; ii&lt;pPager-&gt;nSubRec; ii++){</span>
<span class='curline'><a href='../S/1054.html#L44994'>pPager</a>           44994 ext/sqlite3/libsqlite/sqlite3.c       assert( offset==(i64)ii*(4+pPager-&gt;pageSize) );</span>
<span class='curline'><a href='../S/1054.html#L44995'>pPager</a>           44995 ext/sqlite3/libsqlite/sqlite3.c       rc = pager_playback_one_page(pPager, &amp;offset, pDone, 0, 1);</span>
<span class='curline'><a href='../S/1054.html#L45002'>pPager</a>           45002 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;journalOff = szJ;</span>
<span class='curline'><a href='../S/1054.html#L45011'>pPager</a>           45011 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3PagerSetCachesize(Pager *pPager, int mxPage){</span>
<span class='curline'><a href='../S/1054.html#L45012'>pPager</a>           45012 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PcacheSetCachesize(pPager-&gt;pPCache, mxPage);</span>
<span class='curline'><a href='../S/1054.html#L45018'>pPager</a>           45018 ext/sqlite3/libsqlite/sqlite3.c static void pagerFixMaplimit(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L45020'>pPager</a>           45020 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_file *fd = pPager-&gt;fd;</span>
<span class='curline'><a href='../S/1054.html#L45023'>pPager</a>           45023 ext/sqlite3/libsqlite/sqlite3.c     sz = pPager-&gt;szMmap;</span>
<span class='curline'><a href='../S/1054.html#L45024'>pPager</a>           45024 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;bUseFetch = (sz&gt;0);</span>
<span class='curline'><a href='../S/1054.html#L45025'>pPager</a>           45025 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsFileControlHint(pPager-&gt;fd, SQLITE_FCNTL_MMAP_SIZE, &amp;sz);</span>
<span class='curline'><a href='../S/1054.html#L45033'>pPager</a>           45033 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3PagerSetMmapLimit(Pager *pPager, sqlite3_int64 szMmap){</span>
<span class='curline'><a href='../S/1054.html#L45034'>pPager</a>           45034 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;szMmap = szMmap;</span>
<span class='curline'><a href='../S/1054.html#L45035'>pPager</a>           45035 ext/sqlite3/libsqlite/sqlite3.c   pagerFixMaplimit(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45041'>pPager</a>           45041 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3PagerShrink(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L45042'>pPager</a>           45042 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PcacheShrink(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L45093'>pPager</a>           45093 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager,        /* The pager to set safety level for */</span>
<span class='curline'><a href='../S/1054.html#L45098'>pPager</a>           45098 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;noSync =  (level==1 || pPager-&gt;tempFile) ?1:0;</span>
<span class='curline'><a href='../S/1054.html#L45099'>pPager</a>           45099 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;fullSync = (level==3 &amp;&amp; !pPager-&gt;tempFile) ?1:0;</span>
<span class='curline'><a href='../S/1054.html#L45100'>pPager</a>           45100 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;noSync ){</span>
<span class='curline'><a href='../S/1054.html#L45101'>pPager</a>           45101 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;syncFlags = 0;</span>
<span class='curline'><a href='../S/1054.html#L45102'>pPager</a>           45102 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;ckptSyncFlags = 0;</span>
<span class='curline'><a href='../S/1054.html#L45104'>pPager</a>           45104 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;syncFlags = SQLITE_SYNC_FULL;</span>
<span class='curline'><a href='../S/1054.html#L45105'>pPager</a>           45105 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;ckptSyncFlags = SQLITE_SYNC_FULL;</span>
<span class='curline'><a href='../S/1054.html#L45107'>pPager</a>           45107 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;syncFlags = SQLITE_SYNC_NORMAL;</span>
<span class='curline'><a href='../S/1054.html#L45108'>pPager</a>           45108 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;ckptSyncFlags = SQLITE_SYNC_FULL;</span>
<span class='curline'><a href='../S/1054.html#L45110'>pPager</a>           45110 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;syncFlags = SQLITE_SYNC_NORMAL;</span>
<span class='curline'><a href='../S/1054.html#L45111'>pPager</a>           45111 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;ckptSyncFlags = SQLITE_SYNC_NORMAL;</span>
<span class='curline'><a href='../S/1054.html#L45113'>pPager</a>           45113 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;walSyncFlags = pPager-&gt;syncFlags;</span>
<span class='curline'><a href='../S/1054.html#L45114'>pPager</a>           45114 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;fullSync ){</span>
<span class='curline'><a href='../S/1054.html#L45115'>pPager</a>           45115 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;walSyncFlags |= WAL_SYNC_TRANSACTIONS;</span>
<span class='curline'><a href='../S/1054.html#L45118'>pPager</a>           45118 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;doNotSpill &amp;= ~SPILLFLAG_OFF;</span>
<span class='curline'><a href='../S/1054.html#L45120'>pPager</a>           45120 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;doNotSpill |= SPILLFLAG_OFF;</span>
<span class='curline'><a href='../S/1054.html#L45150'>pPager</a>           45150 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager,        /* The pager object */</span>
<span class='curline'><a href='../S/1054.html#L45162'>pPager</a>           45162 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3OsOpen(pPager-&gt;pVfs, 0, pFile, vfsFlags, 0);</span>
<span class='curline'><a href='../S/1054.html#L45189'>pPager</a>           45189 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager,                       /* Pager object */</span>
<span class='curline'><a href='../S/1054.html#L45193'>pPager</a>           45193 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;xBusyHandler = xBusyHandler;</span>
<span class='curline'><a href='../S/1054.html#L45194'>pPager</a>           45194 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;pBusyHandlerArg = pBusyHandlerArg;</span>
<span class='curline'><a href='../S/1054.html#L45196'>pPager</a>           45196 ext/sqlite3/libsqlite/sqlite3.c   if( isOpen(pPager-&gt;fd) ){</span>
<span class='curline'><a href='../S/1054.html#L45197'>pPager</a>           45197 ext/sqlite3/libsqlite/sqlite3.c     void **ap = (void **)&amp;pPager-&gt;xBusyHandler;</span>
<span class='curline'><a href='../S/1054.html#L45200'>pPager</a>           45200 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsFileControlHint(pPager-&gt;fd, SQLITE_FCNTL_BUSYHANDLER, (void *)ap);</span>
<span class='curline'><a href='../S/1054.html#L45234'>pPager</a>           45234 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerSetPagesize(Pager *pPager, u32 *pPageSize, int nReserve){</span>
<span class='curline'><a href='../S/1054.html#L45249'>pPager</a>           45249 ext/sqlite3/libsqlite/sqlite3.c   if( (pPager-&gt;memDb==0 || pPager-&gt;dbSize==0)</span>
<span class='curline'><a href='../S/1054.html#L45250'>pPager</a>           45250 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; sqlite3PcacheRefCount(pPager-&gt;pPCache)==0 </span>
<span class='curline'><a href='../S/1054.html#L45251'>pPager</a>           45251 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; pageSize &amp;&amp; pageSize!=(u32)pPager-&gt;pageSize </span>
<span class='curline'><a href='../S/1054.html#L45256'>pPager</a>           45256 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;eState&gt;PAGER_OPEN &amp;&amp; isOpen(pPager-&gt;fd) ){</span>
<span class='curline'><a href='../S/1054.html#L45257'>pPager</a>           45257 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3OsFileSize(pPager-&gt;fd, &amp;nByte);</span>
<span class='curline'><a href='../S/1054.html#L45265'>pPager</a>           45265 ext/sqlite3/libsqlite/sqlite3.c       pager_reset(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45266'>pPager</a>           45266 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3PcacheSetPageSize(pPager-&gt;pPCache, pageSize);</span>
<span class='curline'><a href='../S/1054.html#L45269'>pPager</a>           45269 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PageFree(pPager-&gt;pTmpSpace);</span>
<span class='curline'><a href='../S/1054.html#L45270'>pPager</a>           45270 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;pTmpSpace = pNew;</span>
<span class='curline'><a href='../S/1054.html#L45271'>pPager</a>           45271 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;dbSize = (Pgno)((nByte+pageSize-1)/pageSize);</span>
<span class='curline'><a href='../S/1054.html#L45272'>pPager</a>           45272 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;pageSize = pageSize;</span>
<span class='curline'><a href='../S/1054.html#L45278'>pPager</a>           45278 ext/sqlite3/libsqlite/sqlite3.c   *pPageSize = pPager-&gt;pageSize;</span>
<span class='curline'><a href='../S/1054.html#L45280'>pPager</a>           45280 ext/sqlite3/libsqlite/sqlite3.c     if( nReserve&lt;0 ) nReserve = pPager-&gt;nReserve;</span>
<span class='curline'><a href='../S/1054.html#L45282'>pPager</a>           45282 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;nReserve = (i16)nReserve;</span>
<span class='curline'><a href='../S/1054.html#L45283'>pPager</a>           45283 ext/sqlite3/libsqlite/sqlite3.c     pagerReportSize(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45284'>pPager</a>           45284 ext/sqlite3/libsqlite/sqlite3.c     pagerFixMaplimit(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45297'>pPager</a>           45297 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void *sqlite3PagerTempSpace(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L45298'>pPager</a>           45298 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;pTmpSpace;</span>
<span class='curline'><a href='../S/1054.html#L45308'>pPager</a>           45308 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerMaxPageCount(Pager *pPager, int mxPage){</span>
<span class='curline'><a href='../S/1054.html#L45310'>pPager</a>           45310 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;mxPgno = mxPage;</span>
<span class='curline'><a href='../S/1054.html#L45312'>pPager</a>           45312 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState!=PAGER_OPEN );      /* Called only by OP_MaxPgcnt */</span>
<span class='curline'><a href='../S/1054.html#L45313'>pPager</a>           45313 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;mxPgno&gt;=pPager-&gt;dbSize );  /* OP_MaxPgcnt enforces this */</span>
<span class='curline'><a href='../S/1054.html#L45314'>pPager</a>           45314 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;mxPgno;</span>
<span class='curline'><a href='../S/1054.html#L45355'>pPager</a>           45355 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerReadFileheader(Pager *pPager, int N, unsigned char *pDest){</span>
<span class='curline'><a href='../S/1054.html#L45358'>pPager</a>           45358 ext/sqlite3/libsqlite/sqlite3.c   assert( isOpen(pPager-&gt;fd) || pPager-&gt;tempFile );</span>
<span class='curline'><a href='../S/1054.html#L45364'>pPager</a>           45364 ext/sqlite3/libsqlite/sqlite3.c   assert( !pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L45366'>pPager</a>           45366 ext/sqlite3/libsqlite/sqlite3.c   if( isOpen(pPager-&gt;fd) ){</span>
<span class='curline'><a href='../S/1054.html#L45367'>pPager</a>           45367 ext/sqlite3/libsqlite/sqlite3.c     IOTRACE(("DBHDR %p 0 %d\n", pPager, N))</span>
<span class='curline'><a href='../S/1054.html#L45368'>pPager</a>           45368 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsRead(pPager-&gt;fd, pDest, N, 0);</span>
<span class='curline'><a href='../S/1054.html#L45383'>pPager</a>           45383 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3PagerPagecount(Pager *pPager, int *pnPage){</span>
<span class='curline'><a href='../S/1054.html#L45384'>pPager</a>           45384 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;=PAGER_READER );</span>
<span class='curline'><a href='../S/1054.html#L45385'>pPager</a>           45385 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState!=PAGER_WRITER_FINISHED );</span>
<span class='curline'><a href='../S/1054.html#L45386'>pPager</a>           45386 ext/sqlite3/libsqlite/sqlite3.c   *pnPage = (int)pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/1054.html#L45404'>pPager</a>           45404 ext/sqlite3/libsqlite/sqlite3.c static int pager_wait_on_lock(Pager *pPager, int locktype){</span>
<span class='curline'><a href='../S/1054.html#L45412'>pPager</a>           45412 ext/sqlite3/libsqlite/sqlite3.c   assert( (pPager-&gt;eLock&gt;=locktype)</span>
<span class='curline'><a href='../S/1054.html#L45413'>pPager</a>           45413 ext/sqlite3/libsqlite/sqlite3.c        || (pPager-&gt;eLock==NO_LOCK &amp;&amp; locktype==SHARED_LOCK)</span>
<span class='curline'><a href='../S/1054.html#L45414'>pPager</a>           45414 ext/sqlite3/libsqlite/sqlite3.c        || (pPager-&gt;eLock==RESERVED_LOCK &amp;&amp; locktype==EXCLUSIVE_LOCK)</span>
<span class='curline'><a href='../S/1054.html#L45418'>pPager</a>           45418 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerLockDb(pPager, locktype);</span>
<span class='curline'><a href='../S/1054.html#L45419'>pPager</a>           45419 ext/sqlite3/libsqlite/sqlite3.c   }while( rc==SQLITE_BUSY &amp;&amp; pPager-&gt;xBusyHandler(pPager-&gt;pBusyHandlerArg) );</span>
<span class='curline'><a href='../S/1054.html#L45448'>pPager</a>           45448 ext/sqlite3/libsqlite/sqlite3.c   assert( !subjRequiresPage(pPg) || pPg-&gt;pgno&lt;=pPg-&gt;pPager-&gt;dbSize );</span>
<span class='curline'><a href='../S/1054.html#L45450'>pPager</a>           45450 ext/sqlite3/libsqlite/sqlite3.c static void assertTruncateConstraint(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L45451'>pPager</a>           45451 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PcacheIterateDirty(pPager-&gt;pPCache, assertTruncateConstraintCb);</span>
<span class='curline'><a href='../S/1054.html#L45454'>pPager</a>           45454 ext/sqlite3/libsqlite/sqlite3.c # define assertTruncateConstraint(pPager)</span>
<span class='curline'><a href='../S/1054.html#L45468'>pPager</a>           45468 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3PagerTruncateImage(Pager *pPager, Pgno nPage){</span>
<span class='curline'><a href='../S/1054.html#L45469'>pPager</a>           45469 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;dbSize&gt;=nPage );</span>
<span class='curline'><a href='../S/1054.html#L45470'>pPager</a>           45470 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;=PAGER_WRITER_CACHEMOD );</span>
<span class='curline'><a href='../S/1054.html#L45471'>pPager</a>           45471 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;dbSize = nPage;</span>
<span class='curline'><a href='../S/1054.html#L45499'>pPager</a>           45499 ext/sqlite3/libsqlite/sqlite3.c static int pagerSyncHotJournal(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L45501'>pPager</a>           45501 ext/sqlite3/libsqlite/sqlite3.c   if( !pPager-&gt;noSync ){</span>
<span class='curline'><a href='../S/1054.html#L45502'>pPager</a>           45502 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsSync(pPager-&gt;jfd, SQLITE_SYNC_NORMAL);</span>
<span class='curline'><a href='../S/1054.html#L45505'>pPager</a>           45505 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsFileSize(pPager-&gt;jfd, &amp;pPager-&gt;journalHdr);</span>
<span class='curline'><a href='../S/1054.html#L45521'>pPager</a>           45521 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager,                  /* Pager object */</span>
<span class='curline'><a href='../S/1054.html#L45528'>pPager</a>           45528 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;pMmapFreelist ){</span>
<span class='curline'><a href='../S/1054.html#L45529'>pPager</a>           45529 ext/sqlite3/libsqlite/sqlite3.c     *ppPage = p = pPager-&gt;pMmapFreelist;</span>
<span class='curline'><a href='../S/1054.html#L45530'>pPager</a>           45530 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;pMmapFreelist = p-&gt;pDirty;</span>
<span class='curline'><a href='../S/1054.html#L45532'>pPager</a>           45532 ext/sqlite3/libsqlite/sqlite3.c     memset(p-&gt;pExtra, 0, pPager-&gt;nExtra);</span>
<span class='curline'><a href='../S/1054.html#L45534'>pPager</a>           45534 ext/sqlite3/libsqlite/sqlite3.c     *ppPage = p = (PgHdr *)sqlite3MallocZero(sizeof(PgHdr) + pPager-&gt;nExtra);</span>
<span class='curline'><a href='../S/1054.html#L45536'>pPager</a>           45536 ext/sqlite3/libsqlite/sqlite3.c       sqlite3OsUnfetch(pPager-&gt;fd, (i64)(pgno-1) * pPager-&gt;pageSize, pData);</span>
<span class='curline'><a href='../S/1054.html#L45542'>pPager</a>           45542 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;pPager = pPager;</span>
<span class='curline'><a href='../S/1054.html#L45548'>pPager</a>           45548 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;pPager==pPager );</span>
<span class='curline'><a href='../S/1054.html#L45553'>pPager</a>           45553 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;nMmapOut++;</span>
<span class='curline'><a href='../S/1054.html#L45563'>pPager</a>           45563 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L45564'>pPager</a>           45564 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;nMmapOut--;</span>
<span class='curline'><a href='../S/1054.html#L45565'>pPager</a>           45565 ext/sqlite3/libsqlite/sqlite3.c   pPg-&gt;pDirty = pPager-&gt;pMmapFreelist;</span>
<span class='curline'><a href='../S/1054.html#L45566'>pPager</a>           45566 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;pMmapFreelist = pPg;</span>
<span class='curline'><a href='../S/1054.html#L45568'>pPager</a>           45568 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;fd-&gt;pMethods-&gt;iVersion&gt;=3 );</span>
<span class='curline'><a href='../S/1054.html#L45569'>pPager</a>           45569 ext/sqlite3/libsqlite/sqlite3.c   sqlite3OsUnfetch(pPager-&gt;fd, (i64)(pPg-&gt;pgno-1)*pPager-&gt;pageSize, pPg-&gt;pData);</span>
<span class='curline'><a href='../S/1054.html#L45575'>pPager</a>           45575 ext/sqlite3/libsqlite/sqlite3.c static void pagerFreeMapHdrs(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L45578'>pPager</a>           45578 ext/sqlite3/libsqlite/sqlite3.c   for(p=pPager-&gt;pMmapFreelist; p; p=pNext){</span>
<span class='curline'><a href='../S/1054.html#L45599'>pPager</a>           45599 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerClose(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L45600'>pPager</a>           45600 ext/sqlite3/libsqlite/sqlite3.c   u8 *pTmp = (u8 *)pPager-&gt;pTmpSpace;</span>
<span class='curline'><a href='../S/1054.html#L45602'>pPager</a>           45602 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L45605'>pPager</a>           45605 ext/sqlite3/libsqlite/sqlite3.c   pagerFreeMapHdrs(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45607'>pPager</a>           45607 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;exclusiveMode = 0;</span>
<span class='curline'><a href='../S/1054.html#L45609'>pPager</a>           45609 ext/sqlite3/libsqlite/sqlite3.c   sqlite3WalClose(pPager-&gt;pWal, pPager-&gt;ckptSyncFlags, pPager-&gt;pageSize, pTmp);</span>
<span class='curline'><a href='../S/1054.html#L45610'>pPager</a>           45610 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;pWal = 0;</span>
<span class='curline'><a href='../S/1054.html#L45612'>pPager</a>           45612 ext/sqlite3/libsqlite/sqlite3.c   pager_reset(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45614'>pPager</a>           45614 ext/sqlite3/libsqlite/sqlite3.c     pager_unlock(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45627'>pPager</a>           45627 ext/sqlite3/libsqlite/sqlite3.c     if( isOpen(pPager-&gt;jfd) ){</span>
<span class='curline'><a href='../S/1054.html#L45628'>pPager</a>           45628 ext/sqlite3/libsqlite/sqlite3.c       pager_error(pPager, pagerSyncHotJournal(pPager));</span>
<span class='curline'><a href='../S/1054.html#L45630'>pPager</a>           45630 ext/sqlite3/libsqlite/sqlite3.c     pagerUnlockAndRollback(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45634'>pPager</a>           45634 ext/sqlite3/libsqlite/sqlite3.c   PAGERTRACE(("CLOSE %d\n", PAGERID(pPager)));</span>
<span class='curline'><a href='../S/1054.html#L45635'>pPager</a>           45635 ext/sqlite3/libsqlite/sqlite3.c   IOTRACE(("CLOSE %p\n", pPager))</span>
<span class='curline'><a href='../S/1054.html#L45636'>pPager</a>           45636 ext/sqlite3/libsqlite/sqlite3.c   sqlite3OsClose(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L45637'>pPager</a>           45637 ext/sqlite3/libsqlite/sqlite3.c   sqlite3OsClose(pPager-&gt;fd);</span>
<span class='curline'><a href='../S/1054.html#L45639'>pPager</a>           45639 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PcacheClose(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L45642'>pPager</a>           45642 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;xCodecFree ) pPager-&gt;xCodecFree(pPager-&gt;pCodec);</span>
<span class='curline'><a href='../S/1054.html#L45645'>pPager</a>           45645 ext/sqlite3/libsqlite/sqlite3.c   assert( !pPager-&gt;aSavepoint &amp;&amp; !pPager-&gt;pInJournal );</span>
<span class='curline'><a href='../S/1054.html#L45646'>pPager</a>           45646 ext/sqlite3/libsqlite/sqlite3.c   assert( !isOpen(pPager-&gt;jfd) &amp;&amp; !isOpen(pPager-&gt;sjfd) );</span>
<span class='curline'><a href='../S/1054.html#L45648'>pPager</a>           45648 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_free(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45703'>pPager</a>           45703 ext/sqlite3/libsqlite/sqlite3.c static int syncJournal(Pager *pPager, int newHdr){</span>
<span class='curline'><a href='../S/1054.html#L45706'>pPager</a>           45706 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_WRITER_CACHEMOD</span>
<span class='curline'><a href='../S/1054.html#L45707'>pPager</a>           45707 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_WRITER_DBMOD</span>
<span class='curline'><a href='../S/1054.html#L45709'>pPager</a>           45709 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L45710'>pPager</a>           45710 ext/sqlite3/libsqlite/sqlite3.c   assert( !pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L45712'>pPager</a>           45712 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3PagerExclusiveLock(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45715'>pPager</a>           45715 ext/sqlite3/libsqlite/sqlite3.c   if( !pPager-&gt;noSync ){</span>
<span class='curline'><a href='../S/1054.html#L45716'>pPager</a>           45716 ext/sqlite3/libsqlite/sqlite3.c     assert( !pPager-&gt;tempFile );</span>
<span class='curline'><a href='../S/1054.html#L45717'>pPager</a>           45717 ext/sqlite3/libsqlite/sqlite3.c     if( isOpen(pPager-&gt;jfd) &amp;&amp; pPager-&gt;journalMode!=PAGER_JOURNALMODE_MEMORY ){</span>
<span class='curline'><a href='../S/1054.html#L45718'>pPager</a>           45718 ext/sqlite3/libsqlite/sqlite3.c       const int iDc = sqlite3OsDeviceCharacteristics(pPager-&gt;fd);</span>
<span class='curline'><a href='../S/1054.html#L45719'>pPager</a>           45719 ext/sqlite3/libsqlite/sqlite3.c       assert( isOpen(pPager-&gt;jfd) );</span>
<span class='curline'><a href='../S/1054.html#L45749'>pPager</a>           45749 ext/sqlite3/libsqlite/sqlite3.c         put32bits(&amp;zHeader[sizeof(aJournalMagic)], pPager-&gt;nRec);</span>
<span class='curline'><a href='../S/1054.html#L45751'>pPager</a>           45751 ext/sqlite3/libsqlite/sqlite3.c         iNextHdrOffset = journalHdrOffset(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45752'>pPager</a>           45752 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsRead(pPager-&gt;jfd, aMagic, 8, iNextHdrOffset);</span>
<span class='curline'><a href='../S/1054.html#L45755'>pPager</a>           45755 ext/sqlite3/libsqlite/sqlite3.c           rc = sqlite3OsWrite(pPager-&gt;jfd, &amp;zerobyte, 1, iNextHdrOffset);</span>
<span class='curline'><a href='../S/1054.html#L45772'>pPager</a>           45772 ext/sqlite3/libsqlite/sqlite3.c         if( pPager-&gt;fullSync &amp;&amp; 0==(iDc&amp;SQLITE_IOCAP_SEQUENTIAL) ){</span>
<span class='curline'><a href='../S/1054.html#L45773'>pPager</a>           45773 ext/sqlite3/libsqlite/sqlite3.c           PAGERTRACE(("SYNC journal of %d\n", PAGERID(pPager)));</span>
<span class='curline'><a href='../S/1054.html#L45774'>pPager</a>           45774 ext/sqlite3/libsqlite/sqlite3.c           IOTRACE(("JSYNC %p\n", pPager))</span>
<span class='curline'><a href='../S/1054.html#L45775'>pPager</a>           45775 ext/sqlite3/libsqlite/sqlite3.c           rc = sqlite3OsSync(pPager-&gt;jfd, pPager-&gt;syncFlags);</span>
<span class='curline'><a href='../S/1054.html#L45778'>pPager</a>           45778 ext/sqlite3/libsqlite/sqlite3.c         IOTRACE(("JHDR %p %lld\n", pPager, pPager-&gt;journalHdr));</span>
<span class='curline'><a href='../S/1054.html#L45780'>pPager</a>           45780 ext/sqlite3/libsqlite/sqlite3.c             pPager-&gt;jfd, zHeader, sizeof(zHeader), pPager-&gt;journalHdr</span>
<span class='curline'><a href='../S/1054.html#L45785'>pPager</a>           45785 ext/sqlite3/libsqlite/sqlite3.c         PAGERTRACE(("SYNC journal of %d\n", PAGERID(pPager)));</span>
<span class='curline'><a href='../S/1054.html#L45786'>pPager</a>           45786 ext/sqlite3/libsqlite/sqlite3.c         IOTRACE(("JSYNC %p\n", pPager))</span>
<span class='curline'><a href='../S/1054.html#L45787'>pPager</a>           45787 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsSync(pPager-&gt;jfd, pPager-&gt;syncFlags| </span>
<span class='curline'><a href='../S/1054.html#L45788'>pPager</a>           45788 ext/sqlite3/libsqlite/sqlite3.c           (pPager-&gt;syncFlags==SQLITE_SYNC_FULL?SQLITE_SYNC_DATAONLY:0)</span>
<span class='curline'><a href='../S/1054.html#L45793'>pPager</a>           45793 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;journalHdr = pPager-&gt;journalOff;</span>
<span class='curline'><a href='../S/1054.html#L45795'>pPager</a>           45795 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;nRec = 0;</span>
<span class='curline'><a href='../S/1054.html#L45796'>pPager</a>           45796 ext/sqlite3/libsqlite/sqlite3.c         rc = writeJournalHdr(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45800'>pPager</a>           45800 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;journalHdr = pPager-&gt;journalOff;</span>
<span class='curline'><a href='../S/1054.html#L45808'>pPager</a>           45808 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PcacheClearSyncFlags(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L45809'>pPager</a>           45809 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;eState = PAGER_WRITER_DBMOD;</span>
<span class='curline'><a href='../S/1054.html#L45810'>pPager</a>           45810 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L45846'>pPager</a>           45846 ext/sqlite3/libsqlite/sqlite3.c static int pager_write_pagelist(Pager *pPager, PgHdr *pList){</span>
<span class='curline'><a href='../S/1054.html#L45850'>pPager</a>           45850 ext/sqlite3/libsqlite/sqlite3.c   assert( !pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L45851'>pPager</a>           45851 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_WRITER_DBMOD );</span>
<span class='curline'><a href='../S/1054.html#L45852'>pPager</a>           45852 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L45858'>pPager</a>           45858 ext/sqlite3/libsqlite/sqlite3.c   if( !isOpen(pPager-&gt;fd) ){</span>
<span class='curline'><a href='../S/1054.html#L45859'>pPager</a>           45859 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;tempFile &amp;&amp; rc==SQLITE_OK );</span>
<span class='curline'><a href='../S/1054.html#L45860'>pPager</a>           45860 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerOpentemp(pPager, pPager-&gt;fd, pPager-&gt;vfsFlags);</span>
<span class='curline'><a href='../S/1054.html#L45866'>pPager</a>           45866 ext/sqlite3/libsqlite/sqlite3.c   assert( rc!=SQLITE_OK || isOpen(pPager-&gt;fd) );</span>
<span class='curline'><a href='../S/1054.html#L45868'>pPager</a>           45868 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; pPager-&gt;dbHintSize&lt;pPager-&gt;dbSize</span>
<span class='curline'><a href='../S/1054.html#L45869'>pPager</a>           45869 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; (pList-&gt;pDirty || pList-&gt;pgno&gt;pPager-&gt;dbHintSize)</span>
<span class='curline'><a href='../S/1054.html#L45871'>pPager</a>           45871 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_int64 szFile = pPager-&gt;pageSize * (sqlite3_int64)pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/1054.html#L45872'>pPager</a>           45872 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsFileControlHint(pPager-&gt;fd, SQLITE_FCNTL_SIZE_HINT, &amp;szFile);</span>
<span class='curline'><a href='../S/1054.html#L45873'>pPager</a>           45873 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;dbHintSize = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/1054.html#L45887'>pPager</a>           45887 ext/sqlite3/libsqlite/sqlite3.c     if( pgno&lt;=pPager-&gt;dbSize &amp;&amp; 0==(pList-&gt;flags&amp;PGHDR_DONT_WRITE) ){</span>
<span class='curline'><a href='../S/1054.html#L45888'>pPager</a>           45888 ext/sqlite3/libsqlite/sqlite3.c       i64 offset = (pgno-1)*(i64)pPager-&gt;pageSize;   /* Offset to write */</span>
<span class='curline'><a href='../S/1054.html#L45895'>pPager</a>           45895 ext/sqlite3/libsqlite/sqlite3.c       CODEC2(pPager, pList-&gt;pData, pgno, 6, return SQLITE_NOMEM, pData);</span>
<span class='curline'><a href='../S/1054.html#L45898'>pPager</a>           45898 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3OsWrite(pPager-&gt;fd, pData, pPager-&gt;pageSize, offset);</span>
<span class='curline'><a href='../S/1054.html#L45905'>pPager</a>           45905 ext/sqlite3/libsqlite/sqlite3.c         memcpy(&amp;pPager-&gt;dbFileVers, &amp;pData[24], sizeof(pPager-&gt;dbFileVers));</span>
<span class='curline'><a href='../S/1054.html#L45907'>pPager</a>           45907 ext/sqlite3/libsqlite/sqlite3.c       if( pgno&gt;pPager-&gt;dbFileSize ){</span>
<span class='curline'><a href='../S/1054.html#L45908'>pPager</a>           45908 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;dbFileSize = pgno;</span>
<span class='curline'><a href='../S/1054.html#L45910'>pPager</a>           45910 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;aStat[PAGER_STAT_WRITE]++;</span>
<span class='curline'><a href='../S/1054.html#L45913'>pPager</a>           45913 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BackupUpdate(pPager-&gt;pBackup, pgno, (u8*)pList-&gt;pData);</span>
<span class='curline'><a href='../S/1054.html#L45916'>pPager</a>           45916 ext/sqlite3/libsqlite/sqlite3.c                    PAGERID(pPager), pgno, pager_pagehash(pList)));</span>
<span class='curline'><a href='../S/1054.html#L45917'>pPager</a>           45917 ext/sqlite3/libsqlite/sqlite3.c       IOTRACE(("PGOUT %p %d\n", pPager, pgno));</span>
<span class='curline'><a href='../S/1054.html#L45920'>pPager</a>           45920 ext/sqlite3/libsqlite/sqlite3.c       PAGERTRACE(("NOSTORE %d page %d\n", PAGERID(pPager), pgno));</span>
<span class='curline'><a href='../S/1054.html#L45937'>pPager</a>           45937 ext/sqlite3/libsqlite/sqlite3.c static int openSubJournal(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L45939'>pPager</a>           45939 ext/sqlite3/libsqlite/sqlite3.c   if( !isOpen(pPager-&gt;sjfd) ){</span>
<span class='curline'><a href='../S/1054.html#L45940'>pPager</a>           45940 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;journalMode==PAGER_JOURNALMODE_MEMORY || pPager-&gt;subjInMemory ){</span>
<span class='curline'><a href='../S/1054.html#L45941'>pPager</a>           45941 ext/sqlite3/libsqlite/sqlite3.c       sqlite3MemJournalOpen(pPager-&gt;sjfd);</span>
<span class='curline'><a href='../S/1054.html#L45943'>pPager</a>           45943 ext/sqlite3/libsqlite/sqlite3.c       rc = pagerOpentemp(pPager, pPager-&gt;sjfd, SQLITE_OPEN_SUBJOURNAL);</span>
<span class='curline'><a href='../S/1054.html#L45964'>pPager</a>           45964 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L45965'>pPager</a>           45965 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;journalMode!=PAGER_JOURNALMODE_OFF ){</span>
<span class='curline'><a href='../S/1054.html#L45968'>pPager</a>           45968 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;useJournal );</span>
<span class='curline'><a href='../S/1054.html#L45969'>pPager</a>           45969 ext/sqlite3/libsqlite/sqlite3.c     assert( isOpen(pPager-&gt;jfd) || pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L45970'>pPager</a>           45970 ext/sqlite3/libsqlite/sqlite3.c     assert( isOpen(pPager-&gt;sjfd) || pPager-&gt;nSubRec==0 );</span>
<span class='curline'><a href='../S/1054.html#L45971'>pPager</a>           45971 ext/sqlite3/libsqlite/sqlite3.c     assert( pagerUseWal(pPager) </span>
<span class='curline'><a href='../S/1054.html#L45972'>pPager</a>           45972 ext/sqlite3/libsqlite/sqlite3.c          || pageInJournal(pPager, pPg) </span>
<span class='curline'><a href='../S/1054.html#L45973'>pPager</a>           45973 ext/sqlite3/libsqlite/sqlite3.c          || pPg-&gt;pgno&gt;pPager-&gt;dbOrigSize </span>
<span class='curline'><a href='../S/1054.html#L45975'>pPager</a>           45975 ext/sqlite3/libsqlite/sqlite3.c     rc = openSubJournal(pPager);</span>
<span class='curline'><a href='../S/1054.html#L45981'>pPager</a>           45981 ext/sqlite3/libsqlite/sqlite3.c       i64 offset = (i64)pPager-&gt;nSubRec*(4+pPager-&gt;pageSize);</span>
<span class='curline'><a href='../S/1054.html#L45984'>pPager</a>           45984 ext/sqlite3/libsqlite/sqlite3.c       CODEC2(pPager, pData, pPg-&gt;pgno, 7, return SQLITE_NOMEM, pData2);</span>
<span class='curline'><a href='../S/1054.html#L45985'>pPager</a>           45985 ext/sqlite3/libsqlite/sqlite3.c       PAGERTRACE(("STMT-JOURNAL %d page %d\n", PAGERID(pPager), pPg-&gt;pgno));</span>
<span class='curline'><a href='../S/1054.html#L45986'>pPager</a>           45986 ext/sqlite3/libsqlite/sqlite3.c       rc = write32bits(pPager-&gt;sjfd, offset, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/1054.html#L45988'>pPager</a>           45988 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsWrite(pPager-&gt;sjfd, pData2, pPager-&gt;pageSize, offset+4);</span>
<span class='curline'><a href='../S/1054.html#L45993'>pPager</a>           45993 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;nSubRec++;</span>
<span class='curline'><a href='../S/1054.html#L45994'>pPager</a>           45994 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;nSavepoint&gt;0 );</span>
<span class='curline'><a href='../S/1054.html#L45995'>pPager</a>           45995 ext/sqlite3/libsqlite/sqlite3.c     rc = addToSavepointBitvecs(pPager, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/1054.html#L46020'>pPager</a>           46020 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = (Pager *)p;</span>
<span class='curline'><a href='../S/1054.html#L46023'>pPager</a>           46023 ext/sqlite3/libsqlite/sqlite3.c   assert( pPg-&gt;pPager==pPager );</span>
<span class='curline'><a href='../S/1054.html#L46042'>pPager</a>           46042 ext/sqlite3/libsqlite/sqlite3.c   if( NEVER(pPager-&gt;errCode) ) return SQLITE_OK;</span>
<span class='curline'><a href='../S/1054.html#L46043'>pPager</a>           46043 ext/sqlite3/libsqlite/sqlite3.c   testcase( pPager-&gt;doNotSpill &amp; SPILLFLAG_ROLLBACK );</span>
<span class='curline'><a href='../S/1054.html#L46044'>pPager</a>           46044 ext/sqlite3/libsqlite/sqlite3.c   testcase( pPager-&gt;doNotSpill &amp; SPILLFLAG_OFF );</span>
<span class='curline'><a href='../S/1054.html#L46045'>pPager</a>           46045 ext/sqlite3/libsqlite/sqlite3.c   testcase( pPager-&gt;doNotSpill &amp; SPILLFLAG_NOSYNC );</span>
<span class='curline'><a href='../S/1054.html#L46046'>pPager</a>           46046 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;doNotSpill</span>
<span class='curline'><a href='../S/1054.html#L46047'>pPager</a>           46047 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; ((pPager-&gt;doNotSpill &amp; (SPILLFLAG_ROLLBACK|SPILLFLAG_OFF))!=0</span>
<span class='curline'><a href='../S/1054.html#L46054'>pPager</a>           46054 ext/sqlite3/libsqlite/sqlite3.c   if( pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L46060'>pPager</a>           46060 ext/sqlite3/libsqlite/sqlite3.c       rc = pagerWalFrames(pPager, pPg, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L46066'>pPager</a>           46066 ext/sqlite3/libsqlite/sqlite3.c      || pPager-&gt;eState==PAGER_WRITER_CACHEMOD</span>
<span class='curline'><a href='../S/1054.html#L46068'>pPager</a>           46068 ext/sqlite3/libsqlite/sqlite3.c       rc = syncJournal(pPager, 1);</span>
<span class='curline'><a href='../S/1054.html#L46099'>pPager</a>           46099 ext/sqlite3/libsqlite/sqlite3.c         rc==SQLITE_OK &amp;&amp; pPg-&gt;pgno&gt;pPager-&gt;dbSize &amp;&amp; subjRequiresPage(pPg)</span>
<span class='curline'><a href='../S/1054.html#L46107'>pPager</a>           46107 ext/sqlite3/libsqlite/sqlite3.c       rc = pager_write_pagelist(pPager, pPg);</span>
<span class='curline'><a href='../S/1054.html#L46113'>pPager</a>           46113 ext/sqlite3/libsqlite/sqlite3.c     PAGERTRACE(("STRESS %d page %d\n", PAGERID(pPager), pPg-&gt;pgno));</span>
<span class='curline'><a href='../S/1054.html#L46117'>pPager</a>           46117 ext/sqlite3/libsqlite/sqlite3.c   return pager_error(pPager, rc); </span>
<span class='curline'><a href='../S/1054.html#L46161'>pPager</a>           46161 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = 0;       /* Pager object to allocate and return */</span>
<span class='curline'><a href='../S/1054.html#L46253'>pPager</a>           46253 ext/sqlite3/libsqlite/sqlite3.c     ROUND8(sizeof(*pPager)) +      /* Pager structure */</span>
<span class='curline'><a href='../S/1054.html#L46268'>pPager</a>           46268 ext/sqlite3/libsqlite/sqlite3.c   pPager =              (Pager*)(pPtr);</span>
<span class='curline'><a href='../S/1054.html#L46269'>pPager</a>           46269 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;pPCache =    (PCache*)(pPtr += ROUND8(sizeof(*pPager)));</span>
<span class='curline'><a href='../S/1054.html#L46270'>pPager</a>           46270 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;fd =   (sqlite3_file*)(pPtr += ROUND8(pcacheSize));</span>
<span class='curline'><a href='../S/1054.html#L46271'>pPager</a>           46271 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;sjfd = (sqlite3_file*)(pPtr += ROUND8(pVfs-&gt;szOsFile));</span>
<span class='curline'><a href='../S/1054.html#L46272'>pPager</a>           46272 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;jfd =  (sqlite3_file*)(pPtr += journalFileSize);</span>
<span class='curline'><a href='../S/1054.html#L46273'>pPager</a>           46273 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;zFilename =    (char*)(pPtr += journalFileSize);</span>
<span class='curline'><a href='../S/1054.html#L46274'>pPager</a>           46274 ext/sqlite3/libsqlite/sqlite3.c   assert( EIGHT_BYTE_ALIGNMENT(pPager-&gt;jfd) );</span>
<span class='curline'><a href='../S/1054.html#L46279'>pPager</a>           46279 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;zJournal =   (char*)(pPtr += nPathname + 1 + nUri);</span>
<span class='curline'><a href='../S/1054.html#L46280'>pPager</a>           46280 ext/sqlite3/libsqlite/sqlite3.c     memcpy(pPager-&gt;zFilename, zPathname, nPathname);</span>
<span class='curline'><a href='../S/1054.html#L46281'>pPager</a>           46281 ext/sqlite3/libsqlite/sqlite3.c     if( nUri ) memcpy(&amp;pPager-&gt;zFilename[nPathname+1], zUri, nUri);</span>
<span class='curline'><a href='../S/1054.html#L46282'>pPager</a>           46282 ext/sqlite3/libsqlite/sqlite3.c     memcpy(pPager-&gt;zJournal, zPathname, nPathname);</span>
<span class='curline'><a href='../S/1054.html#L46283'>pPager</a>           46283 ext/sqlite3/libsqlite/sqlite3.c     memcpy(&amp;pPager-&gt;zJournal[nPathname], "-journal\000", 8+2);</span>
<span class='curline'><a href='../S/1054.html#L46284'>pPager</a>           46284 ext/sqlite3/libsqlite/sqlite3.c     sqlite3FileSuffix3(pPager-&gt;zFilename, pPager-&gt;zJournal);</span>
<span class='curline'><a href='../S/1054.html#L46286'>pPager</a>           46286 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;zWal = &amp;pPager-&gt;zJournal[nPathname+8+1];</span>
<span class='curline'><a href='../S/1054.html#L46287'>pPager</a>           46287 ext/sqlite3/libsqlite/sqlite3.c     memcpy(pPager-&gt;zWal, zPathname, nPathname);</span>
<span class='curline'><a href='../S/1054.html#L46288'>pPager</a>           46288 ext/sqlite3/libsqlite/sqlite3.c     memcpy(&amp;pPager-&gt;zWal[nPathname], "-wal\000", 4+1);</span>
<span class='curline'><a href='../S/1054.html#L46289'>pPager</a>           46289 ext/sqlite3/libsqlite/sqlite3.c     sqlite3FileSuffix3(pPager-&gt;zFilename, pPager-&gt;zWal);</span>
<span class='curline'><a href='../S/1054.html#L46293'>pPager</a>           46293 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;pVfs = pVfs;</span>
<span class='curline'><a href='../S/1054.html#L46294'>pPager</a>           46294 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;vfsFlags = vfsFlags;</span>
<span class='curline'><a href='../S/1054.html#L46300'>pPager</a>           46300 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsOpen(pVfs, pPager-&gt;zFilename, pPager-&gt;fd, vfsFlags, &amp;fout);</span>
<span class='curline'><a href='../S/1054.html#L46313'>pPager</a>           46313 ext/sqlite3/libsqlite/sqlite3.c       int iDc = sqlite3OsDeviceCharacteristics(pPager-&gt;fd);</span>
<span class='curline'><a href='../S/1054.html#L46315'>pPager</a>           46315 ext/sqlite3/libsqlite/sqlite3.c         setSectorSize(pPager);</span>
<span class='curline'><a href='../S/1054.html#L46317'>pPager</a>           46317 ext/sqlite3/libsqlite/sqlite3.c         if( szPageDflt&lt;pPager-&gt;sectorSize ){</span>
<span class='curline'><a href='../S/1054.html#L46318'>pPager</a>           46318 ext/sqlite3/libsqlite/sqlite3.c           if( pPager-&gt;sectorSize&gt;SQLITE_MAX_DEFAULT_PAGE_SIZE ){</span>
<span class='curline'><a href='../S/1054.html#L46321'>pPager</a>           46321 ext/sqlite3/libsqlite/sqlite3.c             szPageDflt = (u32)pPager-&gt;sectorSize;</span>
<span class='curline'><a href='../S/1054.html#L46338'>pPager</a>           46338 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;noLock = sqlite3_uri_boolean(zFilename, "nolock", 0);</span>
<span class='curline'><a href='../S/1054.html#L46358'>pPager</a>           46358 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;eState = PAGER_READER;     /* Pretend we already have a lock */</span>
<span class='curline'><a href='../S/1054.html#L46359'>pPager</a>           46359 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;eLock = EXCLUSIVE_LOCK;    /* Pretend we are in EXCLUSIVE locking mode */</span>
<span class='curline'><a href='../S/1054.html#L46360'>pPager</a>           46360 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;noLock = 1;                /* Do no locking */</span>
<span class='curline'><a href='../S/1054.html#L46368'>pPager</a>           46368 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;memDb==0 );</span>
<span class='curline'><a href='../S/1054.html#L46369'>pPager</a>           46369 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerSetPagesize(pPager, &amp;szPageDflt, -1);</span>
<span class='curline'><a href='../S/1054.html#L46378'>pPager</a>           46378 ext/sqlite3/libsqlite/sqlite3.c                            !memDb?pagerStress:0, (void *)pPager, pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L46384'>pPager</a>           46384 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsClose(pPager-&gt;fd);</span>
<span class='curline'><a href='../S/1054.html#L46385'>pPager</a>           46385 ext/sqlite3/libsqlite/sqlite3.c     sqlite3PageFree(pPager-&gt;pTmpSpace);</span>
<span class='curline'><a href='../S/1054.html#L46386'>pPager</a>           46386 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_free(pPager);</span>
<span class='curline'><a href='../S/1054.html#L46390'>pPager</a>           46390 ext/sqlite3/libsqlite/sqlite3.c   PAGERTRACE(("OPEN %d %s\n", FILEHANDLEID(pPager-&gt;fd), pPager-&gt;zFilename));</span>
<span class='curline'><a href='../S/1054.html#L46391'>pPager</a>           46391 ext/sqlite3/libsqlite/sqlite3.c   IOTRACE(("OPEN %p %s\n", pPager, pPager-&gt;zFilename))</span>
<span class='curline'><a href='../S/1054.html#L46393'>pPager</a>           46393 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;useJournal = (u8)useJournal;</span>
<span class='curline'><a href='../S/1054.html#L46400'>pPager</a>           46400 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;mxPgno = SQLITE_MAX_PAGE_COUNT;</span>
<span class='curline'><a href='../S/1054.html#L46403'>pPager</a>           46403 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;tempFile = (u8)tempFile;</span>
<span class='curline'><a href='../S/1054.html#L46407'>pPager</a>           46407 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;exclusiveMode = (u8)tempFile; </span>
<span class='curline'><a href='../S/1054.html#L46408'>pPager</a>           46408 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;changeCountDone = pPager-&gt;tempFile;</span>
<span class='curline'><a href='../S/1054.html#L46409'>pPager</a>           46409 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;memDb = (u8)memDb;</span>
<span class='curline'><a href='../S/1054.html#L46410'>pPager</a>           46410 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;readOnly = (u8)readOnly;</span>
<span class='curline'><a href='../S/1054.html#L46411'>pPager</a>           46411 ext/sqlite3/libsqlite/sqlite3.c   assert( useJournal || pPager-&gt;tempFile );</span>
<span class='curline'><a href='../S/1054.html#L46412'>pPager</a>           46412 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;noSync = pPager-&gt;tempFile;</span>
<span class='curline'><a href='../S/1054.html#L46413'>pPager</a>           46413 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;noSync ){</span>
<span class='curline'><a href='../S/1054.html#L46414'>pPager</a>           46414 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;fullSync==0 );</span>
<span class='curline'><a href='../S/1054.html#L46415'>pPager</a>           46415 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;syncFlags==0 );</span>
<span class='curline'><a href='../S/1054.html#L46416'>pPager</a>           46416 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;walSyncFlags==0 );</span>
<span class='curline'><a href='../S/1054.html#L46417'>pPager</a>           46417 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;ckptSyncFlags==0 );</span>
<span class='curline'><a href='../S/1054.html#L46419'>pPager</a>           46419 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;fullSync = 1;</span>
<span class='curline'><a href='../S/1054.html#L46420'>pPager</a>           46420 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;syncFlags = SQLITE_SYNC_NORMAL;</span>
<span class='curline'><a href='../S/1054.html#L46421'>pPager</a>           46421 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;walSyncFlags = SQLITE_SYNC_NORMAL | WAL_SYNC_TRANSACTIONS;</span>
<span class='curline'><a href='../S/1054.html#L46422'>pPager</a>           46422 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;ckptSyncFlags = SQLITE_SYNC_NORMAL;</span>
<span class='curline'><a href='../S/1054.html#L46427'>pPager</a>           46427 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;nExtra = (u16)nExtra;</span>
<span class='curline'><a href='../S/1054.html#L46428'>pPager</a>           46428 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;journalSizeLimit = SQLITE_DEFAULT_JOURNAL_SIZE_LIMIT;</span>
<span class='curline'><a href='../S/1054.html#L46429'>pPager</a>           46429 ext/sqlite3/libsqlite/sqlite3.c   assert( isOpen(pPager-&gt;fd) || tempFile );</span>
<span class='curline'><a href='../S/1054.html#L46430'>pPager</a>           46430 ext/sqlite3/libsqlite/sqlite3.c   setSectorSize(pPager);</span>
<span class='curline'><a href='../S/1054.html#L46432'>pPager</a>           46432 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;journalMode = PAGER_JOURNALMODE_OFF;</span>
<span class='curline'><a href='../S/1054.html#L46434'>pPager</a>           46434 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;journalMode = PAGER_JOURNALMODE_MEMORY;</span>
<span class='curline'><a href='../S/1054.html#L46438'>pPager</a>           46438 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;xReiniter = xReinit;</span>
<span class='curline'><a href='../S/1054.html#L46442'>pPager</a>           46442 ext/sqlite3/libsqlite/sqlite3.c   *ppPager = pPager;</span>
<span class='curline'><a href='../S/1054.html#L46452'>pPager</a>           46452 ext/sqlite3/libsqlite/sqlite3.c static int databaseIsUnmoved(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L46456'>pPager</a>           46456 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;tempFile ) return SQLITE_OK;</span>
<span class='curline'><a href='../S/1054.html#L46457'>pPager</a>           46457 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;dbSize==0 ) return SQLITE_OK;</span>
<span class='curline'><a href='../S/1054.html#L46458'>pPager</a>           46458 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;zFilename &amp;&amp; pPager-&gt;zFilename[0] );</span>
<span class='curline'><a href='../S/1054.html#L46459'>pPager</a>           46459 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3OsFileControl(pPager-&gt;fd, SQLITE_FCNTL_HAS_MOVED, &amp;bHasMoved);</span>
<span class='curline'><a href='../S/1054.html#L46503'>pPager</a>           46503 ext/sqlite3/libsqlite/sqlite3.c static int hasHotJournal(Pager *pPager, int *pExists){</span>
<span class='curline'><a href='../S/1054.html#L46504'>pPager</a>           46504 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_vfs * const pVfs = pPager-&gt;pVfs;</span>
<span class='curline'><a href='../S/1054.html#L46507'>pPager</a>           46507 ext/sqlite3/libsqlite/sqlite3.c   int jrnlOpen = !!isOpen(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L46509'>pPager</a>           46509 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;useJournal );</span>
<span class='curline'><a href='../S/1054.html#L46510'>pPager</a>           46510 ext/sqlite3/libsqlite/sqlite3.c   assert( isOpen(pPager-&gt;fd) );</span>
<span class='curline'><a href='../S/1054.html#L46511'>pPager</a>           46511 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_OPEN );</span>
<span class='curline'><a href='../S/1054.html#L46513'>pPager</a>           46513 ext/sqlite3/libsqlite/sqlite3.c   assert( jrnlOpen==0 || ( sqlite3OsDeviceCharacteristics(pPager-&gt;jfd) &amp;</span>
<span class='curline'><a href='../S/1054.html#L46519'>pPager</a>           46519 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsAccess(pVfs, pPager-&gt;zJournal, SQLITE_ACCESS_EXISTS, &amp;exists);</span>
<span class='curline'><a href='../S/1054.html#L46532'>pPager</a>           46532 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsCheckReservedLock(pPager-&gt;fd, &amp;locked);</span>
<span class='curline'><a href='../S/1054.html#L46536'>pPager</a>           46536 ext/sqlite3/libsqlite/sqlite3.c       rc = pagerPagecount(pPager, &amp;nPage);</span>
<span class='curline'><a href='../S/1054.html#L46548'>pPager</a>           46548 ext/sqlite3/libsqlite/sqlite3.c           if( pagerLockDb(pPager, RESERVED_LOCK)==SQLITE_OK ){</span>
<span class='curline'><a href='../S/1054.html#L46549'>pPager</a>           46549 ext/sqlite3/libsqlite/sqlite3.c             sqlite3OsDelete(pVfs, pPager-&gt;zJournal, 0);</span>
<span class='curline'><a href='../S/1054.html#L46550'>pPager</a>           46550 ext/sqlite3/libsqlite/sqlite3.c             if( !pPager-&gt;exclusiveMode ) pagerUnlockDb(pPager, SHARED_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L46562'>pPager</a>           46562 ext/sqlite3/libsqlite/sqlite3.c             rc = sqlite3OsOpen(pVfs, pPager-&gt;zJournal, pPager-&gt;jfd, f, &amp;f);</span>
<span class='curline'><a href='../S/1054.html#L46566'>pPager</a>           46566 ext/sqlite3/libsqlite/sqlite3.c             rc = sqlite3OsRead(pPager-&gt;jfd, (void *)&amp;first, 1, 0);</span>
<span class='curline'><a href='../S/1054.html#L46571'>pPager</a>           46571 ext/sqlite3/libsqlite/sqlite3.c               sqlite3OsClose(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L46622'>pPager</a>           46622 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerSharedLock(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L46630'>pPager</a>           46630 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3PcacheRefCount(pPager-&gt;pPCache)==0 );</span>
<span class='curline'><a href='../S/1054.html#L46631'>pPager</a>           46631 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L46632'>pPager</a>           46632 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_OPEN || pPager-&gt;eState==PAGER_READER );</span>
<span class='curline'><a href='../S/1054.html#L46633'>pPager</a>           46633 ext/sqlite3/libsqlite/sqlite3.c   if( NEVER(MEMDB &amp;&amp; pPager-&gt;errCode) ){ return pPager-&gt;errCode; }</span>
<span class='curline'><a href='../S/1054.html#L46635'>pPager</a>           46635 ext/sqlite3/libsqlite/sqlite3.c   if( !pagerUseWal(pPager) &amp;&amp; pPager-&gt;eState==PAGER_OPEN ){</span>
<span class='curline'><a href='../S/1054.html#L46640'>pPager</a>           46640 ext/sqlite3/libsqlite/sqlite3.c     rc = pager_wait_on_lock(pPager, SHARED_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L46642'>pPager</a>           46642 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;eLock==NO_LOCK || pPager-&gt;eLock==UNKNOWN_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L46649'>pPager</a>           46649 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;eLock&lt;=SHARED_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L46650'>pPager</a>           46650 ext/sqlite3/libsqlite/sqlite3.c       rc = hasHotJournal(pPager, &amp;bHotJournal);</span>
<span class='curline'><a href='../S/1054.html#L46656'>pPager</a>           46656 ext/sqlite3/libsqlite/sqlite3.c       if( pPager-&gt;readOnly ){</span>
<span class='curline'><a href='../S/1054.html#L46676'>pPager</a>           46676 ext/sqlite3/libsqlite/sqlite3.c       rc = pagerLockDb(pPager, EXCLUSIVE_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L46694'>pPager</a>           46694 ext/sqlite3/libsqlite/sqlite3.c       if( !isOpen(pPager-&gt;jfd) ){</span>
<span class='curline'><a href='../S/1054.html#L46695'>pPager</a>           46695 ext/sqlite3/libsqlite/sqlite3.c         sqlite3_vfs * const pVfs = pPager-&gt;pVfs;</span>
<span class='curline'><a href='../S/1054.html#L46698'>pPager</a>           46698 ext/sqlite3/libsqlite/sqlite3.c             pVfs, pPager-&gt;zJournal, SQLITE_ACCESS_EXISTS, &amp;bExists);</span>
<span class='curline'><a href='../S/1054.html#L46702'>pPager</a>           46702 ext/sqlite3/libsqlite/sqlite3.c           assert( !pPager-&gt;tempFile );</span>
<span class='curline'><a href='../S/1054.html#L46703'>pPager</a>           46703 ext/sqlite3/libsqlite/sqlite3.c           rc = sqlite3OsOpen(pVfs, pPager-&gt;zJournal, pPager-&gt;jfd, f, &amp;fout);</span>
<span class='curline'><a href='../S/1054.html#L46704'>pPager</a>           46704 ext/sqlite3/libsqlite/sqlite3.c           assert( rc!=SQLITE_OK || isOpen(pPager-&gt;jfd) );</span>
<span class='curline'><a href='../S/1054.html#L46707'>pPager</a>           46707 ext/sqlite3/libsqlite/sqlite3.c             sqlite3OsClose(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L46720'>pPager</a>           46720 ext/sqlite3/libsqlite/sqlite3.c       if( isOpen(pPager-&gt;jfd) ){</span>
<span class='curline'><a href='../S/1054.html#L46722'>pPager</a>           46722 ext/sqlite3/libsqlite/sqlite3.c         rc = pagerSyncHotJournal(pPager);</span>
<span class='curline'><a href='../S/1054.html#L46724'>pPager</a>           46724 ext/sqlite3/libsqlite/sqlite3.c           rc = pager_playback(pPager, 1);</span>
<span class='curline'><a href='../S/1054.html#L46725'>pPager</a>           46725 ext/sqlite3/libsqlite/sqlite3.c           pPager-&gt;eState = PAGER_OPEN;</span>
<span class='curline'><a href='../S/1054.html#L46727'>pPager</a>           46727 ext/sqlite3/libsqlite/sqlite3.c       }else if( !pPager-&gt;exclusiveMode ){</span>
<span class='curline'><a href='../S/1054.html#L46728'>pPager</a>           46728 ext/sqlite3/libsqlite/sqlite3.c         pagerUnlockDb(pPager, SHARED_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L46748'>pPager</a>           46748 ext/sqlite3/libsqlite/sqlite3.c         pager_error(pPager, rc);</span>
<span class='curline'><a href='../S/1054.html#L46752'>pPager</a>           46752 ext/sqlite3/libsqlite/sqlite3.c       assert( pPager-&gt;eState==PAGER_OPEN );</span>
<span class='curline'><a href='../S/1054.html#L46753'>pPager</a>           46753 ext/sqlite3/libsqlite/sqlite3.c       assert( (pPager-&gt;eLock==SHARED_LOCK)</span>
<span class='curline'><a href='../S/1054.html#L46754'>pPager</a>           46754 ext/sqlite3/libsqlite/sqlite3.c            || (pPager-&gt;exclusiveMode &amp;&amp; pPager-&gt;eLock&gt;SHARED_LOCK)</span>
<span class='curline'><a href='../S/1054.html#L46758'>pPager</a>           46758 ext/sqlite3/libsqlite/sqlite3.c     if( !pPager-&gt;tempFile &amp;&amp; pPager-&gt;hasBeenUsed ){</span>
<span class='curline'><a href='../S/1054.html#L46776'>pPager</a>           46776 ext/sqlite3/libsqlite/sqlite3.c       char dbFileVers[sizeof(pPager-&gt;dbFileVers)];</span>
<span class='curline'><a href='../S/1054.html#L46778'>pPager</a>           46778 ext/sqlite3/libsqlite/sqlite3.c       rc = pagerPagecount(pPager, &amp;nPage);</span>
<span class='curline'><a href='../S/1054.html#L46782'>pPager</a>           46782 ext/sqlite3/libsqlite/sqlite3.c         IOTRACE(("CKVERS %p %d\n", pPager, sizeof(dbFileVers)));</span>
<span class='curline'><a href='../S/1054.html#L46783'>pPager</a>           46783 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsRead(pPager-&gt;fd, &amp;dbFileVers, sizeof(dbFileVers), 24);</span>
<span class='curline'><a href='../S/1054.html#L46791'>pPager</a>           46791 ext/sqlite3/libsqlite/sqlite3.c       if( memcmp(pPager-&gt;dbFileVers, dbFileVers, sizeof(dbFileVers))!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L46792'>pPager</a>           46792 ext/sqlite3/libsqlite/sqlite3.c         pager_reset(pPager);</span>
<span class='curline'><a href='../S/1054.html#L46800'>pPager</a>           46800 ext/sqlite3/libsqlite/sqlite3.c         if( USEFETCH(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L46801'>pPager</a>           46801 ext/sqlite3/libsqlite/sqlite3.c           sqlite3OsUnfetch(pPager-&gt;fd, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L46809'>pPager</a>           46809 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerOpenWalIfPresent(pPager);</span>
<span class='curline'><a href='../S/1054.html#L46811'>pPager</a>           46811 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;pWal==0 || rc==SQLITE_OK );</span>
<span class='curline'><a href='../S/1054.html#L46815'>pPager</a>           46815 ext/sqlite3/libsqlite/sqlite3.c   if( pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L46817'>pPager</a>           46817 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerBeginReadTransaction(pPager);</span>
<span class='curline'><a href='../S/1054.html#L46820'>pPager</a>           46820 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eState==PAGER_OPEN &amp;&amp; rc==SQLITE_OK ){</span>
<span class='curline'><a href='../S/1054.html#L46821'>pPager</a>           46821 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerPagecount(pPager, &amp;pPager-&gt;dbSize);</span>
<span class='curline'><a href='../S/1054.html#L46827'>pPager</a>           46827 ext/sqlite3/libsqlite/sqlite3.c     pager_unlock(pPager);</span>
<span class='curline'><a href='../S/1054.html#L46828'>pPager</a>           46828 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;eState==PAGER_OPEN );</span>
<span class='curline'><a href='../S/1054.html#L46830'>pPager</a>           46830 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;eState = PAGER_READER;</span>
<span class='curline'><a href='../S/1054.html#L46843'>pPager</a>           46843 ext/sqlite3/libsqlite/sqlite3.c static void pagerUnlockIfUnused(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L46844'>pPager</a>           46844 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;nMmapOut==0 &amp;&amp; (sqlite3PcacheRefCount(pPager-&gt;pPCache)==0) ){</span>
<span class='curline'><a href='../S/1054.html#L46845'>pPager</a>           46845 ext/sqlite3/libsqlite/sqlite3.c     pagerUnlockAndRollback(pPager);</span>
<span class='curline'><a href='../S/1054.html#L46900'>pPager</a>           46900 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager,      /* The pager open on the database file */</span>
<span class='curline'><a href='../S/1054.html#L46914'>pPager</a>           46914 ext/sqlite3/libsqlite/sqlite3.c   const int bMmapOk = (pgno!=1 &amp;&amp; USEFETCH(pPager)</span>
<span class='curline'><a href='../S/1054.html#L46915'>pPager</a>           46915 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; (pPager-&gt;eState==PAGER_READER || (flags &amp; PAGER_GET_READONLY))</span>
<span class='curline'><a href='../S/1054.html#L46917'>pPager</a>           46917 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; pPager-&gt;xCodec==0</span>
<span class='curline'><a href='../S/1054.html#L46921'>pPager</a>           46921 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;=PAGER_READER );</span>
<span class='curline'><a href='../S/1054.html#L46922'>pPager</a>           46922 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L46928'>pPager</a>           46928 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;hasBeenUsed = 1;</span>
<span class='curline'><a href='../S/1054.html#L46932'>pPager</a>           46932 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;errCode!=SQLITE_OK ){</span>
<span class='curline'><a href='../S/1054.html#L46933'>pPager</a>           46933 ext/sqlite3/libsqlite/sqlite3.c     rc = pPager-&gt;errCode;</span>
<span class='curline'><a href='../S/1054.html#L46935'>pPager</a>           46935 ext/sqlite3/libsqlite/sqlite3.c     if( bMmapOk &amp;&amp; pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L46936'>pPager</a>           46936 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3WalFindFrame(pPager-&gt;pWal, pgno, &amp;iFrame);</span>
<span class='curline'><a href='../S/1054.html#L46943'>pPager</a>           46943 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3OsFetch(pPager-&gt;fd, </span>
<span class='curline'><a href='../S/1054.html#L46944'>pPager</a>           46944 ext/sqlite3/libsqlite/sqlite3.c           (i64)(pgno-1) * pPager-&gt;pageSize, pPager-&gt;pageSize, &amp;pData</span>
<span class='curline'><a href='../S/1054.html#L46948'>pPager</a>           46948 ext/sqlite3/libsqlite/sqlite3.c         if( pPager-&gt;eState&gt;PAGER_READER ){</span>
<span class='curline'><a href='../S/1054.html#L46949'>pPager</a>           46949 ext/sqlite3/libsqlite/sqlite3.c           pPg = sqlite3PagerLookup(pPager, pgno);</span>
<span class='curline'><a href='../S/1054.html#L46952'>pPager</a>           46952 ext/sqlite3/libsqlite/sqlite3.c           rc = pagerAcquireMapPage(pPager, pgno, pData, &amp;pPg);</span>
<span class='curline'><a href='../S/1054.html#L46954'>pPager</a>           46954 ext/sqlite3/libsqlite/sqlite3.c           sqlite3OsUnfetch(pPager-&gt;fd, (i64)(pgno-1)*pPager-&gt;pageSize, pData);</span>
<span class='curline'><a href='../S/1054.html#L46969'>pPager</a>           46969 ext/sqlite3/libsqlite/sqlite3.c       pBase = sqlite3PcacheFetch(pPager-&gt;pPCache, pgno, 3);</span>
<span class='curline'><a href='../S/1054.html#L46971'>pPager</a>           46971 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3PcacheFetchStress(pPager-&gt;pPCache, pgno, &amp;pBase);</span>
<span class='curline'><a href='../S/1054.html#L46974'>pPager</a>           46974 ext/sqlite3/libsqlite/sqlite3.c       pPg = *ppPage = sqlite3PcacheFetchFinish(pPager-&gt;pPCache, pgno, pBase);</span>
<span class='curline'><a href='../S/1054.html#L46987'>pPager</a>           46987 ext/sqlite3/libsqlite/sqlite3.c   assert( (*ppPage)-&gt;pPager==pPager || (*ppPage)-&gt;pPager==0 );</span>
<span class='curline'><a href='../S/1054.html#L46989'>pPager</a>           46989 ext/sqlite3/libsqlite/sqlite3.c   if( (*ppPage)-&gt;pPager &amp;&amp; !noContent ){</span>
<span class='curline'><a href='../S/1054.html#L46992'>pPager</a>           46992 ext/sqlite3/libsqlite/sqlite3.c     assert( pgno&lt;=PAGER_MAX_PGNO &amp;&amp; pgno!=PAGER_MJ_PGNO(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L46993'>pPager</a>           46993 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;aStat[PAGER_STAT_HIT]++;</span>
<span class='curline'><a href='../S/1054.html#L47001'>pPager</a>           47001 ext/sqlite3/libsqlite/sqlite3.c     pPg-&gt;pPager = pPager;</span>
<span class='curline'><a href='../S/1054.html#L47005'>pPager</a>           47005 ext/sqlite3/libsqlite/sqlite3.c     if( pgno&gt;PAGER_MAX_PGNO || pgno==PAGER_MJ_PGNO(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L47010'>pPager</a>           47010 ext/sqlite3/libsqlite/sqlite3.c     if( MEMDB || pPager-&gt;dbSize&lt;pgno || noContent || !isOpen(pPager-&gt;fd) ){</span>
<span class='curline'><a href='../S/1054.html#L47011'>pPager</a>           47011 ext/sqlite3/libsqlite/sqlite3.c       if( pgno&gt;pPager-&gt;mxPgno ){</span>
<span class='curline'><a href='../S/1054.html#L47023'>pPager</a>           47023 ext/sqlite3/libsqlite/sqlite3.c         if( pgno&lt;=pPager-&gt;dbOrigSize ){</span>
<span class='curline'><a href='../S/1054.html#L47024'>pPager</a>           47024 ext/sqlite3/libsqlite/sqlite3.c           TESTONLY( rc = ) sqlite3BitvecSet(pPager-&gt;pInJournal, pgno);</span>
<span class='curline'><a href='../S/1054.html#L47027'>pPager</a>           47027 ext/sqlite3/libsqlite/sqlite3.c         TESTONLY( rc = ) addToSavepointBitvecs(pPager, pgno);</span>
<span class='curline'><a href='../S/1054.html#L47031'>pPager</a>           47031 ext/sqlite3/libsqlite/sqlite3.c       memset(pPg-&gt;pData, 0, pPager-&gt;pageSize);</span>
<span class='curline'><a href='../S/1054.html#L47032'>pPager</a>           47032 ext/sqlite3/libsqlite/sqlite3.c       IOTRACE(("ZERO %p %d\n", pPager, pgno));</span>
<span class='curline'><a href='../S/1054.html#L47034'>pPager</a>           47034 ext/sqlite3/libsqlite/sqlite3.c       if( pagerUseWal(pPager) &amp;&amp; bMmapOk==0 ){</span>
<span class='curline'><a href='../S/1054.html#L47035'>pPager</a>           47035 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3WalFindFrame(pPager-&gt;pWal, pgno, &amp;iFrame);</span>
<span class='curline'><a href='../S/1054.html#L47038'>pPager</a>           47038 ext/sqlite3/libsqlite/sqlite3.c       assert( pPg-&gt;pPager==pPager );</span>
<span class='curline'><a href='../S/1054.html#L47039'>pPager</a>           47039 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;aStat[PAGER_STAT_MISS]++;</span>
<span class='curline'><a href='../S/1054.html#L47055'>pPager</a>           47055 ext/sqlite3/libsqlite/sqlite3.c   pagerUnlockIfUnused(pPager);</span>
<span class='curline'><a href='../S/1054.html#L47072'>pPager</a>           47072 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE DbPage *sqlite3PagerLookup(Pager *pPager, Pgno pgno){</span>
<span class='curline'><a href='../S/1054.html#L47074'>pPager</a>           47074 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager!=0 );</span>
<span class='curline'><a href='../S/1054.html#L47076'>pPager</a>           47076 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;pPCache!=0 );</span>
<span class='curline'><a href='../S/1054.html#L47077'>pPager</a>           47077 ext/sqlite3/libsqlite/sqlite3.c   pPage = sqlite3PcacheFetch(pPager-&gt;pPCache, pgno, 0);</span>
<span class='curline'><a href='../S/1054.html#L47078'>pPager</a>           47078 ext/sqlite3/libsqlite/sqlite3.c   assert( pPage==0 || pPager-&gt;hasBeenUsed );</span>
<span class='curline'><a href='../S/1054.html#L47079'>pPager</a>           47079 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3PcacheFetchFinish(pPager-&gt;pPCache, pgno, pPage);</span>
<span class='curline'><a href='../S/1054.html#L47091'>pPager</a>           47091 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager;</span>
<span class='curline'><a href='../S/1054.html#L47093'>pPager</a>           47093 ext/sqlite3/libsqlite/sqlite3.c   pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L47099'>pPager</a>           47099 ext/sqlite3/libsqlite/sqlite3.c   pagerUnlockIfUnused(pPager);</span>
<span class='curline'><a href='../S/1054.html#L47127'>pPager</a>           47127 ext/sqlite3/libsqlite/sqlite3.c static int pager_open_journal(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L47129'>pPager</a>           47129 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_vfs * const pVfs = pPager-&gt;pVfs;   /* Local cache of vfs pointer */</span>
<span class='curline'><a href='../S/1054.html#L47131'>pPager</a>           47131 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_WRITER_LOCKED );</span>
<span class='curline'><a href='../S/1054.html#L47132'>pPager</a>           47132 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47133'>pPager</a>           47133 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;pInJournal==0 );</span>
<span class='curline'><a href='../S/1054.html#L47138'>pPager</a>           47138 ext/sqlite3/libsqlite/sqlite3.c   if( NEVER(pPager-&gt;errCode) ) return pPager-&gt;errCode;</span>
<span class='curline'><a href='../S/1054.html#L47140'>pPager</a>           47140 ext/sqlite3/libsqlite/sqlite3.c   if( !pagerUseWal(pPager) &amp;&amp; pPager-&gt;journalMode!=PAGER_JOURNALMODE_OFF ){</span>
<span class='curline'><a href='../S/1054.html#L47141'>pPager</a>           47141 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;pInJournal = sqlite3BitvecCreate(pPager-&gt;dbSize);</span>
<span class='curline'><a href='../S/1054.html#L47142'>pPager</a>           47142 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;pInJournal==0 ){</span>
<span class='curline'><a href='../S/1054.html#L47147'>pPager</a>           47147 ext/sqlite3/libsqlite/sqlite3.c     if( !isOpen(pPager-&gt;jfd) ){</span>
<span class='curline'><a href='../S/1054.html#L47148'>pPager</a>           47148 ext/sqlite3/libsqlite/sqlite3.c       if( pPager-&gt;journalMode==PAGER_JOURNALMODE_MEMORY ){</span>
<span class='curline'><a href='../S/1054.html#L47149'>pPager</a>           47149 ext/sqlite3/libsqlite/sqlite3.c         sqlite3MemJournalOpen(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L47153'>pPager</a>           47153 ext/sqlite3/libsqlite/sqlite3.c           (pPager-&gt;tempFile ? </span>
<span class='curline'><a href='../S/1054.html#L47160'>pPager</a>           47160 ext/sqlite3/libsqlite/sqlite3.c         rc = databaseIsUnmoved(pPager);</span>
<span class='curline'><a href='../S/1054.html#L47164'>pPager</a>           47164 ext/sqlite3/libsqlite/sqlite3.c               pVfs, pPager-&gt;zJournal, pPager-&gt;jfd, flags, jrnlBufferSize(pPager)</span>
<span class='curline'><a href='../S/1054.html#L47167'>pPager</a>           47167 ext/sqlite3/libsqlite/sqlite3.c           rc = sqlite3OsOpen(pVfs, pPager-&gt;zJournal, pPager-&gt;jfd, flags, 0);</span>
<span class='curline'><a href='../S/1054.html#L47171'>pPager</a>           47171 ext/sqlite3/libsqlite/sqlite3.c       assert( rc!=SQLITE_OK || isOpen(pPager-&gt;jfd) );</span>
<span class='curline'><a href='../S/1054.html#L47180'>pPager</a>           47180 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;nRec = 0;</span>
<span class='curline'><a href='../S/1054.html#L47181'>pPager</a>           47181 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;journalOff = 0;</span>
<span class='curline'><a href='../S/1054.html#L47182'>pPager</a>           47182 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;setMaster = 0;</span>
<span class='curline'><a href='../S/1054.html#L47183'>pPager</a>           47183 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;journalHdr = 0;</span>
<span class='curline'><a href='../S/1054.html#L47184'>pPager</a>           47184 ext/sqlite3/libsqlite/sqlite3.c       rc = writeJournalHdr(pPager);</span>
<span class='curline'><a href='../S/1054.html#L47189'>pPager</a>           47189 ext/sqlite3/libsqlite/sqlite3.c     sqlite3BitvecDestroy(pPager-&gt;pInJournal);</span>
<span class='curline'><a href='../S/1054.html#L47190'>pPager</a>           47190 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;pInJournal = 0;</span>
<span class='curline'><a href='../S/1054.html#L47192'>pPager</a>           47192 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;eState==PAGER_WRITER_LOCKED );</span>
<span class='curline'><a href='../S/1054.html#L47193'>pPager</a>           47193 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;eState = PAGER_WRITER_CACHEMOD;</span>
<span class='curline'><a href='../S/1054.html#L47216'>pPager</a>           47216 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerBegin(Pager *pPager, int exFlag, int subjInMemory){</span>
<span class='curline'><a href='../S/1054.html#L47219'>pPager</a>           47219 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;errCode ) return pPager-&gt;errCode;</span>
<span class='curline'><a href='../S/1054.html#L47220'>pPager</a>           47220 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;=PAGER_READER &amp;&amp; pPager-&gt;eState&lt;PAGER_ERROR );</span>
<span class='curline'><a href='../S/1054.html#L47221'>pPager</a>           47221 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;subjInMemory = (u8)subjInMemory;</span>
<span class='curline'><a href='../S/1054.html#L47223'>pPager</a>           47223 ext/sqlite3/libsqlite/sqlite3.c   if( ALWAYS(pPager-&gt;eState==PAGER_READER) ){</span>
<span class='curline'><a href='../S/1054.html#L47224'>pPager</a>           47224 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;pInJournal==0 );</span>
<span class='curline'><a href='../S/1054.html#L47226'>pPager</a>           47226 ext/sqlite3/libsqlite/sqlite3.c     if( pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L47230'>pPager</a>           47230 ext/sqlite3/libsqlite/sqlite3.c       if( pPager-&gt;exclusiveMode &amp;&amp; sqlite3WalExclusiveMode(pPager-&gt;pWal, -1) ){</span>
<span class='curline'><a href='../S/1054.html#L47231'>pPager</a>           47231 ext/sqlite3/libsqlite/sqlite3.c         rc = pagerLockDb(pPager, EXCLUSIVE_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L47235'>pPager</a>           47235 ext/sqlite3/libsqlite/sqlite3.c         sqlite3WalExclusiveMode(pPager-&gt;pWal, 1);</span>
<span class='curline'><a href='../S/1054.html#L47243'>pPager</a>           47243 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3WalBeginWriteTransaction(pPager-&gt;pWal);</span>
<span class='curline'><a href='../S/1054.html#L47250'>pPager</a>           47250 ext/sqlite3/libsqlite/sqlite3.c       rc = pagerLockDb(pPager, RESERVED_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L47252'>pPager</a>           47252 ext/sqlite3/libsqlite/sqlite3.c         rc = pager_wait_on_lock(pPager, EXCLUSIVE_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L47266'>pPager</a>           47266 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;eState = PAGER_WRITER_LOCKED;</span>
<span class='curline'><a href='../S/1054.html#L47267'>pPager</a>           47267 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;dbHintSize = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/1054.html#L47268'>pPager</a>           47268 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;dbFileSize = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/1054.html#L47269'>pPager</a>           47269 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;dbOrigSize = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/1054.html#L47270'>pPager</a>           47270 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;journalOff = 0;</span>
<span class='curline'><a href='../S/1054.html#L47273'>pPager</a>           47273 ext/sqlite3/libsqlite/sqlite3.c     assert( rc==SQLITE_OK || pPager-&gt;eState==PAGER_READER );</span>
<span class='curline'><a href='../S/1054.html#L47274'>pPager</a>           47274 ext/sqlite3/libsqlite/sqlite3.c     assert( rc!=SQLITE_OK || pPager-&gt;eState==PAGER_WRITER_LOCKED );</span>
<span class='curline'><a href='../S/1054.html#L47275'>pPager</a>           47275 ext/sqlite3/libsqlite/sqlite3.c     assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47278'>pPager</a>           47278 ext/sqlite3/libsqlite/sqlite3.c   PAGERTRACE(("TRANSACTION %d\n", PAGERID(pPager)));</span>
<span class='curline'><a href='../S/1054.html#L47290'>pPager</a>           47290 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L47298'>pPager</a>           47298 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_WRITER_LOCKED</span>
<span class='curline'><a href='../S/1054.html#L47299'>pPager</a>           47299 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_WRITER_CACHEMOD</span>
<span class='curline'><a href='../S/1054.html#L47300'>pPager</a>           47300 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_WRITER_DBMOD</span>
<span class='curline'><a href='../S/1054.html#L47302'>pPager</a>           47302 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47303'>pPager</a>           47303 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;errCode==0 );</span>
<span class='curline'><a href='../S/1054.html#L47304'>pPager</a>           47304 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;readOnly==0 );</span>
<span class='curline'><a href='../S/1054.html#L47317'>pPager</a>           47317 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eState==PAGER_WRITER_LOCKED ){</span>
<span class='curline'><a href='../S/1054.html#L47318'>pPager</a>           47318 ext/sqlite3/libsqlite/sqlite3.c     rc = pager_open_journal(pPager);</span>
<span class='curline'><a href='../S/1054.html#L47321'>pPager</a>           47321 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;=PAGER_WRITER_CACHEMOD );</span>
<span class='curline'><a href='../S/1054.html#L47322'>pPager</a>           47322 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47328'>pPager</a>           47328 ext/sqlite3/libsqlite/sqlite3.c   inJournal = pageInJournal(pPager, pPg);</span>
<span class='curline'><a href='../S/1054.html#L47329'>pPager</a>           47329 ext/sqlite3/libsqlite/sqlite3.c   if( inJournal &amp;&amp; (pPager-&gt;nSavepoint==0 || !subjRequiresPage(pPg)) ){</span>
<span class='curline'><a href='../S/1054.html#L47330'>pPager</a>           47330 ext/sqlite3/libsqlite/sqlite3.c     assert( !pagerUseWal(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47337'>pPager</a>           47337 ext/sqlite3/libsqlite/sqlite3.c     if( !inJournal &amp;&amp; !pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L47338'>pPager</a>           47338 ext/sqlite3/libsqlite/sqlite3.c       assert( pagerUseWal(pPager)==0 );</span>
<span class='curline'><a href='../S/1054.html#L47339'>pPager</a>           47339 ext/sqlite3/libsqlite/sqlite3.c       if( pPg-&gt;pgno&lt;=pPager-&gt;dbOrigSize &amp;&amp; isOpen(pPager-&gt;jfd) ){</span>
<span class='curline'><a href='../S/1054.html#L47342'>pPager</a>           47342 ext/sqlite3/libsqlite/sqlite3.c         i64 iOff = pPager-&gt;journalOff;</span>
<span class='curline'><a href='../S/1054.html#L47347'>pPager</a>           47347 ext/sqlite3/libsqlite/sqlite3.c         assert( pPg-&gt;pgno!=PAGER_MJ_PGNO(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47349'>pPager</a>           47349 ext/sqlite3/libsqlite/sqlite3.c         assert( pPager-&gt;journalHdr&lt;=pPager-&gt;journalOff );</span>
<span class='curline'><a href='../S/1054.html#L47350'>pPager</a>           47350 ext/sqlite3/libsqlite/sqlite3.c         CODEC2(pPager, pPg-&gt;pData, pPg-&gt;pgno, 7, return SQLITE_NOMEM, pData2);</span>
<span class='curline'><a href='../S/1054.html#L47351'>pPager</a>           47351 ext/sqlite3/libsqlite/sqlite3.c         cksum = pager_cksum(pPager, (u8*)pData2);</span>
<span class='curline'><a href='../S/1054.html#L47362'>pPager</a>           47362 ext/sqlite3/libsqlite/sqlite3.c         rc = write32bits(pPager-&gt;jfd, iOff, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/1054.html#L47364'>pPager</a>           47364 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsWrite(pPager-&gt;jfd, pData2, pPager-&gt;pageSize, iOff+4);</span>
<span class='curline'><a href='../S/1054.html#L47366'>pPager</a>           47366 ext/sqlite3/libsqlite/sqlite3.c         rc = write32bits(pPager-&gt;jfd, iOff+pPager-&gt;pageSize+4, cksum);</span>
<span class='curline'><a href='../S/1054.html#L47369'>pPager</a>           47369 ext/sqlite3/libsqlite/sqlite3.c         IOTRACE(("JOUT %p %d %lld %d\n", pPager, pPg-&gt;pgno, </span>
<span class='curline'><a href='../S/1054.html#L47370'>pPager</a>           47370 ext/sqlite3/libsqlite/sqlite3.c                  pPager-&gt;journalOff, pPager-&gt;pageSize));</span>
<span class='curline'><a href='../S/1054.html#L47373'>pPager</a>           47373 ext/sqlite3/libsqlite/sqlite3.c              PAGERID(pPager), pPg-&gt;pgno, </span>
<span class='curline'><a href='../S/1054.html#L47376'>pPager</a>           47376 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;journalOff += 8 + pPager-&gt;pageSize;</span>
<span class='curline'><a href='../S/1054.html#L47377'>pPager</a>           47377 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;nRec++;</span>
<span class='curline'><a href='../S/1054.html#L47378'>pPager</a>           47378 ext/sqlite3/libsqlite/sqlite3.c         assert( pPager-&gt;pInJournal!=0 );</span>
<span class='curline'><a href='../S/1054.html#L47379'>pPager</a>           47379 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3BitvecSet(pPager-&gt;pInJournal, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/1054.html#L47382'>pPager</a>           47382 ext/sqlite3/libsqlite/sqlite3.c         rc |= addToSavepointBitvecs(pPager, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/1054.html#L47388'>pPager</a>           47388 ext/sqlite3/libsqlite/sqlite3.c         if( pPager-&gt;eState!=PAGER_WRITER_DBMOD ){</span>
<span class='curline'><a href='../S/1054.html#L47392'>pPager</a>           47392 ext/sqlite3/libsqlite/sqlite3.c                 PAGERID(pPager), pPg-&gt;pgno,</span>
<span class='curline'><a href='../S/1054.html#L47402'>pPager</a>           47402 ext/sqlite3/libsqlite/sqlite3.c     if( pPager-&gt;nSavepoint&gt;0 &amp;&amp; subjRequiresPage(pPg) ){</span>
<span class='curline'><a href='../S/1054.html#L47409'>pPager</a>           47409 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;dbSize&lt;pPg-&gt;pgno ){</span>
<span class='curline'><a href='../S/1054.html#L47410'>pPager</a>           47410 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;dbSize = pPg-&gt;pgno;</span>
<span class='curline'><a href='../S/1054.html#L47433'>pPager</a>           47433 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = pPg-&gt;pPager;   /* The pager that owns pPg */</span>
<span class='curline'><a href='../S/1054.html#L47434'>pPager</a>           47434 ext/sqlite3/libsqlite/sqlite3.c   Pgno nPagePerSector = (pPager-&gt;sectorSize/pPager-&gt;pageSize);</span>
<span class='curline'><a href='../S/1054.html#L47441'>pPager</a>           47441 ext/sqlite3/libsqlite/sqlite3.c   assert( (pPager-&gt;doNotSpill &amp; SPILLFLAG_NOSYNC)==0 );</span>
<span class='curline'><a href='../S/1054.html#L47442'>pPager</a>           47442 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;doNotSpill |= SPILLFLAG_NOSYNC;</span>
<span class='curline'><a href='../S/1054.html#L47450'>pPager</a>           47450 ext/sqlite3/libsqlite/sqlite3.c   nPageCount = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/1054.html#L47465'>pPager</a>           47465 ext/sqlite3/libsqlite/sqlite3.c     if( pg==pPg-&gt;pgno || !sqlite3BitvecTest(pPager-&gt;pInJournal, pg) ){</span>
<span class='curline'><a href='../S/1054.html#L47466'>pPager</a>           47466 ext/sqlite3/libsqlite/sqlite3.c       if( pg!=PAGER_MJ_PGNO(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L47467'>pPager</a>           47467 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3PagerGet(pPager, pg, &amp;pPage);</span>
<span class='curline'><a href='../S/1054.html#L47476'>pPager</a>           47476 ext/sqlite3/libsqlite/sqlite3.c     }else if( (pPage = sqlite3PagerLookup(pPager, pg))!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L47493'>pPager</a>           47493 ext/sqlite3/libsqlite/sqlite3.c       PgHdr *pPage = sqlite3PagerLookup(pPager, pg1+ii);</span>
<span class='curline'><a href='../S/1054.html#L47501'>pPager</a>           47501 ext/sqlite3/libsqlite/sqlite3.c   assert( (pPager-&gt;doNotSpill &amp; SPILLFLAG_NOSYNC)!=0 );</span>
<span class='curline'><a href='../S/1054.html#L47502'>pPager</a>           47502 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;doNotSpill &amp;= ~SPILLFLAG_NOSYNC;</span>
<span class='curline'><a href='../S/1054.html#L47522'>pPager</a>           47522 ext/sqlite3/libsqlite/sqlite3.c   assert( pPg-&gt;pPager-&gt;eState&gt;=PAGER_WRITER_LOCKED );</span>
<span class='curline'><a href='../S/1054.html#L47523'>pPager</a>           47523 ext/sqlite3/libsqlite/sqlite3.c   assert( pPg-&gt;pPager-&gt;eState!=PAGER_ERROR );</span>
<span class='curline'><a href='../S/1054.html#L47524'>pPager</a>           47524 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPg-&gt;pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47525'>pPager</a>           47525 ext/sqlite3/libsqlite/sqlite3.c   if( pPg-&gt;pPager-&gt;sectorSize &gt; (u32)pPg-&gt;pPager-&gt;pageSize ){</span>
<span class='curline'><a href='../S/1054.html#L47558'>pPager</a>           47558 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L47559'>pPager</a>           47559 ext/sqlite3/libsqlite/sqlite3.c   if( (pPg-&gt;flags&amp;PGHDR_DIRTY) &amp;&amp; pPager-&gt;nSavepoint==0 ){</span>
<span class='curline'><a href='../S/1054.html#L47560'>pPager</a>           47560 ext/sqlite3/libsqlite/sqlite3.c     PAGERTRACE(("DONT_WRITE page %d of %d\n", pPg-&gt;pgno, PAGERID(pPager)));</span>
<span class='curline'><a href='../S/1054.html#L47561'>pPager</a>           47561 ext/sqlite3/libsqlite/sqlite3.c     IOTRACE(("CLEAN %p %d\n", pPager, pPg-&gt;pgno))</span>
<span class='curline'><a href='../S/1054.html#L47589'>pPager</a>           47589 ext/sqlite3/libsqlite/sqlite3.c static int pager_incr_changecounter(Pager *pPager, int isDirectMode){</span>
<span class='curline'><a href='../S/1054.html#L47592'>pPager</a>           47592 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_WRITER_CACHEMOD</span>
<span class='curline'><a href='../S/1054.html#L47593'>pPager</a>           47593 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_WRITER_DBMOD</span>
<span class='curline'><a href='../S/1054.html#L47595'>pPager</a>           47595 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47615'>pPager</a>           47615 ext/sqlite3/libsqlite/sqlite3.c   if( !pPager-&gt;changeCountDone &amp;&amp; ALWAYS(pPager-&gt;dbSize&gt;0) ){</span>
<span class='curline'><a href='../S/1054.html#L47618'>pPager</a>           47618 ext/sqlite3/libsqlite/sqlite3.c     assert( !pPager-&gt;tempFile &amp;&amp; isOpen(pPager-&gt;fd) );</span>
<span class='curline'><a href='../S/1054.html#L47621'>pPager</a>           47621 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerGet(pPager, 1, &amp;pPgHdr);</span>
<span class='curline'><a href='../S/1054.html#L47640'>pPager</a>           47640 ext/sqlite3/libsqlite/sqlite3.c         assert( pPager-&gt;dbFileSize&gt;0 );</span>
<span class='curline'><a href='../S/1054.html#L47641'>pPager</a>           47641 ext/sqlite3/libsqlite/sqlite3.c         CODEC2(pPager, pPgHdr-&gt;pData, 1, 6, rc=SQLITE_NOMEM, zBuf);</span>
<span class='curline'><a href='../S/1054.html#L47643'>pPager</a>           47643 ext/sqlite3/libsqlite/sqlite3.c           rc = sqlite3OsWrite(pPager-&gt;fd, zBuf, pPager-&gt;pageSize, 0);</span>
<span class='curline'><a href='../S/1054.html#L47644'>pPager</a>           47644 ext/sqlite3/libsqlite/sqlite3.c           pPager-&gt;aStat[PAGER_STAT_WRITE]++;</span>
<span class='curline'><a href='../S/1054.html#L47651'>pPager</a>           47651 ext/sqlite3/libsqlite/sqlite3.c           memcpy(&amp;pPager-&gt;dbFileVers, pCopy, sizeof(pPager-&gt;dbFileVers));</span>
<span class='curline'><a href='../S/1054.html#L47652'>pPager</a>           47652 ext/sqlite3/libsqlite/sqlite3.c           pPager-&gt;changeCountDone = 1;</span>
<span class='curline'><a href='../S/1054.html#L47655'>pPager</a>           47655 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;changeCountDone = 1;</span>
<span class='curline'><a href='../S/1054.html#L47672'>pPager</a>           47672 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerSync(Pager *pPager, const char *zMaster){</span>
<span class='curline'><a href='../S/1054.html#L47675'>pPager</a>           47675 ext/sqlite3/libsqlite/sqlite3.c   if( isOpen(pPager-&gt;fd) ){</span>
<span class='curline'><a href='../S/1054.html#L47677'>pPager</a>           47677 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsFileControl(pPager-&gt;fd, SQLITE_FCNTL_SYNC, pArg);</span>
<span class='curline'><a href='../S/1054.html#L47680'>pPager</a>           47680 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; !pPager-&gt;noSync ){</span>
<span class='curline'><a href='../S/1054.html#L47682'>pPager</a>           47682 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsSync(pPager-&gt;fd, pPager-&gt;syncFlags);</span>
<span class='curline'><a href='../S/1054.html#L47698'>pPager</a>           47698 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerExclusiveLock(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L47700'>pPager</a>           47700 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_WRITER_CACHEMOD </span>
<span class='curline'><a href='../S/1054.html#L47701'>pPager</a>           47701 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_WRITER_DBMOD </span>
<span class='curline'><a href='../S/1054.html#L47702'>pPager</a>           47702 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_WRITER_LOCKED </span>
<span class='curline'><a href='../S/1054.html#L47704'>pPager</a>           47704 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47705'>pPager</a>           47705 ext/sqlite3/libsqlite/sqlite3.c   if( 0==pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L47706'>pPager</a>           47706 ext/sqlite3/libsqlite/sqlite3.c     rc = pager_wait_on_lock(pPager, EXCLUSIVE_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L47738'>pPager</a>           47738 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager,                  /* Pager object */</span>
<span class='curline'><a href='../S/1054.html#L47744'>pPager</a>           47744 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_WRITER_LOCKED</span>
<span class='curline'><a href='../S/1054.html#L47745'>pPager</a>           47745 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_WRITER_CACHEMOD</span>
<span class='curline'><a href='../S/1054.html#L47746'>pPager</a>           47746 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_WRITER_DBMOD</span>
<span class='curline'><a href='../S/1054.html#L47747'>pPager</a>           47747 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_ERROR</span>
<span class='curline'><a href='../S/1054.html#L47749'>pPager</a>           47749 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47752'>pPager</a>           47752 ext/sqlite3/libsqlite/sqlite3.c   if( NEVER(pPager-&gt;errCode) ) return pPager-&gt;errCode;</span>
<span class='curline'><a href='../S/1054.html#L47755'>pPager</a>           47755 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;zFilename, zMaster, pPager-&gt;dbSize));</span>
<span class='curline'><a href='../S/1054.html#L47758'>pPager</a>           47758 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eState&lt;PAGER_WRITER_CACHEMOD ) return SQLITE_OK;</span>
<span class='curline'><a href='../S/1054.html#L47765'>pPager</a>           47765 ext/sqlite3/libsqlite/sqlite3.c     sqlite3BackupRestart(pPager-&gt;pBackup);</span>
<span class='curline'><a href='../S/1054.html#L47767'>pPager</a>           47767 ext/sqlite3/libsqlite/sqlite3.c     if( pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L47768'>pPager</a>           47768 ext/sqlite3/libsqlite/sqlite3.c       PgHdr *pList = sqlite3PcacheDirtyList(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L47773'>pPager</a>           47773 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3PagerGet(pPager, 1, &amp;pPageOne);</span>
<span class='curline'><a href='../S/1054.html#L47779'>pPager</a>           47779 ext/sqlite3/libsqlite/sqlite3.c         rc = pagerWalFrames(pPager, pList, pPager-&gt;dbSize, 1);</span>
<span class='curline'><a href='../S/1054.html#L47783'>pPager</a>           47783 ext/sqlite3/libsqlite/sqlite3.c         sqlite3PcacheCleanAll(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L47811'>pPager</a>           47811 ext/sqlite3/libsqlite/sqlite3.c       assert( isOpen(pPager-&gt;jfd) </span>
<span class='curline'><a href='../S/1054.html#L47812'>pPager</a>           47812 ext/sqlite3/libsqlite/sqlite3.c            || pPager-&gt;journalMode==PAGER_JOURNALMODE_OFF </span>
<span class='curline'><a href='../S/1054.html#L47813'>pPager</a>           47813 ext/sqlite3/libsqlite/sqlite3.c            || pPager-&gt;journalMode==PAGER_JOURNALMODE_WAL </span>
<span class='curline'><a href='../S/1054.html#L47815'>pPager</a>           47815 ext/sqlite3/libsqlite/sqlite3.c       if( !zMaster &amp;&amp; isOpen(pPager-&gt;jfd) </span>
<span class='curline'><a href='../S/1054.html#L47816'>pPager</a>           47816 ext/sqlite3/libsqlite/sqlite3.c        &amp;&amp; pPager-&gt;journalOff==jrnlBufferSize(pPager) </span>
<span class='curline'><a href='../S/1054.html#L47817'>pPager</a>           47817 ext/sqlite3/libsqlite/sqlite3.c        &amp;&amp; pPager-&gt;dbSize&gt;=pPager-&gt;dbOrigSize</span>
<span class='curline'><a href='../S/1054.html#L47818'>pPager</a>           47818 ext/sqlite3/libsqlite/sqlite3.c        &amp;&amp; (0==(pPg = sqlite3PcacheDirtyList(pPager-&gt;pPCache)) || 0==pPg-&gt;pDirty)</span>
<span class='curline'><a href='../S/1054.html#L47826'>pPager</a>           47826 ext/sqlite3/libsqlite/sqlite3.c         rc = pager_incr_changecounter(pPager, 1);</span>
<span class='curline'><a href='../S/1054.html#L47828'>pPager</a>           47828 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3JournalCreate(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L47830'>pPager</a>           47830 ext/sqlite3/libsqlite/sqlite3.c           rc = pager_incr_changecounter(pPager, 0);</span>
<span class='curline'><a href='../S/1054.html#L47834'>pPager</a>           47834 ext/sqlite3/libsqlite/sqlite3.c       rc = pager_incr_changecounter(pPager, 0);</span>
<span class='curline'><a href='../S/1054.html#L47842'>pPager</a>           47842 ext/sqlite3/libsqlite/sqlite3.c       rc = writeMasterJournal(pPager, zMaster);</span>
<span class='curline'><a href='../S/1054.html#L47856'>pPager</a>           47856 ext/sqlite3/libsqlite/sqlite3.c       rc = syncJournal(pPager, 0);</span>
<span class='curline'><a href='../S/1054.html#L47859'>pPager</a>           47859 ext/sqlite3/libsqlite/sqlite3.c       rc = pager_write_pagelist(pPager,sqlite3PcacheDirtyList(pPager-&gt;pPCache));</span>
<span class='curline'><a href='../S/1054.html#L47864'>pPager</a>           47864 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PcacheCleanAll(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L47872'>pPager</a>           47872 ext/sqlite3/libsqlite/sqlite3.c       if( pPager-&gt;dbSize&gt;pPager-&gt;dbFileSize ){</span>
<span class='curline'><a href='../S/1054.html#L47873'>pPager</a>           47873 ext/sqlite3/libsqlite/sqlite3.c         Pgno nNew = pPager-&gt;dbSize - (pPager-&gt;dbSize==PAGER_MJ_PGNO(pPager));</span>
<span class='curline'><a href='../S/1054.html#L47874'>pPager</a>           47874 ext/sqlite3/libsqlite/sqlite3.c         assert( pPager-&gt;eState==PAGER_WRITER_DBMOD );</span>
<span class='curline'><a href='../S/1054.html#L47875'>pPager</a>           47875 ext/sqlite3/libsqlite/sqlite3.c         rc = pager_truncate(pPager, nNew);</span>
<span class='curline'><a href='../S/1054.html#L47881'>pPager</a>           47881 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3PagerSync(pPager, zMaster);</span>
<span class='curline'><a href='../S/1054.html#L47883'>pPager</a>           47883 ext/sqlite3/libsqlite/sqlite3.c       IOTRACE(("DBSYNC %p\n", pPager))</span>
<span class='curline'><a href='../S/1054.html#L47888'>pPager</a>           47888 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; !pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L47889'>pPager</a>           47889 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;eState = PAGER_WRITER_FINISHED;</span>
<span class='curline'><a href='../S/1054.html#L47910'>pPager</a>           47910 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerCommitPhaseTwo(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L47916'>pPager</a>           47916 ext/sqlite3/libsqlite/sqlite3.c   if( NEVER(pPager-&gt;errCode) ) return pPager-&gt;errCode;</span>
<span class='curline'><a href='../S/1054.html#L47918'>pPager</a>           47918 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_WRITER_LOCKED</span>
<span class='curline'><a href='../S/1054.html#L47919'>pPager</a>           47919 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_WRITER_FINISHED</span>
<span class='curline'><a href='../S/1054.html#L47920'>pPager</a>           47920 ext/sqlite3/libsqlite/sqlite3.c        || (pagerUseWal(pPager) &amp;&amp; pPager-&gt;eState==PAGER_WRITER_CACHEMOD)</span>
<span class='curline'><a href='../S/1054.html#L47922'>pPager</a>           47922 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47935'>pPager</a>           47935 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eState==PAGER_WRITER_LOCKED </span>
<span class='curline'><a href='../S/1054.html#L47936'>pPager</a>           47936 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; pPager-&gt;exclusiveMode </span>
<span class='curline'><a href='../S/1054.html#L47937'>pPager</a>           47937 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; pPager-&gt;journalMode==PAGER_JOURNALMODE_PERSIST</span>
<span class='curline'><a href='../S/1054.html#L47939'>pPager</a>           47939 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;journalOff==JOURNAL_HDR_SZ(pPager) || !pPager-&gt;journalOff );</span>
<span class='curline'><a href='../S/1054.html#L47940'>pPager</a>           47940 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;eState = PAGER_READER;</span>
<span class='curline'><a href='../S/1054.html#L47944'>pPager</a>           47944 ext/sqlite3/libsqlite/sqlite3.c   PAGERTRACE(("COMMIT %d\n", PAGERID(pPager)));</span>
<span class='curline'><a href='../S/1054.html#L47945'>pPager</a>           47945 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;iDataVersion++;</span>
<span class='curline'><a href='../S/1054.html#L47946'>pPager</a>           47946 ext/sqlite3/libsqlite/sqlite3.c   rc = pager_end_transaction(pPager, pPager-&gt;setMaster, 1);</span>
<span class='curline'><a href='../S/1054.html#L47947'>pPager</a>           47947 ext/sqlite3/libsqlite/sqlite3.c   return pager_error(pPager, rc);</span>
<span class='curline'><a href='../S/1054.html#L47976'>pPager</a>           47976 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerRollback(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L47978'>pPager</a>           47978 ext/sqlite3/libsqlite/sqlite3.c   PAGERTRACE(("ROLLBACK %d\n", PAGERID(pPager)));</span>
<span class='curline'><a href='../S/1054.html#L47984'>pPager</a>           47984 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L47985'>pPager</a>           47985 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eState==PAGER_ERROR ) return pPager-&gt;errCode;</span>
<span class='curline'><a href='../S/1054.html#L47986'>pPager</a>           47986 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eState&lt;=PAGER_READER ) return SQLITE_OK;</span>
<span class='curline'><a href='../S/1054.html#L47988'>pPager</a>           47988 ext/sqlite3/libsqlite/sqlite3.c   if( pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L47990'>pPager</a>           47990 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerSavepoint(pPager, SAVEPOINT_ROLLBACK, -1);</span>
<span class='curline'><a href='../S/1054.html#L47991'>pPager</a>           47991 ext/sqlite3/libsqlite/sqlite3.c     rc2 = pager_end_transaction(pPager, pPager-&gt;setMaster, 0);</span>
<span class='curline'><a href='../S/1054.html#L47993'>pPager</a>           47993 ext/sqlite3/libsqlite/sqlite3.c   }else if( !isOpen(pPager-&gt;jfd) || pPager-&gt;eState==PAGER_WRITER_LOCKED ){</span>
<span class='curline'><a href='../S/1054.html#L47994'>pPager</a>           47994 ext/sqlite3/libsqlite/sqlite3.c     int eState = pPager-&gt;eState;</span>
<span class='curline'><a href='../S/1054.html#L47995'>pPager</a>           47995 ext/sqlite3/libsqlite/sqlite3.c     rc = pager_end_transaction(pPager, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L48001'>pPager</a>           48001 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;errCode = SQLITE_ABORT;</span>
<span class='curline'><a href='../S/1054.html#L48002'>pPager</a>           48002 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;eState = PAGER_ERROR;</span>
<span class='curline'><a href='../S/1054.html#L48006'>pPager</a>           48006 ext/sqlite3/libsqlite/sqlite3.c     rc = pager_playback(pPager, 0);</span>
<span class='curline'><a href='../S/1054.html#L48009'>pPager</a>           48009 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_READER || rc!=SQLITE_OK );</span>
<span class='curline'><a href='../S/1054.html#L48018'>pPager</a>           48018 ext/sqlite3/libsqlite/sqlite3.c   return pager_error(pPager, rc);</span>
<span class='curline'><a href='../S/1054.html#L48025'>pPager</a>           48025 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE u8 sqlite3PagerIsreadonly(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48026'>pPager</a>           48026 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;readOnly;</span>
<span class='curline'><a href='../S/1054.html#L48032'>pPager</a>           48032 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerRefcount(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48033'>pPager</a>           48033 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3PcacheRefCount(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L48040'>pPager</a>           48040 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerMemUsed(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48041'>pPager</a>           48041 ext/sqlite3/libsqlite/sqlite3.c   int perPageSize = pPager-&gt;pageSize + pPager-&gt;nExtra + sizeof(PgHdr)</span>
<span class='curline'><a href='../S/1054.html#L48043'>pPager</a>           48043 ext/sqlite3/libsqlite/sqlite3.c   return perPageSize*sqlite3PcachePagecount(pPager-&gt;pPCache)</span>
<span class='curline'><a href='../S/1054.html#L48044'>pPager</a>           48044 ext/sqlite3/libsqlite/sqlite3.c            + sqlite3MallocSize(pPager)</span>
<span class='curline'><a href='../S/1054.html#L48045'>pPager</a>           48045 ext/sqlite3/libsqlite/sqlite3.c            + pPager-&gt;pageSize;</span>
<span class='curline'><a href='../S/1054.html#L48059'>pPager</a>           48059 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int *sqlite3PagerStats(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48061'>pPager</a>           48061 ext/sqlite3/libsqlite/sqlite3.c   a[0] = sqlite3PcacheRefCount(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L48062'>pPager</a>           48062 ext/sqlite3/libsqlite/sqlite3.c   a[1] = sqlite3PcachePagecount(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L48063'>pPager</a>           48063 ext/sqlite3/libsqlite/sqlite3.c   a[2] = sqlite3PcacheGetCachesize(pPager-&gt;pPCache);</span>
<span class='curline'><a href='../S/1054.html#L48064'>pPager</a>           48064 ext/sqlite3/libsqlite/sqlite3.c   a[3] = pPager-&gt;eState==PAGER_OPEN ? -1 : (int) pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/1054.html#L48065'>pPager</a>           48065 ext/sqlite3/libsqlite/sqlite3.c   a[4] = pPager-&gt;eState;</span>
<span class='curline'><a href='../S/1054.html#L48066'>pPager</a>           48066 ext/sqlite3/libsqlite/sqlite3.c   a[5] = pPager-&gt;errCode;</span>
<span class='curline'><a href='../S/1054.html#L48067'>pPager</a>           48067 ext/sqlite3/libsqlite/sqlite3.c   a[6] = pPager-&gt;aStat[PAGER_STAT_HIT];</span>
<span class='curline'><a href='../S/1054.html#L48068'>pPager</a>           48068 ext/sqlite3/libsqlite/sqlite3.c   a[7] = pPager-&gt;aStat[PAGER_STAT_MISS];</span>
<span class='curline'><a href='../S/1054.html#L48070'>pPager</a>           48070 ext/sqlite3/libsqlite/sqlite3.c   a[9] = pPager-&gt;nRead;</span>
<span class='curline'><a href='../S/1054.html#L48071'>pPager</a>           48071 ext/sqlite3/libsqlite/sqlite3.c   a[10] = pPager-&gt;aStat[PAGER_STAT_WRITE];</span>
<span class='curline'><a href='../S/1054.html#L48083'>pPager</a>           48083 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3PagerCacheStat(Pager *pPager, int eStat, int reset, int *pnVal){</span>
<span class='curline'><a href='../S/1054.html#L48094'>pPager</a>           48094 ext/sqlite3/libsqlite/sqlite3.c   *pnVal += pPager-&gt;aStat[eStat - SQLITE_DBSTATUS_CACHE_HIT];</span>
<span class='curline'><a href='../S/1054.html#L48096'>pPager</a>           48096 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;aStat[eStat - SQLITE_DBSTATUS_CACHE_HIT] = 0;</span>
<span class='curline'><a href='../S/1054.html#L48103'>pPager</a>           48103 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerIsMemdb(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48117'>pPager</a>           48117 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerOpenSavepoint(Pager *pPager, int nSavepoint){</span>
<span class='curline'><a href='../S/1054.html#L48119'>pPager</a>           48119 ext/sqlite3/libsqlite/sqlite3.c   int nCurrent = pPager-&gt;nSavepoint;        /* Current number of savepoints */</span>
<span class='curline'><a href='../S/1054.html#L48121'>pPager</a>           48121 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;=PAGER_WRITER_LOCKED );</span>
<span class='curline'><a href='../S/1054.html#L48122'>pPager</a>           48122 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L48124'>pPager</a>           48124 ext/sqlite3/libsqlite/sqlite3.c   if( nSavepoint&gt;nCurrent &amp;&amp; pPager-&gt;useJournal ){</span>
<span class='curline'><a href='../S/1054.html#L48133'>pPager</a>           48133 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;aSavepoint, sizeof(PagerSavepoint)*nSavepoint</span>
<span class='curline'><a href='../S/1054.html#L48139'>pPager</a>           48139 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;aSavepoint = aNew;</span>
<span class='curline'><a href='../S/1054.html#L48143'>pPager</a>           48143 ext/sqlite3/libsqlite/sqlite3.c       aNew[ii].nOrig = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/1054.html#L48144'>pPager</a>           48144 ext/sqlite3/libsqlite/sqlite3.c       if( isOpen(pPager-&gt;jfd) &amp;&amp; pPager-&gt;journalOff&gt;0 ){</span>
<span class='curline'><a href='../S/1054.html#L48145'>pPager</a>           48145 ext/sqlite3/libsqlite/sqlite3.c         aNew[ii].iOffset = pPager-&gt;journalOff;</span>
<span class='curline'><a href='../S/1054.html#L48147'>pPager</a>           48147 ext/sqlite3/libsqlite/sqlite3.c         aNew[ii].iOffset = JOURNAL_HDR_SZ(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48149'>pPager</a>           48149 ext/sqlite3/libsqlite/sqlite3.c       aNew[ii].iSubRec = pPager-&gt;nSubRec;</span>
<span class='curline'><a href='../S/1054.html#L48150'>pPager</a>           48150 ext/sqlite3/libsqlite/sqlite3.c       aNew[ii].pInSavepoint = sqlite3BitvecCreate(pPager-&gt;dbSize);</span>
<span class='curline'><a href='../S/1054.html#L48154'>pPager</a>           48154 ext/sqlite3/libsqlite/sqlite3.c       if( pagerUseWal(pPager) ){</span>
<span class='curline'><a href='../S/1054.html#L48155'>pPager</a>           48155 ext/sqlite3/libsqlite/sqlite3.c         sqlite3WalSavepoint(pPager-&gt;pWal, aNew[ii].aWalData);</span>
<span class='curline'><a href='../S/1054.html#L48157'>pPager</a>           48157 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;nSavepoint = ii+1;</span>
<span class='curline'><a href='../S/1054.html#L48159'>pPager</a>           48159 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;nSavepoint==nSavepoint );</span>
<span class='curline'><a href='../S/1054.html#L48160'>pPager</a>           48160 ext/sqlite3/libsqlite/sqlite3.c     assertTruncateConstraint(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48196'>pPager</a>           48196 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerSavepoint(Pager *pPager, int op, int iSavepoint){</span>
<span class='curline'><a href='../S/1054.html#L48197'>pPager</a>           48197 ext/sqlite3/libsqlite/sqlite3.c   int rc = pPager-&gt;errCode;       /* Return code */</span>
<span class='curline'><a href='../S/1054.html#L48202'>pPager</a>           48202 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; iSavepoint&lt;pPager-&gt;nSavepoint ){</span>
<span class='curline'><a href='../S/1054.html#L48211'>pPager</a>           48211 ext/sqlite3/libsqlite/sqlite3.c     for(ii=nNew; ii&lt;pPager-&gt;nSavepoint; ii++){</span>
<span class='curline'><a href='../S/1054.html#L48212'>pPager</a>           48212 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BitvecDestroy(pPager-&gt;aSavepoint[ii].pInSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L48214'>pPager</a>           48214 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;nSavepoint = nNew;</span>
<span class='curline'><a href='../S/1054.html#L48219'>pPager</a>           48219 ext/sqlite3/libsqlite/sqlite3.c       if( nNew==0 &amp;&amp; isOpen(pPager-&gt;sjfd) ){</span>
<span class='curline'><a href='../S/1054.html#L48221'>pPager</a>           48221 ext/sqlite3/libsqlite/sqlite3.c         if( sqlite3IsMemJournal(pPager-&gt;sjfd) ){</span>
<span class='curline'><a href='../S/1054.html#L48222'>pPager</a>           48222 ext/sqlite3/libsqlite/sqlite3.c           rc = sqlite3OsTruncate(pPager-&gt;sjfd, 0);</span>
<span class='curline'><a href='../S/1054.html#L48225'>pPager</a>           48225 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;nSubRec = 0;</span>
<span class='curline'><a href='../S/1054.html#L48233'>pPager</a>           48233 ext/sqlite3/libsqlite/sqlite3.c     else if( pagerUseWal(pPager) || isOpen(pPager-&gt;jfd) ){</span>
<span class='curline'><a href='../S/1054.html#L48234'>pPager</a>           48234 ext/sqlite3/libsqlite/sqlite3.c       PagerSavepoint *pSavepoint = (nNew==0)?0:&amp;pPager-&gt;aSavepoint[nNew-1];</span>
<span class='curline'><a href='../S/1054.html#L48235'>pPager</a>           48235 ext/sqlite3/libsqlite/sqlite3.c       rc = pagerPlaybackSavepoint(pPager, pSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L48253'>pPager</a>           48253 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE const char *sqlite3PagerFilename(Pager *pPager, int nullIfMemDb){</span>
<span class='curline'><a href='../S/1054.html#L48254'>pPager</a>           48254 ext/sqlite3/libsqlite/sqlite3.c   return (nullIfMemDb &amp;&amp; pPager-&gt;memDb) ? "" : pPager-&gt;zFilename;</span>
<span class='curline'><a href='../S/1054.html#L48260'>pPager</a>           48260 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE const sqlite3_vfs *sqlite3PagerVfs(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48261'>pPager</a>           48261 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;pVfs;</span>
<span class='curline'><a href='../S/1054.html#L48269'>pPager</a>           48269 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE sqlite3_file *sqlite3PagerFile(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48270'>pPager</a>           48270 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;fd;</span>
<span class='curline'><a href='../S/1054.html#L48276'>pPager</a>           48276 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE const char *sqlite3PagerJournalname(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48277'>pPager</a>           48277 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;zJournal;</span>
<span class='curline'><a href='../S/1054.html#L48284'>pPager</a>           48284 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerNosync(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48285'>pPager</a>           48285 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;noSync;</span>
<span class='curline'><a href='../S/1054.html#L48293'>pPager</a>           48293 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager,</span>
<span class='curline'><a href='../S/1054.html#L48299'>pPager</a>           48299 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;xCodecFree ) pPager-&gt;xCodecFree(pPager-&gt;pCodec);</span>
<span class='curline'><a href='../S/1054.html#L48300'>pPager</a>           48300 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;xCodec = pPager-&gt;memDb ? 0 : xCodec;</span>
<span class='curline'><a href='../S/1054.html#L48301'>pPager</a>           48301 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;xCodecSizeChng = xCodecSizeChng;</span>
<span class='curline'><a href='../S/1054.html#L48302'>pPager</a>           48302 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;xCodecFree = xCodecFree;</span>
<span class='curline'><a href='../S/1054.html#L48303'>pPager</a>           48303 ext/sqlite3/libsqlite/sqlite3.c   pPager-&gt;pCodec = pCodec;</span>
<span class='curline'><a href='../S/1054.html#L48304'>pPager</a>           48304 ext/sqlite3/libsqlite/sqlite3.c   pagerReportSize(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48306'>pPager</a>           48306 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void *sqlite3PagerGetCodec(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48307'>pPager</a>           48307 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;pCodec;</span>
<span class='curline'><a href='../S/1054.html#L48319'>pPager</a>           48319 ext/sqlite3/libsqlite/sqlite3.c   CODEC2(pPg-&gt;pPager, pPg-&gt;pData, pPg-&gt;pgno, 6, return 0, aData);</span>
<span class='curline'><a href='../S/1054.html#L48326'>pPager</a>           48326 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerState(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48327'>pPager</a>           48327 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;eState;</span>
<span class='curline'><a href='../S/1054.html#L48357'>pPager</a>           48357 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerMovepage(Pager *pPager, DbPage *pPg, Pgno pgno, int isCommit){</span>
<span class='curline'><a href='../S/1054.html#L48364'>pPager</a>           48364 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_WRITER_CACHEMOD</span>
<span class='curline'><a href='../S/1054.html#L48365'>pPager</a>           48365 ext/sqlite3/libsqlite/sqlite3.c        || pPager-&gt;eState==PAGER_WRITER_DBMOD</span>
<span class='curline'><a href='../S/1054.html#L48367'>pPager</a>           48367 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L48403'>pPager</a>           48403 ext/sqlite3/libsqlite/sqlite3.c       PAGERID(pPager), pPg-&gt;pgno, (pPg-&gt;flags&amp;PGHDR_NEED_SYNC)?1:0, pgno));</span>
<span class='curline'><a href='../S/1054.html#L48404'>pPager</a>           48404 ext/sqlite3/libsqlite/sqlite3.c   IOTRACE(("MOVE %p %d %d\n", pPager, pPg-&gt;pgno, pgno))</span>
<span class='curline'><a href='../S/1054.html#L48415'>pPager</a>           48415 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;journalMode==PAGER_JOURNALMODE_OFF ||</span>
<span class='curline'><a href='../S/1054.html#L48416'>pPager</a>           48416 ext/sqlite3/libsqlite/sqlite3.c             pageInJournal(pPager, pPg) || pPg-&gt;pgno&gt;pPager-&gt;dbOrigSize );</span>
<span class='curline'><a href='../S/1054.html#L48426'>pPager</a>           48426 ext/sqlite3/libsqlite/sqlite3.c   pPgOld = sqlite3PagerLookup(pPager, pgno);</span>
<span class='curline'><a href='../S/1054.html#L48433'>pPager</a>           48433 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PcacheMove(pPgOld, pPager-&gt;dbSize+1);</span>
<span class='curline'><a href='../S/1054.html#L48469'>pPager</a>           48469 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerGet(pPager, needSyncPgno, &amp;pPgHdr);</span>
<span class='curline'><a href='../S/1054.html#L48471'>pPager</a>           48471 ext/sqlite3/libsqlite/sqlite3.c       if( needSyncPgno&lt;=pPager-&gt;dbOrigSize ){</span>
<span class='curline'><a href='../S/1054.html#L48472'>pPager</a>           48472 ext/sqlite3/libsqlite/sqlite3.c         assert( pPager-&gt;pTmpSpace!=0 );</span>
<span class='curline'><a href='../S/1054.html#L48473'>pPager</a>           48473 ext/sqlite3/libsqlite/sqlite3.c         sqlite3BitvecClear(pPager-&gt;pInJournal, needSyncPgno, pPager-&gt;pTmpSpace);</span>
<span class='curline'><a href='../S/1054.html#L48502'>pPager</a>           48502 ext/sqlite3/libsqlite/sqlite3.c   assert( pPg-&gt;nRef&gt;0 || pPg-&gt;pPager-&gt;memDb );</span>
<span class='curline'><a href='../S/1054.html#L48524'>pPager</a>           48524 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerLockingMode(Pager *pPager, int eMode){</span>
<span class='curline'><a href='../S/1054.html#L48530'>pPager</a>           48530 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;exclusiveMode || 0==sqlite3WalHeapMemory(pPager-&gt;pWal) );</span>
<span class='curline'><a href='../S/1054.html#L48531'>pPager</a>           48531 ext/sqlite3/libsqlite/sqlite3.c   if( eMode&gt;=0 &amp;&amp; !pPager-&gt;tempFile &amp;&amp; !sqlite3WalHeapMemory(pPager-&gt;pWal) ){</span>
<span class='curline'><a href='../S/1054.html#L48532'>pPager</a>           48532 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;exclusiveMode = (u8)eMode;</span>
<span class='curline'><a href='../S/1054.html#L48534'>pPager</a>           48534 ext/sqlite3/libsqlite/sqlite3.c   return (int)pPager-&gt;exclusiveMode;</span>
<span class='curline'><a href='../S/1054.html#L48557'>pPager</a>           48557 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerSetJournalMode(Pager *pPager, int eMode){</span>
<span class='curline'><a href='../S/1054.html#L48558'>pPager</a>           48558 ext/sqlite3/libsqlite/sqlite3.c   u8 eOld = pPager-&gt;journalMode;    /* Prior journalmode */</span>
<span class='curline'><a href='../S/1054.html#L48563'>pPager</a>           48563 ext/sqlite3/libsqlite/sqlite3.c   print_pager_state(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48579'>pPager</a>           48579 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;tempFile==0 || eMode!=PAGER_JOURNALMODE_WAL );</span>
<span class='curline'><a href='../S/1054.html#L48594'>pPager</a>           48594 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager-&gt;eState!=PAGER_ERROR );</span>
<span class='curline'><a href='../S/1054.html#L48595'>pPager</a>           48595 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;journalMode = (u8)eMode;</span>
<span class='curline'><a href='../S/1054.html#L48608'>pPager</a>           48608 ext/sqlite3/libsqlite/sqlite3.c     assert( isOpen(pPager-&gt;fd) || pPager-&gt;exclusiveMode );</span>
<span class='curline'><a href='../S/1054.html#L48609'>pPager</a>           48609 ext/sqlite3/libsqlite/sqlite3.c     if( !pPager-&gt;exclusiveMode &amp;&amp; (eOld &amp; 5)==1 &amp;&amp; (eMode &amp; 1)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L48619'>pPager</a>           48619 ext/sqlite3/libsqlite/sqlite3.c       sqlite3OsClose(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L48620'>pPager</a>           48620 ext/sqlite3/libsqlite/sqlite3.c       if( pPager-&gt;eLock&gt;=RESERVED_LOCK ){</span>
<span class='curline'><a href='../S/1054.html#L48621'>pPager</a>           48621 ext/sqlite3/libsqlite/sqlite3.c         sqlite3OsDelete(pPager-&gt;pVfs, pPager-&gt;zJournal, 0);</span>
<span class='curline'><a href='../S/1054.html#L48624'>pPager</a>           48624 ext/sqlite3/libsqlite/sqlite3.c         int state = pPager-&gt;eState;</span>
<span class='curline'><a href='../S/1054.html#L48627'>pPager</a>           48627 ext/sqlite3/libsqlite/sqlite3.c           rc = sqlite3PagerSharedLock(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48629'>pPager</a>           48629 ext/sqlite3/libsqlite/sqlite3.c         if( pPager-&gt;eState==PAGER_READER ){</span>
<span class='curline'><a href='../S/1054.html#L48631'>pPager</a>           48631 ext/sqlite3/libsqlite/sqlite3.c           rc = pagerLockDb(pPager, RESERVED_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L48634'>pPager</a>           48634 ext/sqlite3/libsqlite/sqlite3.c           sqlite3OsDelete(pPager-&gt;pVfs, pPager-&gt;zJournal, 0);</span>
<span class='curline'><a href='../S/1054.html#L48637'>pPager</a>           48637 ext/sqlite3/libsqlite/sqlite3.c           pagerUnlockDb(pPager, SHARED_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L48639'>pPager</a>           48639 ext/sqlite3/libsqlite/sqlite3.c           pager_unlock(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48641'>pPager</a>           48641 ext/sqlite3/libsqlite/sqlite3.c         assert( state==pPager-&gt;eState );</span>
<span class='curline'><a href='../S/1054.html#L48644'>pPager</a>           48644 ext/sqlite3/libsqlite/sqlite3.c       sqlite3OsClose(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L48649'>pPager</a>           48649 ext/sqlite3/libsqlite/sqlite3.c   return (int)pPager-&gt;journalMode;</span>
<span class='curline'><a href='../S/1054.html#L48655'>pPager</a>           48655 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerGetJournalMode(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48656'>pPager</a>           48656 ext/sqlite3/libsqlite/sqlite3.c   return (int)pPager-&gt;journalMode;</span>
<span class='curline'><a href='../S/1054.html#L48664'>pPager</a>           48664 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerOkToChangeJournalMode(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48665'>pPager</a>           48665 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L48666'>pPager</a>           48666 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;eState&gt;=PAGER_WRITER_CACHEMOD ) return 0;</span>
<span class='curline'><a href='../S/1054.html#L48667'>pPager</a>           48667 ext/sqlite3/libsqlite/sqlite3.c   if( NEVER(isOpen(pPager-&gt;jfd) &amp;&amp; pPager-&gt;journalOff&gt;0) ) return 0;</span>
<span class='curline'><a href='../S/1054.html#L48677'>pPager</a>           48677 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE i64 sqlite3PagerJournalSizeLimit(Pager *pPager, i64 iLimit){</span>
<span class='curline'><a href='../S/1054.html#L48679'>pPager</a>           48679 ext/sqlite3/libsqlite/sqlite3.c     pPager-&gt;journalSizeLimit = iLimit;</span>
<span class='curline'><a href='../S/1054.html#L48680'>pPager</a>           48680 ext/sqlite3/libsqlite/sqlite3.c     sqlite3WalLimit(pPager-&gt;pWal, iLimit);</span>
<span class='curline'><a href='../S/1054.html#L48682'>pPager</a>           48682 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;journalSizeLimit;</span>
<span class='curline'><a href='../S/1054.html#L48691'>pPager</a>           48691 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE sqlite3_backup **sqlite3PagerBackupPtr(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48692'>pPager</a>           48692 ext/sqlite3/libsqlite/sqlite3.c   return &amp;pPager-&gt;pBackup;</span>
<span class='curline'><a href='../S/1054.html#L48699'>pPager</a>           48699 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3PagerClearCache(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48700'>pPager</a>           48700 ext/sqlite3/libsqlite/sqlite3.c   if( !MEMDB &amp;&amp; pPager-&gt;tempFile==0 ) pager_reset(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48712'>pPager</a>           48712 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerCheckpoint(Pager *pPager, int eMode, int *pnLog, int *pnCkpt){</span>
<span class='curline'><a href='../S/1054.html#L48714'>pPager</a>           48714 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;pWal ){</span>
<span class='curline'><a href='../S/1054.html#L48715'>pPager</a>           48715 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3WalCheckpoint(pPager-&gt;pWal, eMode,</span>
<span class='curline'><a href='../S/1054.html#L48716'>pPager</a>           48716 ext/sqlite3/libsqlite/sqlite3.c         (eMode==SQLITE_CHECKPOINT_PASSIVE ? 0 : pPager-&gt;xBusyHandler),</span>
<span class='curline'><a href='../S/1054.html#L48717'>pPager</a>           48717 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;pBusyHandlerArg,</span>
<span class='curline'><a href='../S/1054.html#L48718'>pPager</a>           48718 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;ckptSyncFlags, pPager-&gt;pageSize, (u8 *)pPager-&gt;pTmpSpace,</span>
<span class='curline'><a href='../S/1054.html#L48725'>pPager</a>           48725 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerWalCallback(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48726'>pPager</a>           48726 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3WalCallback(pPager-&gt;pWal);</span>
<span class='curline'><a href='../S/1054.html#L48733'>pPager</a>           48733 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerWalSupported(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48734'>pPager</a>           48734 ext/sqlite3/libsqlite/sqlite3.c   const sqlite3_io_methods *pMethods = pPager-&gt;fd-&gt;pMethods;</span>
<span class='curline'><a href='../S/1054.html#L48735'>pPager</a>           48735 ext/sqlite3/libsqlite/sqlite3.c   return pPager-&gt;exclusiveMode || (pMethods-&gt;iVersion&gt;=2 &amp;&amp; pMethods-&gt;xShmMap);</span>
<span class='curline'><a href='../S/1054.html#L48742'>pPager</a>           48742 ext/sqlite3/libsqlite/sqlite3.c static int pagerExclusiveLock(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48745'>pPager</a>           48745 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eLock==SHARED_LOCK || pPager-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L48746'>pPager</a>           48746 ext/sqlite3/libsqlite/sqlite3.c   rc = pagerLockDb(pPager, EXCLUSIVE_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L48750'>pPager</a>           48750 ext/sqlite3/libsqlite/sqlite3.c     pagerUnlockDb(pPager, SHARED_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L48762'>pPager</a>           48762 ext/sqlite3/libsqlite/sqlite3.c static int pagerOpenWal(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48765'>pPager</a>           48765 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;pWal==0 &amp;&amp; pPager-&gt;tempFile==0 );</span>
<span class='curline'><a href='../S/1054.html#L48766'>pPager</a>           48766 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eLock==SHARED_LOCK || pPager-&gt;eLock==EXCLUSIVE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L48773'>pPager</a>           48773 ext/sqlite3/libsqlite/sqlite3.c   if( pPager-&gt;exclusiveMode ){</span>
<span class='curline'><a href='../S/1054.html#L48774'>pPager</a>           48774 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerExclusiveLock(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48781'>pPager</a>           48781 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3WalOpen(pPager-&gt;pVfs,</span>
<span class='curline'><a href='../S/1054.html#L48782'>pPager</a>           48782 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;fd, pPager-&gt;zWal, pPager-&gt;exclusiveMode,</span>
<span class='curline'><a href='../S/1054.html#L48783'>pPager</a>           48783 ext/sqlite3/libsqlite/sqlite3.c         pPager-&gt;journalSizeLimit, &amp;pPager-&gt;pWal</span>
<span class='curline'><a href='../S/1054.html#L48786'>pPager</a>           48786 ext/sqlite3/libsqlite/sqlite3.c   pagerFixMaplimit(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48808'>pPager</a>           48808 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager,                  /* Pager object */</span>
<span class='curline'><a href='../S/1054.html#L48813'>pPager</a>           48813 ext/sqlite3/libsqlite/sqlite3.c   assert( assert_pager_state(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L48814'>pPager</a>           48814 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_OPEN   || pbOpen );</span>
<span class='curline'><a href='../S/1054.html#L48815'>pPager</a>           48815 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState==PAGER_READER || !pbOpen );</span>
<span class='curline'><a href='../S/1054.html#L48817'>pPager</a>           48817 ext/sqlite3/libsqlite/sqlite3.c   assert( pbOpen!=0 || (!pPager-&gt;tempFile &amp;&amp; !pPager-&gt;pWal) );</span>
<span class='curline'><a href='../S/1054.html#L48819'>pPager</a>           48819 ext/sqlite3/libsqlite/sqlite3.c   if( !pPager-&gt;tempFile &amp;&amp; !pPager-&gt;pWal ){</span>
<span class='curline'><a href='../S/1054.html#L48820'>pPager</a>           48820 ext/sqlite3/libsqlite/sqlite3.c     if( !sqlite3PagerWalSupported(pPager) ) return SQLITE_CANTOPEN;</span>
<span class='curline'><a href='../S/1054.html#L48823'>pPager</a>           48823 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsClose(pPager-&gt;jfd);</span>
<span class='curline'><a href='../S/1054.html#L48825'>pPager</a>           48825 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerOpenWal(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48827'>pPager</a>           48827 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;journalMode = PAGER_JOURNALMODE_WAL;</span>
<span class='curline'><a href='../S/1054.html#L48828'>pPager</a>           48828 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;eState = PAGER_OPEN;</span>
<span class='curline'><a href='../S/1054.html#L48846'>pPager</a>           48846 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerCloseWal(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48849'>pPager</a>           48849 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;journalMode==PAGER_JOURNALMODE_WAL );</span>
<span class='curline'><a href='../S/1054.html#L48855'>pPager</a>           48855 ext/sqlite3/libsqlite/sqlite3.c   if( !pPager-&gt;pWal ){</span>
<span class='curline'><a href='../S/1054.html#L48857'>pPager</a>           48857 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerLockDb(pPager, SHARED_LOCK);</span>
<span class='curline'><a href='../S/1054.html#L48860'>pPager</a>           48860 ext/sqlite3/libsqlite/sqlite3.c           pPager-&gt;pVfs, pPager-&gt;zWal, SQLITE_ACCESS_EXISTS, &amp;logexists</span>
<span class='curline'><a href='../S/1054.html#L48864'>pPager</a>           48864 ext/sqlite3/libsqlite/sqlite3.c       rc = pagerOpenWal(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48871'>pPager</a>           48871 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; pPager-&gt;pWal ){</span>
<span class='curline'><a href='../S/1054.html#L48872'>pPager</a>           48872 ext/sqlite3/libsqlite/sqlite3.c     rc = pagerExclusiveLock(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48874'>pPager</a>           48874 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3WalClose(pPager-&gt;pWal, pPager-&gt;ckptSyncFlags,</span>
<span class='curline'><a href='../S/1054.html#L48875'>pPager</a>           48875 ext/sqlite3/libsqlite/sqlite3.c                            pPager-&gt;pageSize, (u8*)pPager-&gt;pTmpSpace);</span>
<span class='curline'><a href='../S/1054.html#L48876'>pPager</a>           48876 ext/sqlite3/libsqlite/sqlite3.c       pPager-&gt;pWal = 0;</span>
<span class='curline'><a href='../S/1054.html#L48877'>pPager</a>           48877 ext/sqlite3/libsqlite/sqlite3.c       pagerFixMaplimit(pPager);</span>
<span class='curline'><a href='../S/1054.html#L48893'>pPager</a>           48893 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3PagerWalFramesize(Pager *pPager){</span>
<span class='curline'><a href='../S/1054.html#L48894'>pPager</a>           48894 ext/sqlite3/libsqlite/sqlite3.c   assert( pPager-&gt;eState&gt;=PAGER_READER );</span>
<span class='curline'><a href='../S/1054.html#L48895'>pPager</a>           48895 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3WalFramesize(pPager-&gt;pWal);</span>
<span class='curline'><a href='../S/1054.html#L52491'>pPager</a>           52491 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager;        /* The page cache */</span>
<span class='curline'><a href='../S/1054.html#L52746'>pPager</a>           52746 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager;    /* The associated pager.  Also accessible by pBt-&gt;pPager */</span>
<span class='curline'><a href='../S/1054.html#L53931'>pPager</a>           53931 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3PagerGet(pBt-&gt;pPager, iPtrmap, &amp;pDbPage);</span>
<span class='curline'><a href='../S/1054.html#L53974'>pPager</a>           53974 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3PagerGet(pBt-&gt;pPager, iPtrmap, &amp;pDbPage);</span>
<span class='curline'><a href='../S/1054.html#L54277'>pPager</a>           54277 ext/sqlite3/libsqlite/sqlite3.c       temp = sqlite3PagerTempSpace(pPage-&gt;pBt-&gt;pPager);</span>
<span class='curline'><a href='../S/1054.html#L54806'>pPager</a>           54806 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3PagerAcquire(pBt-&gt;pPager, pgno, (DbPage**)&amp;pDbPage, flags);</span>
<span class='curline'><a href='../S/1054.html#L54820'>pPager</a>           54820 ext/sqlite3/libsqlite/sqlite3.c   pDbPage = sqlite3PagerLookup(pBt-&gt;pPager, pgno);</span>
<span class='curline'><a href='../S/1054.html#L55042'>pPager</a>           55042 ext/sqlite3/libsqlite/sqlite3.c         if( 0==strcmp(zFullPathname, sqlite3PagerFilename(pBt-&gt;pPager, 0))</span>
<span class='curline'><a href='../S/1054.html#L55043'>pPager</a>           55043 ext/sqlite3/libsqlite/sqlite3.c                  &amp;&amp; sqlite3PagerVfs(pBt-&gt;pPager)==pVfs ){</span>
<span class='curline'><a href='../S/1054.html#L55092'>pPager</a>           55092 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerOpen(pVfs, &amp;pBt-&gt;pPager, zFilename,</span>
<span class='curline'><a href='../S/1054.html#L55095'>pPager</a>           55095 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PagerSetMmapLimit(pBt-&gt;pPager, db-&gt;szMmap);</span>
<span class='curline'><a href='../S/1054.html#L55096'>pPager</a>           55096 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3PagerReadFileheader(pBt-&gt;pPager,sizeof(zDbHeader),zDbHeader);</span>
<span class='curline'><a href='../S/1054.html#L55103'>pPager</a>           55103 ext/sqlite3/libsqlite/sqlite3.c     sqlite3PagerSetBusyhandler(pBt-&gt;pPager, btreeInvokeBusyHandler, pBt);</span>
<span class='curline'><a href='../S/1054.html#L55108'>pPager</a>           55108 ext/sqlite3/libsqlite/sqlite3.c     if( sqlite3PagerIsreadonly(pBt-&gt;pPager) ) pBt-&gt;btsFlags |= BTS_READ_ONLY;</span>
<span class='curline'><a href='../S/1054.html#L55143'>pPager</a>           55143 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerSetPagesize(pBt-&gt;pPager, &amp;pBt-&gt;pageSize, nReserve);</span>
<span class='curline'><a href='../S/1054.html#L55206'>pPager</a>           55206 ext/sqlite3/libsqlite/sqlite3.c     if( pBt &amp;&amp; pBt-&gt;pPager ){</span>
<span class='curline'><a href='../S/1054.html#L55207'>pPager</a>           55207 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PagerClose(pBt-&gt;pPager);</span>
<span class='curline'><a href='../S/1054.html#L55218'>pPager</a>           55218 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PagerSetCachesize(p-&gt;pBt-&gt;pPager, SQLITE_DEFAULT_CACHE_SIZE);</span>
<span class='curline'><a href='../S/1054.html#L55348'>pPager</a>           55348 ext/sqlite3/libsqlite/sqlite3.c     sqlite3PagerClose(pBt-&gt;pPager);</span>
<span class='curline'><a href='../S/1054.html#L55387'>pPager</a>           55387 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PagerSetCachesize(pBt-&gt;pPager, mxPage);</span>
<span class='curline'><a href='../S/1054.html#L55401'>pPager</a>           55401 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PagerSetMmapLimit(pBt-&gt;pPager, szMmap);</span>
<span class='curline'><a href='../S/1054.html#L55423'>pPager</a>           55423 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PagerSetFlags(pBt-&gt;pPager, pgFlags);</span>
<span class='curline'><a href='../S/1054.html#L55438'>pPager</a>           55438 ext/sqlite3/libsqlite/sqlite3.c   assert( pBt &amp;&amp; pBt-&gt;pPager );</span>
<span class='curline'><a href='../S/1054.html#L55439'>pPager</a>           55439 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3PagerNosync(pBt-&gt;pPager);</span>
<span class='curline'><a href='../S/1054.html#L55487'>pPager</a>           55487 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3PagerSetPagesize(pBt-&gt;pPager, &amp;pBt-&gt;pageSize, nReserve);</span>
<span class='curline'><a href='../S/1054.html#L55548'>pPager</a>           55548 ext/sqlite3/libsqlite/sqlite3.c   n = sqlite3PagerMaxPageCount(p-&gt;pBt-&gt;pPager, mxPage);</span>
<span class='curline'><a href='../S/1054.html#L55636'>pPager</a>           55636 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3PagerSharedLock(pBt-&gt;pPager);</span>
<span class='curline'><a href='../S/1054.html#L55645'>pPager</a>           55645 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PagerPagecount(pBt-&gt;pPager, &amp;nPageFile);</span>
<span class='curline'><a href='../S/1054.html#L55686'>pPager</a>           55686 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3PagerOpenWal(pBt-&gt;pPager, &amp;isOpen);</span>
<span class='curline'><a href='../S/1054.html#L55738'>pPager</a>           55738 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3PagerSetPagesize(pBt-&gt;pPager, &amp;pBt-&gt;pageSize,</span>
<span class='curline'><a href='../S/1054.html#L55831'>pPager</a>           55831 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3PagerRefcount(pBt-&gt;pPager)==1 );</span>
<span class='curline'><a href='../S/1054.html#L56000'>pPager</a>           56000 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3PagerBegin(pBt-&gt;pPager,wrflag&gt;1,sqlite3TempInMemory(p-&gt;db));</span>
<span class='curline'><a href='../S/1054.html#L56060'>pPager</a>           56060 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerOpenSavepoint(pBt-&gt;pPager, p-&gt;db-&gt;nSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L56195'>pPager</a>           56195 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = pBt-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L56206'>pPager</a>           56206 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3PagerMovepage(pPager, pDbPage-&gt;pDbPage, iFreePage, isCommit);</span>
<span class='curline'><a href='../S/1054.html#L56444'>pPager</a>           56444 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = pBt-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L56445'>pPager</a>           56445 ext/sqlite3/libsqlite/sqlite3.c   VVA_ONLY( int nRef = sqlite3PagerRefcount(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L56483'>pPager</a>           56483 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PagerRollback(pPager);</span>
<span class='curline'><a href='../S/1054.html#L56487'>pPager</a>           56487 ext/sqlite3/libsqlite/sqlite3.c   assert( nRef&gt;=sqlite3PagerRefcount(pPager) );</span>
<span class='curline'><a href='../S/1054.html#L56535'>pPager</a>           56535 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PagerTruncateImage(pBt-&gt;pPager, pBt-&gt;nPage);</span>
<span class='curline'><a href='../S/1054.html#L56538'>pPager</a>           56538 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerCommitPhaseOne(pBt-&gt;pPager, zMaster, 0);</span>
<span class='curline'><a href='../S/1054.html#L56624'>pPager</a>           56624 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerCommitPhaseTwo(pBt-&gt;pPager);</span>
<span class='curline'><a href='../S/1054.html#L56747'>pPager</a>           56747 ext/sqlite3/libsqlite/sqlite3.c     rc2 = sqlite3PagerRollback(pBt-&gt;pPager);</span>
<span class='curline'><a href='../S/1054.html#L56758'>pPager</a>           56758 ext/sqlite3/libsqlite/sqlite3.c       if( nPage==0 ) sqlite3PagerPagecount(pBt-&gt;pPager, &amp;nPage);</span>
<span class='curline'><a href='../S/1054.html#L56805'>pPager</a>           56805 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3PagerOpenSavepoint(pBt-&gt;pPager, iStatement);</span>
<span class='curline'><a href='../S/1054.html#L56829'>pPager</a>           56829 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerSavepoint(pBt-&gt;pPager, op, iSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L57394'>pPager</a>           57394 ext/sqlite3/libsqlite/sqlite3.c          &amp;&amp; (fd = sqlite3PagerFile(pBt-&gt;pPager))-&gt;pMethods     /* (3) */</span>
<span class='curline'><a href='../S/1054.html#L57410'>pPager</a>           57410 ext/sqlite3/libsqlite/sqlite3.c           rc = sqlite3PagerAcquire(pBt-&gt;pPager, nextPage, &amp;pDbPage,</span>
<span class='curline'><a href='../S/1054.html#L59205'>pPager</a>           59205 ext/sqlite3/libsqlite/sqlite3.c   u8 *pTmp = sqlite3PagerTempSpace(pPg-&gt;pBt-&gt;pPager);</span>
<span class='curline'><a href='../S/1054.html#L59370'>pPager</a>           59370 ext/sqlite3/libsqlite/sqlite3.c   u8 *pTmp = sqlite3PagerTempSpace(pPg-&gt;pBt-&gt;pPager);</span>
<span class='curline'><a href='../S/1054.html#L61282'>pPager</a>           61282 ext/sqlite3/libsqlite/sqlite3.c     *pMeta = sqlite3PagerDataVersion(pBt-&gt;pPager) + p-&gt;iDataVersion;</span>
<span class='curline'><a href='../S/1054.html#L61406'>pPager</a>           61406 ext/sqlite3/libsqlite/sqlite3.c   return p-&gt;pBt-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L61535'>pPager</a>           61535 ext/sqlite3/libsqlite/sqlite3.c     if( sqlite3PagerGet(pCheck-&gt;pPager, (Pgno)iPage, &amp;pOvflPage) ){</span>
<span class='curline'><a href='../S/1054.html#L61929'>pPager</a>           61929 ext/sqlite3/libsqlite/sqlite3.c   nRef = sqlite3PagerRefcount(pBt-&gt;pPager);</span>
<span class='curline'><a href='../S/1054.html#L61931'>pPager</a>           61931 ext/sqlite3/libsqlite/sqlite3.c   sCheck.pPager = pBt-&gt;pPager;</span>
<span class='curline'><a href='../S/1054.html#L62002'>pPager</a>           62002 ext/sqlite3/libsqlite/sqlite3.c   if( NEVER(nRef != sqlite3PagerRefcount(pBt-&gt;pPager)) ){</span>
<span class='curline'><a href='../S/1054.html#L62005'>pPager</a>           62005 ext/sqlite3/libsqlite/sqlite3.c       nRef, sqlite3PagerRefcount(pBt-&gt;pPager)</span>
<span class='curline'><a href='../S/1054.html#L62032'>pPager</a>           62032 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;pBt-&gt;pPager!=0 );</span>
<span class='curline'><a href='../S/1054.html#L62033'>pPager</a>           62033 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3PagerFilename(p-&gt;pBt-&gt;pPager, 1);</span>
<span class='curline'><a href='../S/1054.html#L62045'>pPager</a>           62045 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;pBt-&gt;pPager!=0 );</span>
<span class='curline'><a href='../S/1054.html#L62046'>pPager</a>           62046 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3PagerJournalname(p-&gt;pBt-&gt;pPager);</span>
<span class='curline'><a href='../S/1054.html#L62074'>pPager</a>           62074 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3PagerCheckpoint(pBt-&gt;pPager, eMode, pnLog, pnCkpt);</span>
<span class='curline'><a href='../S/1054.html#L76665'>pPager</a>           76665 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager;                  /* Pager associated with pBt */</span>
<span class='curline'><a href='../S/1054.html#L76686'>pPager</a>           76686 ext/sqlite3/libsqlite/sqlite3.c   pPager = sqlite3BtreePager(pBt);</span>
<span class='curline'><a href='../S/1054.html#L76687'>pPager</a>           76687 ext/sqlite3/libsqlite/sqlite3.c   eOld = sqlite3PagerGetJournalMode(pPager);</span>
<span class='curline'><a href='../S/1054.html#L76689'>pPager</a>           76689 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3PagerOkToChangeJournalMode(pPager) ) eNew = eOld;</span>
<span class='curline'><a href='../S/1054.html#L76692'>pPager</a>           76692 ext/sqlite3/libsqlite/sqlite3.c   zFilename = sqlite3PagerFilename(pPager, 1);</span>
<span class='curline'><a href='../S/1054.html#L76699'>pPager</a>           76699 ext/sqlite3/libsqlite/sqlite3.c        || !sqlite3PagerWalSupported(pPager))   /* No shared-memory support */</span>
<span class='curline'><a href='../S/1054.html#L76722'>pPager</a>           76722 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3PagerCloseWal(pPager);</span>
<span class='curline'><a href='../S/1054.html#L76724'>pPager</a>           76724 ext/sqlite3/libsqlite/sqlite3.c           sqlite3PagerSetJournalMode(pPager, eNew);</span>
<span class='curline'><a href='../S/1054.html#L76729'>pPager</a>           76729 ext/sqlite3/libsqlite/sqlite3.c         sqlite3PagerSetJournalMode(pPager, PAGER_JOURNALMODE_OFF);</span>
<span class='curline'><a href='../S/1054.html#L76746'>pPager</a>           76746 ext/sqlite3/libsqlite/sqlite3.c   eNew = sqlite3PagerSetJournalMode(pPager, eNew);</span>
<span class='curline'><a href='../S/1054.html#L90099'>pPager</a>           90099 ext/sqlite3/libsqlite/sqlite3.c     Pager *pPager;</span>
<span class='curline'><a href='../S/1054.html#L90109'>pPager</a>           90109 ext/sqlite3/libsqlite/sqlite3.c     pPager = sqlite3BtreePager(aNew-&gt;pBt);</span>
<span class='curline'><a href='../S/1054.html#L90110'>pPager</a>           90110 ext/sqlite3/libsqlite/sqlite3.c     sqlite3PagerLockingMode(pPager, db-&gt;dfltLockMode);</span>
<span class='curline'><a href='../S/1054.html#L104128'>pPager</a>           104128 ext/sqlite3/libsqlite/sqlite3.c       Pager *pPager;</span>
<span class='curline'><a href='../S/1054.html#L104141'>pPager</a>           104141 ext/sqlite3/libsqlite/sqlite3.c           pPager = sqlite3BtreePager(db-&gt;aDb[ii].pBt);</span>
<span class='curline'><a href='../S/1054.html#L104142'>pPager</a>           104142 ext/sqlite3/libsqlite/sqlite3.c           sqlite3PagerLockingMode(pPager, eMode);</span>
<span class='curline'><a href='../S/1054.html#L104146'>pPager</a>           104146 ext/sqlite3/libsqlite/sqlite3.c       pPager = sqlite3BtreePager(pDb-&gt;pBt);</span>
<span class='curline'><a href='../S/1054.html#L104147'>pPager</a>           104147 ext/sqlite3/libsqlite/sqlite3.c       eMode = sqlite3PagerLockingMode(pPager, eMode);</span>
<span class='curline'><a href='../S/1054.html#L104212'>pPager</a>           104212 ext/sqlite3/libsqlite/sqlite3.c     Pager *pPager = sqlite3BtreePager(pDb-&gt;pBt);</span>
<span class='curline'><a href='../S/1054.html#L104218'>pPager</a>           104218 ext/sqlite3/libsqlite/sqlite3.c     iLimit = sqlite3PagerJournalSizeLimit(pPager, iLimit);</span>
<span class='curline'><a href='../S/1054.html#L104489'>pPager</a>           104489 ext/sqlite3/libsqlite/sqlite3.c       Pager *pPager = sqlite3BtreePager(pDb-&gt;pBt);</span>
<span class='curline'><a href='../S/1054.html#L104491'>pPager</a>           104491 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_file *pFile = sqlite3PagerFile(pPager);</span>
<span class='curline'><a href='../S/1054.html#L104503'>pPager</a>           104503 ext/sqlite3/libsqlite/sqlite3.c       Pager *pPager = sqlite3BtreePager(pDb-&gt;pBt);</span>
<span class='curline'><a href='../S/1054.html#L104504'>pPager</a>           104504 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_file *pFile = sqlite3PagerFile(pPager);</span>
<span class='curline'><a href='../S/1054.html#L128717'>pPager</a>           128717 ext/sqlite3/libsqlite/sqlite3.c       Pager *pPager = sqlite3BtreePager(pBt);</span>
<span class='curline'><a href='../S/1054.html#L128718'>pPager</a>           128718 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PagerShrink(pPager);</span>
<span class='curline'><a href='../S/1054.html#L131322'>pPager</a>           131322 ext/sqlite3/libsqlite/sqlite3.c     Pager *pPager;</span>
<span class='curline'><a href='../S/1054.html#L131325'>pPager</a>           131325 ext/sqlite3/libsqlite/sqlite3.c     pPager = sqlite3BtreePager(pBtree);</span>
<span class='curline'><a href='../S/1054.html#L131326'>pPager</a>           131326 ext/sqlite3/libsqlite/sqlite3.c     assert( pPager!=0 );</span>
<span class='curline'><a href='../S/1054.html#L131327'>pPager</a>           131327 ext/sqlite3/libsqlite/sqlite3.c     fd = sqlite3PagerFile(pPager);</span>
<span class='curline'><a href='../S/1054.html#L155617'>pPager</a>           155617 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = sqlite3BtreePager(pBt);</span>
<span class='curline'><a href='../S/1054.html#L155628'>pPager</a>           155628 ext/sqlite3/libsqlite/sqlite3.c   fd = sqlite3PagerFile(pPager);</span>
<span class='curline'><a href='../S/1054.html#L155646'>pPager</a>           155646 ext/sqlite3/libsqlite/sqlite3.c   Pager *pPager = sqlite3BtreePager(pBt);</span>
<span class='curline'><a href='../S/1054.html#L155657'>pPager</a>           155657 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PagerPagecount(pPager, &amp;nPage);</span>
<span class='curline'><a href='../S/1054.html#L155662'>pPager</a>           155662 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3PagerGet(pPager, iRoot, &amp;pCsr-&gt;aPage[0].pPg);</span>
<span class='curline'><a href='../S/1054.html#L155722'>pPager</a>           155722 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerGet(pPager, p[1].iPgno, &amp;p[1].pPg);</span>
</pre>
</body>
</html>
