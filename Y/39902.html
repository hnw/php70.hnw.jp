<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>user_stub</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/960.html#L2495'>user_stub</a>        2495 ext/phar/phar.c int phar_flush(phar_archive_data *phar, char *user_stub, zend_long len, int convert, char **error) /* {{{ */</span>
<span class='curline'><a href='../S/960.html#L2527'>user_stub</a>        2527 ext/phar/phar.c 	if (!zend_hash_num_elements(&amp;phar-&gt;manifest) &amp;&amp; !user_stub) {</span>
<span class='curline'><a href='../S/960.html#L2534'>user_stub</a>        2534 ext/phar/phar.c 		return phar_zip_flush(phar, user_stub, len, convert, error);</span>
<span class='curline'><a href='../S/960.html#L2538'>user_stub</a>        2538 ext/phar/phar.c 		return phar_tar_flush(phar, user_stub, len, convert, error);</span>
<span class='curline'><a href='../S/960.html#L2564'>user_stub</a>        2564 ext/phar/phar.c 	if (user_stub) {</span>
<span class='curline'><a href='../S/960.html#L2568'>user_stub</a>        2568 ext/phar/phar.c 			if (!(php_stream_from_zval_no_verify(stubfile, (zval *)user_stub))) {</span>
<span class='curline'><a href='../S/960.html#L2583'>user_stub</a>        2583 ext/phar/phar.c 			user_stub = 0;</span>
<span class='curline'><a href='../S/960.html#L2596'>user_stub</a>        2596 ext/phar/phar.c 			user_stub = ZSTR_VAL(suser_stub);</span>
<span class='curline'><a href='../S/960.html#L2601'>user_stub</a>        2601 ext/phar/phar.c 		tmp = estrndup(user_stub, len);</span>
<span class='curline'><a href='../S/960.html#L2616'>user_stub</a>        2616 ext/phar/phar.c 		pos = user_stub + (pos - tmp);</span>
<span class='curline'><a href='../S/960.html#L2618'>user_stub</a>        2618 ext/phar/phar.c 		len = pos - user_stub + 18;</span>
<span class='curline'><a href='../S/960.html#L2619'>user_stub</a>        2619 ext/phar/phar.c 		if ((size_t)len != php_stream_write(newfile, user_stub, len)</span>
<span class='curline'><a href='../S/960.html#L2640'>user_stub</a>        2640 ext/phar/phar.c 		if (!user_stub &amp;&amp; phar-&gt;halt_offset &amp;&amp; oldfile &amp;&amp; !phar-&gt;is_brandnew) {</span>
<span class='curline'><a href='../S/961.html#L585'>user_stub</a>         585 ext/phar/phar_internal.h int phar_tar_flush(phar_archive_data *phar, char *user_stub, zend_long len, int defaultstub, char **error);</span>
<span class='curline'><a href='../S/961.html#L590'>user_stub</a>         590 ext/phar/phar_internal.h int phar_zip_flush(phar_archive_data *archive, char *user_stub, zend_long len, int defaultstub, char **error);</span>
<span class='curline'><a href='../S/961.html#L607'>user_stub</a>         607 ext/phar/phar_internal.h int phar_flush(phar_archive_data *archive, char *user_stub, zend_long len, int convert, char **error);</span>
<span class='curline'><a href='../S/969.html#L944'>user_stub</a>         944 ext/phar/tar.c int phar_tar_flush(phar_archive_data *phar, char *user_stub, zend_long len, int defaultstub, char **error) /* {{{ */</span>
<span class='curline'><a href='../S/969.html#L1003'>user_stub</a>        1003 ext/phar/tar.c 	if (user_stub &amp;&amp; !defaultstub) {</span>
<span class='curline'><a href='../S/969.html#L1007'>user_stub</a>        1007 ext/phar/tar.c 			if (!(php_stream_from_zval_no_verify(stubfile, (zval *)user_stub))) {</span>
<span class='curline'><a href='../S/969.html#L1018'>user_stub</a>        1018 ext/phar/tar.c 			user_stub = 0;</span>
<span class='curline'><a href='../S/969.html#L1026'>user_stub</a>        1026 ext/phar/tar.c 					user_stub = estrndup(ZSTR_VAL(str), ZSTR_LEN(str));</span>
<span class='curline'><a href='../S/969.html#L1029'>user_stub</a>        1029 ext/phar/tar.c 					user_stub = NULL;</span>
<span class='curline'><a href='../S/969.html#L1034'>user_stub</a>        1034 ext/phar/tar.c 			if (!len || !user_stub) {</span>
<span class='curline'><a href='../S/969.html#L1045'>user_stub</a>        1045 ext/phar/tar.c 		tmp = estrndup(user_stub, len);</span>
<span class='curline'><a href='../S/969.html#L1052'>user_stub</a>        1052 ext/phar/tar.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/969.html#L1056'>user_stub</a>        1056 ext/phar/tar.c 		pos = user_stub + (pos - tmp);</span>
<span class='curline'><a href='../S/969.html#L1059'>user_stub</a>        1059 ext/phar/tar.c 		len = pos - user_stub + 18;</span>
<span class='curline'><a href='../S/969.html#L1067'>user_stub</a>        1067 ext/phar/tar.c 		if ((size_t)len != php_stream_write(entry.fp, user_stub, len)</span>
<span class='curline'><a href='../S/969.html#L1073'>user_stub</a>        1073 ext/phar/tar.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/969.html#L1084'>user_stub</a>        1084 ext/phar/tar.c 			efree(user_stub);</span>
<span class='curline'><a href='../S/969.html#L1096'>user_stub</a>        1096 ext/phar/tar.c 				spprintf(error, 0, "unable to %s stub in%star-based phar \"%s\", failed", user_stub ? "overwrite" : "create", user_stub ? " " : " new ", phar-&gt;fname);</span>
<span class='curline'><a href='../S/972.html#L1182'>user_stub</a>        1182 ext/phar/zip.c int phar_zip_flush(phar_archive_data *phar, char *user_stub, zend_long len, int defaultstub, char **error) /* {{{ */</span>
<span class='curline'><a href='../S/972.html#L1254'>user_stub</a>        1254 ext/phar/zip.c 	if (user_stub &amp;&amp; !defaultstub) {</span>
<span class='curline'><a href='../S/972.html#L1257'>user_stub</a>        1257 ext/phar/zip.c 			if (!(php_stream_from_zval_no_verify(stubfile, (zval *)user_stub))) {</span>
<span class='curline'><a href='../S/972.html#L1270'>user_stub</a>        1270 ext/phar/zip.c 			user_stub = 0;</span>
<span class='curline'><a href='../S/972.html#L1278'>user_stub</a>        1278 ext/phar/zip.c 					user_stub = estrndup(ZSTR_VAL(str), ZSTR_LEN(str));</span>
<span class='curline'><a href='../S/972.html#L1281'>user_stub</a>        1281 ext/phar/zip.c 					user_stub = NULL;</span>
<span class='curline'><a href='../S/972.html#L1286'>user_stub</a>        1286 ext/phar/zip.c 			if (!len || !user_stub) {</span>
<span class='curline'><a href='../S/972.html#L1297'>user_stub</a>        1297 ext/phar/zip.c 		tmp = estrndup(user_stub, len);</span>
<span class='curline'><a href='../S/972.html#L1304'>user_stub</a>        1304 ext/phar/zip.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/972.html#L1308'>user_stub</a>        1308 ext/phar/zip.c 		pos = user_stub + (pos - tmp);</span>
<span class='curline'><a href='../S/972.html#L1311'>user_stub</a>        1311 ext/phar/zip.c 		len = pos - user_stub + 18;</span>
<span class='curline'><a href='../S/972.html#L1319'>user_stub</a>        1319 ext/phar/zip.c 		if ((size_t)len != php_stream_write(entry.fp, user_stub, len)</span>
<span class='curline'><a href='../S/972.html#L1325'>user_stub</a>        1325 ext/phar/zip.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/972.html#L1336'>user_stub</a>        1336 ext/phar/zip.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/972.html#L1345'>user_stub</a>        1345 ext/phar/zip.c 			efree(user_stub);</span>
<span class='curline'><a href='../S/972.html#L1357'>user_stub</a>        1357 ext/phar/zip.c 				spprintf(error, 0, "unable to %s stub in%szip-based phar \"%s\", failed", user_stub ? "overwrite" : "create", user_stub ? " " : " new ", phar-&gt;fname);</span>
</pre>
</body>
</html>
