<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>conn</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/750.html#L41'>conn</a>               41 ext/mysqli/mysqli_api.c static void mysqli_tx_cor_options_to_string(const MYSQL * const conn, smart_str * str, const uint32_t mode)</span>
<span class='curline'><a href='../S/750.html#L112'>conn</a>              112 ext/mysqli/mysqli_api.c static int mysqli_commit_or_rollback_libmysql(MYSQL * conn, zend_bool commit, const uint32_t mode, const char * const name)</span>
<span class='curline'><a href='../S/750.html#L116'>conn</a>              116 ext/mysqli/mysqli_api.c 	mysqli_tx_cor_options_to_string(conn, &amp;tmp_str, mode);</span>
<span class='curline'><a href='../S/750.html#L132'>conn</a>              132 ext/mysqli/mysqli_api.c 		ret = mysql_real_query(conn, query, query_len);</span>
<span class='curline'><a href='../S/757.html#L39'>conn</a>               39 ext/mysqli/mysqli_mysqlnd.h #define mysqli_stmt_get_connection(s)	(s)-&gt;data-&gt;conn</span>
<span class='curline'><a href='../S/758.html#L1027'>conn</a>             1027 ext/mysqli/mysqli_nonapi.c static int mysqli_begin_transaction_libmysql(MYSQL * conn, const unsigned int mode, const char * const name)</span>
<span class='curline'><a href='../S/758.html#L1039'>conn</a>             1039 ext/mysqli/mysqli_nonapi.c 		if (mysql_get_server_version(conn) &lt; 50605L) {</span>
<span class='curline'><a href='../S/758.html#L1067'>conn</a>             1067 ext/mysqli/mysqli_nonapi.c 		ret = mysql_real_query(conn, query, query_len);</span>
<span class='curline'><a href='../S/758.html#L1117'>conn</a>             1117 ext/mysqli/mysqli_nonapi.c static int mysqli_savepoint_libmysql(MYSQL * conn, const char * const name, zend_bool release)</span>
<span class='curline'><a href='../S/758.html#L1122'>conn</a>             1122 ext/mysqli/mysqli_nonapi.c 	ret = mysql_real_query(conn, query, query_len);</span>
<span class='curline'><a href='../S/768.html#L70'>conn</a>               70 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, free_options)(MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/768.html#L72'>conn</a>               72 ext/mysqlnd/mysqlnd.c 	zend_bool pers = conn-&gt;persistent;</span>
<span class='curline'><a href='../S/768.html#L74'>conn</a>               74 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;charset_name) {</span>
<span class='curline'><a href='../S/768.html#L75'>conn</a>               75 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;charset_name, pers);</span>
<span class='curline'><a href='../S/768.html#L76'>conn</a>               76 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;charset_name = NULL;</span>
<span class='curline'><a href='../S/768.html#L78'>conn</a>               78 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;auth_protocol) {</span>
<span class='curline'><a href='../S/768.html#L79'>conn</a>               79 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;auth_protocol, pers);</span>
<span class='curline'><a href='../S/768.html#L80'>conn</a>               80 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;auth_protocol = NULL;</span>
<span class='curline'><a href='../S/768.html#L82'>conn</a>               82 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;num_commands) {</span>
<span class='curline'><a href='../S/768.html#L84'>conn</a>               84 ext/mysqlnd/mysqlnd.c 		for (i = 0; i &lt; conn-&gt;options-&gt;num_commands; i++) {</span>
<span class='curline'><a href='../S/768.html#L86'>conn</a>               86 ext/mysqlnd/mysqlnd.c 			mnd_pefree(conn-&gt;options-&gt;init_commands[i], pers);</span>
<span class='curline'><a href='../S/768.html#L88'>conn</a>               88 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;init_commands, pers);</span>
<span class='curline'><a href='../S/768.html#L89'>conn</a>               89 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;init_commands = NULL;</span>
<span class='curline'><a href='../S/768.html#L91'>conn</a>               91 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;cfg_file) {</span>
<span class='curline'><a href='../S/768.html#L92'>conn</a>               92 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;cfg_file, pers);</span>
<span class='curline'><a href='../S/768.html#L93'>conn</a>               93 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;cfg_file = NULL;</span>
<span class='curline'><a href='../S/768.html#L95'>conn</a>               95 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;cfg_section) {</span>
<span class='curline'><a href='../S/768.html#L96'>conn</a>               96 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;cfg_section, pers);</span>
<span class='curline'><a href='../S/768.html#L97'>conn</a>               97 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;cfg_section = NULL;</span>
<span class='curline'><a href='../S/768.html#L99'>conn</a>               99 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;connect_attr) {</span>
<span class='curline'><a href='../S/768.html#L100'>conn</a>              100 ext/mysqlnd/mysqlnd.c 		zend_hash_destroy(conn-&gt;options-&gt;connect_attr);</span>
<span class='curline'><a href='../S/768.html#L101'>conn</a>              101 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;connect_attr, pers);</span>
<span class='curline'><a href='../S/768.html#L102'>conn</a>              102 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;connect_attr = NULL;</span>
<span class='curline'><a href='../S/768.html#L110'>conn</a>              110 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, free_contents)(MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/768.html#L112'>conn</a>              112 ext/mysqlnd/mysqlnd.c 	zend_bool pers = conn-&gt;persistent;</span>
<span class='curline'><a href='../S/768.html#L116'>conn</a>              116 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;current_result) {</span>
<span class='curline'><a href='../S/768.html#L117'>conn</a>              117 ext/mysqlnd/mysqlnd.c 		conn-&gt;current_result-&gt;m.free_result(conn-&gt;current_result, TRUE);</span>
<span class='curline'><a href='../S/768.html#L118'>conn</a>              118 ext/mysqlnd/mysqlnd.c 		conn-&gt;current_result = NULL;</span>
<span class='curline'><a href='../S/768.html#L121'>conn</a>              121 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;net) {</span>
<span class='curline'><a href='../S/768.html#L122'>conn</a>              122 ext/mysqlnd/mysqlnd.c 		conn-&gt;net-&gt;data-&gt;m.free_contents(conn-&gt;net);</span>
<span class='curline'><a href='../S/768.html#L127'>conn</a>              127 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;host) {</span>
<span class='curline'><a href='../S/768.html#L128'>conn</a>              128 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;host, pers);</span>
<span class='curline'><a href='../S/768.html#L129'>conn</a>              129 ext/mysqlnd/mysqlnd.c 		conn-&gt;host = NULL;</span>
<span class='curline'><a href='../S/768.html#L131'>conn</a>              131 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;user) {</span>
<span class='curline'><a href='../S/768.html#L132'>conn</a>              132 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;user, pers);</span>
<span class='curline'><a href='../S/768.html#L133'>conn</a>              133 ext/mysqlnd/mysqlnd.c 		conn-&gt;user = NULL;</span>
<span class='curline'><a href='../S/768.html#L135'>conn</a>              135 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;passwd) {</span>
<span class='curline'><a href='../S/768.html#L136'>conn</a>              136 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;passwd, pers);</span>
<span class='curline'><a href='../S/768.html#L137'>conn</a>              137 ext/mysqlnd/mysqlnd.c 		conn-&gt;passwd = NULL;</span>
<span class='curline'><a href='../S/768.html#L139'>conn</a>              139 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;connect_or_select_db) {</span>
<span class='curline'><a href='../S/768.html#L140'>conn</a>              140 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;connect_or_select_db, pers);</span>
<span class='curline'><a href='../S/768.html#L141'>conn</a>              141 ext/mysqlnd/mysqlnd.c 		conn-&gt;connect_or_select_db = NULL;</span>
<span class='curline'><a href='../S/768.html#L143'>conn</a>              143 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;unix_socket) {</span>
<span class='curline'><a href='../S/768.html#L144'>conn</a>              144 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;unix_socket, pers);</span>
<span class='curline'><a href='../S/768.html#L145'>conn</a>              145 ext/mysqlnd/mysqlnd.c 		conn-&gt;unix_socket = NULL;</span>
<span class='curline'><a href='../S/768.html#L147'>conn</a>              147 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("scheme=%s", conn-&gt;scheme);</span>
<span class='curline'><a href='../S/768.html#L148'>conn</a>              148 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;scheme) {</span>
<span class='curline'><a href='../S/768.html#L149'>conn</a>              149 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;scheme, pers);</span>
<span class='curline'><a href='../S/768.html#L150'>conn</a>              150 ext/mysqlnd/mysqlnd.c 		conn-&gt;scheme = NULL;</span>
<span class='curline'><a href='../S/768.html#L152'>conn</a>              152 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;server_version) {</span>
<span class='curline'><a href='../S/768.html#L153'>conn</a>              153 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;server_version, pers);</span>
<span class='curline'><a href='../S/768.html#L154'>conn</a>              154 ext/mysqlnd/mysqlnd.c 		conn-&gt;server_version = NULL;</span>
<span class='curline'><a href='../S/768.html#L156'>conn</a>              156 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;host_info) {</span>
<span class='curline'><a href='../S/768.html#L157'>conn</a>              157 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;host_info, pers);</span>
<span class='curline'><a href='../S/768.html#L158'>conn</a>              158 ext/mysqlnd/mysqlnd.c 		conn-&gt;host_info = NULL;</span>
<span class='curline'><a href='../S/768.html#L160'>conn</a>              160 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;auth_plugin_data) {</span>
<span class='curline'><a href='../S/768.html#L161'>conn</a>              161 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;auth_plugin_data, pers);</span>
<span class='curline'><a href='../S/768.html#L162'>conn</a>              162 ext/mysqlnd/mysqlnd.c 		conn-&gt;auth_plugin_data = NULL;</span>
<span class='curline'><a href='../S/768.html#L164'>conn</a>              164 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;last_message) {</span>
<span class='curline'><a href='../S/768.html#L165'>conn</a>              165 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;last_message, pers);</span>
<span class='curline'><a href='../S/768.html#L166'>conn</a>              166 ext/mysqlnd/mysqlnd.c 		conn-&gt;last_message = NULL;</span>
<span class='curline'><a href='../S/768.html#L168'>conn</a>              168 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;error_info-&gt;error_list) {</span>
<span class='curline'><a href='../S/768.html#L169'>conn</a>              169 ext/mysqlnd/mysqlnd.c 		zend_llist_clean(conn-&gt;error_info-&gt;error_list);</span>
<span class='curline'><a href='../S/768.html#L170'>conn</a>              170 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;error_info-&gt;error_list, pers);</span>
<span class='curline'><a href='../S/768.html#L171'>conn</a>              171 ext/mysqlnd/mysqlnd.c 		conn-&gt;error_info-&gt;error_list = NULL;</span>
<span class='curline'><a href='../S/768.html#L173'>conn</a>              173 ext/mysqlnd/mysqlnd.c 	conn-&gt;charset = NULL;</span>
<span class='curline'><a href='../S/768.html#L174'>conn</a>              174 ext/mysqlnd/mysqlnd.c 	conn-&gt;greet_charset = NULL;</span>
<span class='curline'><a href='../S/768.html#L183'>conn</a>              183 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn_data, dtor)(MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/768.html#L186'>conn</a>              186 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/768.html#L188'>conn</a>              188 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;free_contents(conn);</span>
<span class='curline'><a href='../S/768.html#L189'>conn</a>              189 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;free_options(conn);</span>
<span class='curline'><a href='../S/768.html#L191'>conn</a>              191 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;net) {</span>
<span class='curline'><a href='../S/768.html#L192'>conn</a>              192 ext/mysqlnd/mysqlnd.c 		mysqlnd_net_free(conn-&gt;net, conn-&gt;stats, conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L193'>conn</a>              193 ext/mysqlnd/mysqlnd.c 		conn-&gt;net = NULL;</span>
<span class='curline'><a href='../S/768.html#L196'>conn</a>              196 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;protocol) {</span>
<span class='curline'><a href='../S/768.html#L197'>conn</a>              197 ext/mysqlnd/mysqlnd.c 		mysqlnd_protocol_free(conn-&gt;protocol);</span>
<span class='curline'><a href='../S/768.html#L198'>conn</a>              198 ext/mysqlnd/mysqlnd.c 		conn-&gt;protocol = NULL;</span>
<span class='curline'><a href='../S/768.html#L201'>conn</a>              201 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;stats) {</span>
<span class='curline'><a href='../S/768.html#L202'>conn</a>              202 ext/mysqlnd/mysqlnd.c 		mysqlnd_stats_end(conn-&gt;stats, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L205'>conn</a>              205 ext/mysqlnd/mysqlnd.c 	mnd_pefree(conn, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L214'>conn</a>              214 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, simple_command_handle_response)(MYSQLND_CONN_DATA * conn, enum mysqlnd_packet_type ok_packet,</span>
<span class='curline'><a href='../S/768.html#L225'>conn</a>              225 ext/mysqlnd/mysqlnd.c 			MYSQLND_PACKET_OK * ok_response = conn-&gt;protocol-&gt;m.get_ok_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/768.html#L227'>conn</a>              227 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L230'>conn</a>              230 ext/mysqlnd/mysqlnd.c 			if (FAIL == (ret = PACKET_READ(ok_response, conn))) {</span>
<span class='curline'><a href='../S/768.html#L240'>conn</a>              240 ext/mysqlnd/mysqlnd.c 					SET_CLIENT_ERROR(*conn-&gt;error_info, ok_response-&gt;error_no, ok_response-&gt;sqlstate, ok_response-&gt;error);</span>
<span class='curline'><a href='../S/768.html#L251'>conn</a>              251 ext/mysqlnd/mysqlnd.c 					conn-&gt;upsert_status-&gt;server_status &amp;= ~SERVER_MORE_RESULTS_EXISTS;</span>
<span class='curline'><a href='../S/768.html#L252'>conn</a>              252 ext/mysqlnd/mysqlnd.c 					SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/768.html#L254'>conn</a>              254 ext/mysqlnd/mysqlnd.c 					SET_NEW_MESSAGE(conn-&gt;last_message, conn-&gt;last_message_len,</span>
<span class='curline'><a href='../S/768.html#L256'>conn</a>              256 ext/mysqlnd/mysqlnd.c 									conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L259'>conn</a>              259 ext/mysqlnd/mysqlnd.c 						memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/768.html#L260'>conn</a>              260 ext/mysqlnd/mysqlnd.c 						conn-&gt;upsert_status-&gt;warning_count = ok_response-&gt;warning_count;</span>
<span class='curline'><a href='../S/768.html#L261'>conn</a>              261 ext/mysqlnd/mysqlnd.c 						conn-&gt;upsert_status-&gt;server_status = ok_response-&gt;server_status;</span>
<span class='curline'><a href='../S/768.html#L262'>conn</a>              262 ext/mysqlnd/mysqlnd.c 						conn-&gt;upsert_status-&gt;affected_rows = ok_response-&gt;affected_rows;</span>
<span class='curline'><a href='../S/768.html#L263'>conn</a>              263 ext/mysqlnd/mysqlnd.c 						conn-&gt;upsert_status-&gt;last_insert_id = ok_response-&gt;last_insert_id;</span>
<span class='curline'><a href='../S/768.html#L271'>conn</a>              271 ext/mysqlnd/mysqlnd.c 			MYSQLND_PACKET_EOF * ok_response = conn-&gt;protocol-&gt;m.get_eof_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/768.html#L273'>conn</a>              273 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L276'>conn</a>              276 ext/mysqlnd/mysqlnd.c 			if (FAIL == (ret = PACKET_READ(ok_response, conn))) {</span>
<span class='curline'><a href='../S/768.html#L277'>conn</a>              277 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_MALFORMED_PACKET, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/768.html#L286'>conn</a>              286 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, ok_response-&gt;error_no, ok_response-&gt;sqlstate, ok_response-&gt;error);</span>
<span class='curline'><a href='../S/768.html#L287'>conn</a>              287 ext/mysqlnd/mysqlnd.c 				SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/768.html#L289'>conn</a>              289 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_MALFORMED_PACKET, UNKNOWN_SQLSTATE, "Malformed packet");</span>
<span class='curline'><a href='../S/768.html#L302'>conn</a>              302 ext/mysqlnd/mysqlnd.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_MALFORMED_PACKET, UNKNOWN_SQLSTATE, "Malformed packet");</span>
<span class='curline'><a href='../S/768.html#L314'>conn</a>              314 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, simple_command_send_request)(MYSQLND_CONN_DATA * conn, enum php_mysqlnd_server_command command,</span>
<span class='curline'><a href='../S/768.html#L322'>conn</a>              322 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/768.html#L325'>conn</a>              325 ext/mysqlnd/mysqlnd.c 	switch (CONN_GET_STATE(conn)) {</span>
<span class='curline'><a href='../S/768.html#L329'>conn</a>              329 ext/mysqlnd/mysqlnd.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);</span>
<span class='curline'><a href='../S/768.html#L333'>conn</a>              333 ext/mysqlnd/mysqlnd.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE, mysqlnd_out_of_sync);</span>
<span class='curline'><a href='../S/768.html#L334'>conn</a>              334 ext/mysqlnd/mysqlnd.c 			DBG_ERR_FMT("Command out of sync. State=%u", CONN_GET_STATE(conn));</span>
<span class='curline'><a href='../S/768.html#L338'>conn</a>              338 ext/mysqlnd/mysqlnd.c 	SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/768.html#L339'>conn</a>              339 ext/mysqlnd/mysqlnd.c 	SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L341'>conn</a>              341 ext/mysqlnd/mysqlnd.c 	cmd_packet = conn-&gt;protocol-&gt;m.get_command_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/768.html#L343'>conn</a>              343 ext/mysqlnd/mysqlnd.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L353'>conn</a>              353 ext/mysqlnd/mysqlnd.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_COM_QUIT + command - 1 /* because of COM_SLEEP */ );</span>
<span class='curline'><a href='../S/768.html#L355'>conn</a>              355 ext/mysqlnd/mysqlnd.c 	if (! PACKET_WRITE(cmd_packet, conn)) {</span>
<span class='curline'><a href='../S/768.html#L360'>conn</a>              360 ext/mysqlnd/mysqlnd.c 		CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/768.html#L361'>conn</a>              361 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;send_close(conn);</span>
<span class='curline'><a href='../S/768.html#L373'>conn</a>              373 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, simple_command)(MYSQLND_CONN_DATA * conn, enum php_mysqlnd_server_command command,</span>
<span class='curline'><a href='../S/768.html#L380'>conn</a>              380 ext/mysqlnd/mysqlnd.c 	ret = conn-&gt;m-&gt;simple_command_send_request(conn, command, arg, arg_len, silent, ignore_upsert_status);</span>
<span class='curline'><a href='../S/768.html#L382'>conn</a>              382 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command_handle_response(conn, ok_packet, silent, command, ignore_upsert_status);</span>
<span class='curline'><a href='../S/768.html#L393'>conn</a>              393 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, set_server_option)(MYSQLND_CONN_DATA * const conn, enum_mysqlnd_server_option option)</span>
<span class='curline'><a href='../S/768.html#L399'>conn</a>              399 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L402'>conn</a>              402 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_SET_OPTION, buffer, sizeof(buffer), PROT_EOF_PACKET, FALSE, TRUE);</span>
<span class='curline'><a href='../S/768.html#L404'>conn</a>              404 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L413'>conn</a>              413 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, restart_psession)(MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/768.html#L416'>conn</a>              416 ext/mysqlnd/mysqlnd.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_CONNECT_REUSED);</span>
<span class='curline'><a href='../S/768.html#L418'>conn</a>              418 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;last_message) {</span>
<span class='curline'><a href='../S/768.html#L419'>conn</a>              419 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;last_message, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L420'>conn</a>              420 ext/mysqlnd/mysqlnd.c 		conn-&gt;last_message = NULL;</span>
<span class='curline'><a href='../S/768.html#L429'>conn</a>              429 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, end_psession)(MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/768.html#L440'>conn</a>              440 ext/mysqlnd/mysqlnd.c 			MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/768.html#L476'>conn</a>              476 ext/mysqlnd/mysqlnd.c 	auth_packet = conn-&gt;protocol-&gt;m.get_auth_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/768.html#L478'>conn</a>              478 ext/mysqlnd/mysqlnd.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L502'>conn</a>              502 ext/mysqlnd/mysqlnd.c 			if (!PACKET_WRITE(auth_packet, conn)) {</span>
<span class='curline'><a href='../S/768.html#L506'>conn</a>              506 ext/mysqlnd/mysqlnd.c 			conn-&gt;net-&gt;data-&gt;m.set_client_option(conn-&gt;net, MYSQL_OPT_SSL_VERIFY_SERVER_CERT, (const char *) &amp;verify);</span>
<span class='curline'><a href='../S/768.html#L508'>conn</a>              508 ext/mysqlnd/mysqlnd.c 			if (FAIL == conn-&gt;net-&gt;data-&gt;m.enable_ssl(conn-&gt;net)) {</span>
<span class='curline'><a href='../S/768.html#L515'>conn</a>              515 ext/mysqlnd/mysqlnd.c 	if (!PACKET_WRITE(auth_packet, conn)) {</span>
<span class='curline'><a href='../S/768.html#L525'>conn</a>              525 ext/mysqlnd/mysqlnd.c 	CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/768.html#L526'>conn</a>              526 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;send_close(conn);</span>
<span class='curline'><a href='../S/768.html#L527'>conn</a>              527 ext/mysqlnd/mysqlnd.c 	SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);</span>
<span class='curline'><a href='../S/768.html#L555'>conn</a>              555 ext/mysqlnd/mysqlnd.c 			MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/768.html#L596'>conn</a>              596 ext/mysqlnd/mysqlnd.c 		struct st_mysqlnd_authentication_plugin * auth_plugin = conn-&gt;m-&gt;fetch_auth_plugin_by_name(requested_protocol);</span>
<span class='curline'><a href='../S/768.html#L600'>conn</a>              600 ext/mysqlnd/mysqlnd.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_NOT_IMPLEMENTED, UNKNOWN_SQLSTATE, "The server requested authentication method unknown to the client");</span>
<span class='curline'><a href='../S/768.html#L614'>conn</a>              614 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;auth_plugin_data) {</span>
<span class='curline'><a href='../S/768.html#L615'>conn</a>              615 ext/mysqlnd/mysqlnd.c 				mnd_pefree(conn-&gt;auth_plugin_data, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L616'>conn</a>              616 ext/mysqlnd/mysqlnd.c 				conn-&gt;auth_plugin_data = NULL;</span>
<span class='curline'><a href='../S/768.html#L618'>conn</a>              618 ext/mysqlnd/mysqlnd.c 			conn-&gt;auth_plugin_data_len = plugin_data_len;</span>
<span class='curline'><a href='../S/768.html#L619'>conn</a>              619 ext/mysqlnd/mysqlnd.c 			conn-&gt;auth_plugin_data = mnd_pemalloc(conn-&gt;auth_plugin_data_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L620'>conn</a>              620 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;auth_plugin_data) {</span>
<span class='curline'><a href='../S/768.html#L621'>conn</a>              621 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L624'>conn</a>              624 ext/mysqlnd/mysqlnd.c 			memcpy(conn-&gt;auth_plugin_data, plugin_data, plugin_data_len);</span>
<span class='curline'><a href='../S/768.html#L629'>conn</a>              629 ext/mysqlnd/mysqlnd.c 				auth_plugin-&gt;methods.get_auth_data(NULL, &amp;scrambled_data_len, conn, user, passwd, passwd_len,</span>
<span class='curline'><a href='../S/768.html#L630'>conn</a>              630 ext/mysqlnd/mysqlnd.c 												   plugin_data, plugin_data_len, options, &amp;conn-&gt;net-&gt;data-&gt;options, mysql_flags);</span>
<span class='curline'><a href='../S/768.html#L631'>conn</a>              631 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;error_info-&gt;error_no) {</span>
<span class='curline'><a href='../S/768.html#L635'>conn</a>              635 ext/mysqlnd/mysqlnd.c 				ret = mysqlnd_auth_handshake(conn, user, passwd, passwd_len, db, db_len, options, mysql_flags,</span>
<span class='curline'><a href='../S/768.html#L644'>conn</a>              644 ext/mysqlnd/mysqlnd.c 				ret = mysqlnd_auth_change_user(conn, user, strlen(user), passwd, passwd_len, db, db_len, silent,</span>
<span class='curline'><a href='../S/768.html#L667'>conn</a>              667 ext/mysqlnd/mysqlnd.c 		DBG_INF_FMT("conn-&gt;error_info-&gt;error_no = %d", conn-&gt;error_info-&gt;error_no);</span>
<span class='curline'><a href='../S/768.html#L668'>conn</a>              668 ext/mysqlnd/mysqlnd.c 	} while (ret == FAIL &amp;&amp; conn-&gt;error_info-&gt;error_no == 0 &amp;&amp; switch_to_auth_protocol != NULL);</span>
<span class='curline'><a href='../S/768.html#L672'>conn</a>              672 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;set_client_option(conn, MYSQLND_OPT_AUTH_PROTOCOL, requested_protocol);</span>
<span class='curline'><a href='../S/768.html#L690'>conn</a>              690 ext/mysqlnd/mysqlnd.c 			MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/768.html#L704'>conn</a>              704 ext/mysqlnd/mysqlnd.c 	ret = mysqlnd_switch_to_ssl_if_needed(conn, greet_packet, options, mysql_flags);</span>
<span class='curline'><a href='../S/768.html#L706'>conn</a>              706 ext/mysqlnd/mysqlnd.c 		ret = mysqlnd_run_authentication(conn, user, passwd, passwd_len, db, db_len,</span>
<span class='curline'><a href='../S/768.html#L717'>conn</a>              717 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, execute_init_commands)(MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/768.html#L722'>conn</a>              722 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;init_commands) {</span>
<span class='curline'><a href='../S/768.html#L724'>conn</a>              724 ext/mysqlnd/mysqlnd.c 		for (; current_command &lt; conn-&gt;options-&gt;num_commands; ++current_command) {</span>
<span class='curline'><a href='../S/768.html#L725'>conn</a>              725 ext/mysqlnd/mysqlnd.c 			const char * const command = conn-&gt;options-&gt;init_commands[current_command];</span>
<span class='curline'><a href='../S/768.html#L727'>conn</a>              727 ext/mysqlnd/mysqlnd.c 				MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_INIT_COMMAND_EXECUTED_COUNT);</span>
<span class='curline'><a href='../S/768.html#L728'>conn</a>              728 ext/mysqlnd/mysqlnd.c 				if (PASS != conn-&gt;m-&gt;query(conn, command, strlen(command))) {</span>
<span class='curline'><a href='../S/768.html#L729'>conn</a>              729 ext/mysqlnd/mysqlnd.c 					MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_INIT_COMMAND_FAILED_COUNT);</span>
<span class='curline'><a href='../S/768.html#L733'>conn</a>              733 ext/mysqlnd/mysqlnd.c 				if (conn-&gt;last_query_type == QUERY_SELECT) {</span>
<span class='curline'><a href='../S/768.html#L734'>conn</a>              734 ext/mysqlnd/mysqlnd.c 					MYSQLND_RES * result = conn-&gt;m-&gt;use_result(conn, 0);</span>
<span class='curline'><a href='../S/768.html#L749'>conn</a>              749 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_updated_connect_flags)(MYSQLND_CONN_DATA * conn, unsigned int mysql_flags)</span>
<span class='curline'><a href='../S/768.html#L751'>conn</a>              751 ext/mysqlnd/mysqlnd.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/768.html#L757'>conn</a>              757 ext/mysqlnd/mysqlnd.c 	mysql_flags |= conn-&gt;options-&gt;flags; /* use the flags from set_client_option() */</span>
<span class='curline'><a href='../S/768.html#L787'>conn</a>              787 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, connect_handshake)(MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/768.html#L794'>conn</a>              794 ext/mysqlnd/mysqlnd.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/768.html#L798'>conn</a>              798 ext/mysqlnd/mysqlnd.c 	greet_packet = conn-&gt;protocol-&gt;m.get_greet_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/768.html#L800'>conn</a>              800 ext/mysqlnd/mysqlnd.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L804'>conn</a>              804 ext/mysqlnd/mysqlnd.c 	if (FAIL == net-&gt;data-&gt;m.connect_ex(conn-&gt;net, conn-&gt;scheme, conn-&gt;scheme_len, conn-&gt;persistent,</span>
<span class='curline'><a href='../S/768.html#L805'>conn</a>              805 ext/mysqlnd/mysqlnd.c 										conn-&gt;stats, conn-&gt;error_info))</span>
<span class='curline'><a href='../S/768.html#L812'>conn</a>              812 ext/mysqlnd/mysqlnd.c 	if (FAIL == PACKET_READ(greet_packet, conn)) {</span>
<span class='curline'><a href='../S/768.html#L818'>conn</a>              818 ext/mysqlnd/mysqlnd.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, greet_packet-&gt;error_no, greet_packet-&gt;sqlstate, greet_packet-&gt;error);</span>
<span class='curline'><a href='../S/768.html#L824'>conn</a>              824 ext/mysqlnd/mysqlnd.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_NOT_IMPLEMENTED, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/768.html#L829'>conn</a>              829 ext/mysqlnd/mysqlnd.c 	conn-&gt;thread_id			= greet_packet-&gt;thread_id;</span>
<span class='curline'><a href='../S/768.html#L830'>conn</a>              830 ext/mysqlnd/mysqlnd.c 	conn-&gt;protocol_version	= greet_packet-&gt;protocol_version;</span>
<span class='curline'><a href='../S/768.html#L831'>conn</a>              831 ext/mysqlnd/mysqlnd.c 	conn-&gt;server_version	= mnd_pestrdup(greet_packet-&gt;server_version, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L833'>conn</a>              833 ext/mysqlnd/mysqlnd.c 	conn-&gt;greet_charset = mysqlnd_find_charset_nr(greet_packet-&gt;charset_no);</span>
<span class='curline'><a href='../S/768.html#L834'>conn</a>              834 ext/mysqlnd/mysqlnd.c 	if (!conn-&gt;greet_charset) {</span>
<span class='curline'><a href='../S/768.html#L837'>conn</a>              837 ext/mysqlnd/mysqlnd.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_NOT_IMPLEMENTED, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/768.html#L842'>conn</a>              842 ext/mysqlnd/mysqlnd.c 	conn-&gt;client_flag			= mysql_flags;</span>
<span class='curline'><a href='../S/768.html#L843'>conn</a>              843 ext/mysqlnd/mysqlnd.c 	conn-&gt;server_capabilities 	= greet_packet-&gt;server_capabilities;</span>
<span class='curline'><a href='../S/768.html#L845'>conn</a>              845 ext/mysqlnd/mysqlnd.c 	if (FAIL == mysqlnd_connect_run_authentication(conn, user, passwd, db, db_len, (size_t) passwd_len,</span>
<span class='curline'><a href='../S/768.html#L846'>conn</a>              846 ext/mysqlnd/mysqlnd.c 												   greet_packet, conn-&gt;options, mysql_flags))</span>
<span class='curline'><a href='../S/768.html#L850'>conn</a>              850 ext/mysqlnd/mysqlnd.c 	memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/768.html#L851'>conn</a>              851 ext/mysqlnd/mysqlnd.c 	conn-&gt;upsert_status-&gt;warning_count = 0;</span>
<span class='curline'><a href='../S/768.html#L852'>conn</a>              852 ext/mysqlnd/mysqlnd.c 	conn-&gt;upsert_status-&gt;server_status = greet_packet-&gt;server_status;</span>
<span class='curline'><a href='../S/768.html#L853'>conn</a>              853 ext/mysqlnd/mysqlnd.c 	conn-&gt;upsert_status-&gt;affected_rows = 0;</span>
<span class='curline'><a href='../S/768.html#L858'>conn</a>              858 ext/mysqlnd/mysqlnd.c 	conn-&gt;client_flag = 0;</span>
<span class='curline'><a href='../S/768.html#L859'>conn</a>              859 ext/mysqlnd/mysqlnd.c 	conn-&gt;server_capabilities = 0;</span>
<span class='curline'><a href='../S/768.html#L868'>conn</a>              868 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, connect)(MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/768.html#L884'>conn</a>              884 ext/mysqlnd/mysqlnd.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/768.html#L887'>conn</a>              887 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%p", conn);</span>
<span class='curline'><a href='../S/768.html#L889'>conn</a>              889 ext/mysqlnd/mysqlnd.c 	if (PASS != conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L894'>conn</a>              894 ext/mysqlnd/mysqlnd.c 	SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L895'>conn</a>              895 ext/mysqlnd/mysqlnd.c 	SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/768.html#L899'>conn</a>              899 ext/mysqlnd/mysqlnd.c 				conn? conn-&gt;persistent:0, conn? CONN_GET_STATE(conn):-1);</span>
<span class='curline'><a href='../S/768.html#L901'>conn</a>              901 ext/mysqlnd/mysqlnd.c 	if (CONN_GET_STATE(conn) &gt; CONN_ALLOCED &amp;&amp; CONN_GET_STATE(conn) ) {</span>
<span class='curline'><a href='../S/768.html#L904'>conn</a>              904 ext/mysqlnd/mysqlnd.c 		if (CONN_GET_STATE(conn) &lt; CONN_QUIT_SENT) {</span>
<span class='curline'><a href='../S/768.html#L905'>conn</a>              905 ext/mysqlnd/mysqlnd.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_CLOSE_IMPLICIT);</span>
<span class='curline'><a href='../S/768.html#L907'>conn</a>              907 ext/mysqlnd/mysqlnd.c 			conn-&gt;m-&gt;send_close(conn);</span>
<span class='curline'><a href='../S/768.html#L910'>conn</a>              910 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;free_contents(conn);</span>
<span class='curline'><a href='../S/768.html#L911'>conn</a>              911 ext/mysqlnd/mysqlnd.c 		MYSQLND_DEC_CONN_STATISTIC(conn-&gt;stats, STAT_OPENED_CONNECTIONS);</span>
<span class='curline'><a href='../S/768.html#L912'>conn</a>              912 ext/mysqlnd/mysqlnd.c 		if (conn-&gt;persistent) {</span>
<span class='curline'><a href='../S/768.html#L913'>conn</a>              913 ext/mysqlnd/mysqlnd.c 			MYSQLND_DEC_CONN_STATISTIC(conn-&gt;stats, STAT_OPENED_PERSISTENT_CONNECTIONS);</span>
<span class='curline'><a href='../S/768.html#L930'>conn</a>              930 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;set_client_option(conn, MYSQLND_OPT_MAX_ALLOWED_PACKET, (char *)&amp;max_allowed_size);</span>
<span class='curline'><a href='../S/768.html#L981'>conn</a>              981 ext/mysqlnd/mysqlnd.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L984'>conn</a>              984 ext/mysqlnd/mysqlnd.c 		DBG_INF_FMT("transport=%s conn-&gt;scheme=%s", transport, conn-&gt;scheme);</span>
<span class='curline'><a href='../S/768.html#L985'>conn</a>              985 ext/mysqlnd/mysqlnd.c 		conn-&gt;scheme = mnd_pestrndup(transport, transport_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L986'>conn</a>              986 ext/mysqlnd/mysqlnd.c 		conn-&gt;scheme_len = transport_len;</span>
<span class='curline'><a href='../S/768.html#L989'>conn</a>              989 ext/mysqlnd/mysqlnd.c 		if (!conn-&gt;scheme) {</span>
<span class='curline'><a href='../S/768.html#L994'>conn</a>              994 ext/mysqlnd/mysqlnd.c 	mysql_flags = conn-&gt;m-&gt;get_updated_connect_flags(conn, mysql_flags);</span>
<span class='curline'><a href='../S/768.html#L996'>conn</a>              996 ext/mysqlnd/mysqlnd.c 	if (FAIL == conn-&gt;m-&gt;connect_handshake(conn, host, user, passwd, passwd_len, db, db_len, mysql_flags)) {</span>
<span class='curline'><a href='../S/768.html#L1001'>conn</a>             1001 ext/mysqlnd/mysqlnd.c 		CONN_SET_STATE(conn, CONN_READY);</span>
<span class='curline'><a href='../S/768.html#L1013'>conn</a>             1013 ext/mysqlnd/mysqlnd.c 		conn-&gt;user_len			= strlen(user);</span>
<span class='curline'><a href='../S/768.html#L1014'>conn</a>             1014 ext/mysqlnd/mysqlnd.c 		conn-&gt;user				= mnd_pestrndup(user, conn-&gt;user_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1015'>conn</a>             1015 ext/mysqlnd/mysqlnd.c 		conn-&gt;passwd			= mnd_pestrndup(passwd, passwd_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1016'>conn</a>             1016 ext/mysqlnd/mysqlnd.c 		conn-&gt;passwd_len		= passwd_len;</span>
<span class='curline'><a href='../S/768.html#L1017'>conn</a>             1017 ext/mysqlnd/mysqlnd.c 		conn-&gt;port				= port;</span>
<span class='curline'><a href='../S/768.html#L1018'>conn</a>             1018 ext/mysqlnd/mysqlnd.c 		conn-&gt;connect_or_select_db = mnd_pestrndup(db, db_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1019'>conn</a>             1019 ext/mysqlnd/mysqlnd.c 		conn-&gt;connect_or_select_db_len = db_len;</span>
<span class='curline'><a href='../S/768.html#L1021'>conn</a>             1021 ext/mysqlnd/mysqlnd.c 		if (!conn-&gt;user || !conn-&gt;passwd || !conn-&gt;connect_or_select_db) {</span>
<span class='curline'><a href='../S/768.html#L1022'>conn</a>             1022 ext/mysqlnd/mysqlnd.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1027'>conn</a>             1027 ext/mysqlnd/mysqlnd.c 			conn-&gt;host = mnd_pestrndup(host, host_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1028'>conn</a>             1028 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;host) {</span>
<span class='curline'><a href='../S/768.html#L1029'>conn</a>             1029 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1032'>conn</a>             1032 ext/mysqlnd/mysqlnd.c 			conn-&gt;host_len = host_len;</span>
<span class='curline'><a href='../S/768.html#L1035'>conn</a>             1035 ext/mysqlnd/mysqlnd.c 				mnd_sprintf(&amp;p, 0, "%s via TCP/IP", conn-&gt;host);</span>
<span class='curline'><a href='../S/768.html#L1037'>conn</a>             1037 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1040'>conn</a>             1040 ext/mysqlnd/mysqlnd.c 				conn-&gt;host_info = mnd_pestrdup(p, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1042'>conn</a>             1042 ext/mysqlnd/mysqlnd.c 				if (!conn-&gt;host_info) {</span>
<span class='curline'><a href='../S/768.html#L1043'>conn</a>             1043 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1048'>conn</a>             1048 ext/mysqlnd/mysqlnd.c 			conn-&gt;unix_socket = mnd_pestrdup(socket_or_pipe, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1050'>conn</a>             1050 ext/mysqlnd/mysqlnd.c 				conn-&gt;host_info = mnd_pestrdup("Localhost via UNIX socket", conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1053'>conn</a>             1053 ext/mysqlnd/mysqlnd.c 				mnd_sprintf(&amp;p, 0, "%s via named pipe", conn-&gt;unix_socket);</span>
<span class='curline'><a href='../S/768.html#L1055'>conn</a>             1055 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1058'>conn</a>             1058 ext/mysqlnd/mysqlnd.c 				conn-&gt;host_info =  mnd_pestrdup(p, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1060'>conn</a>             1060 ext/mysqlnd/mysqlnd.c 				if (!conn-&gt;host_info) {</span>
<span class='curline'><a href='../S/768.html#L1061'>conn</a>             1061 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1067'>conn</a>             1067 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;unix_socket || !conn-&gt;host_info) {</span>
<span class='curline'><a href='../S/768.html#L1068'>conn</a>             1068 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1071'>conn</a>             1071 ext/mysqlnd/mysqlnd.c 			conn-&gt;unix_socket_len = strlen(conn-&gt;unix_socket);</span>
<span class='curline'><a href='../S/768.html#L1073'>conn</a>             1073 ext/mysqlnd/mysqlnd.c 		conn-&gt;max_packet_size	= MYSQLND_ASSEMBLED_PACKET_MAX_SIZE;</span>
<span class='curline'><a href='../S/768.html#L1076'>conn</a>             1076 ext/mysqlnd/mysqlnd.c 		SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1078'>conn</a>             1078 ext/mysqlnd/mysqlnd.c 		mysqlnd_local_infile_default(conn);</span>
<span class='curline'><a href='../S/768.html#L1080'>conn</a>             1080 ext/mysqlnd/mysqlnd.c 		if (FAIL == conn-&gt;m-&gt;execute_init_commands(conn)) {</span>
<span class='curline'><a href='../S/768.html#L1084'>conn</a>             1084 ext/mysqlnd/mysqlnd.c 		MYSQLND_INC_CONN_STATISTIC_W_VALUE2(conn-&gt;stats, STAT_CONNECT_SUCCESS, 1, STAT_OPENED_CONNECTIONS, 1);</span>
<span class='curline'><a href='../S/768.html#L1088'>conn</a>             1088 ext/mysqlnd/mysqlnd.c 		if (conn-&gt;persistent) {</span>
<span class='curline'><a href='../S/768.html#L1089'>conn</a>             1089 ext/mysqlnd/mysqlnd.c 			MYSQLND_INC_CONN_STATISTIC_W_VALUE2(conn-&gt;stats, STAT_PCONNECT_SUCCESS, 1, STAT_OPENED_PERSISTENT_CONNECTIONS, 1);</span>
<span class='curline'><a href='../S/768.html#L1092'>conn</a>             1092 ext/mysqlnd/mysqlnd.c 		DBG_INF_FMT("connection_id=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/768.html#L1094'>conn</a>             1094 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, PASS);</span>
<span class='curline'><a href='../S/768.html#L1099'>conn</a>             1099 ext/mysqlnd/mysqlnd.c 	DBG_ERR_FMT("[%u] %.128s (trying to connect via %s)", conn-&gt;error_info-&gt;error_no, conn-&gt;error_info-&gt;error, conn-&gt;scheme);</span>
<span class='curline'><a href='../S/768.html#L1100'>conn</a>             1100 ext/mysqlnd/mysqlnd.c 	if (!conn-&gt;error_info-&gt;error_no) {</span>
<span class='curline'><a href='../S/768.html#L1101'>conn</a>             1101 ext/mysqlnd/mysqlnd.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_CONNECTION_ERROR, UNKNOWN_SQLSTATE, conn-&gt;error_info-&gt;error? conn-&gt;error_info-&gt;error:"Unknown error");</span>
<span class='curline'><a href='../S/768.html#L1103'>conn</a>             1103 ext/mysqlnd/mysqlnd.c 						 conn-&gt;error_info-&gt;error_no, conn-&gt;error_info-&gt;error, conn-&gt;scheme);</span>
<span class='curline'><a href='../S/768.html#L1106'>conn</a>             1106 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;free_contents(conn);</span>
<span class='curline'><a href='../S/768.html#L1107'>conn</a>             1107 ext/mysqlnd/mysqlnd.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_CONNECT_FAILURE);</span>
<span class='curline'><a href='../S/768.html#L1109'>conn</a>             1109 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, FAIL);</span>
<span class='curline'><a href='../S/768.html#L1130'>conn</a>             1130 ext/mysqlnd/mysqlnd.c 	MYSQLND_CONN_DATA * conn = conn_handle-&gt;data;</span>
<span class='curline'><a href='../S/768.html#L1134'>conn</a>             1134 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1136'>conn</a>             1136 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;connect(conn, host, user, passwd, passwd_len, db, db_len, port, socket_or_pipe, mysql_flags);</span>
<span class='curline'><a href='../S/768.html#L1138'>conn</a>             1138 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, FAIL);</span>
<span class='curline'><a href='../S/768.html#L1193'>conn</a>             1193 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, query)(MYSQLND_CONN_DATA * conn, const char * query, unsigned int query_len)</span>
<span class='curline'><a href='../S/768.html#L1198'>conn</a>             1198 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%p conn=%llu query=%s", conn, conn-&gt;thread_id, query);</span>
<span class='curline'><a href='../S/768.html#L1200'>conn</a>             1200 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1201'>conn</a>             1201 ext/mysqlnd/mysqlnd.c 		if (PASS == conn-&gt;m-&gt;send_query(conn, query, query_len, MYSQLND_SEND_QUERY_IMPLICIT, NULL, NULL) &amp;&amp;</span>
<span class='curline'><a href='../S/768.html#L1202'>conn</a>             1202 ext/mysqlnd/mysqlnd.c 			PASS == conn-&gt;m-&gt;reap_query(conn, MYSQLND_REAP_RESULT_IMPLICIT))</span>
<span class='curline'><a href='../S/768.html#L1205'>conn</a>             1205 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;last_query_type == QUERY_UPSERT &amp;&amp; conn-&gt;upsert_status-&gt;affected_rows) {</span>
<span class='curline'><a href='../S/768.html#L1206'>conn</a>             1206 ext/mysqlnd/mysqlnd.c 				MYSQLND_INC_CONN_STATISTIC_W_VALUE(conn-&gt;stats, STAT_ROWS_AFFECTED_NORMAL, conn-&gt;upsert_status-&gt;affected_rows);</span>
<span class='curline'><a href='../S/768.html#L1209'>conn</a>             1209 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1218'>conn</a>             1218 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, send_query)(MYSQLND_CONN_DATA * conn, const char * query, unsigned int query_len,</span>
<span class='curline'><a href='../S/768.html#L1224'>conn</a>             1224 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu query=%s", conn-&gt;thread_id, query);</span>
<span class='curline'><a href='../S/768.html#L1225'>conn</a>             1225 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/768.html#L1227'>conn</a>             1227 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1228'>conn</a>             1228 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_QUERY, (zend_uchar *) query, query_len,</span>
<span class='curline'><a href='../S/768.html#L1232'>conn</a>             1232 ext/mysqlnd/mysqlnd.c 			CONN_SET_STATE(conn, CONN_QUERY_SENT);</span>
<span class='curline'><a href='../S/768.html#L1234'>conn</a>             1234 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1236'>conn</a>             1236 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/768.html#L1244'>conn</a>             1244 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, reap_query)(MYSQLND_CONN_DATA * conn, enum_mysqlnd_reap_result_type type)</span>
<span class='curline'><a href='../S/768.html#L1247'>conn</a>             1247 ext/mysqlnd/mysqlnd.c 	enum_mysqlnd_connection_state state = CONN_GET_STATE(conn);</span>
<span class='curline'><a href='../S/768.html#L1250'>conn</a>             1250 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/768.html#L1252'>conn</a>             1252 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/768.html#L1253'>conn</a>             1253 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1259'>conn</a>             1259 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;query_read_result_set_header(conn, NULL);</span>
<span class='curline'><a href='../S/768.html#L1261'>conn</a>             1261 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1263'>conn</a>             1263 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/768.html#L1468'>conn</a>             1468 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, list_fields)(MYSQLND_CONN_DATA * conn, const char *table, const char *achtung_wild)</span>
<span class='curline'><a href='../S/768.html#L1476'>conn</a>             1476 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu table=%s wild=%s", conn-&gt;thread_id, table? table:"",achtung_wild? achtung_wild:"");</span>
<span class='curline'><a href='../S/768.html#L1478'>conn</a>             1478 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1495'>conn</a>             1495 ext/mysqlnd/mysqlnd.c 			if (PASS != conn-&gt;m-&gt;simple_command(conn, COM_FIELD_LIST, buff, p - buff,</span>
<span class='curline'><a href='../S/768.html#L1498'>conn</a>             1498 ext/mysqlnd/mysqlnd.c 				conn-&gt;m-&gt;local_tx_end(conn, 0, FAIL);</span>
<span class='curline'><a href='../S/768.html#L1506'>conn</a>             1506 ext/mysqlnd/mysqlnd.c 			result = conn-&gt;m-&gt;result_init(5000, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1511'>conn</a>             1511 ext/mysqlnd/mysqlnd.c 			if (FAIL == result-&gt;m.read_result_metadata(result, conn)) {</span>
<span class='curline'><a href='../S/768.html#L1522'>conn</a>             1522 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1529'>conn</a>             1529 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, result == NULL? FAIL:PASS);</span>
<span class='curline'><a href='../S/768.html#L1539'>conn</a>             1539 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, list_method)(MYSQLND_CONN_DATA * conn, const char * query, const char *achtung_wild, char *par1)</span>
<span class='curline'><a href='../S/768.html#L1547'>conn</a>             1547 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu query=%s wild=%u", conn-&gt;thread_id, query, achtung_wild);</span>
<span class='curline'><a href='../S/768.html#L1549'>conn</a>             1549 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1564'>conn</a>             1564 ext/mysqlnd/mysqlnd.c 		if (PASS == conn-&gt;m-&gt;query(conn, show_query, show_query_len)) {</span>
<span class='curline'><a href='../S/768.html#L1565'>conn</a>             1565 ext/mysqlnd/mysqlnd.c 			result = conn-&gt;m-&gt;store_result(conn, MYSQLND_STORE_NO_COPY);</span>
<span class='curline'><a href='../S/768.html#L1570'>conn</a>             1570 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, result == NULL? FAIL:PASS);</span>
<span class='curline'><a href='../S/768.html#L1579'>conn</a>             1579 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, errno)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L1581'>conn</a>             1581 ext/mysqlnd/mysqlnd.c 	return conn-&gt;error_info-&gt;error_no;</span>
<span class='curline'><a href='../S/768.html#L1588'>conn</a>             1588 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, error)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L1590'>conn</a>             1590 ext/mysqlnd/mysqlnd.c 	return conn-&gt;error_info-&gt;error;</span>
<span class='curline'><a href='../S/768.html#L1597'>conn</a>             1597 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, sqlstate)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L1599'>conn</a>             1599 ext/mysqlnd/mysqlnd.c 	return conn-&gt;error_info-&gt;sqlstate[0] ? conn-&gt;error_info-&gt;sqlstate:MYSQLND_SQLSTATE_NULL;</span>
<span class='curline'><a href='../S/768.html#L1616'>conn</a>             1616 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, ssl_set)(MYSQLND_CONN_DATA * const conn, const char * key, const char * const cert,</span>
<span class='curline'><a href='../S/768.html#L1621'>conn</a>             1621 ext/mysqlnd/mysqlnd.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/768.html#L1624'>conn</a>             1624 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1631'>conn</a>             1631 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1640'>conn</a>             1640 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, escape_string)(MYSQLND_CONN_DATA * const conn, char * newstr, const char * escapestr, size_t escapestr_len)</span>
<span class='curline'><a href='../S/768.html#L1645'>conn</a>             1645 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/768.html#L1647'>conn</a>             1647 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1648'>conn</a>             1648 ext/mysqlnd/mysqlnd.c 		DBG_INF_FMT("server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/768.html#L1649'>conn</a>             1649 ext/mysqlnd/mysqlnd.c 		if (conn-&gt;upsert_status-&gt;server_status &amp; SERVER_STATUS_NO_BACKSLASH_ESCAPES) {</span>
<span class='curline'><a href='../S/768.html#L1650'>conn</a>             1650 ext/mysqlnd/mysqlnd.c 			ret = mysqlnd_cset_escape_quotes(conn-&gt;charset, newstr, escapestr, escapestr_len);</span>
<span class='curline'><a href='../S/768.html#L1652'>conn</a>             1652 ext/mysqlnd/mysqlnd.c 			ret = mysqlnd_cset_escape_slashes(conn-&gt;charset, newstr, escapestr, escapestr_len);</span>
<span class='curline'><a href='../S/768.html#L1654'>conn</a>             1654 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, PASS);</span>
<span class='curline'><a href='../S/768.html#L1663'>conn</a>             1663 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, dump_debug_info)(MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L1668'>conn</a>             1668 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/768.html#L1669'>conn</a>             1669 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1670'>conn</a>             1670 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_DEBUG, NULL, 0, PROT_EOF_PACKET, FALSE, TRUE);</span>
<span class='curline'><a href='../S/768.html#L1672'>conn</a>             1672 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1682'>conn</a>             1682 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, select_db)(MYSQLND_CONN_DATA * const conn, const char * const db, unsigned int db_len)</span>
<span class='curline'><a href='../S/768.html#L1688'>conn</a>             1688 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu db=%s", conn-&gt;thread_id, db);</span>
<span class='curline'><a href='../S/768.html#L1690'>conn</a>             1690 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1691'>conn</a>             1691 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_INIT_DB, (zend_uchar*) db, db_len, PROT_OK_PACKET, FALSE, TRUE);</span>
<span class='curline'><a href='../S/768.html#L1696'>conn</a>             1696 ext/mysqlnd/mysqlnd.c 		SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/768.html#L1698'>conn</a>             1698 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;connect_or_select_db) {</span>
<span class='curline'><a href='../S/768.html#L1699'>conn</a>             1699 ext/mysqlnd/mysqlnd.c 				mnd_pefree(conn-&gt;connect_or_select_db, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1701'>conn</a>             1701 ext/mysqlnd/mysqlnd.c 			conn-&gt;connect_or_select_db = mnd_pestrndup(db, db_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1702'>conn</a>             1702 ext/mysqlnd/mysqlnd.c 			conn-&gt;connect_or_select_db_len = db_len;</span>
<span class='curline'><a href='../S/768.html#L1703'>conn</a>             1703 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;connect_or_select_db) {</span>
<span class='curline'><a href='../S/768.html#L1705'>conn</a>             1705 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1709'>conn</a>             1709 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1718'>conn</a>             1718 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, ping)(MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L1724'>conn</a>             1724 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/768.html#L1726'>conn</a>             1726 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1727'>conn</a>             1727 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_PING, NULL, 0, PROT_OK_PACKET, TRUE, TRUE);</span>
<span class='curline'><a href='../S/768.html#L1732'>conn</a>             1732 ext/mysqlnd/mysqlnd.c 		SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/768.html#L1734'>conn</a>             1734 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1744'>conn</a>             1744 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, statistic)(MYSQLND_CONN_DATA * conn, zend_string **message)</span>
<span class='curline'><a href='../S/768.html#L1751'>conn</a>             1751 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/768.html#L1753'>conn</a>             1753 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1755'>conn</a>             1755 ext/mysqlnd/mysqlnd.c 			ret = conn-&gt;m-&gt;simple_command(conn, COM_STATISTICS, NULL, 0, PROT_LAST, FALSE, TRUE);</span>
<span class='curline'><a href='../S/768.html#L1759'>conn</a>             1759 ext/mysqlnd/mysqlnd.c 			stats_header = conn-&gt;protocol-&gt;m.get_stats_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/768.html#L1761'>conn</a>             1761 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1765'>conn</a>             1765 ext/mysqlnd/mysqlnd.c 			if (PASS == (ret = PACKET_READ(stats_header, conn))) {</span>
<span class='curline'><a href='../S/768.html#L1773'>conn</a>             1773 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1782'>conn</a>             1782 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, kill)(MYSQLND_CONN_DATA * conn, unsigned int pid)</span>
<span class='curline'><a href='../S/768.html#L1789'>conn</a>             1789 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu pid=%u", conn-&gt;thread_id, pid);</span>
<span class='curline'><a href='../S/768.html#L1791'>conn</a>             1791 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1795'>conn</a>             1795 ext/mysqlnd/mysqlnd.c 		if (pid != conn-&gt;thread_id) {</span>
<span class='curline'><a href='../S/768.html#L1796'>conn</a>             1796 ext/mysqlnd/mysqlnd.c 			ret = conn-&gt;m-&gt;simple_command(conn, COM_PROCESS_KILL, buff, 4, PROT_OK_PACKET, FALSE, TRUE);</span>
<span class='curline'><a href='../S/768.html#L1801'>conn</a>             1801 ext/mysqlnd/mysqlnd.c 			SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/768.html#L1802'>conn</a>             1802 ext/mysqlnd/mysqlnd.c 		} else if (PASS == (ret = conn-&gt;m-&gt;simple_command(conn, COM_PROCESS_KILL, buff, 4, PROT_LAST, FALSE, TRUE))) {</span>
<span class='curline'><a href='../S/768.html#L1803'>conn</a>             1803 ext/mysqlnd/mysqlnd.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/768.html#L1804'>conn</a>             1804 ext/mysqlnd/mysqlnd.c 			conn-&gt;m-&gt;send_close(conn);</span>
<span class='curline'><a href='../S/768.html#L1807'>conn</a>             1807 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1816'>conn</a>             1816 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, set_charset)(MYSQLND_CONN_DATA * const conn, const char * const csname)</span>
<span class='curline'><a href='../S/768.html#L1823'>conn</a>             1823 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu cs=%s", conn-&gt;thread_id, csname);</span>
<span class='curline'><a href='../S/768.html#L1826'>conn</a>             1826 ext/mysqlnd/mysqlnd.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_CANT_FIND_CHARSET, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/768.html#L1831'>conn</a>             1831 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1835'>conn</a>             1835 ext/mysqlnd/mysqlnd.c 		if (FAIL == (ret = conn-&gt;m-&gt;query(conn, query, query_len))) {</span>
<span class='curline'><a href='../S/768.html#L1837'>conn</a>             1837 ext/mysqlnd/mysqlnd.c 		} else if (conn-&gt;error_info-&gt;error_no) {</span>
<span class='curline'><a href='../S/768.html#L1840'>conn</a>             1840 ext/mysqlnd/mysqlnd.c 			conn-&gt;charset = charset;</span>
<span class='curline'><a href='../S/768.html#L1844'>conn</a>             1844 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1855'>conn</a>             1855 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, refresh)(MYSQLND_CONN_DATA * const conn, uint8_t options)</span>
<span class='curline'><a href='../S/768.html#L1861'>conn</a>             1861 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu options=%lu", conn-&gt;thread_id, options);</span>
<span class='curline'><a href='../S/768.html#L1863'>conn</a>             1863 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1866'>conn</a>             1866 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_REFRESH, bits, 1, PROT_OK_PACKET, FALSE, TRUE);</span>
<span class='curline'><a href='../S/768.html#L1868'>conn</a>             1868 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1877'>conn</a>             1877 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, shutdown)(MYSQLND_CONN_DATA * const conn, uint8_t level)</span>
<span class='curline'><a href='../S/768.html#L1883'>conn</a>             1883 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu level=%lu", conn-&gt;thread_id, level);</span>
<span class='curline'><a href='../S/768.html#L1885'>conn</a>             1885 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L1888'>conn</a>             1888 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_SHUTDOWN, bits, 1, PROT_OK_PACKET, FALSE, TRUE);</span>
<span class='curline'><a href='../S/768.html#L1890'>conn</a>             1890 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L1899'>conn</a>             1899 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, send_close)(MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L1902'>conn</a>             1902 ext/mysqlnd/mysqlnd.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/768.html#L1907'>conn</a>             1907 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu net-&gt;data-&gt;stream-&gt;abstract=%p", conn-&gt;thread_id, net_stream? net_stream-&gt;abstract:NULL);</span>
<span class='curline'><a href='../S/768.html#L1909'>conn</a>             1909 ext/mysqlnd/mysqlnd.c 	if (CONN_GET_STATE(conn) &gt;= CONN_READY) {</span>
<span class='curline'><a href='../S/768.html#L1910'>conn</a>             1910 ext/mysqlnd/mysqlnd.c 		MYSQLND_DEC_CONN_STATISTIC(conn-&gt;stats, STAT_OPENED_CONNECTIONS);</span>
<span class='curline'><a href='../S/768.html#L1911'>conn</a>             1911 ext/mysqlnd/mysqlnd.c 		if (conn-&gt;persistent) {</span>
<span class='curline'><a href='../S/768.html#L1912'>conn</a>             1912 ext/mysqlnd/mysqlnd.c 			MYSQLND_DEC_CONN_STATISTIC(conn-&gt;stats, STAT_OPENED_PERSISTENT_CONNECTIONS);</span>
<span class='curline'><a href='../S/768.html#L1915'>conn</a>             1915 ext/mysqlnd/mysqlnd.c 	state = CONN_GET_STATE(conn);</span>
<span class='curline'><a href='../S/768.html#L1921'>conn</a>             1921 ext/mysqlnd/mysqlnd.c 				ret = conn-&gt;m-&gt;simple_command(conn, COM_QUIT, NULL, 0, PROT_LAST, TRUE, TRUE);</span>
<span class='curline'><a href='../S/768.html#L1922'>conn</a>             1922 ext/mysqlnd/mysqlnd.c 				net-&gt;data-&gt;m.close_stream(net, conn-&gt;stats, conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1924'>conn</a>             1924 ext/mysqlnd/mysqlnd.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/768.html#L1935'>conn</a>             1935 ext/mysqlnd/mysqlnd.c 			DBG_ERR_FMT("Brutally closing connection [%p][%s]", conn, conn-&gt;scheme);</span>
<span class='curline'><a href='../S/768.html#L1948'>conn</a>             1948 ext/mysqlnd/mysqlnd.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/768.html#L1952'>conn</a>             1952 ext/mysqlnd/mysqlnd.c 			net-&gt;data-&gt;m.close_stream(net, conn-&gt;stats, conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L1963'>conn</a>             1963 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn_data, get_reference)(MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L1966'>conn</a>             1966 ext/mysqlnd/mysqlnd.c 	++conn-&gt;refcount;</span>
<span class='curline'><a href='../S/768.html#L1967'>conn</a>             1967 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu new_refcount=%u", conn-&gt;thread_id, conn-&gt;refcount);</span>
<span class='curline'><a href='../S/768.html#L1968'>conn</a>             1968 ext/mysqlnd/mysqlnd.c 	DBG_RETURN(conn);</span>
<span class='curline'><a href='../S/768.html#L1975'>conn</a>             1975 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn_data, free_reference)(MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L1979'>conn</a>             1979 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu old_refcount=%u", conn-&gt;thread_id, conn-&gt;refcount);</span>
<span class='curline'><a href='../S/768.html#L1980'>conn</a>             1980 ext/mysqlnd/mysqlnd.c 	if (!(--conn-&gt;refcount)) {</span>
<span class='curline'><a href='../S/768.html#L1986'>conn</a>             1986 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;send_close(conn);</span>
<span class='curline'><a href='../S/768.html#L1987'>conn</a>             1987 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;dtor(conn);</span>
<span class='curline'><a href='../S/768.html#L1996'>conn</a>             1996 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn_data, get_state)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L1999'>conn</a>             1999 ext/mysqlnd/mysqlnd.c 	DBG_RETURN(conn-&gt;state);</span>
<span class='curline'><a href='../S/768.html#L2006'>conn</a>             2006 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn_data, set_state)(MYSQLND_CONN_DATA * const conn, enum mysqlnd_connection_state new_state)</span>
<span class='curline'><a href='../S/768.html#L2010'>conn</a>             2010 ext/mysqlnd/mysqlnd.c 	conn-&gt;state = new_state;</span>
<span class='curline'><a href='../S/768.html#L2018'>conn</a>             2018 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, field_count)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2020'>conn</a>             2020 ext/mysqlnd/mysqlnd.c 	return conn-&gt;field_count;</span>
<span class='curline'><a href='../S/768.html#L2027'>conn</a>             2027 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, server_status)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2029'>conn</a>             2029 ext/mysqlnd/mysqlnd.c 	return conn-&gt;upsert_status-&gt;server_status;</span>
<span class='curline'><a href='../S/768.html#L2036'>conn</a>             2036 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, insert_id)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2038'>conn</a>             2038 ext/mysqlnd/mysqlnd.c 	return conn-&gt;upsert_status-&gt;last_insert_id;</span>
<span class='curline'><a href='../S/768.html#L2045'>conn</a>             2045 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, affected_rows)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2047'>conn</a>             2047 ext/mysqlnd/mysqlnd.c 	return conn-&gt;upsert_status-&gt;affected_rows;</span>
<span class='curline'><a href='../S/768.html#L2054'>conn</a>             2054 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, warning_count)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2056'>conn</a>             2056 ext/mysqlnd/mysqlnd.c 	return conn-&gt;upsert_status-&gt;warning_count;</span>
<span class='curline'><a href='../S/768.html#L2063'>conn</a>             2063 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, info)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2065'>conn</a>             2065 ext/mysqlnd/mysqlnd.c 	return conn-&gt;last_message;</span>
<span class='curline'><a href='../S/768.html#L2087'>conn</a>             2087 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_server_info)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2089'>conn</a>             2089 ext/mysqlnd/mysqlnd.c 	return conn-&gt;server_version;</span>
<span class='curline'><a href='../S/768.html#L2096'>conn</a>             2096 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_host_info)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2098'>conn</a>             2098 ext/mysqlnd/mysqlnd.c 	return conn-&gt;host_info;</span>
<span class='curline'><a href='../S/768.html#L2105'>conn</a>             2105 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_proto_info)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2107'>conn</a>             2107 ext/mysqlnd/mysqlnd.c 	return conn-&gt;protocol_version;</span>
<span class='curline'><a href='../S/768.html#L2114'>conn</a>             2114 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, charset_name)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2116'>conn</a>             2116 ext/mysqlnd/mysqlnd.c 	return conn-&gt;charset-&gt;name;</span>
<span class='curline'><a href='../S/768.html#L2123'>conn</a>             2123 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, thread_id)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2125'>conn</a>             2125 ext/mysqlnd/mysqlnd.c 	return conn-&gt;thread_id;</span>
<span class='curline'><a href='../S/768.html#L2132'>conn</a>             2132 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_server_version)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2137'>conn</a>             2137 ext/mysqlnd/mysqlnd.c 	if (!(p = conn-&gt;server_version)) {</span>
<span class='curline'><a href='../S/768.html#L2154'>conn</a>             2154 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, more_results)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2158'>conn</a>             2158 ext/mysqlnd/mysqlnd.c 	DBG_RETURN(conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS? TRUE:FALSE);</span>
<span class='curline'><a href='../S/768.html#L2165'>conn</a>             2165 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, next_result)(MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2171'>conn</a>             2171 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/768.html#L2173'>conn</a>             2173 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L2175'>conn</a>             2175 ext/mysqlnd/mysqlnd.c 			if (CONN_GET_STATE(conn) != CONN_NEXT_RESULT_PENDING) {</span>
<span class='curline'><a href='../S/768.html#L2179'>conn</a>             2179 ext/mysqlnd/mysqlnd.c 			SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L2180'>conn</a>             2180 ext/mysqlnd/mysqlnd.c 			SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/768.html#L2185'>conn</a>             2185 ext/mysqlnd/mysqlnd.c 			if (FAIL == (ret = conn-&gt;m-&gt;query_read_result_set_header(conn, NULL))) {</span>
<span class='curline'><a href='../S/768.html#L2190'>conn</a>             2190 ext/mysqlnd/mysqlnd.c 				if (!conn-&gt;error_info-&gt;error_no) {</span>
<span class='curline'><a href='../S/768.html#L2193'>conn</a>             2193 ext/mysqlnd/mysqlnd.c 					CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/768.html#L2194'>conn</a>             2194 ext/mysqlnd/mysqlnd.c 					conn-&gt;m-&gt;send_close(conn);</span>
<span class='curline'><a href='../S/768.html#L2196'>conn</a>             2196 ext/mysqlnd/mysqlnd.c 					DBG_INF_FMT("Error from the server : (%u) %s", conn-&gt;error_info-&gt;error_no, conn-&gt;error_info-&gt;error);</span>
<span class='curline'><a href='../S/768.html#L2200'>conn</a>             2200 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;last_query_type == QUERY_UPSERT &amp;&amp; conn-&gt;upsert_status-&gt;affected_rows) {</span>
<span class='curline'><a href='../S/768.html#L2201'>conn</a>             2201 ext/mysqlnd/mysqlnd.c 				MYSQLND_INC_CONN_STATISTIC_W_VALUE(conn-&gt;stats, STAT_ROWS_AFFECTED_NORMAL, conn-&gt;upsert_status-&gt;affected_rows);</span>
<span class='curline'><a href='../S/768.html#L2204'>conn</a>             2204 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L2267'>conn</a>             2267 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, change_user)(MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/768.html#L2280'>conn</a>             2280 ext/mysqlnd/mysqlnd.c 				conn-&gt;thread_id, user?user:"", passwd?"***":"null", db?db:"", (silent == TRUE)?1:0 );</span>
<span class='curline'><a href='../S/768.html#L2282'>conn</a>             2282 ext/mysqlnd/mysqlnd.c 	if (PASS != conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L2286'>conn</a>             2286 ext/mysqlnd/mysqlnd.c 	SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L2287'>conn</a>             2287 ext/mysqlnd/mysqlnd.c 	SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/768.html#L2300'>conn</a>             2300 ext/mysqlnd/mysqlnd.c 	ret = mysqlnd_run_authentication(conn, user, passwd, passwd_len, db, strlen(db),</span>
<span class='curline'><a href='../S/768.html#L2301'>conn</a>             2301 ext/mysqlnd/mysqlnd.c 									conn-&gt;auth_plugin_data, conn-&gt;auth_plugin_data_len, conn-&gt;options-&gt;auth_protocol,</span>
<span class='curline'><a href='../S/768.html#L2302'>conn</a>             2302 ext/mysqlnd/mysqlnd.c 									0 /*charset not used*/, conn-&gt;options, conn-&gt;server_capabilities, silent, TRUE/*is_change*/);</span>
<span class='curline'><a href='../S/768.html#L2308'>conn</a>             2308 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L2318'>conn</a>             2318 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, set_client_option)(MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/768.html#L2326'>conn</a>             2326 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu option=%u", conn-&gt;thread_id, option);</span>
<span class='curline'><a href='../S/768.html#L2328'>conn</a>             2328 ext/mysqlnd/mysqlnd.c 	if (PASS != conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L2347'>conn</a>             2347 ext/mysqlnd/mysqlnd.c 			ret = conn-&gt;net-&gt;data-&gt;m.set_client_option(conn-&gt;net, option, value);</span>
<span class='curline'><a href='../S/768.html#L2351'>conn</a>             2351 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;int_and_float_native = *(unsigned int*) value;</span>
<span class='curline'><a href='../S/768.html#L2356'>conn</a>             2356 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;flags |= CLIENT_LOCAL_FILES;</span>
<span class='curline'><a href='../S/768.html#L2358'>conn</a>             2358 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;flags &amp;= ~CLIENT_LOCAL_FILES;</span>
<span class='curline'><a href='../S/768.html#L2367'>conn</a>             2367 ext/mysqlnd/mysqlnd.c 			new_init_commands = mnd_perealloc(conn-&gt;options-&gt;init_commands, sizeof(char *) * (conn-&gt;options-&gt;num_commands + 1), conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L2371'>conn</a>             2371 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;init_commands = new_init_commands;</span>
<span class='curline'><a href='../S/768.html#L2372'>conn</a>             2372 ext/mysqlnd/mysqlnd.c 			new_command = mnd_pestrdup(value, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L2376'>conn</a>             2376 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;init_commands[conn-&gt;options-&gt;num_commands] = new_command;</span>
<span class='curline'><a href='../S/768.html#L2377'>conn</a>             2377 ext/mysqlnd/mysqlnd.c 			++conn-&gt;options-&gt;num_commands;</span>
<span class='curline'><a href='../S/768.html#L2392'>conn</a>             2392 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_CANT_FIND_CHARSET, UNKNOWN_SQLSTATE, "Unknown character set");</span>
<span class='curline'><a href='../S/768.html#L2397'>conn</a>             2397 ext/mysqlnd/mysqlnd.c 			new_charset_name = mnd_pestrdup(value, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L2401'>conn</a>             2401 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;options-&gt;charset_name) {</span>
<span class='curline'><a href='../S/768.html#L2402'>conn</a>             2402 ext/mysqlnd/mysqlnd.c 				mnd_pefree(conn-&gt;options-&gt;charset_name, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L2404'>conn</a>             2404 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;charset_name = new_charset_name;</span>
<span class='curline'><a href='../S/768.html#L2405'>conn</a>             2405 ext/mysqlnd/mysqlnd.c 			DBG_INF_FMT("charset=%s", conn-&gt;options-&gt;charset_name);</span>
<span class='curline'><a href='../S/768.html#L2409'>conn</a>             2409 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;protocol = MYSQL_PROTOCOL_PIPE;</span>
<span class='curline'><a href='../S/768.html#L2413'>conn</a>             2413 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;protocol = *(unsigned int*) value;</span>
<span class='curline'><a href='../S/768.html#L2430'>conn</a>             2430 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;max_allowed_packet = *(unsigned int*) value;</span>
<span class='curline'><a href='../S/768.html#L2435'>conn</a>             2435 ext/mysqlnd/mysqlnd.c 			char * new_auth_protocol = value? mnd_pestrdup(value, conn-&gt;persistent) : NULL;</span>
<span class='curline'><a href='../S/768.html#L2439'>conn</a>             2439 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;options-&gt;auth_protocol) {</span>
<span class='curline'><a href='../S/768.html#L2440'>conn</a>             2440 ext/mysqlnd/mysqlnd.c 				mnd_pefree(conn-&gt;options-&gt;auth_protocol, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L2442'>conn</a>             2442 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;auth_protocol = new_auth_protocol;</span>
<span class='curline'><a href='../S/768.html#L2443'>conn</a>             2443 ext/mysqlnd/mysqlnd.c 			DBG_INF_FMT("auth_protocol=%s", conn-&gt;options-&gt;auth_protocol);</span>
<span class='curline'><a href='../S/768.html#L2448'>conn</a>             2448 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;flags |= CLIENT_CAN_HANDLE_EXPIRED_PASSWORDS;</span>
<span class='curline'><a href='../S/768.html#L2450'>conn</a>             2450 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;flags &amp;= ~CLIENT_CAN_HANDLE_EXPIRED_PASSWORDS;</span>
<span class='curline'><a href='../S/768.html#L2454'>conn</a>             2454 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;options-&gt;connect_attr) {</span>
<span class='curline'><a href='../S/768.html#L2455'>conn</a>             2455 ext/mysqlnd/mysqlnd.c 				DBG_INF_FMT("Before reset %d attribute(s)", zend_hash_num_elements(conn-&gt;options-&gt;connect_attr));</span>
<span class='curline'><a href='../S/768.html#L2456'>conn</a>             2456 ext/mysqlnd/mysqlnd.c 				zend_hash_clean(conn-&gt;options-&gt;connect_attr);</span>
<span class='curline'><a href='../S/768.html#L2460'>conn</a>             2460 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;options-&gt;connect_attr &amp;&amp; value) {</span>
<span class='curline'><a href='../S/768.html#L2461'>conn</a>             2461 ext/mysqlnd/mysqlnd.c 				DBG_INF_FMT("Before delete %d attribute(s)", zend_hash_num_elements(conn-&gt;options-&gt;connect_attr));</span>
<span class='curline'><a href='../S/768.html#L2462'>conn</a>             2462 ext/mysqlnd/mysqlnd.c 				zend_hash_str_del(conn-&gt;options-&gt;connect_attr, value, strlen(value));</span>
<span class='curline'><a href='../S/768.html#L2463'>conn</a>             2463 ext/mysqlnd/mysqlnd.c 				DBG_INF_FMT("%d left", zend_hash_num_elements(conn-&gt;options-&gt;connect_attr));</span>
<span class='curline'><a href='../S/768.html#L2475'>conn</a>             2475 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L2478'>conn</a>             2478 ext/mysqlnd/mysqlnd.c 	SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L2479'>conn</a>             2479 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;local_tx_end(conn, this_func, FAIL);</span>
<span class='curline'><a href='../S/768.html#L2488'>conn</a>             2488 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, set_client_option_2d)(MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/768.html#L2497'>conn</a>             2497 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu option=%u", conn-&gt;thread_id, option);</span>
<span class='curline'><a href='../S/768.html#L2499'>conn</a>             2499 ext/mysqlnd/mysqlnd.c 	if (PASS != conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L2504'>conn</a>             2504 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;options-&gt;connect_attr) {</span>
<span class='curline'><a href='../S/768.html#L2506'>conn</a>             2506 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;connect_attr = mnd_pemalloc(sizeof(HashTable), conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L2507'>conn</a>             2507 ext/mysqlnd/mysqlnd.c 				if (!conn-&gt;options-&gt;connect_attr) {</span>
<span class='curline'><a href='../S/768.html#L2510'>conn</a>             2510 ext/mysqlnd/mysqlnd.c 				zend_hash_init(conn-&gt;options-&gt;connect_attr, 0, NULL, ZVAL_PTR_DTOR, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L2516'>conn</a>             2516 ext/mysqlnd/mysqlnd.c 				zend_hash_str_update(conn-&gt;options-&gt;connect_attr, key, strlen(key), &amp;attrz);</span>
<span class='curline'><a href='../S/768.html#L2522'>conn</a>             2522 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L2525'>conn</a>             2525 ext/mysqlnd/mysqlnd.c 	SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L2526'>conn</a>             2526 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;local_tx_end(conn, this_func, FAIL);</span>
<span class='curline'><a href='../S/768.html#L2535'>conn</a>             2535 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, use_result)(MYSQLND_CONN_DATA * const conn, const unsigned int flags)</span>
<span class='curline'><a href='../S/768.html#L2541'>conn</a>             2541 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/768.html#L2543'>conn</a>             2543 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L2545'>conn</a>             2545 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;current_result) {</span>
<span class='curline'><a href='../S/768.html#L2550'>conn</a>             2550 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;last_query_type != QUERY_SELECT || CONN_GET_STATE(conn) != CONN_FETCHING_DATA) {</span>
<span class='curline'><a href='../S/768.html#L2551'>conn</a>             2551 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE, mysqlnd_out_of_sync);</span>
<span class='curline'><a href='../S/768.html#L2556'>conn</a>             2556 ext/mysqlnd/mysqlnd.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_UNBUFFERED_SETS);</span>
<span class='curline'><a href='../S/768.html#L2558'>conn</a>             2558 ext/mysqlnd/mysqlnd.c 			conn-&gt;current_result-&gt;conn = conn-&gt;m-&gt;get_reference(conn);</span>
<span class='curline'><a href='../S/768.html#L2559'>conn</a>             2559 ext/mysqlnd/mysqlnd.c 			result = conn-&gt;current_result-&gt;m.use_result(conn-&gt;current_result, FALSE);</span>
<span class='curline'><a href='../S/768.html#L2562'>conn</a>             2562 ext/mysqlnd/mysqlnd.c 				conn-&gt;current_result-&gt;m.free_result(conn-&gt;current_result, TRUE);</span>
<span class='curline'><a href='../S/768.html#L2564'>conn</a>             2564 ext/mysqlnd/mysqlnd.c 			conn-&gt;current_result = NULL;</span>
<span class='curline'><a href='../S/768.html#L2567'>conn</a>             2567 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, result == NULL? FAIL:PASS);</span>
<span class='curline'><a href='../S/768.html#L2577'>conn</a>             2577 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, store_result)(MYSQLND_CONN_DATA * const conn, const unsigned int flags)</span>
<span class='curline'><a href='../S/768.html#L2583'>conn</a>             2583 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu conn=%p", conn-&gt;thread_id, conn);</span>
<span class='curline'><a href='../S/768.html#L2585'>conn</a>             2585 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L2588'>conn</a>             2588 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;current_result) {</span>
<span class='curline'><a href='../S/768.html#L2593'>conn</a>             2593 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;last_query_type != QUERY_SELECT || CONN_GET_STATE(conn) != CONN_FETCHING_DATA) {</span>
<span class='curline'><a href='../S/768.html#L2594'>conn</a>             2594 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE, mysqlnd_out_of_sync);</span>
<span class='curline'><a href='../S/768.html#L2599'>conn</a>             2599 ext/mysqlnd/mysqlnd.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_BUFFERED_SETS);</span>
<span class='curline'><a href='../S/768.html#L2602'>conn</a>             2602 ext/mysqlnd/mysqlnd.c 			if ((conn-&gt;m-&gt;get_client_api_capabilities(conn) &amp; MYSQLND_CLIENT_KNOWS_RSET_COPY_DATA)) {</span>
<span class='curline'><a href='../S/768.html#L2614'>conn</a>             2614 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, "Unknown fetch mode");</span>
<span class='curline'><a href='../S/768.html#L2618'>conn</a>             2618 ext/mysqlnd/mysqlnd.c 			result = conn-&gt;current_result-&gt;m.store_result(conn-&gt;current_result, conn, f);</span>
<span class='curline'><a href='../S/768.html#L2620'>conn</a>             2620 ext/mysqlnd/mysqlnd.c 				conn-&gt;current_result-&gt;m.free_result(conn-&gt;current_result, TRUE);</span>
<span class='curline'><a href='../S/768.html#L2622'>conn</a>             2622 ext/mysqlnd/mysqlnd.c 			conn-&gt;current_result = NULL;</span>
<span class='curline'><a href='../S/768.html#L2625'>conn</a>             2625 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, result == NULL? FAIL:PASS);</span>
<span class='curline'><a href='../S/768.html#L2634'>conn</a>             2634 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_connection_stats)(const MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/768.html#L2638'>conn</a>             2638 ext/mysqlnd/mysqlnd.c 	mysqlnd_fill_stats_hash(conn-&gt;stats, mysqlnd_stats_values_names, return_value ZEND_FILE_LINE_CC);</span>
<span class='curline'><a href='../S/768.html#L2646'>conn</a>             2646 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, set_autocommit)(MYSQLND_CONN_DATA * conn, unsigned int mode)</span>
<span class='curline'><a href='../S/768.html#L2652'>conn</a>             2652 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L2653'>conn</a>             2653 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;query(conn, (mode) ? "SET AUTOCOMMIT=1":"SET AUTOCOMMIT=0", sizeof("SET AUTOCOMMIT=1") - 1);</span>
<span class='curline'><a href='../S/768.html#L2654'>conn</a>             2654 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L2664'>conn</a>             2664 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_commit)(MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/768.html#L2666'>conn</a>             2666 ext/mysqlnd/mysqlnd.c 	return conn-&gt;m-&gt;tx_commit_or_rollback(conn, TRUE, TRANS_COR_NO_OPT, NULL);</span>
<span class='curline'><a href='../S/768.html#L2673'>conn</a>             2673 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_rollback)(MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/768.html#L2675'>conn</a>             2675 ext/mysqlnd/mysqlnd.c 	return conn-&gt;m-&gt;tx_commit_or_rollback(conn, FALSE, TRANS_COR_NO_OPT, NULL);</span>
<span class='curline'><a href='../S/768.html#L2682'>conn</a>             2682 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_cor_options_to_string)(const MYSQLND_CONN_DATA * const conn, smart_str * str, const unsigned int mode)</span>
<span class='curline'><a href='../S/768.html#L2757'>conn</a>             2757 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_commit_or_rollback)(MYSQLND_CONN_DATA * conn, const zend_bool commit, const unsigned int flags, const char * const name)</span>
<span class='curline'><a href='../S/768.html#L2763'>conn</a>             2763 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L2766'>conn</a>             2766 ext/mysqlnd/mysqlnd.c 			conn-&gt;m-&gt;tx_cor_options_to_string(conn, &amp;tmp_str, flags);</span>
<span class='curline'><a href='../S/768.html#L2783'>conn</a>             2783 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L2787'>conn</a>             2787 ext/mysqlnd/mysqlnd.c 				ret = conn-&gt;m-&gt;query(conn, query, query_len);</span>
<span class='curline'><a href='../S/768.html#L2791'>conn</a>             2791 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L2801'>conn</a>             2801 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_begin)(MYSQLND_CONN_DATA * conn, const unsigned int mode, const char * const name)</span>
<span class='curline'><a href='../S/768.html#L2807'>conn</a>             2807 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L2817'>conn</a>             2817 ext/mysqlnd/mysqlnd.c 				zend_ulong server_version = conn-&gt;m-&gt;get_server_version(conn);</span>
<span class='curline'><a href='../S/768.html#L2846'>conn</a>             2846 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L2849'>conn</a>             2849 ext/mysqlnd/mysqlnd.c 				ret = conn-&gt;m-&gt;query(conn, query, query_len);</span>
<span class='curline'><a href='../S/768.html#L2853'>conn</a>             2853 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L2863'>conn</a>             2863 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_savepoint)(MYSQLND_CONN_DATA * conn, const char * const name)</span>
<span class='curline'><a href='../S/768.html#L2869'>conn</a>             2869 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L2874'>conn</a>             2874 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, "Savepoint name not provided");</span>
<span class='curline'><a href='../S/768.html#L2879'>conn</a>             2879 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L2882'>conn</a>             2882 ext/mysqlnd/mysqlnd.c 			ret = conn-&gt;m-&gt;query(conn, query, query_len);</span>
<span class='curline'><a href='../S/768.html#L2885'>conn</a>             2885 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L2895'>conn</a>             2895 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_savepoint_release)(MYSQLND_CONN_DATA * conn, const char * const name)</span>
<span class='curline'><a href='../S/768.html#L2901'>conn</a>             2901 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L2906'>conn</a>             2906 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, "Savepoint name not provided");</span>
<span class='curline'><a href='../S/768.html#L2911'>conn</a>             2911 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L2914'>conn</a>             2914 ext/mysqlnd/mysqlnd.c 			ret = conn-&gt;m-&gt;query(conn, query, query_len);</span>
<span class='curline'><a href='../S/768.html#L2917'>conn</a>             2917 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/768.html#L2927'>conn</a>             2927 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, negotiate_client_api_capabilities)(MYSQLND_CONN_DATA * const conn, const unsigned int flags)</span>
<span class='curline'><a href='../S/768.html#L2931'>conn</a>             2931 ext/mysqlnd/mysqlnd.c 	if (conn) {</span>
<span class='curline'><a href='../S/768.html#L2932'>conn</a>             2932 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;client_api_capabilities;</span>
<span class='curline'><a href='../S/768.html#L2933'>conn</a>             2933 ext/mysqlnd/mysqlnd.c 		conn-&gt;client_api_capabilities = flags;</span>
<span class='curline'><a href='../S/768.html#L2943'>conn</a>             2943 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_client_api_capabilities)(const MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/768.html#L2946'>conn</a>             2946 ext/mysqlnd/mysqlnd.c 	DBG_RETURN(conn? conn-&gt;client_api_capabilities : 0);</span>
<span class='curline'><a href='../S/768.html#L2953'>conn</a>             2953 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, local_tx_start)(MYSQLND_CONN_DATA * conn, size_t this_func)</span>
<span class='curline'><a href='../S/768.html#L2964'>conn</a>             2964 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, local_tx_end)(MYSQLND_CONN_DATA * conn, size_t this_func, enum_func_status status)</span>
<span class='curline'><a href='../S/768.html#L2974'>conn</a>             2974 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, init)(MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/768.html#L2977'>conn</a>             2977 ext/mysqlnd/mysqlnd.c 	mysqlnd_stats_init(&amp;conn-&gt;stats, STAT_LAST, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L2978'>conn</a>             2978 ext/mysqlnd/mysqlnd.c 	SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/768.html#L2980'>conn</a>             2980 ext/mysqlnd/mysqlnd.c 	conn-&gt;net = mysqlnd_net_init(conn-&gt;persistent, conn-&gt;stats, conn-&gt;error_info);</span>
<span class='curline'><a href='../S/768.html#L2981'>conn</a>             2981 ext/mysqlnd/mysqlnd.c 	conn-&gt;protocol = mysqlnd_protocol_init(conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L2983'>conn</a>             2983 ext/mysqlnd/mysqlnd.c 	DBG_RETURN(conn-&gt;stats &amp;&amp; conn-&gt;net &amp;&amp; conn-&gt;protocol? PASS:FAIL);</span>
<span class='curline'><a href='../S/768.html#L2988'>conn</a>             2988 ext/mysqlnd/mysqlnd.c MYSQLND_STMT * _mysqlnd_stmt_init(MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/768.html#L3088'>conn</a>             3088 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn, clone_object)(MYSQLND * const conn)</span>
<span class='curline'><a href='../S/768.html#L3092'>conn</a>             3092 ext/mysqlnd/mysqlnd.c 	ret = MYSQLND_CLASS_METHOD_TABLE_NAME(mysqlnd_object_factory).clone_connection_object(conn);</span>
<span class='curline'><a href='../S/768.html#L3100'>conn</a>             3100 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn, dtor)(MYSQLND * conn)</span>
<span class='curline'><a href='../S/768.html#L3103'>conn</a>             3103 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;data-&gt;thread_id);</span>
<span class='curline'><a href='../S/768.html#L3105'>conn</a>             3105 ext/mysqlnd/mysqlnd.c 	conn-&gt;data-&gt;m-&gt;free_reference(conn-&gt;data);</span>
<span class='curline'><a href='../S/768.html#L3107'>conn</a>             3107 ext/mysqlnd/mysqlnd.c 	mnd_pefree(conn, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L3119'>conn</a>             3119 ext/mysqlnd/mysqlnd.c 	MYSQLND_CONN_DATA * conn = conn_handle-&gt;data;</span>
<span class='curline'><a href='../S/768.html#L3123'>conn</a>             3123 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/768.html#L3125'>conn</a>             3125 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func)) {</span>
<span class='curline'><a href='../S/768.html#L3126'>conn</a>             3126 ext/mysqlnd/mysqlnd.c 		if (CONN_GET_STATE(conn) &gt;= CONN_READY) {</span>
<span class='curline'><a href='../S/768.html#L3132'>conn</a>             3132 ext/mysqlnd/mysqlnd.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, close_type_to_stat_map[close_type]);</span>
<span class='curline'><a href='../S/768.html#L3139'>conn</a>             3139 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;send_close(conn);</span>
<span class='curline'><a href='../S/768.html#L3142'>conn</a>             3142 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret);</span>
<span class='curline'><a href='../S/769.html#L76'>conn</a>               76 ext/mysqlnd/mysqlnd.h #define mysqlnd_restart_psession(conn)	((conn)-&gt;data)-&gt;m-&gt;restart_psession((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L77'>conn</a>               77 ext/mysqlnd/mysqlnd.h #define mysqlnd_end_psession(conn)		((conn)-&gt;data)-&gt;m-&gt;end_psession((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L87'>conn</a>               87 ext/mysqlnd/mysqlnd.h PHPAPI MYSQLND * mysqlnd_connect(MYSQLND * conn,</span>
<span class='curline'><a href='../S/769.html#L97'>conn</a>               97 ext/mysqlnd/mysqlnd.h #define mysqlnd_change_user(conn, user, passwd, db, silent)		((conn)-&gt;data)-&gt;m-&gt;change_user((conn)-&gt;data, (user), (passwd), (db), (silent), strlen((passwd)))</span>
<span class='curline'><a href='../S/769.html#L98'>conn</a>               98 ext/mysqlnd/mysqlnd.h #define mysqlnd_change_user_ex(conn, user, passwd, db, silent, passwd_len)	((conn)-&gt;data)-&gt;m-&gt;change_user((conn)-&gt;data, (user), (passwd), (db), (silent), (passwd_len))</span>
<span class='curline'><a href='../S/769.html#L107'>conn</a>              107 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_connection_stats(conn, values)		((conn)-&gt;data)-&gt;m-&gt;get_statistics((conn)-&gt;data,  (values) ZEND_FILE_LINE_CC)</span>
<span class='curline'><a href='../S/769.html#L110'>conn</a>              110 ext/mysqlnd/mysqlnd.h #define mysqlnd_close(conn,is_forced)					(conn)-&gt;m-&gt;close((conn), (is_forced))</span>
<span class='curline'><a href='../S/769.html#L111'>conn</a>              111 ext/mysqlnd/mysqlnd.h #define mysqlnd_query(conn, query_str, query_len)		((conn)-&gt;data)-&gt;m-&gt;query((conn)-&gt;data, (query_str), (query_len))</span>
<span class='curline'><a href='../S/769.html#L112'>conn</a>              112 ext/mysqlnd/mysqlnd.h #define mysqlnd_async_query(conn, query_str, query_len)	((conn)-&gt;data)-&gt;m-&gt;send_query((conn)-&gt;data, (query_str), (query_len), MYSQLND_SEND_QUERY_EXPLICIT, NULL, NULL)</span>
<span class='curline'><a href='../S/769.html#L113'>conn</a>              113 ext/mysqlnd/mysqlnd.h #define mysqlnd_reap_async_query(conn)					((conn)-&gt;data)-&gt;m-&gt;reap_query((conn)-&gt;data, MYSQLND_REAP_RESULT_EXPLICIT)</span>
<span class='curline'><a href='../S/769.html#L118'>conn</a>              118 ext/mysqlnd/mysqlnd.h #define mysqlnd_use_result(conn)		((conn)-&gt;data)-&gt;m-&gt;use_result((conn)-&gt;data, 0)</span>
<span class='curline'><a href='../S/769.html#L119'>conn</a>              119 ext/mysqlnd/mysqlnd.h #define mysqlnd_store_result(conn)		((conn)-&gt;data)-&gt;m-&gt;store_result((conn)-&gt;data, MYSQLND_STORE_NO_COPY)</span>
<span class='curline'><a href='../S/769.html#L120'>conn</a>              120 ext/mysqlnd/mysqlnd.h #define mysqlnd_store_result_ofs(conn)	((conn)-&gt;data)-&gt;m-&gt;store_result((conn)-&gt;data, MYSQLND_STORE_COPY)</span>
<span class='curline'><a href='../S/769.html#L121'>conn</a>              121 ext/mysqlnd/mysqlnd.h #define mysqlnd_next_result(conn)		((conn)-&gt;data)-&gt;m-&gt;next_result((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L122'>conn</a>              122 ext/mysqlnd/mysqlnd.h #define mysqlnd_more_results(conn)		((conn)-&gt;data)-&gt;m-&gt;more_results((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L127'>conn</a>              127 ext/mysqlnd/mysqlnd.h #define mysqlnd_errno(conn)				((conn)-&gt;data)-&gt;m-&gt;get_error_no((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L128'>conn</a>              128 ext/mysqlnd/mysqlnd.h #define mysqlnd_error(conn)				((conn)-&gt;data)-&gt;m-&gt;get_error_str((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L129'>conn</a>              129 ext/mysqlnd/mysqlnd.h #define mysqlnd_sqlstate(conn)			((conn)-&gt;data)-&gt;m-&gt;get_sqlstate((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L132'>conn</a>              132 ext/mysqlnd/mysqlnd.h #define mysqlnd_character_set_name(conn) ((conn)-&gt;data)-&gt;m-&gt;charset_name((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L135'>conn</a>              135 ext/mysqlnd/mysqlnd.h #define mysqlnd_field_count(conn)		((conn)-&gt;data)-&gt;m-&gt;get_field_count((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L136'>conn</a>              136 ext/mysqlnd/mysqlnd.h #define mysqlnd_insert_id(conn)			((conn)-&gt;data)-&gt;m-&gt;get_last_insert_id((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L137'>conn</a>              137 ext/mysqlnd/mysqlnd.h #define mysqlnd_affected_rows(conn)		((conn)-&gt;data)-&gt;m-&gt;get_affected_rows((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L138'>conn</a>              138 ext/mysqlnd/mysqlnd.h #define mysqlnd_warning_count(conn)		((conn)-&gt;data)-&gt;m-&gt;get_warning_count((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L139'>conn</a>              139 ext/mysqlnd/mysqlnd.h #define mysqlnd_info(conn)				((conn)-&gt;data)-&gt;m-&gt;get_last_message((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L140'>conn</a>              140 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_server_info(conn)	((conn)-&gt;data)-&gt;m-&gt;get_server_information((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L141'>conn</a>              141 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_server_version(conn) ((conn)-&gt;data)-&gt;m-&gt;get_server_version((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L142'>conn</a>              142 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_host_info(conn)		((conn)-&gt;data)-&gt;m-&gt;get_host_information((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L143'>conn</a>              143 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_proto_info(conn)	((conn)-&gt;data)-&gt;m-&gt;get_protocol_information((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L144'>conn</a>              144 ext/mysqlnd/mysqlnd.h #define mysqlnd_thread_id(conn)			((conn)-&gt;data)-&gt;m-&gt;get_thread_id((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L145'>conn</a>              145 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_server_status(conn)	((conn)-&gt;data)-&gt;m-&gt;get_server_status((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L162'>conn</a>              162 ext/mysqlnd/mysqlnd.h #define mysqlnd_ssl_set(conn, key, cert, ca, capath, cipher) ((conn)-&gt;data)-&gt;m-&gt;ssl_set((conn)-&gt;data, (key), (cert), (ca), (capath), (cipher))</span>
<span class='curline'><a href='../S/769.html#L186'>conn</a>              186 ext/mysqlnd/mysqlnd.h void mysqlnd_local_infile_default(MYSQLND_CONN_DATA * conn);</span>
<span class='curline'><a href='../S/769.html#L189'>conn</a>              189 ext/mysqlnd/mysqlnd.h #define mysqlnd_autocommit(conn, mode)		((conn)-&gt;data)-&gt;m-&gt;set_autocommit((conn)-&gt;data, (mode))</span>
<span class='curline'><a href='../S/769.html#L190'>conn</a>              190 ext/mysqlnd/mysqlnd.h #define mysqlnd_begin_transaction(conn,flags,name) ((conn)-&gt;data)-&gt;m-&gt;tx_begin((conn)-&gt;data, (flags), (name))</span>
<span class='curline'><a href='../S/769.html#L191'>conn</a>              191 ext/mysqlnd/mysqlnd.h #define mysqlnd_commit(conn, flags, name)	((conn)-&gt;data)-&gt;m-&gt;tx_commit_or_rollback((conn)-&gt;data, TRUE, (flags), (name))</span>
<span class='curline'><a href='../S/769.html#L192'>conn</a>              192 ext/mysqlnd/mysqlnd.h #define mysqlnd_rollback(conn, flags, name)	((conn)-&gt;data)-&gt;m-&gt;tx_commit_or_rollback((conn)-&gt;data, FALSE, (flags), (name))</span>
<span class='curline'><a href='../S/769.html#L193'>conn</a>              193 ext/mysqlnd/mysqlnd.h #define mysqlnd_savepoint(conn, name)		((conn)-&gt;data)-&gt;m-&gt;tx_savepoint((conn)-&gt;data, (name))</span>
<span class='curline'><a href='../S/769.html#L194'>conn</a>              194 ext/mysqlnd/mysqlnd.h #define mysqlnd_release_savepoint(conn, name) ((conn)-&gt;data)-&gt;m-&gt;tx_savepoint_release((conn)-&gt;data, (name))</span>
<span class='curline'><a href='../S/769.html#L195'>conn</a>              195 ext/mysqlnd/mysqlnd.h #define mysqlnd_list_dbs(conn, wild)		((conn)-&gt;data)-&gt;m-&gt;list_method((conn)-&gt;data, wild? "SHOW DATABASES LIKE %s":"SHOW DATABASES", (wild), NULL)</span>
<span class='curline'><a href='../S/769.html#L196'>conn</a>              196 ext/mysqlnd/mysqlnd.h #define mysqlnd_list_fields(conn, tab,wild)	((conn)-&gt;data)-&gt;m-&gt;list_fields((conn)-&gt;data, (tab), (wild))</span>
<span class='curline'><a href='../S/769.html#L197'>conn</a>              197 ext/mysqlnd/mysqlnd.h #define mysqlnd_list_processes(conn)		((conn)-&gt;data)-&gt;m-&gt;list_method((conn)-&gt;data, "SHOW PROCESSLIST", NULL, NULL)</span>
<span class='curline'><a href='../S/769.html#L198'>conn</a>              198 ext/mysqlnd/mysqlnd.h #define mysqlnd_list_tables(conn, wild)		((conn)-&gt;data)-&gt;m-&gt;list_method((conn)-&gt;data, wild? "SHOW TABLES LIKE %s":"SHOW TABLES", (wild), NULL)</span>
<span class='curline'><a href='../S/769.html#L199'>conn</a>              199 ext/mysqlnd/mysqlnd.h #define mysqlnd_dump_debug_info(conn)		((conn)-&gt;data)-&gt;m-&gt;server_dump_debug_information((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L200'>conn</a>              200 ext/mysqlnd/mysqlnd.h #define mysqlnd_select_db(conn, db, db_len)	((conn)-&gt;data)-&gt;m-&gt;select_db((conn)-&gt;data, (db), (db_len))</span>
<span class='curline'><a href='../S/769.html#L201'>conn</a>              201 ext/mysqlnd/mysqlnd.h #define mysqlnd_ping(conn)					((conn)-&gt;data)-&gt;m-&gt;ping((conn)-&gt;data)</span>
<span class='curline'><a href='../S/769.html#L202'>conn</a>              202 ext/mysqlnd/mysqlnd.h #define mysqlnd_kill(conn, pid)				((conn)-&gt;data)-&gt;m-&gt;kill_connection((conn)-&gt;data, (pid))</span>
<span class='curline'><a href='../S/769.html#L203'>conn</a>              203 ext/mysqlnd/mysqlnd.h #define mysqlnd_refresh(conn, options)		((conn)-&gt;data)-&gt;m-&gt;refresh_server((conn)-&gt;data, (options))</span>
<span class='curline'><a href='../S/769.html#L204'>conn</a>              204 ext/mysqlnd/mysqlnd.h #define mysqlnd_shutdown(conn, level)		((conn)-&gt;data)-&gt;m-&gt;shutdown_server((conn)-&gt;data, (level))</span>
<span class='curline'><a href='../S/769.html#L205'>conn</a>              205 ext/mysqlnd/mysqlnd.h #define mysqlnd_set_character_set(conn, cs)	((conn)-&gt;data)-&gt;m-&gt;set_charset((conn)-&gt;data, (cs))</span>
<span class='curline'><a href='../S/769.html#L206'>conn</a>              206 ext/mysqlnd/mysqlnd.h #define mysqlnd_stat(conn, msg)				((conn)-&gt;data)-&gt;m-&gt;get_server_statistics(((conn)-&gt;data), (msg))</span>
<span class='curline'><a href='../S/769.html#L207'>conn</a>              207 ext/mysqlnd/mysqlnd.h #define mysqlnd_options(conn, opt, value)	((conn)-&gt;data)-&gt;m-&gt;set_client_option((conn)-&gt;data, (opt), (value))</span>
<span class='curline'><a href='../S/769.html#L208'>conn</a>              208 ext/mysqlnd/mysqlnd.h #define mysqlnd_options4(conn, opt, k, v)	((conn)-&gt;data)-&gt;m-&gt;set_client_option_2d((conn)-&gt;data, (opt), (k), (v))</span>
<span class='curline'><a href='../S/769.html#L209'>conn</a>              209 ext/mysqlnd/mysqlnd.h #define mysqlnd_set_server_option(conn, op)	((conn)-&gt;data)-&gt;m-&gt;set_server_option((conn)-&gt;data, (op))</span>
<span class='curline'><a href='../S/769.html#L212'>conn</a>              212 ext/mysqlnd/mysqlnd.h #define mysqlnd_real_escape_string(conn, newstr, escapestr, escapestr_len) \</span>
<span class='curline'><a href='../S/769.html#L213'>conn</a>              213 ext/mysqlnd/mysqlnd.h 		((conn)-&gt;data)-&gt;m-&gt;escape_string((conn)-&gt;data, (newstr), (escapestr), (escapestr_len))</span>
<span class='curline'><a href='../S/769.html#L221'>conn</a>              221 ext/mysqlnd/mysqlnd.h #define mysqlnd_stmt_init(conn)				((conn)-&gt;data)-&gt;m-&gt;stmt_init(((conn)-&gt;data))</span>
<span class='curline'><a href='../S/772.html#L33'>conn</a>               33 ext/mysqlnd/mysqlnd_auth.c mysqlnd_auth_handshake(MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/772.html#L60'>conn</a>               60 ext/mysqlnd/mysqlnd_auth.c 	auth_resp_packet = conn-&gt;protocol-&gt;m.get_auth_response_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/772.html#L63'>conn</a>               63 ext/mysqlnd/mysqlnd_auth.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/772.html#L68'>conn</a>               68 ext/mysqlnd/mysqlnd_auth.c 		change_auth_resp_packet = conn-&gt;protocol-&gt;m.get_change_auth_response_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/772.html#L70'>conn</a>               70 ext/mysqlnd/mysqlnd_auth.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/772.html#L77'>conn</a>               77 ext/mysqlnd/mysqlnd_auth.c 		if (!PACKET_WRITE(change_auth_resp_packet, conn)) {</span>
<span class='curline'><a href='../S/772.html#L78'>conn</a>               78 ext/mysqlnd/mysqlnd_auth.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/772.html#L79'>conn</a>               79 ext/mysqlnd/mysqlnd_auth.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);</span>
<span class='curline'><a href='../S/772.html#L83'>conn</a>               83 ext/mysqlnd/mysqlnd_auth.c 		auth_packet = conn-&gt;protocol-&gt;m.get_auth_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/772.html#L102'>conn</a>              102 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;server_capabilities &amp; CLIENT_CONNECT_ATTRS) {</span>
<span class='curline'><a href='../S/772.html#L103'>conn</a>              103 ext/mysqlnd/mysqlnd_auth.c 			auth_packet-&gt;connect_attr = conn-&gt;options-&gt;connect_attr;</span>
<span class='curline'><a href='../S/772.html#L106'>conn</a>              106 ext/mysqlnd/mysqlnd_auth.c 		if (!PACKET_WRITE(auth_packet, conn)) {</span>
<span class='curline'><a href='../S/772.html#L111'>conn</a>              111 ext/mysqlnd/mysqlnd_auth.c 		conn-&gt;charset = mysqlnd_find_charset_nr(auth_packet-&gt;charset_no);</span>
<span class='curline'><a href='../S/772.html#L114'>conn</a>              114 ext/mysqlnd/mysqlnd_auth.c 	if (FAIL == PACKET_READ(auth_resp_packet, conn) || auth_resp_packet-&gt;response_code &gt;= 0xFE) {</span>
<span class='curline'><a href='../S/772.html#L119'>conn</a>              119 ext/mysqlnd/mysqlnd_auth.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, mysqlnd_old_passwd);</span>
<span class='curline'><a href='../S/772.html#L134'>conn</a>              134 ext/mysqlnd/mysqlnd_auth.c 				strlcpy(conn-&gt;error_info-&gt;sqlstate, auth_resp_packet-&gt;sqlstate, sizeof(conn-&gt;error_info-&gt;sqlstate));</span>
<span class='curline'><a href='../S/772.html#L137'>conn</a>              137 ext/mysqlnd/mysqlnd_auth.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, auth_resp_packet-&gt;error_no, UNKNOWN_SQLSTATE, auth_resp_packet-&gt;error);</span>
<span class='curline'><a href='../S/772.html#L142'>conn</a>              142 ext/mysqlnd/mysqlnd_auth.c 	SET_NEW_MESSAGE(conn-&gt;last_message, conn-&gt;last_message_len, auth_resp_packet-&gt;message, auth_resp_packet-&gt;message_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/772.html#L155'>conn</a>              155 ext/mysqlnd/mysqlnd_auth.c mysqlnd_auth_change_user(MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/772.html#L174'>conn</a>              174 ext/mysqlnd/mysqlnd_auth.c 	const MYSQLND_CHARSET * old_cs = conn-&gt;charset;</span>
<span class='curline'><a href='../S/772.html#L181'>conn</a>              181 ext/mysqlnd/mysqlnd_auth.c 	chg_user_resp = conn-&gt;protocol-&gt;m.get_change_user_response_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/772.html#L184'>conn</a>              184 ext/mysqlnd/mysqlnd_auth.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/772.html#L189'>conn</a>              189 ext/mysqlnd/mysqlnd_auth.c 		change_auth_resp_packet = conn-&gt;protocol-&gt;m.get_change_auth_response_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/772.html#L191'>conn</a>              191 ext/mysqlnd/mysqlnd_auth.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/772.html#L198'>conn</a>              198 ext/mysqlnd/mysqlnd_auth.c 		if (!PACKET_WRITE(change_auth_resp_packet, conn)) {</span>
<span class='curline'><a href='../S/772.html#L199'>conn</a>              199 ext/mysqlnd/mysqlnd_auth.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/772.html#L200'>conn</a>              200 ext/mysqlnd/mysqlnd_auth.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);</span>
<span class='curline'><a href='../S/772.html#L204'>conn</a>              204 ext/mysqlnd/mysqlnd_auth.c 		auth_packet = conn-&gt;protocol-&gt;m.get_auth_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/772.html#L207'>conn</a>              207 ext/mysqlnd/mysqlnd_auth.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/772.html#L222'>conn</a>              222 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;m-&gt;get_server_version(conn) &gt;= 50123) {</span>
<span class='curline'><a href='../S/772.html#L223'>conn</a>              223 ext/mysqlnd/mysqlnd_auth.c 			auth_packet-&gt;charset_no	= conn-&gt;charset-&gt;nr;</span>
<span class='curline'><a href='../S/772.html#L226'>conn</a>              226 ext/mysqlnd/mysqlnd_auth.c 		if (!PACKET_WRITE(auth_packet, conn)) {</span>
<span class='curline'><a href='../S/772.html#L227'>conn</a>              227 ext/mysqlnd/mysqlnd_auth.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/772.html#L228'>conn</a>              228 ext/mysqlnd/mysqlnd_auth.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);</span>
<span class='curline'><a href='../S/772.html#L233'>conn</a>              233 ext/mysqlnd/mysqlnd_auth.c 	ret = PACKET_READ(chg_user_resp, conn);</span>
<span class='curline'><a href='../S/772.html#L234'>conn</a>              234 ext/mysqlnd/mysqlnd_auth.c 	COPY_CLIENT_ERROR(*conn-&gt;error_info, chg_user_resp-&gt;error_info);</span>
<span class='curline'><a href='../S/772.html#L240'>conn</a>              240 ext/mysqlnd/mysqlnd_auth.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, mysqlnd_old_passwd);</span>
<span class='curline'><a href='../S/772.html#L255'>conn</a>              255 ext/mysqlnd/mysqlnd_auth.c 	if (conn-&gt;error_info-&gt;error_no) {</span>
<span class='curline'><a href='../S/772.html#L262'>conn</a>              262 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;m-&gt;get_server_version(conn) &gt; 50113L &amp;&amp;conn-&gt;m-&gt;get_server_version(conn) &lt; 50118L) {</span>
<span class='curline'><a href='../S/772.html#L263'>conn</a>              263 ext/mysqlnd/mysqlnd_auth.c 			MYSQLND_PACKET_OK * redundant_error_packet = conn-&gt;protocol-&gt;m.get_ok_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/772.html#L265'>conn</a>              265 ext/mysqlnd/mysqlnd_auth.c 				PACKET_READ(redundant_error_packet, conn);</span>
<span class='curline'><a href='../S/772.html#L267'>conn</a>              267 ext/mysqlnd/mysqlnd_auth.c 				DBG_INF_FMT("Server is %u, buggy, sends two ERR messages", conn-&gt;m-&gt;get_server_version(conn));</span>
<span class='curline'><a href='../S/772.html#L269'>conn</a>              269 ext/mysqlnd/mysqlnd_auth.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/772.html#L276'>conn</a>              276 ext/mysqlnd/mysqlnd_auth.c 		tmp = mnd_pestrndup(user, user_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/772.html#L277'>conn</a>              277 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;user) {</span>
<span class='curline'><a href='../S/772.html#L278'>conn</a>              278 ext/mysqlnd/mysqlnd_auth.c 			mnd_pefree(conn-&gt;user, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/772.html#L280'>conn</a>              280 ext/mysqlnd/mysqlnd_auth.c 		conn-&gt;user = tmp;</span>
<span class='curline'><a href='../S/772.html#L282'>conn</a>              282 ext/mysqlnd/mysqlnd_auth.c 		tmp = mnd_pestrdup(passwd, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/772.html#L283'>conn</a>              283 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;passwd) {</span>
<span class='curline'><a href='../S/772.html#L284'>conn</a>              284 ext/mysqlnd/mysqlnd_auth.c 			mnd_pefree(conn-&gt;passwd, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/772.html#L286'>conn</a>              286 ext/mysqlnd/mysqlnd_auth.c 		conn-&gt;passwd = tmp;</span>
<span class='curline'><a href='../S/772.html#L288'>conn</a>              288 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;last_message) {</span>
<span class='curline'><a href='../S/772.html#L289'>conn</a>              289 ext/mysqlnd/mysqlnd_auth.c 			mnd_pefree(conn-&gt;last_message, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/772.html#L290'>conn</a>              290 ext/mysqlnd/mysqlnd_auth.c 			conn-&gt;last_message = NULL;</span>
<span class='curline'><a href='../S/772.html#L292'>conn</a>              292 ext/mysqlnd/mysqlnd_auth.c 		memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/772.html#L294'>conn</a>              294 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;m-&gt;get_server_version(conn) &lt; 50123) {</span>
<span class='curline'><a href='../S/772.html#L295'>conn</a>              295 ext/mysqlnd/mysqlnd_auth.c 			ret = conn-&gt;m-&gt;set_charset(conn, old_cs-&gt;name);</span>
<span class='curline'><a href='../S/772.html#L300'>conn</a>              300 ext/mysqlnd/mysqlnd_auth.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, mysqlnd_old_passwd);</span>
<span class='curline'><a href='../S/772.html#L360'>conn</a>              360 ext/mysqlnd/mysqlnd_auth.c 								  MYSQLND_CONN_DATA * conn, const char * const user, const char * const passwd,</span>
<span class='curline'><a href='../S/772.html#L374'>conn</a>              374 ext/mysqlnd/mysqlnd_auth.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_MALFORMED_PACKET, UNKNOWN_SQLSTATE, "The server sent wrong length for scramble");</span>
<span class='curline'><a href='../S/772.html#L420'>conn</a>              420 ext/mysqlnd/mysqlnd_auth.c 							   MYSQLND_CONN_DATA * conn, const char * const user, const char * const passwd,</span>
<span class='curline'><a href='../S/772.html#L482'>conn</a>              482 ext/mysqlnd/mysqlnd_auth.c mysqlnd_sha256_get_rsa_key(MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/772.html#L502'>conn</a>              502 ext/mysqlnd/mysqlnd_auth.c 			pk_req_packet = conn-&gt;protocol-&gt;m.get_sha256_pk_request_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/772.html#L504'>conn</a>              504 ext/mysqlnd/mysqlnd_auth.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/772.html#L507'>conn</a>              507 ext/mysqlnd/mysqlnd_auth.c 			pk_resp_packet = conn-&gt;protocol-&gt;m.get_sha256_pk_request_response_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/772.html#L509'>conn</a>              509 ext/mysqlnd/mysqlnd_auth.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/772.html#L514'>conn</a>              514 ext/mysqlnd/mysqlnd_auth.c 			if (! PACKET_WRITE(pk_req_packet, conn)) {</span>
<span class='curline'><a href='../S/772.html#L517'>conn</a>              517 ext/mysqlnd/mysqlnd_auth.c 				CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/772.html#L520'>conn</a>              520 ext/mysqlnd/mysqlnd_auth.c 			if (FAIL == PACKET_READ(pk_resp_packet, conn) || NULL == pk_resp_packet-&gt;public_key) {</span>
<span class='curline'><a href='../S/772.html#L523'>conn</a>              523 ext/mysqlnd/mysqlnd_auth.c 				CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/772.html#L540'>conn</a>              540 ext/mysqlnd/mysqlnd_auth.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/772.html#L570'>conn</a>              570 ext/mysqlnd/mysqlnd_auth.c 								  MYSQLND_CONN_DATA * conn, const char * const user, const char * const passwd,</span>
<span class='curline'><a href='../S/772.html#L583'>conn</a>              583 ext/mysqlnd/mysqlnd_auth.c 	if (conn-&gt;net-&gt;data-&gt;ssl) {</span>
<span class='curline'><a href='../S/772.html#L591'>conn</a>              591 ext/mysqlnd/mysqlnd_auth.c 		server_public_key = mysqlnd_sha256_get_rsa_key(conn, options, net_options);</span>
<span class='curline'><a href='../S/772.html#L608'>conn</a>              608 ext/mysqlnd/mysqlnd_auth.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, "password is too long");</span>
<span class='curline'><a href='../S/779.html#L194'>conn</a>              194 ext/mysqlnd/mysqlnd_driver.c MYSQLND_METHOD(mysqlnd_object_factory, get_prepared_statement)(MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/779.html#L197'>conn</a>              197 ext/mysqlnd/mysqlnd_driver.c 	MYSQLND_STMT * ret = mnd_pecalloc(1, alloc_size, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/779.html#L206'>conn</a>              206 ext/mysqlnd/mysqlnd_driver.c 		ret-&gt;persistent = conn-&gt;persistent;</span>
<span class='curline'><a href='../S/779.html#L208'>conn</a>              208 ext/mysqlnd/mysqlnd_driver.c 		stmt = ret-&gt;data = mnd_pecalloc(1, sizeof(MYSQLND_STMT_DATA), conn-&gt;persistent);</span>
<span class='curline'><a href='../S/779.html#L213'>conn</a>              213 ext/mysqlnd/mysqlnd_driver.c 		stmt-&gt;persistent = conn-&gt;persistent;</span>
<span class='curline'><a href='../S/779.html#L229'>conn</a>              229 ext/mysqlnd/mysqlnd_driver.c 		stmt-&gt;conn = conn-&gt;m-&gt;get_reference(conn);</span>
<span class='curline'><a href='../S/779.html#L235'>conn</a>              235 ext/mysqlnd/mysqlnd_driver.c 		zend_llist_init(stmt-&gt;error_info-&gt;error_list, sizeof(MYSQLND_ERROR_LIST_ELEMENT), (llist_dtor_func_t) mysqlnd_error_list_pdtor, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/779.html#L240'>conn</a>              240 ext/mysqlnd/mysqlnd_driver.c 	SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/781.html#L34'>conn</a>               34 ext/mysqlnd/mysqlnd_ext_plugin.c _mysqlnd_plugin_get_plugin_connection_data(const MYSQLND * conn, unsigned int plugin_id)</span>
<span class='curline'><a href='../S/781.html#L38'>conn</a>               38 ext/mysqlnd/mysqlnd_ext_plugin.c 	if (!conn || plugin_id &gt;= mysqlnd_plugin_count()) {</span>
<span class='curline'><a href='../S/781.html#L41'>conn</a>               41 ext/mysqlnd/mysqlnd_ext_plugin.c 	DBG_RETURN((void *)((char *)conn + sizeof(MYSQLND) + plugin_id * sizeof(void *)));</span>
<span class='curline'><a href='../S/781.html#L48'>conn</a>               48 ext/mysqlnd/mysqlnd_ext_plugin.c _mysqlnd_plugin_get_plugin_connection_data_data(const MYSQLND_CONN_DATA * conn, unsigned int plugin_id)</span>
<span class='curline'><a href='../S/781.html#L52'>conn</a>               52 ext/mysqlnd/mysqlnd_ext_plugin.c 	if (!conn || plugin_id &gt;= mysqlnd_plugin_count()) {</span>
<span class='curline'><a href='../S/781.html#L55'>conn</a>               55 ext/mysqlnd/mysqlnd_ext_plugin.c 	DBG_RETURN((void *)((char *)conn + sizeof(MYSQLND_CONN_DATA) + plugin_id * sizeof(void *)));</span>
<span class='curline'><a href='../S/782.html#L25'>conn</a>               25 ext/mysqlnd/mysqlnd_ext_plugin.h PHPAPI void ** _mysqlnd_plugin_get_plugin_connection_data(const MYSQLND * conn, unsigned int plugin_id);</span>
<span class='curline'><a href='../S/782.html#L28'>conn</a>               28 ext/mysqlnd/mysqlnd_ext_plugin.h PHPAPI void ** _mysqlnd_plugin_get_plugin_connection_data_data(const MYSQLND_CONN_DATA * conn, unsigned int plugin_id);</span>
<span class='curline'><a href='../S/783.html#L76'>conn</a>               76 ext/mysqlnd/mysqlnd_libmysql_compat.h #define mysql_refresh(conn, options)	mysqlnd_refresh((conn), (options))</span>
<span class='curline'><a href='../S/784.html#L129'>conn</a>              129 ext/mysqlnd/mysqlnd_loaddata.c mysqlnd_local_infile_default(MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/784.html#L131'>conn</a>              131 ext/mysqlnd/mysqlnd_loaddata.c 	conn-&gt;infile.local_infile_init = mysqlnd_local_infile_init;</span>
<span class='curline'><a href='../S/784.html#L132'>conn</a>              132 ext/mysqlnd/mysqlnd_loaddata.c 	conn-&gt;infile.local_infile_read = mysqlnd_local_infile_read;</span>
<span class='curline'><a href='../S/784.html#L133'>conn</a>              133 ext/mysqlnd/mysqlnd_loaddata.c 	conn-&gt;infile.local_infile_error = mysqlnd_local_infile_error;</span>
<span class='curline'><a href='../S/784.html#L134'>conn</a>              134 ext/mysqlnd/mysqlnd_loaddata.c 	conn-&gt;infile.local_infile_end = mysqlnd_local_infile_end;</span>
<span class='curline'><a href='../S/784.html#L144'>conn</a>              144 ext/mysqlnd/mysqlnd_loaddata.c mysqlnd_handle_local_infile(MYSQLND_CONN_DATA * conn, const char * filename, zend_bool * is_warning)</span>
<span class='curline'><a href='../S/784.html#L154'>conn</a>              154 ext/mysqlnd/mysqlnd_loaddata.c 	MYSQLND_NET			* net = conn-&gt;net;</span>
<span class='curline'><a href='../S/784.html#L158'>conn</a>              158 ext/mysqlnd/mysqlnd_loaddata.c 	if (!(conn-&gt;options-&gt;flags &amp; CLIENT_LOCAL_FILES)) {</span>
<span class='curline'><a href='../S/784.html#L161'>conn</a>              161 ext/mysqlnd/mysqlnd_loaddata.c 		ret = net-&gt;data-&gt;m.send_ex(net, empty_packet, 0, conn-&gt;stats, conn-&gt;error_info);</span>
<span class='curline'><a href='../S/784.html#L166'>conn</a>              166 ext/mysqlnd/mysqlnd_loaddata.c 	infile = conn-&gt;infile;</span>
<span class='curline'><a href='../S/784.html#L174'>conn</a>              174 ext/mysqlnd/mysqlnd_loaddata.c 		char tmp_buf[sizeof(conn-&gt;error_info-&gt;error)];</span>
<span class='curline'><a href='../S/784.html#L179'>conn</a>              179 ext/mysqlnd/mysqlnd_loaddata.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, tmp_error_no, UNKNOWN_SQLSTATE, tmp_buf);</span>
<span class='curline'><a href='../S/784.html#L181'>conn</a>              181 ext/mysqlnd/mysqlnd_loaddata.c 		ret = net-&gt;data-&gt;m.send_ex(net, empty_packet, 0, conn-&gt;stats, conn-&gt;error_info);</span>
<span class='curline'><a href='../S/784.html#L187'>conn</a>              187 ext/mysqlnd/mysqlnd_loaddata.c 		if ((ret = net-&gt;data-&gt;m.send_ex(net, buf, bufsize, conn-&gt;stats, conn-&gt;error_info)) == 0) {</span>
<span class='curline'><a href='../S/784.html#L189'>conn</a>              189 ext/mysqlnd/mysqlnd_loaddata.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_LOST, UNKNOWN_SQLSTATE, lost_conn);</span>
<span class='curline'><a href='../S/784.html#L195'>conn</a>              195 ext/mysqlnd/mysqlnd_loaddata.c 	if ((ret = net-&gt;data-&gt;m.send_ex(net, empty_packet, 0, conn-&gt;stats, conn-&gt;error_info)) == 0) {</span>
<span class='curline'><a href='../S/784.html#L196'>conn</a>              196 ext/mysqlnd/mysqlnd_loaddata.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_LOST, UNKNOWN_SQLSTATE, lost_conn);</span>
<span class='curline'><a href='../S/784.html#L202'>conn</a>              202 ext/mysqlnd/mysqlnd_loaddata.c 		char tmp_buf[sizeof(conn-&gt;error_info-&gt;error)];</span>
<span class='curline'><a href='../S/784.html#L207'>conn</a>              207 ext/mysqlnd/mysqlnd_loaddata.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, tmp_error_no, UNKNOWN_SQLSTATE, tmp_buf);</span>
<span class='curline'><a href='../S/784.html#L215'>conn</a>              215 ext/mysqlnd/mysqlnd_loaddata.c 	if (FAIL == conn-&gt;m-&gt;simple_command_handle_response(conn, PROT_OK_PACKET, FALSE, COM_QUERY, FALSE)) {</span>
<span class='curline'><a href='../S/784.html#L219'>conn</a>              219 ext/mysqlnd/mysqlnd_loaddata.c 	(*conn-&gt;infile.local_infile_end)(info);</span>
<span class='curline'><a href='../S/789.html#L171'>conn</a>              171 ext/mysqlnd/mysqlnd_priv.h enum_func_status mysqlnd_handle_local_infile(MYSQLND_CONN_DATA * conn, const char * filename, zend_bool * is_warning);</span>
<span class='curline'><a href='../S/789.html#L191'>conn</a>              191 ext/mysqlnd/mysqlnd_priv.h mysqlnd_auth_handshake(MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/789.html#L211'>conn</a>              211 ext/mysqlnd/mysqlnd_priv.h mysqlnd_auth_change_user(MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/790.html#L52'>conn</a>               52 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/790.html#L56'>conn</a>               56 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;result) {</span>
<span class='curline'><a href='../S/790.html#L61'>conn</a>               61 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/790.html#L74'>conn</a>               74 ext/mysqlnd/mysqlnd_ps.c 	if (CONN_GET_STATE(conn) != CONN_FETCHING_DATA ||</span>
<span class='curline'><a href='../S/790.html#L77'>conn</a>               77 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC,</span>
<span class='curline'><a href='../S/790.html#L85'>conn</a>               85 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L86'>conn</a>               86 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_PS_BUFFERED_SETS);</span>
<span class='curline'><a href='../S/790.html#L94'>conn</a>               94 ext/mysqlnd/mysqlnd_ps.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L98'>conn</a>               98 ext/mysqlnd/mysqlnd_ps.c 	ret = result-&gt;m.store_result_fetch_data(conn, result, result-&gt;meta, &amp;result-&gt;stored_data-&gt;row_buffers, TRUE);</span>
<span class='curline'><a href='../S/790.html#L109'>conn</a>              109 ext/mysqlnd/mysqlnd_ps.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L115'>conn</a>              115 ext/mysqlnd/mysqlnd_ps.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L131'>conn</a>              131 ext/mysqlnd/mysqlnd_ps.c 		COPY_CLIENT_ERROR(*conn-&gt;error_info, result-&gt;stored_data-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L148'>conn</a>              148 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/790.html#L152'>conn</a>              152 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;result) {</span>
<span class='curline'><a href='../S/790.html#L157'>conn</a>              157 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/790.html#L170'>conn</a>              170 ext/mysqlnd/mysqlnd_ps.c 	if (CONN_GET_STATE(conn) != CONN_FETCHING_DATA || stmt-&gt;state != MYSQLND_STMT_WAITING_USE_OR_STORE) {</span>
<span class='curline'><a href='../S/790.html#L171'>conn</a>              171 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC,</span>
<span class='curline'><a href='../S/790.html#L177'>conn</a>              177 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L178'>conn</a>              178 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_BUFFERED_SETS);</span>
<span class='curline'><a href='../S/790.html#L181'>conn</a>              181 ext/mysqlnd/mysqlnd_ps.c 		result = conn-&gt;m-&gt;result_init(stmt-&gt;result-&gt;field_count, stmt-&gt;persistent);</span>
<span class='curline'><a href='../S/790.html#L183'>conn</a>              183 ext/mysqlnd/mysqlnd_ps.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L189'>conn</a>              189 ext/mysqlnd/mysqlnd_ps.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L193'>conn</a>              193 ext/mysqlnd/mysqlnd_ps.c 		if ((result = result-&gt;m.store_result(result, conn, MYSQLND_STORE_PS | MYSQLND_STORE_NO_COPY))) {</span>
<span class='curline'><a href='../S/790.html#L198'>conn</a>              198 ext/mysqlnd/mysqlnd_ps.c 			COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L220'>conn</a>              220 ext/mysqlnd/mysqlnd_ps.c 	DBG_RETURN((stmt &amp;&amp; stmt-&gt;conn &amp;&amp; (stmt-&gt;conn-&gt;m-&gt;get_server_status(stmt-&gt;conn) &amp; SERVER_MORE_RESULTS_EXISTS))?</span>
<span class='curline'><a href='../S/790.html#L232'>conn</a>              232 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/790.html#L235'>conn</a>              235 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;result) {</span>
<span class='curline'><a href='../S/790.html#L238'>conn</a>              238 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/790.html#L241'>conn</a>              241 ext/mysqlnd/mysqlnd_ps.c 	if (CONN_GET_STATE(conn) != CONN_NEXT_RESULT_PENDING || !(conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS)) {</span>
<span class='curline'><a href='../S/790.html#L268'>conn</a>              268 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;conn-&gt;protocol) {</span>
<span class='curline'><a href='../S/790.html#L273'>conn</a>              273 ext/mysqlnd/mysqlnd_ps.c 	field_packet = stmt-&gt;conn-&gt;protocol-&gt;m.get_result_field_packet(stmt-&gt;conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/790.html#L276'>conn</a>              276 ext/mysqlnd/mysqlnd_ps.c 		SET_OOM_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L281'>conn</a>              281 ext/mysqlnd/mysqlnd_ps.c 			if (FAIL == PACKET_READ(field_packet, stmt-&gt;conn)) {</span>
<span class='curline'><a href='../S/790.html#L303'>conn</a>              303 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;conn-&gt;protocol) {</span>
<span class='curline'><a href='../S/790.html#L308'>conn</a>              308 ext/mysqlnd/mysqlnd_ps.c 	prepare_resp = stmt-&gt;conn-&gt;protocol-&gt;m.get_prepare_response_packet(stmt-&gt;conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/790.html#L311'>conn</a>              311 ext/mysqlnd/mysqlnd_ps.c 		SET_OOM_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L315'>conn</a>              315 ext/mysqlnd/mysqlnd_ps.c 	if (FAIL == PACKET_READ(prepare_resp, stmt-&gt;conn)) {</span>
<span class='curline'><a href='../S/790.html#L321'>conn</a>              321 ext/mysqlnd/mysqlnd_ps.c 		COPY_CLIENT_ERROR(*stmt-&gt;conn-&gt;error_info, prepare_resp-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L326'>conn</a>              326 ext/mysqlnd/mysqlnd_ps.c 	stmt-&gt;warning_count = stmt-&gt;conn-&gt;upsert_status-&gt;warning_count = prepare_resp-&gt;warning_count;</span>
<span class='curline'><a href='../S/790.html#L327'>conn</a>              327 ext/mysqlnd/mysqlnd_ps.c 	stmt-&gt;field_count = stmt-&gt;conn-&gt;field_count = prepare_resp-&gt;field_count;</span>
<span class='curline'><a href='../S/790.html#L347'>conn</a>              347 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;conn-&gt;protocol) {</span>
<span class='curline'><a href='../S/790.html#L352'>conn</a>              352 ext/mysqlnd/mysqlnd_ps.c 	fields_eof = stmt-&gt;conn-&gt;protocol-&gt;m.get_eof_packet(stmt-&gt;conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/790.html#L355'>conn</a>              355 ext/mysqlnd/mysqlnd_ps.c 		SET_OOM_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L357'>conn</a>              357 ext/mysqlnd/mysqlnd_ps.c 		if (FAIL == (ret = PACKET_READ(fields_eof, stmt-&gt;conn))) {</span>
<span class='curline'><a href='../S/790.html#L386'>conn</a>              386 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L393'>conn</a>              393 ext/mysqlnd/mysqlnd_ps.c 	SET_ERROR_AFF_ROWS(stmt-&gt;conn);</span>
<span class='curline'><a href='../S/790.html#L396'>conn</a>              396 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L413'>conn</a>              413 ext/mysqlnd/mysqlnd_ps.c 		s_to_prepare = stmt-&gt;conn-&gt;m-&gt;stmt_init(stmt-&gt;conn);</span>
<span class='curline'><a href='../S/790.html#L420'>conn</a>              420 ext/mysqlnd/mysqlnd_ps.c 	if (FAIL == stmt_to_prepare-&gt;conn-&gt;m-&gt;simple_command(stmt_to_prepare-&gt;conn, COM_STMT_PREPARE, (const zend_uchar *) query, query_len, PROT_LAST, FALSE, TRUE) ||</span>
<span class='curline'><a href='../S/790.html#L440'>conn</a>              440 ext/mysqlnd/mysqlnd_ps.c 		MYSQLND_RES * result = stmt-&gt;conn-&gt;m-&gt;result_init(stmt_to_prepare-&gt;field_count, stmt_to_prepare-&gt;persistent);</span>
<span class='curline'><a href='../S/790.html#L442'>conn</a>              442 ext/mysqlnd/mysqlnd_ps.c 			SET_OOM_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L448'>conn</a>              448 ext/mysqlnd/mysqlnd_ps.c 		result-&gt;conn = stmt_to_prepare-&gt;conn-&gt;m-&gt;get_reference(stmt_to_prepare-&gt;conn);</span>
<span class='curline'><a href='../S/790.html#L452'>conn</a>              452 ext/mysqlnd/mysqlnd_ps.c 		if (FAIL == result-&gt;m.read_result_metadata(result, stmt_to_prepare-&gt;conn) ||</span>
<span class='curline'><a href='../S/790.html#L496'>conn</a>              496 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/790.html#L499'>conn</a>              499 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L502'>conn</a>              502 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/790.html#L503'>conn</a>              503 ext/mysqlnd/mysqlnd_ps.c 	CONN_SET_STATE(conn, CONN_QUERY_SENT);</span>
<span class='curline'><a href='../S/790.html#L505'>conn</a>              505 ext/mysqlnd/mysqlnd_ps.c 	ret = mysqlnd_query_read_result_set_header(stmt-&gt;conn, s);</span>
<span class='curline'><a href='../S/790.html#L507'>conn</a>              507 ext/mysqlnd/mysqlnd_ps.c 		COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L509'>conn</a>              509 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;upsert_status-&gt;affected_rows = conn-&gt;upsert_status-&gt;affected_rows;</span>
<span class='curline'><a href='../S/790.html#L510'>conn</a>              510 ext/mysqlnd/mysqlnd_ps.c 		if (CONN_GET_STATE(conn) == CONN_QUIT_SENT) {</span>
<span class='curline'><a href='../S/790.html#L524'>conn</a>              524 ext/mysqlnd/mysqlnd_ps.c 		SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L525'>conn</a>              525 ext/mysqlnd/mysqlnd_ps.c 		*stmt-&gt;upsert_status = *conn-&gt;upsert_status; /* copy status */</span>
<span class='curline'><a href='../S/790.html#L527'>conn</a>              527 ext/mysqlnd/mysqlnd_ps.c 		if (conn-&gt;last_query_type == QUERY_UPSERT || conn-&gt;last_query_type == QUERY_LOAD_LOCAL) {</span>
<span class='curline'><a href='../S/790.html#L533'>conn</a>              533 ext/mysqlnd/mysqlnd_ps.c 		if (!stmt-&gt;result-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L538'>conn</a>              538 ext/mysqlnd/mysqlnd_ps.c 			stmt-&gt;result-&gt;conn = stmt-&gt;conn-&gt;m-&gt;get_reference(stmt-&gt;conn);</span>
<span class='curline'><a href='../S/790.html#L542'>conn</a>              542 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;field_count = stmt-&gt;result-&gt;field_count = conn-&gt;field_count;</span>
<span class='curline'><a href='../S/790.html#L561'>conn</a>              561 ext/mysqlnd/mysqlnd_ps.c 				CONN_SET_STATE(conn, CONN_READY);</span>
<span class='curline'><a href='../S/790.html#L599'>conn</a>              599 ext/mysqlnd/mysqlnd_ps.c 	if (ret == PASS &amp;&amp; conn-&gt;last_query_type == QUERY_UPSERT &amp;&amp; stmt-&gt;upsert_status-&gt;affected_rows) {</span>
<span class='curline'><a href='../S/790.html#L600'>conn</a>              600 ext/mysqlnd/mysqlnd_ps.c 		MYSQLND_INC_CONN_STATISTIC_W_VALUE(conn-&gt;stats, STAT_ROWS_AFFECTED_PS, stmt-&gt;upsert_status-&gt;affected_rows);</span>
<span class='curline'><a href='../S/790.html#L630'>conn</a>              630 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/790.html#L636'>conn</a>              636 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L639'>conn</a>              639 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/790.html#L643'>conn</a>              643 ext/mysqlnd/mysqlnd_ps.c 	SET_ERROR_AFF_ROWS(stmt-&gt;conn);</span>
<span class='curline'><a href='../S/790.html#L691'>conn</a>              691 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/790.html#L726'>conn</a>              726 ext/mysqlnd/mysqlnd_ps.c 		ret = stmt-&gt;conn-&gt;m-&gt;simple_command(stmt-&gt;conn, COM_STMT_EXECUTE, request, request_len,</span>
<span class='curline'><a href='../S/790.html#L738'>conn</a>              738 ext/mysqlnd/mysqlnd_ps.c 		COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L779'>conn</a>              779 ext/mysqlnd/mysqlnd_ps.c 													result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/790.html#L780'>conn</a>              780 ext/mysqlnd/mysqlnd_ps.c 													result-&gt;conn-&gt;stats);</span>
<span class='curline'><a href='../S/790.html#L869'>conn</a>              869 ext/mysqlnd/mysqlnd_ps.c 	if (CONN_GET_STATE(result-&gt;conn) != CONN_FETCHING_DATA) {</span>
<span class='curline'><a href='../S/790.html#L870'>conn</a>              870 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC,</span>
<span class='curline'><a href='../S/790.html#L886'>conn</a>              886 ext/mysqlnd/mysqlnd_ps.c 	if (PASS == (ret = PACKET_READ(row_packet, result-&gt;conn)) &amp;&amp; !row_packet-&gt;eof) {</span>
<span class='curline'><a href='../S/790.html#L890'>conn</a>              890 ext/mysqlnd/mysqlnd_ps.c 			result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL);</span>
<span class='curline'><a href='../S/790.html#L901'>conn</a>              901 ext/mysqlnd/mysqlnd_ps.c 									result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/790.html#L902'>conn</a>              902 ext/mysqlnd/mysqlnd_ps.c 									result-&gt;conn-&gt;stats))</span>
<span class='curline'><a href='../S/790.html#L933'>conn</a>              933 ext/mysqlnd/mysqlnd_ps.c 			MYSQLND_INC_CONN_STATISTIC(stmt-&gt;conn-&gt;stats, STAT_ROWS_FETCHED_FROM_CLIENT_PS_UNBUF);</span>
<span class='curline'><a href='../S/790.html#L950'>conn</a>              950 ext/mysqlnd/mysqlnd_ps.c 			COPY_CLIENT_ERROR(*stmt-&gt;conn-&gt;error_info, row_packet-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L953'>conn</a>              953 ext/mysqlnd/mysqlnd_ps.c 		CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/790.html#L959'>conn</a>              959 ext/mysqlnd/mysqlnd_ps.c 		memset(result-&gt;conn-&gt;upsert_status, 0, sizeof(*result-&gt;conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/790.html#L960'>conn</a>              960 ext/mysqlnd/mysqlnd_ps.c 		result-&gt;conn-&gt;upsert_status-&gt;warning_count = row_packet-&gt;warning_count;</span>
<span class='curline'><a href='../S/790.html#L961'>conn</a>              961 ext/mysqlnd/mysqlnd_ps.c 		result-&gt;conn-&gt;upsert_status-&gt;server_status = row_packet-&gt;server_status;</span>
<span class='curline'><a href='../S/790.html#L966'>conn</a>              966 ext/mysqlnd/mysqlnd_ps.c 		if (result-&gt;conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS) {</span>
<span class='curline'><a href='../S/790.html#L967'>conn</a>              967 ext/mysqlnd/mysqlnd_ps.c 			CONN_SET_STATE(result-&gt;conn, CONN_NEXT_RESULT_PENDING);</span>
<span class='curline'><a href='../S/790.html#L969'>conn</a>              969 ext/mysqlnd/mysqlnd_ps.c 			CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/790.html#L985'>conn</a>              985 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/790.html#L988'>conn</a>              988 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;result) {</span>
<span class='curline'><a href='../S/790.html#L993'>conn</a>              993 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/790.html#L996'>conn</a>              996 ext/mysqlnd/mysqlnd_ps.c 		(!stmt-&gt;cursor_exists &amp;&amp; CONN_GET_STATE(conn) != CONN_FETCHING_DATA) ||</span>
<span class='curline'><a href='../S/790.html#L997'>conn</a>              997 ext/mysqlnd/mysqlnd_ps.c 		(stmt-&gt;cursor_exists &amp;&amp; CONN_GET_STATE(conn) != CONN_READY) ||</span>
<span class='curline'><a href='../S/790.html#L1000'>conn</a>             1000 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC,</span>
<span class='curline'><a href='../S/790.html#L1008'>conn</a>             1008 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_INC_CONN_STATISTIC(stmt-&gt;conn-&gt;stats, STAT_PS_UNBUFFERED_SETS);</span>
<span class='curline'><a href='../S/790.html#L1036'>conn</a>             1036 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !result || !result-&gt;conn || !result-&gt;unbuf) {</span>
<span class='curline'><a href='../S/790.html#L1045'>conn</a>             1045 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*stmt-&gt;conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/790.html#L1055'>conn</a>             1055 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1060'>conn</a>             1060 ext/mysqlnd/mysqlnd_ps.c 	if (FAIL == stmt-&gt;conn-&gt;m-&gt;simple_command(stmt-&gt;conn, COM_STMT_FETCH, buf, sizeof(buf),</span>
<span class='curline'><a href='../S/790.html#L1063'>conn</a>             1063 ext/mysqlnd/mysqlnd_ps.c 		COPY_CLIENT_ERROR(*stmt-&gt;error_info, *stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1070'>conn</a>             1070 ext/mysqlnd/mysqlnd_ps.c 	if (PASS == (ret = PACKET_READ(row_packet, result-&gt;conn)) &amp;&amp; !row_packet-&gt;eof) {</span>
<span class='curline'><a href='../S/790.html#L1075'>conn</a>             1075 ext/mysqlnd/mysqlnd_ps.c 			result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL);</span>
<span class='curline'><a href='../S/790.html#L1086'>conn</a>             1086 ext/mysqlnd/mysqlnd_ps.c 									  result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/790.html#L1087'>conn</a>             1087 ext/mysqlnd/mysqlnd_ps.c 									  result-&gt;conn-&gt;stats))</span>
<span class='curline'><a href='../S/790.html#L1135'>conn</a>             1135 ext/mysqlnd/mysqlnd_ps.c 		ret = PACKET_READ(row_packet, result-&gt;conn);</span>
<span class='curline'><a href='../S/790.html#L1140'>conn</a>             1140 ext/mysqlnd/mysqlnd_ps.c 		MYSQLND_INC_CONN_STATISTIC(stmt-&gt;conn-&gt;stats, STAT_ROWS_FETCHED_FROM_CLIENT_PS_CURSOR);</span>
<span class='curline'><a href='../S/790.html#L1148'>conn</a>             1148 ext/mysqlnd/mysqlnd_ps.c 			stmt-&gt;conn-&gt;upsert_status-&gt;warning_count =</span>
<span class='curline'><a href='../S/790.html#L1152'>conn</a>             1152 ext/mysqlnd/mysqlnd_ps.c 			stmt-&gt;conn-&gt;upsert_status-&gt;server_status =</span>
<span class='curline'><a href='../S/790.html#L1158'>conn</a>             1158 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;conn-&gt;upsert_status-&gt;warning_count =</span>
<span class='curline'><a href='../S/790.html#L1161'>conn</a>             1161 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;conn-&gt;upsert_status-&gt;server_status =</span>
<span class='curline'><a href='../S/790.html#L1180'>conn</a>             1180 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L1199'>conn</a>             1199 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1238'>conn</a>             1238 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L1244'>conn</a>             1244 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1247'>conn</a>             1247 ext/mysqlnd/mysqlnd_ps.c 		MYSQLND_CONN_DATA * conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/790.html#L1268'>conn</a>             1268 ext/mysqlnd/mysqlnd_ps.c 		if (CONN_GET_STATE(conn) == CONN_READY &amp;&amp;</span>
<span class='curline'><a href='../S/790.html#L1269'>conn</a>             1269 ext/mysqlnd/mysqlnd_ps.c 			FAIL == (ret = conn-&gt;m-&gt;simple_command(conn, COM_STMT_RESET, cmd_buf,</span>
<span class='curline'><a href='../S/790.html#L1272'>conn</a>             1272 ext/mysqlnd/mysqlnd_ps.c 			COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1274'>conn</a>             1274 ext/mysqlnd/mysqlnd_ps.c 		*stmt-&gt;upsert_status = *conn-&gt;upsert_status;</span>
<span class='curline'><a href='../S/790.html#L1290'>conn</a>             1290 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L1327'>conn</a>             1327 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/790.html#L1332'>conn</a>             1332 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L1337'>conn</a>             1337 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/790.html#L1340'>conn</a>             1340 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1373'>conn</a>             1373 ext/mysqlnd/mysqlnd_ps.c 	if (CONN_GET_STATE(conn) == CONN_READY) {</span>
<span class='curline'><a href='../S/790.html#L1384'>conn</a>             1384 ext/mysqlnd/mysqlnd_ps.c 			ret = conn-&gt;m-&gt;simple_command(conn, cmd, cmd_buf, packet_len, PROT_LAST , FALSE, TRUE);</span>
<span class='curline'><a href='../S/790.html#L1387'>conn</a>             1387 ext/mysqlnd/mysqlnd_ps.c 				COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1392'>conn</a>             1392 ext/mysqlnd/mysqlnd_ps.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1414'>conn</a>             1414 ext/mysqlnd/mysqlnd_ps.c 		if ((packet_len = conn-&gt;net-&gt;m.consume_uneaten_data(conn-&gt;net, cmd))) {</span>
<span class='curline'><a href='../S/790.html#L1438'>conn</a>             1438 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L1453'>conn</a>             1453 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1507'>conn</a>             1507 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L1524'>conn</a>             1524 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1561'>conn</a>             1561 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L1573'>conn</a>             1573 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1590'>conn</a>             1590 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L1605'>conn</a>             1605 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1646'>conn</a>             1646 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L1664'>conn</a>             1664 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1827'>conn</a>             1827 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt-&gt;field_count || !stmt-&gt;conn || !stmt-&gt;result || !stmt-&gt;result-&gt;meta) {</span>
<span class='curline'><a href='../S/790.html#L1834'>conn</a>             1834 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;result-&gt;stored_data-&gt;m.initialize_result_set_rest(stmt-&gt;result-&gt;stored_data, stmt-&gt;result-&gt;meta, stmt-&gt;conn-&gt;stats,</span>
<span class='curline'><a href='../S/790.html#L1835'>conn</a>             1835 ext/mysqlnd/mysqlnd_ps.c 																stmt-&gt;conn-&gt;options-&gt;int_and_float_native);</span>
<span class='curline'><a href='../S/790.html#L1847'>conn</a>             1847 ext/mysqlnd/mysqlnd_ps.c 		result = stmt-&gt;conn-&gt;m-&gt;result_init(stmt-&gt;field_count, stmt-&gt;persistent);</span>
<span class='curline'><a href='../S/790.html#L1866'>conn</a>             1866 ext/mysqlnd/mysqlnd_ps.c 	SET_OOM_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L1969'>conn</a>             1969 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L2010'>conn</a>             2010 ext/mysqlnd/mysqlnd_ps.c 	CONN_SET_STATE(stmt-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/790.html#L2161'>conn</a>             2161 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/790.html#L2166'>conn</a>             2166 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L2171'>conn</a>             2171 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/790.html#L2174'>conn</a>             2174 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L2203'>conn</a>             2203 ext/mysqlnd/mysqlnd_ps.c 		if (CONN_GET_STATE(conn) == CONN_READY &amp;&amp;</span>
<span class='curline'><a href='../S/790.html#L2204'>conn</a>             2204 ext/mysqlnd/mysqlnd_ps.c 			FAIL == conn-&gt;m-&gt;simple_command(conn, COM_STMT_CLOSE, cmd_buf, sizeof(cmd_buf),</span>
<span class='curline'><a href='../S/790.html#L2207'>conn</a>             2207 ext/mysqlnd/mysqlnd_ps.c 			COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/790.html#L2222'>conn</a>             2222 ext/mysqlnd/mysqlnd_ps.c 		MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, statistic);</span>
<span class='curline'><a href='../S/790.html#L2232'>conn</a>             2232 ext/mysqlnd/mysqlnd_ps.c 	if (stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/790.html#L2233'>conn</a>             2233 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;conn-&gt;m-&gt;free_reference(stmt-&gt;conn);</span>
<span class='curline'><a href='../S/790.html#L2234'>conn</a>             2234 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;conn = NULL;</span>
<span class='curline'><a href='../S/790.html#L2377'>conn</a>             2377 ext/mysqlnd/mysqlnd_ps.c _mysqlnd_stmt_init(MYSQLND_CONN_DATA * const conn)</span>
<span class='curline'><a href='../S/790.html#L2381'>conn</a>             2381 ext/mysqlnd/mysqlnd_ps.c 	ret = MYSQLND_CLASS_METHOD_TABLE_NAME(mysqlnd_object_factory).get_prepared_statement(conn);</span>
<span class='curline'><a href='../S/792.html#L303'>conn</a>              303 ext/mysqlnd/mysqlnd_result.c 		result-&gt;unbuf-&gt;m.free_result(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL);</span>
<span class='curline'><a href='../S/792.html#L343'>conn</a>              343 ext/mysqlnd/mysqlnd_result.c 	if (result-&gt;conn) {</span>
<span class='curline'><a href='../S/792.html#L344'>conn</a>              344 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn-&gt;m-&gt;free_reference(result-&gt;conn);</span>
<span class='curline'><a href='../S/792.html#L345'>conn</a>              345 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn = NULL;</span>
<span class='curline'><a href='../S/792.html#L357'>conn</a>              357 ext/mysqlnd/mysqlnd_result.c MYSQLND_METHOD(mysqlnd_res, read_result_metadata)(MYSQLND_RES * result, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/792.html#L374'>conn</a>              374 ext/mysqlnd/mysqlnd_result.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L381'>conn</a>              381 ext/mysqlnd/mysqlnd_result.c 	if (FAIL == result-&gt;meta-&gt;m-&gt;read_metadata(result-&gt;meta, conn)) {</span>
<span class='curline'><a href='../S/792.html#L402'>conn</a>              402 ext/mysqlnd/mysqlnd_result.c mysqlnd_query_read_result_set_header(MYSQLND_CONN_DATA * conn, MYSQLND_STMT * s)</span>
<span class='curline'><a href='../S/792.html#L414'>conn</a>              414 ext/mysqlnd/mysqlnd_result.c 		rset_header = conn-&gt;protocol-&gt;m.get_rset_header_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/792.html#L416'>conn</a>              416 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L421'>conn</a>              421 ext/mysqlnd/mysqlnd_result.c 		SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/792.html#L423'>conn</a>              423 ext/mysqlnd/mysqlnd_result.c 		if (FAIL == (ret = PACKET_READ(rset_header, conn))) {</span>
<span class='curline'><a href='../S/792.html#L438'>conn</a>              438 ext/mysqlnd/mysqlnd_result.c 			conn-&gt;upsert_status-&gt;server_status &amp;= ~SERVER_MORE_RESULTS_EXISTS;</span>
<span class='curline'><a href='../S/792.html#L443'>conn</a>              443 ext/mysqlnd/mysqlnd_result.c 			COPY_CLIENT_ERROR(*conn-&gt;error_info, rset_header-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L447'>conn</a>              447 ext/mysqlnd/mysqlnd_result.c 			CONN_SET_STATE(conn, CONN_READY);</span>
<span class='curline'><a href='../S/792.html#L450'>conn</a>              450 ext/mysqlnd/mysqlnd_result.c 		conn-&gt;error_info-&gt;error_no = 0;</span>
<span class='curline'><a href='../S/792.html#L456'>conn</a>              456 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;last_query_type = QUERY_LOAD_LOCAL;</span>
<span class='curline'><a href='../S/792.html#L457'>conn</a>              457 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;field_count = 0; /* overwrite previous value, or the last value could be used and lead to bug#53503 */</span>
<span class='curline'><a href='../S/792.html#L458'>conn</a>              458 ext/mysqlnd/mysqlnd_result.c 				CONN_SET_STATE(conn, CONN_SENDING_LOAD_DATA);</span>
<span class='curline'><a href='../S/792.html#L459'>conn</a>              459 ext/mysqlnd/mysqlnd_result.c 				ret = mysqlnd_handle_local_infile(conn, rset_header-&gt;info_or_local_file, &amp;is_warning);</span>
<span class='curline'><a href='../S/792.html#L460'>conn</a>              460 ext/mysqlnd/mysqlnd_result.c 				CONN_SET_STATE(conn,  (ret == PASS || is_warning == TRUE)? CONN_READY:CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/792.html#L461'>conn</a>              461 ext/mysqlnd/mysqlnd_result.c 				MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_NON_RSET_QUERY);</span>
<span class='curline'><a href='../S/792.html#L466'>conn</a>              466 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;last_query_type = QUERY_UPSERT;</span>
<span class='curline'><a href='../S/792.html#L467'>conn</a>              467 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;field_count = rset_header-&gt;field_count;</span>
<span class='curline'><a href='../S/792.html#L468'>conn</a>              468 ext/mysqlnd/mysqlnd_result.c 				memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/792.html#L469'>conn</a>              469 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;upsert_status-&gt;warning_count = rset_header-&gt;warning_count;</span>
<span class='curline'><a href='../S/792.html#L470'>conn</a>              470 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;upsert_status-&gt;server_status = rset_header-&gt;server_status;</span>
<span class='curline'><a href='../S/792.html#L471'>conn</a>              471 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;upsert_status-&gt;affected_rows = rset_header-&gt;affected_rows;</span>
<span class='curline'><a href='../S/792.html#L472'>conn</a>              472 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;upsert_status-&gt;last_insert_id = rset_header-&gt;last_insert_id;</span>
<span class='curline'><a href='../S/792.html#L473'>conn</a>              473 ext/mysqlnd/mysqlnd_result.c 				SET_NEW_MESSAGE(conn-&gt;last_message, conn-&gt;last_message_len,</span>
<span class='curline'><a href='../S/792.html#L475'>conn</a>              475 ext/mysqlnd/mysqlnd_result.c 								conn-&gt;persistent);</span>
<span class='curline'><a href='../S/792.html#L477'>conn</a>              477 ext/mysqlnd/mysqlnd_result.c 				if (conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS) {</span>
<span class='curline'><a href='../S/792.html#L478'>conn</a>              478 ext/mysqlnd/mysqlnd_result.c 					CONN_SET_STATE(conn, CONN_NEXT_RESULT_PENDING);</span>
<span class='curline'><a href='../S/792.html#L480'>conn</a>              480 ext/mysqlnd/mysqlnd_result.c 					CONN_SET_STATE(conn, CONN_READY);</span>
<span class='curline'><a href='../S/792.html#L483'>conn</a>              483 ext/mysqlnd/mysqlnd_result.c 				MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_NON_RSET_QUERY);</span>
<span class='curline'><a href='../S/792.html#L490'>conn</a>              490 ext/mysqlnd/mysqlnd_result.c 				SET_EMPTY_MESSAGE(conn-&gt;last_message, conn-&gt;last_message_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/792.html#L492'>conn</a>              492 ext/mysqlnd/mysqlnd_result.c 				MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_RSET_QUERY);</span>
<span class='curline'><a href='../S/792.html#L493'>conn</a>              493 ext/mysqlnd/mysqlnd_result.c 				memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/792.html#L495'>conn</a>              495 ext/mysqlnd/mysqlnd_result.c 				SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/792.html#L497'>conn</a>              497 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;last_query_type = QUERY_SELECT;</span>
<span class='curline'><a href='../S/792.html#L498'>conn</a>              498 ext/mysqlnd/mysqlnd_result.c 				CONN_SET_STATE(conn, CONN_FETCHING_DATA);</span>
<span class='curline'><a href='../S/792.html#L500'>conn</a>              500 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;field_count = rset_header-&gt;field_count;</span>
<span class='curline'><a href='../S/792.html#L502'>conn</a>              502 ext/mysqlnd/mysqlnd_result.c 					result = conn-&gt;current_result = conn-&gt;m-&gt;result_init(rset_header-&gt;field_count, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/792.html#L511'>conn</a>              511 ext/mysqlnd/mysqlnd_result.c 						result = stmt-&gt;result = conn-&gt;m-&gt;result_init(rset_header-&gt;field_count, stmt-&gt;persistent);</span>
<span class='curline'><a href='../S/792.html#L529'>conn</a>              529 ext/mysqlnd/mysqlnd_result.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L534'>conn</a>              534 ext/mysqlnd/mysqlnd_result.c 				if (FAIL == (ret = result-&gt;m.read_result_metadata(result, conn))) {</span>
<span class='curline'><a href='../S/792.html#L536'>conn</a>              536 ext/mysqlnd/mysqlnd_result.c 					if (!stmt &amp;&amp; conn-&gt;current_result) {</span>
<span class='curline'><a href='../S/792.html#L537'>conn</a>              537 ext/mysqlnd/mysqlnd_result.c 						mnd_efree(conn-&gt;current_result);</span>
<span class='curline'><a href='../S/792.html#L538'>conn</a>              538 ext/mysqlnd/mysqlnd_result.c 						conn-&gt;current_result = NULL;</span>
<span class='curline'><a href='../S/792.html#L545'>conn</a>              545 ext/mysqlnd/mysqlnd_result.c 				fields_eof = conn-&gt;protocol-&gt;m.get_eof_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/792.html#L547'>conn</a>              547 ext/mysqlnd/mysqlnd_result.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L551'>conn</a>              551 ext/mysqlnd/mysqlnd_result.c 				if (FAIL == (ret = PACKET_READ(fields_eof, conn))) {</span>
<span class='curline'><a href='../S/792.html#L556'>conn</a>              556 ext/mysqlnd/mysqlnd_result.c 						conn-&gt;current_result = NULL;</span>
<span class='curline'><a href='../S/792.html#L564'>conn</a>              564 ext/mysqlnd/mysqlnd_result.c 					conn-&gt;upsert_status-&gt;warning_count = fields_eof-&gt;warning_count;</span>
<span class='curline'><a href='../S/792.html#L572'>conn</a>              572 ext/mysqlnd/mysqlnd_result.c 					conn-&gt;upsert_status-&gt;server_status = fields_eof-&gt;server_status;</span>
<span class='curline'><a href='../S/792.html#L580'>conn</a>              580 ext/mysqlnd/mysqlnd_result.c 					MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, statistic);</span>
<span class='curline'><a href='../S/792.html#L693'>conn</a>              693 ext/mysqlnd/mysqlnd_result.c 	if (CONN_GET_STATE(result-&gt;conn) != CONN_FETCHING_DATA) {</span>
<span class='curline'><a href='../S/792.html#L694'>conn</a>              694 ext/mysqlnd/mysqlnd_result.c 		SET_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE, mysqlnd_out_of_sync);</span>
<span class='curline'><a href='../S/792.html#L708'>conn</a>              708 ext/mysqlnd/mysqlnd_result.c 	if (PASS == (ret = PACKET_READ(row_packet, result-&gt;conn)) &amp;&amp; !row_packet-&gt;eof) {</span>
<span class='curline'><a href='../S/792.html#L709'>conn</a>              709 ext/mysqlnd/mysqlnd_result.c 		result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL);</span>
<span class='curline'><a href='../S/792.html#L716'>conn</a>              716 ext/mysqlnd/mysqlnd_result.c 		MYSQLND_INC_CONN_STATISTIC(result-&gt;conn-&gt;stats, STAT_ROWS_FETCHED_FROM_CLIENT_NORMAL_UNBUF);</span>
<span class='curline'><a href='../S/792.html#L725'>conn</a>              725 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/792.html#L726'>conn</a>              726 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;stats);</span>
<span class='curline'><a href='../S/792.html#L758'>conn</a>              758 ext/mysqlnd/mysqlnd_result.c 					SET_OOM_ERROR(*result-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L766'>conn</a>              766 ext/mysqlnd/mysqlnd_result.c 			COPY_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, row_packet-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L769'>conn</a>              769 ext/mysqlnd/mysqlnd_result.c 		CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/792.html#L775'>conn</a>              775 ext/mysqlnd/mysqlnd_result.c 		memset(result-&gt;conn-&gt;upsert_status, 0, sizeof(*result-&gt;conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/792.html#L776'>conn</a>              776 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn-&gt;upsert_status-&gt;warning_count = row_packet-&gt;warning_count;</span>
<span class='curline'><a href='../S/792.html#L777'>conn</a>              777 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn-&gt;upsert_status-&gt;server_status = row_packet-&gt;server_status;</span>
<span class='curline'><a href='../S/792.html#L782'>conn</a>              782 ext/mysqlnd/mysqlnd_result.c 		if (result-&gt;conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS) {</span>
<span class='curline'><a href='../S/792.html#L783'>conn</a>              783 ext/mysqlnd/mysqlnd_result.c 			CONN_SET_STATE(result-&gt;conn, CONN_NEXT_RESULT_PENDING);</span>
<span class='curline'><a href='../S/792.html#L785'>conn</a>              785 ext/mysqlnd/mysqlnd_result.c 			CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/792.html#L787'>conn</a>              787 ext/mysqlnd/mysqlnd_result.c 		result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL);</span>
<span class='curline'><a href='../S/792.html#L812'>conn</a>              812 ext/mysqlnd/mysqlnd_result.c 	if (CONN_GET_STATE(result-&gt;conn) != CONN_FETCHING_DATA) {</span>
<span class='curline'><a href='../S/792.html#L813'>conn</a>              813 ext/mysqlnd/mysqlnd_result.c 		SET_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE, mysqlnd_out_of_sync);</span>
<span class='curline'><a href='../S/792.html#L827'>conn</a>              827 ext/mysqlnd/mysqlnd_result.c 	if (PASS == (ret = PACKET_READ(row_packet, result-&gt;conn)) &amp;&amp; !row_packet-&gt;eof) {</span>
<span class='curline'><a href='../S/792.html#L828'>conn</a>              828 ext/mysqlnd/mysqlnd_result.c 		result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL);</span>
<span class='curline'><a href='../S/792.html#L835'>conn</a>              835 ext/mysqlnd/mysqlnd_result.c 		MYSQLND_INC_CONN_STATISTIC(result-&gt;conn-&gt;stats, STAT_ROWS_FETCHED_FROM_CLIENT_NORMAL_UNBUF);</span>
<span class='curline'><a href='../S/792.html#L844'>conn</a>              844 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/792.html#L845'>conn</a>              845 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;stats);</span>
<span class='curline'><a href='../S/792.html#L892'>conn</a>              892 ext/mysqlnd/mysqlnd_result.c 			COPY_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, row_packet-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L895'>conn</a>              895 ext/mysqlnd/mysqlnd_result.c 		CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/792.html#L901'>conn</a>              901 ext/mysqlnd/mysqlnd_result.c 		memset(result-&gt;conn-&gt;upsert_status, 0, sizeof(*result-&gt;conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/792.html#L902'>conn</a>              902 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn-&gt;upsert_status-&gt;warning_count = row_packet-&gt;warning_count;</span>
<span class='curline'><a href='../S/792.html#L903'>conn</a>              903 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn-&gt;upsert_status-&gt;server_status = row_packet-&gt;server_status;</span>
<span class='curline'><a href='../S/792.html#L908'>conn</a>              908 ext/mysqlnd/mysqlnd_result.c 		if (result-&gt;conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS) {</span>
<span class='curline'><a href='../S/792.html#L909'>conn</a>              909 ext/mysqlnd/mysqlnd_result.c 			CONN_SET_STATE(result-&gt;conn, CONN_NEXT_RESULT_PENDING);</span>
<span class='curline'><a href='../S/792.html#L911'>conn</a>              911 ext/mysqlnd/mysqlnd_result.c 			CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/792.html#L913'>conn</a>              913 ext/mysqlnd/mysqlnd_result.c 		result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL);</span>
<span class='curline'><a href='../S/792.html#L928'>conn</a>              928 ext/mysqlnd/mysqlnd_result.c 	SET_EMPTY_ERROR(*result-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L947'>conn</a>              947 ext/mysqlnd/mysqlnd_result.c 	result-&gt;unbuf-&gt;row_packet = result-&gt;conn-&gt;protocol-&gt;m.get_row_packet(result-&gt;conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/792.html#L960'>conn</a>              960 ext/mysqlnd/mysqlnd_result.c 	SET_OOM_ERROR(*result-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L992'>conn</a>              992 ext/mysqlnd/mysqlnd_result.c 												result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/792.html#L993'>conn</a>              993 ext/mysqlnd/mysqlnd_result.c 												result-&gt;conn-&gt;stats);</span>
<span class='curline'><a href='../S/792.html#L1032'>conn</a>             1032 ext/mysqlnd/mysqlnd_result.c 				SET_OOM_ERROR(*result-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1083'>conn</a>             1083 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/792.html#L1084'>conn</a>             1084 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;stats);</span>
<span class='curline'><a href='../S/792.html#L1166'>conn</a>             1166 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*result-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1174'>conn</a>             1174 ext/mysqlnd/mysqlnd_result.c 										result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/792.html#L1175'>conn</a>             1175 ext/mysqlnd/mysqlnd_result.c 										result-&gt;conn-&gt;stats);</span>
<span class='curline'><a href='../S/792.html#L1269'>conn</a>             1269 ext/mysqlnd/mysqlnd_result.c MYSQLND_METHOD(mysqlnd_res, store_result_fetch_data)(MYSQLND_CONN_DATA * const conn, MYSQLND_RES * result,</span>
<span class='curline'><a href='../S/792.html#L1290'>conn</a>             1290 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1298'>conn</a>             1298 ext/mysqlnd/mysqlnd_result.c 	row_packet = conn-&gt;protocol-&gt;m.get_row_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/792.html#L1300'>conn</a>             1300 ext/mysqlnd/mysqlnd_result.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1313'>conn</a>             1313 ext/mysqlnd/mysqlnd_result.c 	while (FAIL != (ret = PACKET_READ(row_packet, conn)) &amp;&amp; !row_packet-&gt;eof) {</span>
<span class='curline'><a href='../S/792.html#L1321'>conn</a>             1321 ext/mysqlnd/mysqlnd_result.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1327'>conn</a>             1327 ext/mysqlnd/mysqlnd_result.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1350'>conn</a>             1350 ext/mysqlnd/mysqlnd_result.c 	MYSQLND_INC_CONN_STATISTIC_W_VALUE(conn-&gt;stats,</span>
<span class='curline'><a href='../S/792.html#L1357'>conn</a>             1357 ext/mysqlnd/mysqlnd_result.c 		memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/792.html#L1358'>conn</a>             1358 ext/mysqlnd/mysqlnd_result.c 		conn-&gt;upsert_status-&gt;warning_count = row_packet-&gt;warning_count;</span>
<span class='curline'><a href='../S/792.html#L1359'>conn</a>             1359 ext/mysqlnd/mysqlnd_result.c 		conn-&gt;upsert_status-&gt;server_status = row_packet-&gt;server_status;</span>
<span class='curline'><a href='../S/792.html#L1365'>conn</a>             1365 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1372'>conn</a>             1372 ext/mysqlnd/mysqlnd_result.c 	if (conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS) {</span>
<span class='curline'><a href='../S/792.html#L1373'>conn</a>             1373 ext/mysqlnd/mysqlnd_result.c 		CONN_SET_STATE(conn, CONN_NEXT_RESULT_PENDING);</span>
<span class='curline'><a href='../S/792.html#L1375'>conn</a>             1375 ext/mysqlnd/mysqlnd_result.c 		CONN_SET_STATE(conn, CONN_READY);</span>
<span class='curline'><a href='../S/792.html#L1382'>conn</a>             1382 ext/mysqlnd/mysqlnd_result.c 		conn-&gt;upsert_status-&gt;affected_rows = set-&gt;row_count;</span>
<span class='curline'><a href='../S/792.html#L1385'>conn</a>             1385 ext/mysqlnd/mysqlnd_result.c 				ret == PASS? "PASS":"FAIL", (uint) set-&gt;row_count, conn-&gt;upsert_status-&gt;warning_count, conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/792.html#L1397'>conn</a>             1397 ext/mysqlnd/mysqlnd_result.c 										  MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/792.html#L1407'>conn</a>             1407 ext/mysqlnd/mysqlnd_result.c 	result-&gt;conn = conn-&gt;m-&gt;get_reference(conn);</span>
<span class='curline'><a href='../S/792.html#L1410'>conn</a>             1410 ext/mysqlnd/mysqlnd_result.c 	CONN_SET_STATE(conn, CONN_FETCHING_DATA);</span>
<span class='curline'><a href='../S/792.html#L1415'>conn</a>             1415 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1422'>conn</a>             1422 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1427'>conn</a>             1427 ext/mysqlnd/mysqlnd_result.c 	ret = result-&gt;m.store_result_fetch_data(conn, result, result-&gt;meta, row_buffers, flags &amp; MYSQLND_STORE_PS);</span>
<span class='curline'><a href='../S/792.html#L1431'>conn</a>             1431 ext/mysqlnd/mysqlnd_result.c 			COPY_CLIENT_ERROR(*conn-&gt;error_info, result-&gt;stored_data-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1433'>conn</a>             1433 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1444'>conn</a>             1444 ext/mysqlnd/mysqlnd_result.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1450'>conn</a>             1450 ext/mysqlnd/mysqlnd_result.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/792.html#L1465'>conn</a>             1465 ext/mysqlnd/mysqlnd_result.c 	conn-&gt;upsert_status-&gt;affected_rows = result-&gt;stored_data-&gt;row_count;</span>
<span class='curline'><a href='../S/792.html#L1487'>conn</a>             1487 ext/mysqlnd/mysqlnd_result.c 		MYSQLND_INC_CONN_STATISTIC(result-&gt;conn-&gt;stats,</span>
<span class='curline'><a href='../S/792.html#L1506'>conn</a>             1506 ext/mysqlnd/mysqlnd_result.c 	MYSQLND_INC_CONN_STATISTIC(result-&gt;conn? result-&gt;conn-&gt;stats : NULL,</span>
<span class='curline'><a href='../S/792.html#L1623'>conn</a>             1623 ext/mysqlnd/mysqlnd_result.c 				if (PASS != result-&gt;stored_data-&gt;m.initialize_result_set_rest(result-&gt;stored_data, result-&gt;meta, result-&gt;conn-&gt;stats,</span>
<span class='curline'><a href='../S/792.html#L1624'>conn</a>             1624 ext/mysqlnd/mysqlnd_result.c 																			  result-&gt;conn-&gt;options-&gt;int_and_float_native))</span>
<span class='curline'><a href='../S/792.html#L1657'>conn</a>             1657 ext/mysqlnd/mysqlnd_result.c 				if (PASS != result-&gt;stored_data-&gt;m.initialize_result_set_rest(result-&gt;stored_data, result-&gt;meta, result-&gt;conn-&gt;stats,</span>
<span class='curline'><a href='../S/792.html#L1658'>conn</a>             1658 ext/mysqlnd/mysqlnd_result.c 																			  result-&gt;conn-&gt;options-&gt;int_and_float_native))</span>
<span class='curline'><a href='../S/792.html#L1681'>conn</a>             1681 ext/mysqlnd/mysqlnd_result.c 				if (PASS != result-&gt;stored_data-&gt;m.initialize_result_set_rest(result-&gt;stored_data, result-&gt;meta, result-&gt;conn-&gt;stats,</span>
<span class='curline'><a href='../S/792.html#L1682'>conn</a>             1682 ext/mysqlnd/mysqlnd_result.c 																			  result-&gt;conn-&gt;options-&gt;int_and_float_native))</span>
<span class='curline'><a href='../S/792.html#L1786'>conn</a>             1786 ext/mysqlnd/mysqlnd_result.c 		if (result-&gt;conn) {</span>
<span class='curline'><a href='../S/792.html#L1787'>conn</a>             1787 ext/mysqlnd/mysqlnd_result.c 			SET_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, CR_NOT_IMPLEMENTED, UNKNOWN_SQLSTATE, "fetch_all can be used only with buffered sets");</span>
<span class='curline'><a href='../S/793.html#L31'>conn</a>               31 ext/mysqlnd/mysqlnd_result.h enum_func_status mysqlnd_query_read_result_set_header(MYSQLND_CONN_DATA * conn, MYSQLND_STMT * stmt);</span>
<span class='curline'><a href='../S/794.html#L53'>conn</a>               53 ext/mysqlnd/mysqlnd_result_meta.c MYSQLND_METHOD(mysqlnd_res_meta, read_metadata)(MYSQLND_RES_METADATA * const meta, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/794.html#L60'>conn</a>               60 ext/mysqlnd/mysqlnd_result_meta.c 	field_packet = conn-&gt;protocol-&gt;m.get_result_field_packet(conn-&gt;protocol, FALSE);</span>
<span class='curline'><a href='../S/794.html#L62'>conn</a>               62 ext/mysqlnd/mysqlnd_result_meta.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/794.html#L76'>conn</a>               76 ext/mysqlnd/mysqlnd_result_meta.c 		if (FAIL == PACKET_READ(field_packet, conn)) {</span>
<span class='curline'><a href='../S/794.html#L81'>conn</a>               81 ext/mysqlnd/mysqlnd_result_meta.c 			COPY_CLIENT_ERROR(*conn-&gt;error_info, field_packet-&gt;error_info);</span>
<span class='curline'><a href='../S/800.html#L406'>conn</a>              406 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND * (*func_mysqlnd_object_factory__clone_connection_object)(MYSQLND * conn);</span>
<span class='curline'><a href='../S/800.html#L407'>conn</a>              407 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_STMT * (*func_mysqlnd_object_factory__get_prepared_statement)(MYSQLND_CONN_DATA * conn);</span>
<span class='curline'><a href='../S/800.html#L422'>conn</a>              422 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__init)(MYSQLND_CONN_DATA * conn);</span>
<span class='curline'><a href='../S/800.html#L423'>conn</a>              423 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__connect)(MYSQLND_CONN_DATA * conn, const char * host, const char * user, const char * passwd, unsigned int passwd_len, const char * db, unsigned int db_len, unsigned int port, const char * socket_or_pipe, unsigned int mysql_flags);</span>
<span class='curline'><a href='../S/800.html#L424'>conn</a>              424 ext/mysqlnd/mysqlnd_structs.h typedef zend_ulong				(*func_mysqlnd_conn_data__escape_string)(MYSQLND_CONN_DATA * const conn, char *newstr, const char *escapestr, size_t escapestr_len);</span>
<span class='curline'><a href='../S/800.html#L425'>conn</a>              425 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__set_charset)(MYSQLND_CONN_DATA * const conn, const char * const charset);</span>
<span class='curline'><a href='../S/800.html#L426'>conn</a>              426 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__query)(MYSQLND_CONN_DATA * conn, const char * query, unsigned int query_len);</span>
<span class='curline'><a href='../S/800.html#L427'>conn</a>              427 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__send_query)(MYSQLND_CONN_DATA * conn, const char *query, unsigned int query_len, enum_mysqlnd_send_query_type type, zval *read_cb, zval *err_cb);</span>
<span class='curline'><a href='../S/800.html#L428'>conn</a>              428 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__reap_query)(MYSQLND_CONN_DATA * conn, enum_mysqlnd_reap_result_type type);</span>
<span class='curline'><a href='../S/800.html#L429'>conn</a>              429 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_RES *		(*func_mysqlnd_conn_data__use_result)(MYSQLND_CONN_DATA * const conn, const unsigned int flags);</span>
<span class='curline'><a href='../S/800.html#L430'>conn</a>              430 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_RES *		(*func_mysqlnd_conn_data__store_result)(MYSQLND_CONN_DATA * const conn, const unsigned int flags);</span>
<span class='curline'><a href='../S/800.html#L431'>conn</a>              431 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__next_result)(MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L432'>conn</a>              432 ext/mysqlnd/mysqlnd_structs.h typedef zend_bool			(*func_mysqlnd_conn_data__more_results)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L434'>conn</a>              434 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_STMT *		(*func_mysqlnd_conn_data__stmt_init)(MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L436'>conn</a>              436 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__shutdown_server)(MYSQLND_CONN_DATA * const conn, uint8_t level);</span>
<span class='curline'><a href='../S/800.html#L437'>conn</a>              437 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__refresh_server)(MYSQLND_CONN_DATA * const conn, uint8_t options);</span>
<span class='curline'><a href='../S/800.html#L439'>conn</a>              439 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__ping)(MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L440'>conn</a>              440 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__kill_connection)(MYSQLND_CONN_DATA * conn, unsigned int pid);</span>
<span class='curline'><a href='../S/800.html#L441'>conn</a>              441 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__select_db)(MYSQLND_CONN_DATA * const conn, const char * const db, unsigned int db_len);</span>
<span class='curline'><a href='../S/800.html#L442'>conn</a>              442 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__server_dump_debug_information)(MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L443'>conn</a>              443 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__change_user)(MYSQLND_CONN_DATA * const conn, const char * user, const char * passwd, const char * db, zend_bool silent, size_t passwd_len);</span>
<span class='curline'><a href='../S/800.html#L445'>conn</a>              445 ext/mysqlnd/mysqlnd_structs.h typedef unsigned int		(*func_mysqlnd_conn_data__get_error_no)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L446'>conn</a>              446 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__get_error_str)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L447'>conn</a>              447 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__get_sqlstate)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L448'>conn</a>              448 ext/mysqlnd/mysqlnd_structs.h typedef uint64_t			(*func_mysqlnd_conn_data__get_thread_id)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L449'>conn</a>              449 ext/mysqlnd/mysqlnd_structs.h typedef void				(*func_mysqlnd_conn_data__get_statistics)(const MYSQLND_CONN_DATA * const conn, zval *return_value ZEND_FILE_LINE_DC);</span>
<span class='curline'><a href='../S/800.html#L451'>conn</a>              451 ext/mysqlnd/mysqlnd_structs.h typedef zend_ulong		(*func_mysqlnd_conn_data__get_server_version)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L452'>conn</a>              452 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__get_server_information)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L453'>conn</a>              453 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__get_server_statistics)(MYSQLND_CONN_DATA * conn, zend_string **message);</span>
<span class='curline'><a href='../S/800.html#L454'>conn</a>              454 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__get_host_information)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L455'>conn</a>              455 ext/mysqlnd/mysqlnd_structs.h typedef unsigned int		(*func_mysqlnd_conn_data__get_protocol_information)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L456'>conn</a>              456 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__get_last_message)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L457'>conn</a>              457 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__charset_name)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L458'>conn</a>              458 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_RES *		(*func_mysqlnd_conn_data__list_fields)(MYSQLND_CONN_DATA * conn, const char * table, const char * achtung_wild);</span>
<span class='curline'><a href='../S/800.html#L459'>conn</a>              459 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_RES *		(*func_mysqlnd_conn_data__list_method)(MYSQLND_CONN_DATA * conn, const char * query, const char * achtung_wild, char *par1);</span>
<span class='curline'><a href='../S/800.html#L461'>conn</a>              461 ext/mysqlnd/mysqlnd_structs.h typedef uint64_t			(*func_mysqlnd_conn_data__get_last_insert_id)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L462'>conn</a>              462 ext/mysqlnd/mysqlnd_structs.h typedef uint64_t			(*func_mysqlnd_conn_data__get_affected_rows)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L463'>conn</a>              463 ext/mysqlnd/mysqlnd_structs.h typedef unsigned int		(*func_mysqlnd_conn_data__get_warning_count)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L465'>conn</a>              465 ext/mysqlnd/mysqlnd_structs.h typedef unsigned int		(*func_mysqlnd_conn_data__get_field_count)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L467'>conn</a>              467 ext/mysqlnd/mysqlnd_structs.h typedef unsigned int		(*func_mysqlnd_conn_data__get_server_status)(const MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L468'>conn</a>              468 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__set_server_option)(MYSQLND_CONN_DATA * const conn, enum_mysqlnd_server_option option);</span>
<span class='curline'><a href='../S/800.html#L469'>conn</a>              469 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__set_client_option)(MYSQLND_CONN_DATA * const conn, enum_mysqlnd_option option, const char * const value);</span>
<span class='curline'><a href='../S/800.html#L470'>conn</a>              470 ext/mysqlnd/mysqlnd_structs.h typedef void				(*func_mysqlnd_conn_data__free_contents)(MYSQLND_CONN_DATA * conn);/* private */</span>
<span class='curline'><a href='../S/800.html#L471'>conn</a>              471 ext/mysqlnd/mysqlnd_structs.h typedef void				(*func_mysqlnd_conn_data__free_options)(MYSQLND_CONN_DATA * conn);	/* private */</span>
<span class='curline'><a href='../S/800.html#L472'>conn</a>              472 ext/mysqlnd/mysqlnd_structs.h typedef void				(*func_mysqlnd_conn_data__dtor)(MYSQLND_CONN_DATA * conn);	/* private */</span>
<span class='curline'><a href='../S/800.html#L474'>conn</a>              474 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__query_read_result_set_header)(MYSQLND_CONN_DATA * conn, MYSQLND_STMT * stmt);</span>
<span class='curline'><a href='../S/800.html#L476'>conn</a>              476 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_CONN_DATA *	(*func_mysqlnd_conn_data__get_reference)(MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/800.html#L477'>conn</a>              477 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__free_reference)(MYSQLND_CONN_DATA * const conn);</span>
<span class='curline'><a href='../S/801.html#L35'>conn</a>               35 ext/mysqlnd/mysqlnd_wireprotocol.c #define	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_size, packet_type_as_text, packet_type) \</span>
<span class='curline'><a href='../S/801.html#L38'>conn</a>               38 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (FAIL == mysqlnd_read_header((conn)-&gt;net, &amp;((packet)-&gt;header), (conn)-&gt;stats, ((conn)-&gt;error_info))) {\</span>
<span class='curline'><a href='../S/801.html#L39'>conn</a>               39 ext/mysqlnd/mysqlnd_wireprotocol.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT); \</span>
<span class='curline'><a href='../S/801.html#L40'>conn</a>               40 ext/mysqlnd/mysqlnd_wireprotocol.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);\</span>
<span class='curline'><a href='../S/801.html#L50'>conn</a>               50 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (FAIL == conn-&gt;net-&gt;data-&gt;m.receive_ex((conn)-&gt;net, (buf), (packet)-&gt;header.size, (conn)-&gt;stats, ((conn)-&gt;error_info))) { \</span>
<span class='curline'><a href='../S/801.html#L51'>conn</a>               51 ext/mysqlnd/mysqlnd_wireprotocol.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT); \</span>
<span class='curline'><a href='../S/801.html#L52'>conn</a>               52 ext/mysqlnd/mysqlnd_wireprotocol.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);\</span>
<span class='curline'><a href='../S/801.html#L57'>conn</a>               57 ext/mysqlnd/mysqlnd_wireprotocol.c 		MYSQLND_INC_CONN_STATISTIC_W_VALUE2(conn-&gt;stats, packet_type_to_statistic_byte_count[packet_type], \</span>
<span class='curline'><a href='../S/801.html#L321'>conn</a>              321 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_greet_read(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L331'>conn</a>              331 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, sizeof(buf), "greeting", PROT_GREET_PACKET);</span>
<span class='curline'><a href='../S/801.html#L483'>conn</a>              483 ext/mysqlnd/mysqlnd_wireprotocol.c size_t php_mysqlnd_auth_write(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L519'>conn</a>              519 ext/mysqlnd/mysqlnd_wireprotocol.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, msg);</span>
<span class='curline'><a href='../S/801.html#L579'>conn</a>              579 ext/mysqlnd/mysqlnd_wireprotocol.c 				zend_hash_move_forward_ex(conn-&gt;options-&gt;connect_attr, &amp;pos_value);</span>
<span class='curline'><a href='../S/801.html#L618'>conn</a>              618 ext/mysqlnd/mysqlnd_wireprotocol.c 					zend_hash_move_forward_ex(conn-&gt;options-&gt;connect_attr, &amp;pos_value);</span>
<span class='curline'><a href='../S/801.html#L646'>conn</a>              646 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (PASS != conn-&gt;m-&gt;simple_command(conn, COM_CHANGE_USER, buffer + MYSQLND_HEADER_SIZE, p - buffer - MYSQLND_HEADER_SIZE,</span>
<span class='curline'><a href='../S/801.html#L653'>conn</a>              653 ext/mysqlnd/mysqlnd_wireprotocol.c 		size_t sent = conn-&gt;net-&gt;data-&gt;m.send_ex(conn-&gt;net, buffer, p - buffer - MYSQLND_HEADER_SIZE, conn-&gt;stats, conn-&gt;error_info);</span>
<span class='curline'><a href='../S/801.html#L655'>conn</a>              655 ext/mysqlnd/mysqlnd_wireprotocol.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/801.html#L679'>conn</a>              679 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_auth_response_read(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L682'>conn</a>              682 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.buffer? conn-&gt;net-&gt;cmd_buffer.length: AUTH_RESP_BUFFER_SIZE;</span>
<span class='curline'><a href='../S/801.html#L683'>conn</a>              683 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = conn-&gt;net-&gt;cmd_buffer.buffer? (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer : local_buf;</span>
<span class='curline'><a href='../S/801.html#L693'>conn</a>              693 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "OK", PROT_OK_PACKET);</span>
<span class='curline'><a href='../S/801.html#L799'>conn</a>              799 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_change_auth_response_write(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L802'>conn</a>              802 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar * buffer = conn-&gt;net-&gt;cmd_buffer.length &gt;= packet-&gt;auth_data_len? conn-&gt;net-&gt;cmd_buffer.buffer : mnd_emalloc(packet-&gt;auth_data_len);</span>
<span class='curline'><a href='../S/801.html#L813'>conn</a>              813 ext/mysqlnd/mysqlnd_wireprotocol.c 		size_t sent = conn-&gt;net-&gt;data-&gt;m.send_ex(conn-&gt;net, buffer, p - buffer - MYSQLND_HEADER_SIZE, conn-&gt;stats, conn-&gt;error_info);</span>
<span class='curline'><a href='../S/801.html#L814'>conn</a>              814 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (buffer != conn-&gt;net-&gt;cmd_buffer.buffer) {</span>
<span class='curline'><a href='../S/801.html#L818'>conn</a>              818 ext/mysqlnd/mysqlnd_wireprotocol.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/801.html#L842'>conn</a>              842 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_ok_read(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L845'>conn</a>              845 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.buffer? conn-&gt;net-&gt;cmd_buffer.length : OK_BUFFER_SIZE;</span>
<span class='curline'><a href='../S/801.html#L846'>conn</a>              846 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = conn-&gt;net-&gt;cmd_buffer.buffer? (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer : local_buf;</span>
<span class='curline'><a href='../S/801.html#L854'>conn</a>              854 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "OK", PROT_OK_PACKET);</span>
<span class='curline'><a href='../S/801.html#L867'>conn</a>              867 ext/mysqlnd/mysqlnd_wireprotocol.c 		DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/801.html#L928'>conn</a>              928 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_eof_read(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L937'>conn</a>              937 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length;</span>
<span class='curline'><a href='../S/801.html#L938'>conn</a>              938 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/801.html#L944'>conn</a>              944 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "EOF", PROT_EOF_PACKET);</span>
<span class='curline'><a href='../S/801.html#L1005'>conn</a>             1005 ext/mysqlnd/mysqlnd_wireprotocol.c size_t php_mysqlnd_cmd_write(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L1009'>conn</a>             1009 ext/mysqlnd/mysqlnd_wireprotocol.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/801.html#L1025'>conn</a>             1025 ext/mysqlnd/mysqlnd_wireprotocol.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_PACKETS_SENT_CMD);</span>
<span class='curline'><a href='../S/801.html#L1035'>conn</a>             1035 ext/mysqlnd/mysqlnd_wireprotocol.c 		sent = net-&gt;data-&gt;m.send_ex(net, buffer, 1, conn-&gt;stats, conn-&gt;error_info);</span>
<span class='curline'><a href='../S/801.html#L1050'>conn</a>             1050 ext/mysqlnd/mysqlnd_wireprotocol.c 		sent = net-&gt;data-&gt;m.send_ex(net, tmp, tmp_len - MYSQLND_HEADER_SIZE, conn-&gt;stats, conn-&gt;error_info);</span>
<span class='curline'><a href='../S/801.html#L1052'>conn</a>             1052 ext/mysqlnd/mysqlnd_wireprotocol.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_CMD_BUFFER_TOO_SMALL);</span>
<span class='curline'><a href='../S/801.html#L1062'>conn</a>             1062 ext/mysqlnd/mysqlnd_wireprotocol.c 		CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/801.html#L1083'>conn</a>             1083 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_rset_header_read(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L1086'>conn</a>             1086 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length;</span>
<span class='curline'><a href='../S/801.html#L1087'>conn</a>             1087 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/801.html#L1095'>conn</a>             1095 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "resultset header", PROT_RSET_HEADER_PACKET);</span>
<span class='curline'><a href='../S/801.html#L1110'>conn</a>             1110 ext/mysqlnd/mysqlnd_wireprotocol.c 		DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/801.html#L1134'>conn</a>             1134 ext/mysqlnd/mysqlnd_wireprotocol.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/801.html#L1161'>conn</a>             1161 ext/mysqlnd/mysqlnd_wireprotocol.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/801.html#L1222'>conn</a>             1222 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_rset_field_read(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L1226'>conn</a>             1226 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length, total_len = 0;</span>
<span class='curline'><a href='../S/801.html#L1227'>conn</a>             1227 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/801.html#L1237'>conn</a>             1237 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "field", PROT_RSET_FLD_PACKET);</span>
<span class='curline'><a href='../S/801.html#L1339'>conn</a>             1339 ext/mysqlnd/mysqlnd_wireprotocol.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/801.html#L1350'>conn</a>             1350 ext/mysqlnd/mysqlnd_wireprotocol.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/801.html#L1436'>conn</a>             1436 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_read_row_ex(MYSQLND_CONN_DATA * conn, MYSQLND_MEMORY_POOL * result_set_memory_pool,</span>
<span class='curline'><a href='../S/801.html#L1458'>conn</a>             1458 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (FAIL == mysqlnd_read_header(conn-&gt;net, &amp;header, conn-&gt;stats, conn-&gt;error_info)) {</span>
<span class='curline'><a href='../S/801.html#L1483'>conn</a>             1483 ext/mysqlnd/mysqlnd_wireprotocol.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/801.html#L1491'>conn</a>             1491 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (PASS != (ret = conn-&gt;net-&gt;data-&gt;m.receive_ex(conn-&gt;net, p, header.size, conn-&gt;stats, conn-&gt;error_info))) {</span>
<span class='curline'><a href='../S/801.html#L1788'>conn</a>             1788 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_rowp_read(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L1803'>conn</a>             1803 ext/mysqlnd/mysqlnd_wireprotocol.c 	ret = php_mysqlnd_read_row_ex(conn, packet-&gt;result_set_memory_pool, &amp;packet-&gt;row_buffer, &amp;data_size,</span>
<span class='curline'><a href='../S/801.html#L1809'>conn</a>             1809 ext/mysqlnd/mysqlnd_wireprotocol.c 	MYSQLND_INC_CONN_STATISTIC_W_VALUE2(conn-&gt;stats, packet_type_to_statistic_byte_count[PROT_ROW_PACKET],</span>
<span class='curline'><a href='../S/801.html#L1842'>conn</a>             1842 ext/mysqlnd/mysqlnd_wireprotocol.c 		MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats,</span>
<span class='curline'><a href='../S/801.html#L1866'>conn</a>             1866 ext/mysqlnd/mysqlnd_wireprotocol.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats,</span>
<span class='curline'><a href='../S/801.html#L1908'>conn</a>             1908 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_stats_read(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L1911'>conn</a>             1911 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length;</span>
<span class='curline'><a href='../S/801.html#L1912'>conn</a>             1912 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/801.html#L1916'>conn</a>             1916 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "statistics", PROT_STATS_PACKET);</span>
<span class='curline'><a href='../S/801.html#L1950'>conn</a>             1950 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_prepare_read(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L1953'>conn</a>             1953 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length;</span>
<span class='curline'><a href='../S/801.html#L1954'>conn</a>             1954 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/801.html#L1962'>conn</a>             1962 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "prepare", PROT_PREPARE_RESP_PACKET);</span>
<span class='curline'><a href='../S/801.html#L2038'>conn</a>             2038 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_chg_user_read(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L2041'>conn</a>             2041 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length;</span>
<span class='curline'><a href='../S/801.html#L2042'>conn</a>             2042 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/801.html#L2049'>conn</a>             2049 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "change user response", PROT_CHG_USER_RESP_PACKET);</span>
<span class='curline'><a href='../S/801.html#L2126'>conn</a>             2126 ext/mysqlnd/mysqlnd_wireprotocol.c size_t php_mysqlnd_sha256_pk_request_write(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L2134'>conn</a>             2134 ext/mysqlnd/mysqlnd_wireprotocol.c 	sent = conn-&gt;net-&gt;data-&gt;m.send_ex(conn-&gt;net, buffer, 1, conn-&gt;stats, conn-&gt;error_info);</span>
<span class='curline'><a href='../S/801.html#L2157'>conn</a>             2157 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_sha256_pk_request_response_read(void * _packet, MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/801.html#L2167'>conn</a>             2167 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, sizeof(buf), "SHA256_PK_REQUEST_RESPONSE", PROT_SHA256_PK_REQUEST_RESPONSE_PACKET);</span>
<span class='curline'><a href='../S/802.html#L39'>conn</a>               39 ext/mysqlnd/mysqlnd_wireprotocol.h #define PACKET_WRITE(packet, conn)	((packet)-&gt;header.m-&gt;write_to_net((packet), (conn)))</span>
<span class='curline'><a href='../S/802.html#L40'>conn</a>               40 ext/mysqlnd/mysqlnd_wireprotocol.h #define PACKET_READ(packet, conn)	((packet)-&gt;header.m-&gt;read_from_net((packet), (conn)))</span>
<span class='curline'><a href='../S/802.html#L54'>conn</a>               54 ext/mysqlnd/mysqlnd_wireprotocol.h 	enum_func_status	(*read_from_net)(void * packet, MYSQLND_CONN_DATA * conn);</span>
<span class='curline'><a href='../S/802.html#L55'>conn</a>               55 ext/mysqlnd/mysqlnd_wireprotocol.h 	size_t				(*write_to_net)(void * packet, MYSQLND_CONN_DATA * conn);</span>
<span class='curline'><a href='../S/812.html#L163'>conn</a>              163 ext/odbc/birdstep.c #define PHP_BIRDSTEP_CHK_LNK(id) if (!(conn = birdstep_find_conn(list, id))) { php_error_docref(NULL, E_WARNING, "Birdstep: Not connection index (%ld)", id); RETURN_FALSE; }</span>
<span class='curline'><a href='../S/812.html#L168'>conn</a>              168 ext/odbc/birdstep.c 	VConn *conn = (VConn *)rsrc-&gt;ptr;</span>
<span class='curline'><a href='../S/812.html#L170'>conn</a>              170 ext/odbc/birdstep.c 	if ( conn ) {</span>
<span class='curline'><a href='../S/812.html#L171'>conn</a>              171 ext/odbc/birdstep.c 		efree(conn);</span>
<span class='curline'><a href='../S/812.html#L227'>conn</a>              227 ext/odbc/birdstep.c static int birdstep_add_conn(HashTable *list,VConn *conn,HDBC hdbc)</span>
<span class='curline'><a href='../S/812.html#L231'>conn</a>              231 ext/odbc/birdstep.c 	ind = zend_list_insert(conn,php_birdstep_module.le_link);</span>
<span class='curline'><a href='../S/812.html#L232'>conn</a>              232 ext/odbc/birdstep.c 	conn-&gt;hdbc = hdbc;</span>
<span class='curline'><a href='../S/812.html#L233'>conn</a>              233 ext/odbc/birdstep.c 	conn-&gt;index = ind;</span>
<span class='curline'><a href='../S/812.html#L240'>conn</a>              240 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/812.html#L243'>conn</a>              243 ext/odbc/birdstep.c 	conn = zend_list_find(ind,&amp;type);</span>
<span class='curline'><a href='../S/812.html#L244'>conn</a>              244 ext/odbc/birdstep.c 	if ( !conn || type != php_birdstep_module.le_link ) {</span>
<span class='curline'><a href='../S/812.html#L247'>conn</a>              247 ext/odbc/birdstep.c 	return(conn);</span>
<span class='curline'><a href='../S/812.html#L255'>conn</a>              255 ext/odbc/birdstep.c static int birdstep_add_result(HashTable *list,Vresult *res,VConn *conn)</span>
<span class='curline'><a href='../S/812.html#L260'>conn</a>              260 ext/odbc/birdstep.c 	res-&gt;conn = conn;</span>
<span class='curline'><a href='../S/812.html#L328'>conn</a>              328 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/812.html#L336'>conn</a>              336 ext/odbc/birdstep.c 	SQLDisconnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/812.html#L337'>conn</a>              337 ext/odbc/birdstep.c 	SQLFreeConnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/812.html#L351'>conn</a>              351 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/812.html#L364'>conn</a>              364 ext/odbc/birdstep.c 	stat = SQLAllocStmt(conn-&gt;hdbc,&amp;res-&gt;hstmt);</span>
<span class='curline'><a href='../S/812.html#L420'>conn</a>              420 ext/odbc/birdstep.c 	indx = birdstep_add_result(list,res,conn);</span>
<span class='curline'><a href='../S/812.html#L577'>conn</a>              577 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/812.html#L585'>conn</a>              585 ext/odbc/birdstep.c 	stat = SQLSetConnectOption(conn-&gt;hdbc,SQL_AUTOCOMMIT,SQL_AUTOCOMMIT_ON);</span>
<span class='curline'><a href='../S/812.html#L600'>conn</a>              600 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/812.html#L608'>conn</a>              608 ext/odbc/birdstep.c 	stat = SQLSetConnectOption(conn-&gt;hdbc,SQL_AUTOCOMMIT,SQL_AUTOCOMMIT_OFF);</span>
<span class='curline'><a href='../S/812.html#L623'>conn</a>              623 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/812.html#L631'>conn</a>              631 ext/odbc/birdstep.c 	stat = SQLTransact(NULL,conn-&gt;hdbc,SQL_COMMIT);</span>
<span class='curline'><a href='../S/812.html#L646'>conn</a>              646 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/812.html#L654'>conn</a>              654 ext/odbc/birdstep.c 	stat = SQLTransact(NULL,conn-&gt;hdbc,SQL_ROLLBACK);</span>
<span class='curline'><a href='../S/813.html#L46'>conn</a>               46 ext/odbc/php_birdstep.h 	VConn   *conn;</span>
<span class='curline'><a href='../S/814.html#L479'>conn</a>              479 ext/odbc/php_odbc.c 	odbc_connection *conn = (odbc_connection *)rsrc-&gt;ptr;</span>
<span class='curline'><a href='../S/814.html#L484'>conn</a>              484 ext/odbc/php_odbc.c 			if (res-&gt;conn_ptr == conn) {</span>
<span class='curline'><a href='../S/814.html#L490'>conn</a>              490 ext/odbc/php_odbc.c    	safe_odbc_disconnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/814.html#L491'>conn</a>              491 ext/odbc/php_odbc.c 	SQLFreeConnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/814.html#L492'>conn</a>              492 ext/odbc/php_odbc.c 	SQLFreeEnv(conn-&gt;henv);</span>
<span class='curline'><a href='../S/814.html#L493'>conn</a>              493 ext/odbc/php_odbc.c 	efree(conn);</span>
<span class='curline'><a href='../S/814.html#L504'>conn</a>              504 ext/odbc/php_odbc.c 	odbc_connection *conn = (odbc_connection *)rsrc-&gt;ptr;</span>
<span class='curline'><a href='../S/814.html#L509'>conn</a>              509 ext/odbc/php_odbc.c 			if (res-&gt;conn_ptr == conn) {</span>
<span class='curline'><a href='../S/814.html#L515'>conn</a>              515 ext/odbc/php_odbc.c 	safe_odbc_disconnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/814.html#L516'>conn</a>              516 ext/odbc/php_odbc.c 	SQLFreeConnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/814.html#L517'>conn</a>              517 ext/odbc/php_odbc.c 	SQLFreeEnv(conn-&gt;henv);</span>
<span class='curline'><a href='../S/814.html#L518'>conn</a>              518 ext/odbc/php_odbc.c 	free(conn);</span>
<span class='curline'><a href='../S/814.html#L878'>conn</a>              878 ext/odbc/php_odbc.c 	ODBC_SQL_CONN_T conn;</span>
<span class='curline'><a href='../S/814.html#L882'>conn</a>              882 ext/odbc/php_odbc.c 		conn = conn_resource-&gt;hdbc;</span>
<span class='curline'><a href='../S/814.html#L885'>conn</a>              885 ext/odbc/php_odbc.c 		conn = SQL_NULL_HDBC;</span>
<span class='curline'><a href='../S/814.html#L893'>conn</a>              893 ext/odbc/php_odbc.c 	rc = SQLError(henv, conn, stmt, state, &amp;error, errormsg, sizeof(errormsg)-1, &amp;errormsgsize);</span>
<span class='curline'><a href='../S/814.html#L1049'>conn</a>             1049 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L1057'>conn</a>             1057 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L1061'>conn</a>             1061 ext/odbc/php_odbc.c 	rc = SQLTransact(conn-&gt;henv, conn-&gt;hdbc, (SQLUSMALLINT)((type)?SQL_COMMIT:SQL_ROLLBACK));</span>
<span class='curline'><a href='../S/814.html#L1063'>conn</a>             1063 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLTransact");</span>
<span class='curline'><a href='../S/814.html#L1188'>conn</a>             1188 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L1199'>conn</a>             1199 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L1208'>conn</a>             1208 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L1216'>conn</a>             1216 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L1224'>conn</a>             1224 ext/odbc/php_odbc.c 	rc = SQLGetInfo(conn-&gt;hdbc, SQL_FETCH_DIRECTION, (void *) &amp;scrollopts, sizeof(scrollopts), NULL);</span>
<span class='curline'><a href='../S/814.html#L1242'>conn</a>             1242 ext/odbc/php_odbc.c 			odbc_sql_error(conn, result-&gt;stmt, "SQLPrepare");</span>
<span class='curline'><a href='../S/814.html#L1245'>conn</a>             1245 ext/odbc/php_odbc.c 			odbc_sql_error(conn, result-&gt;stmt, "SQLPrepare");</span>
<span class='curline'><a href='../S/814.html#L1261'>conn</a>             1261 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L1567'>conn</a>             1567 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L1582'>conn</a>             1582 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(zv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L1587'>conn</a>             1587 ext/odbc/php_odbc.c 	rc = SQLDataSources(conn-&gt;henv, </span>
<span class='curline'><a href='../S/814.html#L1598'>conn</a>             1598 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLDataSources");</span>
<span class='curline'><a href='../S/814.html#L1627'>conn</a>             1627 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L1639'>conn</a>             1639 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L1645'>conn</a>             1645 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L1653'>conn</a>             1653 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L1661'>conn</a>             1661 ext/odbc/php_odbc.c 	rc = SQLGetInfo(conn-&gt;hdbc, SQL_FETCH_DIRECTION, (void *) &amp;scrollopts, sizeof(scrollopts), NULL);</span>
<span class='curline'><a href='../S/814.html#L1679'>conn</a>             1679 ext/odbc/php_odbc.c 		odbc_sql_error(conn, result-&gt;stmt, "SQLExecDirect"); </span>
<span class='curline'><a href='../S/814.html#L1697'>conn</a>             1697 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L2433'>conn</a>             2433 ext/odbc/php_odbc.c int odbc_sqlconnect(odbc_connection **conn, char *db, char *uid, char *pwd, int cur_opt, int persistent)</span>
<span class='curline'><a href='../S/814.html#L2437'>conn</a>             2437 ext/odbc/php_odbc.c 	*conn = (odbc_connection *)pemalloc(sizeof(odbc_connection), persistent);</span>
<span class='curline'><a href='../S/814.html#L2438'>conn</a>             2438 ext/odbc/php_odbc.c 	(*conn)-&gt;persistent = persistent;</span>
<span class='curline'><a href='../S/814.html#L2439'>conn</a>             2439 ext/odbc/php_odbc.c 	SQLAllocEnv(&amp;((*conn)-&gt;henv));</span>
<span class='curline'><a href='../S/814.html#L2440'>conn</a>             2440 ext/odbc/php_odbc.c 	SQLAllocConnect((*conn)-&gt;henv, &amp;((*conn)-&gt;hdbc));</span>
<span class='curline'><a href='../S/814.html#L2443'>conn</a>             2443 ext/odbc/php_odbc.c 	SQLSetConnectOption((*conn)-&gt;hdbc, SQL_TRANSLATE_OPTION,</span>
<span class='curline'><a href='../S/814.html#L2480'>conn</a>             2480 ext/odbc/php_odbc.c 		 rc = SQLDriverConnect((*conn)-&gt;hdbc, NULL, lpszConnStr, SQL_NTS, lpszConnStr, CONNSTRSIZE, &amp;cbszConnStr, SQL_DRIVER_NOPROMPT);</span>
<span class='curline'><a href='../S/814.html#L2490'>conn</a>             2490 ext/odbc/php_odbc.c 		rc = SQLDriverConnect((*conn)-&gt;hdbc, NULL, db, SQL_NTS,	dsnbuf, sizeof(dsnbuf) - 1, &amp;dsnbuflen, SQL_DRIVER_NOPROMPT);</span>
<span class='curline'><a href='../S/814.html#L2494'>conn</a>             2494 ext/odbc/php_odbc.c 		rc = SQLSetConnectOption((*conn)-&gt;hdbc, SQL_ODBC_CURSORS, cur_opt);</span>
<span class='curline'><a href='../S/814.html#L2496'>conn</a>             2496 ext/odbc/php_odbc.c 			odbc_sql_error(*conn, SQL_NULL_HSTMT, "SQLSetConnectOption");</span>
<span class='curline'><a href='../S/814.html#L2497'>conn</a>             2497 ext/odbc/php_odbc.c 			SQLFreeConnect((*conn)-&gt;hdbc);</span>
<span class='curline'><a href='../S/814.html#L2498'>conn</a>             2498 ext/odbc/php_odbc.c 			pefree(*conn, persistent);</span>
<span class='curline'><a href='../S/814.html#L2526'>conn</a>             2526 ext/odbc/php_odbc.c 			rc = SQLDriverConnect((*conn)-&gt;hdbc, NULL, ldb, strlen(ldb), dsnbuf, sizeof(dsnbuf) - 1, &amp;dsnbuflen, SQL_DRIVER_NOPROMPT);</span>
<span class='curline'><a href='../S/814.html#L2528'>conn</a>             2528 ext/odbc/php_odbc.c 			rc = SQLConnect((*conn)-&gt;hdbc, db, SQL_NTS, uid, SQL_NTS, pwd, SQL_NTS);</span>
<span class='curline'><a href='../S/814.html#L2536'>conn</a>             2536 ext/odbc/php_odbc.c 	rc = SQLConnect((*conn)-&gt;hdbc, db, SQL_NTS, uid, SQL_NTS, pwd, SQL_NTS);</span>
<span class='curline'><a href='../S/814.html#L2541'>conn</a>             2541 ext/odbc/php_odbc.c 		odbc_sql_error(*conn, SQL_NULL_HSTMT, "SQLConnect");</span>
<span class='curline'><a href='../S/814.html#L2542'>conn</a>             2542 ext/odbc/php_odbc.c 		SQLFreeConnect((*conn)-&gt;hdbc);</span>
<span class='curline'><a href='../S/814.html#L2543'>conn</a>             2543 ext/odbc/php_odbc.c 		pefree((*conn), persistent);</span>
<span class='curline'><a href='../S/814.html#L2736'>conn</a>             2736 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L2744'>conn</a>             2744 ext/odbc/php_odbc.c 	conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/814.html#L2752'>conn</a>             2752 ext/odbc/php_odbc.c 			if (res-&gt;conn_ptr == conn) {</span>
<span class='curline'><a href='../S/814.html#L2989'>conn</a>             2989 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L2998'>conn</a>             2998 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3003'>conn</a>             3003 ext/odbc/php_odbc.c 		rc = SQLSetConnectOption(conn-&gt;hdbc, SQL_AUTOCOMMIT, (pv_onoff) ? SQL_AUTOCOMMIT_ON : SQL_AUTOCOMMIT_OFF);</span>
<span class='curline'><a href='../S/814.html#L3005'>conn</a>             3005 ext/odbc/php_odbc.c 			odbc_sql_error(conn, SQL_NULL_HSTMT, "Set autocommit");</span>
<span class='curline'><a href='../S/814.html#L3012'>conn</a>             3012 ext/odbc/php_odbc.c 		rc = SQLGetConnectOption(conn-&gt;hdbc, SQL_AUTOCOMMIT, (PTR)&amp;status);</span>
<span class='curline'><a href='../S/814.html#L3014'>conn</a>             3014 ext/odbc/php_odbc.c 			odbc_sql_error(conn, SQL_NULL_HSTMT, "Get commit status");</span>
<span class='curline'><a href='../S/814.html#L3041'>conn</a>             3041 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3057'>conn</a>             3057 ext/odbc/php_odbc.c 		if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_handle), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3062'>conn</a>             3062 ext/odbc/php_odbc.c 			strlcpy(ZSTR_VAL(ptr), conn-&gt;laststate, len+1);</span>
<span class='curline'><a href='../S/814.html#L3064'>conn</a>             3064 ext/odbc/php_odbc.c 			strlcpy(ZSTR_VAL(ptr), conn-&gt;lasterrormsg, len+1);</span>
<span class='curline'><a href='../S/814.html#L3104'>conn</a>             3104 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3116'>conn</a>             3116 ext/odbc/php_odbc.c 			if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_handle), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3120'>conn</a>             3120 ext/odbc/php_odbc.c 			if (conn-&gt;persistent) {</span>
<span class='curline'><a href='../S/814.html#L3124'>conn</a>             3124 ext/odbc/php_odbc.c 			rc = SQLSetConnectOption(conn-&gt;hdbc, (unsigned short) pv_opt, pv_val);</span>
<span class='curline'><a href='../S/814.html#L3126'>conn</a>             3126 ext/odbc/php_odbc.c 				odbc_sql_error(conn, SQL_NULL_HSTMT, "SetConnectOption");</span>
<span class='curline'><a href='../S/814.html#L3162'>conn</a>             3162 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3172'>conn</a>             3172 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3178'>conn</a>             3178 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L3186'>conn</a>             3186 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L3203'>conn</a>             3203 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLTables");</span>
<span class='curline'><a href='../S/814.html#L3219'>conn</a>             3219 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L3231'>conn</a>             3231 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3241'>conn</a>             3241 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3247'>conn</a>             3247 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L3255'>conn</a>             3255 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L3274'>conn</a>             3274 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLColumns");</span>
<span class='curline'><a href='../S/814.html#L3290'>conn</a>             3290 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L3303'>conn</a>             3303 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3313'>conn</a>             3313 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3319'>conn</a>             3319 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L3327'>conn</a>             3327 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L3339'>conn</a>             3339 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLColumnPrivileges");</span>
<span class='curline'><a href='../S/814.html#L3355'>conn</a>             3355 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L3369'>conn</a>             3369 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3391'>conn</a>             3391 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3397'>conn</a>             3397 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L3405'>conn</a>             3405 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L3419'>conn</a>             3419 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLForeignKeys");</span>
<span class='curline'><a href='../S/814.html#L3435'>conn</a>             3435 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L3449'>conn</a>             3449 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3459'>conn</a>             3459 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3465'>conn</a>             3465 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L3473'>conn</a>             3473 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L3481'>conn</a>             3481 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLGetTypeInfo");</span>
<span class='curline'><a href='../S/814.html#L3497'>conn</a>             3497 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L3509'>conn</a>             3509 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3518'>conn</a>             3518 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3524'>conn</a>             3524 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L3532'>conn</a>             3532 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L3543'>conn</a>             3543 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLPrimaryKeys");</span>
<span class='curline'><a href='../S/814.html#L3559'>conn</a>             3559 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L3572'>conn</a>             3572 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3586'>conn</a>             3586 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3592'>conn</a>             3592 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L3600'>conn</a>             3600 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L3612'>conn</a>             3612 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLProcedureColumns");</span>
<span class='curline'><a href='../S/814.html#L3628'>conn</a>             3628 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L3642'>conn</a>             3642 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3655'>conn</a>             3655 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3661'>conn</a>             3661 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L3669'>conn</a>             3669 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L3680'>conn</a>             3680 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLProcedures");</span>
<span class='curline'><a href='../S/814.html#L3696'>conn</a>             3696 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L3710'>conn</a>             3710 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3725'>conn</a>             3725 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3731'>conn</a>             3731 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L3739'>conn</a>             3739 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L3753'>conn</a>             3753 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLSpecialColumns");</span>
<span class='curline'><a href='../S/814.html#L3769'>conn</a>             3769 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L3782'>conn</a>             3782 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3796'>conn</a>             3796 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3802'>conn</a>             3802 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L3810'>conn</a>             3810 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L3823'>conn</a>             3823 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLStatistics");</span>
<span class='curline'><a href='../S/814.html#L3839'>conn</a>             3839 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/814.html#L3852'>conn</a>             3852 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/814.html#L3861'>conn</a>             3861 ext/odbc/php_odbc.c 	if (!(conn = (odbc_connection *)zend_fetch_resource2(Z_RES_P(pv_conn), "ODBC-Link", le_conn, le_pconn))) {</span>
<span class='curline'><a href='../S/814.html#L3867'>conn</a>             3867 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/814.html#L3875'>conn</a>             3875 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/814.html#L3886'>conn</a>             3886 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLTablePrivileges");</span>
<span class='curline'><a href='../S/814.html#L3902'>conn</a>             3902 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/816.html#L281'>conn</a>              281 ext/odbc/php_odbc_includes.h int odbc_add_conn(HashTable *list, HDBC conn);</span>
<span class='curline'><a href='../S/945.html#L140'>conn</a>              140 ext/pdo_pgsql/pgsql_driver.c 	return lo_write(self-&gt;conn, self-&gt;lfd, (char*)buf, count);</span>
<span class='curline'><a href='../S/945.html#L146'>conn</a>              146 ext/pdo_pgsql/pgsql_driver.c 	return lo_read(self-&gt;conn, self-&gt;lfd, buf, count);</span>
<span class='curline'><a href='../S/945.html#L154'>conn</a>              154 ext/pdo_pgsql/pgsql_driver.c 		lo_close(self-&gt;conn, self-&gt;lfd);</span>
<span class='curline'><a href='../S/945.html#L171'>conn</a>              171 ext/pdo_pgsql/pgsql_driver.c 	zend_off_t pos = lo_lseek64(self-&gt;conn, self-&gt;lfd, offset, whence);</span>
<span class='curline'><a href='../S/945.html#L173'>conn</a>              173 ext/pdo_pgsql/pgsql_driver.c 	zend_off_t pos = lo_lseek(self-&gt;conn, self-&gt;lfd, offset, whence);</span>
<span class='curline'><a href='../S/945.html#L200'>conn</a>              200 ext/pdo_pgsql/pgsql_driver.c 	self-&gt;conn = H-&gt;server;</span>
<span class='curline'><a href='../S/948.html#L98'>conn</a>               98 ext/pdo_pgsql/php_pdo_pgsql_int.h 	PGconn *conn;</span>
<span class='curline'><a href='../S/954.html#L790'>conn</a>              790 ext/pgsql/pgsql.c #define PQescapeStringConn(conn, to, from, len, error) PQescapeString(to, from, len)</span>
<span class='curline'><a href='../S/954.html#L794'>conn</a>              794 ext/pgsql/pgsql.c #define PGSQLescapeLiteral(conn, str, len) PQescapeLiteral(conn, str, len)</span>
<span class='curline'><a href='../S/954.html#L795'>conn</a>              795 ext/pgsql/pgsql.c #define PGSQLescapeIdentifier(conn, str, len) PQescapeIdentifier(conn, str, len)</span>
<span class='curline'><a href='../S/954.html#L798'>conn</a>              798 ext/pgsql/pgsql.c #define PGSQLescapeLiteral(conn, str, len) php_pgsql_PQescapeInternal(conn, str, len, 1, 0)</span>
<span class='curline'><a href='../S/954.html#L799'>conn</a>              799 ext/pgsql/pgsql.c #define PGSQLescapeLiteral2(conn, str, len) php_pgsql_PQescapeInternal(conn, str, len, 1, 1)</span>
<span class='curline'><a href='../S/954.html#L800'>conn</a>              800 ext/pgsql/pgsql.c #define PGSQLescapeIdentifier(conn, str, len) php_pgsql_PQescapeInternal(conn, str, len, 0, 0)</span>
<span class='curline'><a href='../S/954.html#L804'>conn</a>              804 ext/pgsql/pgsql.c static char *php_pgsql_PQescapeInternal(PGconn *conn, const char *str, size_t len, int escape_literal, int safe) /* {{{ */</span>
<span class='curline'><a href='../S/954.html#L809'>conn</a>              809 ext/pgsql/pgsql.c 	if (!conn) {</span>
<span class='curline'><a href='../S/954.html#L824'>conn</a>              824 ext/pgsql/pgsql.c 			new_len = PQescapeStringConn(conn, tmp, str, len, NULL);</span>
<span class='curline'><a href='../S/954.html#L833'>conn</a>              833 ext/pgsql/pgsql.c 			encoding = (char *) pg_encoding_to_char(PQclientEncoding(conn));</span>
<span class='curline'><a href='../S/954.html#L1887'>conn</a>             1887 ext/pgsql/pgsql.c 				pg_result-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/954.html#L2022'>conn</a>             2022 ext/pgsql/pgsql.c 				pg_result-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/954.html#L2106'>conn</a>             2106 ext/pgsql/pgsql.c 				pg_result-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/954.html#L2226'>conn</a>             2226 ext/pgsql/pgsql.c 				pg_result-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/954.html#L2456'>conn</a>             2456 ext/pgsql/pgsql.c 		if ((tmp_res = PQexec(pg_result-&gt;conn, ZSTR_VAL(querystr.s))) == NULL || PQresultStatus(tmp_res) != PGRES_TUPLES_OK) {</span>
<span class='curline'><a href='../S/954.html#L2525'>conn</a>             2525 ext/pgsql/pgsql.c 				char *name = get_field_name(pg_result-&gt;conn, PQftype(pgsql_result, (int)field), &amp;EG(regular_list));</span>
<span class='curline'><a href='../S/954.html#L3437'>conn</a>             3437 ext/pgsql/pgsql.c 					pgsql_lofp-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/954.html#L3448'>conn</a>             3448 ext/pgsql/pgsql.c 		pgsql_lofp-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/954.html#L3470'>conn</a>             3470 ext/pgsql/pgsql.c 	if (lo_close((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd) &lt; 0) {</span>
<span class='curline'><a href='../S/954.html#L3508'>conn</a>             3508 ext/pgsql/pgsql.c 	if ((nbytes = lo_read((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, ZSTR_VAL(buf), ZSTR_LEN(buf)))&lt;0) {</span>
<span class='curline'><a href='../S/954.html#L3554'>conn</a>             3554 ext/pgsql/pgsql.c 	if ((nbytes = lo_write((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, str, len)) == -1) {</span>
<span class='curline'><a href='../S/954.html#L3581'>conn</a>             3581 ext/pgsql/pgsql.c 	while ((nbytes = lo_read((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, buf, PGSQL_LO_READ_BUF_SIZE))&gt;0) {</span>
<span class='curline'><a href='../S/954.html#L3793'>conn</a>             3793 ext/pgsql/pgsql.c 	if (PQserverVersion((PGconn *)pgsql-&gt;conn) &gt;= 90300) {</span>
<span class='curline'><a href='../S/954.html#L3794'>conn</a>             3794 ext/pgsql/pgsql.c 		result = lo_lseek64((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, offset, (int)whence);</span>
<span class='curline'><a href='../S/954.html#L3796'>conn</a>             3796 ext/pgsql/pgsql.c 		result = lo_lseek((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, (int)offset, (int)whence);</span>
<span class='curline'><a href='../S/954.html#L3799'>conn</a>             3799 ext/pgsql/pgsql.c 	result = lo_lseek((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, offset, whence);</span>
<span class='curline'><a href='../S/954.html#L3827'>conn</a>             3827 ext/pgsql/pgsql.c 	if (PQserverVersion((PGconn *)pgsql-&gt;conn) &gt;= 90300) {</span>
<span class='curline'><a href='../S/954.html#L3828'>conn</a>             3828 ext/pgsql/pgsql.c 		offset = lo_tell64((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd);</span>
<span class='curline'><a href='../S/954.html#L3830'>conn</a>             3830 ext/pgsql/pgsql.c 		offset = lo_tell((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd);</span>
<span class='curline'><a href='../S/954.html#L3833'>conn</a>             3833 ext/pgsql/pgsql.c 	offset = lo_tell((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd);</span>
<span class='curline'><a href='../S/954.html#L3859'>conn</a>             3859 ext/pgsql/pgsql.c 	if (PQserverVersion((PGconn *)pgsql-&gt;conn) &gt;= 90300) {</span>
<span class='curline'><a href='../S/954.html#L3860'>conn</a>             3860 ext/pgsql/pgsql.c 		result = lo_truncate64((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, size);</span>
<span class='curline'><a href='../S/954.html#L3862'>conn</a>             3862 ext/pgsql/pgsql.c 		result = lo_truncate((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, size);</span>
<span class='curline'><a href='../S/954.html#L3865'>conn</a>             3865 ext/pgsql/pgsql.c 	result = lo_truncate((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, size);</span>
<span class='curline'><a href='../S/954.html#L5220'>conn</a>             5220 ext/pgsql/pgsql.c 	pg_result-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/954.html#L6722'>conn</a>             6722 ext/pgsql/pgsql.c 					pgsql_handle-&gt;conn = pg_link;</span>
<span class='curline'><a href='../S/955.html#L287'>conn</a>              287 ext/pgsql/php_pgsql.h 	PGconn *conn;</span>
<span class='curline'><a href='../S/955.html#L292'>conn</a>              292 ext/pgsql/php_pgsql.h 	PGconn *conn;</span>
<span class='curline'><a href='../S/1435.html#L44'>conn</a>               44 netware/start.c 	int		(*readRoutineP)( int conn, void *fileHandle, size_t offset,</span>
</pre>
</body>
</html>
