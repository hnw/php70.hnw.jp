<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pcache1</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1054.html#L40092'>pcache1</a>          40092 ext/sqlite3/libsqlite/sqlite3.c   if( pcache1.isInit ){</span>
<span class='curline'><a href='../S/1054.html#L40095'>pcache1</a>          40095 ext/sqlite3/libsqlite/sqlite3.c     pcache1.szSlot = sz;</span>
<span class='curline'><a href='../S/1054.html#L40096'>pcache1</a>          40096 ext/sqlite3/libsqlite/sqlite3.c     pcache1.nSlot = pcache1.nFreeSlot = n;</span>
<span class='curline'><a href='../S/1054.html#L40097'>pcache1</a>          40097 ext/sqlite3/libsqlite/sqlite3.c     pcache1.nReserve = n&gt;90 ? 10 : (n/10 + 1);</span>
<span class='curline'><a href='../S/1054.html#L40098'>pcache1</a>          40098 ext/sqlite3/libsqlite/sqlite3.c     pcache1.pStart = pBuf;</span>
<span class='curline'><a href='../S/1054.html#L40099'>pcache1</a>          40099 ext/sqlite3/libsqlite/sqlite3.c     pcache1.pFree = 0;</span>
<span class='curline'><a href='../S/1054.html#L40100'>pcache1</a>          40100 ext/sqlite3/libsqlite/sqlite3.c     pcache1.bUnderPressure = 0;</span>
<span class='curline'><a href='../S/1054.html#L40103'>pcache1</a>          40103 ext/sqlite3/libsqlite/sqlite3.c       p-&gt;pNext = pcache1.pFree;</span>
<span class='curline'><a href='../S/1054.html#L40104'>pcache1</a>          40104 ext/sqlite3/libsqlite/sqlite3.c       pcache1.pFree = p;</span>
<span class='curline'><a href='../S/1054.html#L40107'>pcache1</a>          40107 ext/sqlite3/libsqlite/sqlite3.c     pcache1.pEnd = pBuf;</span>
<span class='curline'><a href='../S/1054.html#L40122'>pcache1</a>          40122 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_notheld(pcache1.grp.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L40123'>pcache1</a>          40123 ext/sqlite3/libsqlite/sqlite3.c   if( nByte&lt;=pcache1.szSlot ){</span>
<span class='curline'><a href='../S/1054.html#L40124'>pcache1</a>          40124 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_enter(pcache1.mutex);</span>
<span class='curline'><a href='../S/1054.html#L40125'>pcache1</a>          40125 ext/sqlite3/libsqlite/sqlite3.c     p = (PgHdr1 *)pcache1.pFree;</span>
<span class='curline'><a href='../S/1054.html#L40127'>pcache1</a>          40127 ext/sqlite3/libsqlite/sqlite3.c       pcache1.pFree = pcache1.pFree-&gt;pNext;</span>
<span class='curline'><a href='../S/1054.html#L40128'>pcache1</a>          40128 ext/sqlite3/libsqlite/sqlite3.c       pcache1.nFreeSlot--;</span>
<span class='curline'><a href='../S/1054.html#L40129'>pcache1</a>          40129 ext/sqlite3/libsqlite/sqlite3.c       pcache1.bUnderPressure = pcache1.nFreeSlot&lt;pcache1.nReserve;</span>
<span class='curline'><a href='../S/1054.html#L40130'>pcache1</a>          40130 ext/sqlite3/libsqlite/sqlite3.c       assert( pcache1.nFreeSlot&gt;=0 );</span>
<span class='curline'><a href='../S/1054.html#L40134'>pcache1</a>          40134 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(pcache1.mutex);</span>
<span class='curline'><a href='../S/1054.html#L40144'>pcache1</a>          40144 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_mutex_enter(pcache1.mutex);</span>
<span class='curline'><a href='../S/1054.html#L40147'>pcache1</a>          40147 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_mutex_leave(pcache1.mutex);</span>
<span class='curline'><a href='../S/1054.html#L40161'>pcache1</a>          40161 ext/sqlite3/libsqlite/sqlite3.c   if( p&gt;=pcache1.pStart &amp;&amp; p&lt;pcache1.pEnd ){</span>
<span class='curline'><a href='../S/1054.html#L40163'>pcache1</a>          40163 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_enter(pcache1.mutex);</span>
<span class='curline'><a href='../S/1054.html#L40166'>pcache1</a>          40166 ext/sqlite3/libsqlite/sqlite3.c     pSlot-&gt;pNext = pcache1.pFree;</span>
<span class='curline'><a href='../S/1054.html#L40167'>pcache1</a>          40167 ext/sqlite3/libsqlite/sqlite3.c     pcache1.pFree = pSlot;</span>
<span class='curline'><a href='../S/1054.html#L40168'>pcache1</a>          40168 ext/sqlite3/libsqlite/sqlite3.c     pcache1.nFreeSlot++;</span>
<span class='curline'><a href='../S/1054.html#L40169'>pcache1</a>          40169 ext/sqlite3/libsqlite/sqlite3.c     pcache1.bUnderPressure = pcache1.nFreeSlot&lt;pcache1.nReserve;</span>
<span class='curline'><a href='../S/1054.html#L40170'>pcache1</a>          40170 ext/sqlite3/libsqlite/sqlite3.c     assert( pcache1.nFreeSlot&lt;=pcache1.nSlot );</span>
<span class='curline'><a href='../S/1054.html#L40171'>pcache1</a>          40171 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(pcache1.mutex);</span>
<span class='curline'><a href='../S/1054.html#L40177'>pcache1</a>          40177 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_enter(pcache1.mutex);</span>
<span class='curline'><a href='../S/1054.html#L40179'>pcache1</a>          40179 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(pcache1.mutex);</span>
<span class='curline'><a href='../S/1054.html#L40191'>pcache1</a>          40191 ext/sqlite3/libsqlite/sqlite3.c   if( p&gt;=pcache1.pStart &amp;&amp; p&lt;pcache1.pEnd ){</span>
<span class='curline'><a href='../S/1054.html#L40192'>pcache1</a>          40192 ext/sqlite3/libsqlite/sqlite3.c     return pcache1.szSlot;</span>
<span class='curline'><a href='../S/1054.html#L40296'>pcache1</a>          40296 ext/sqlite3/libsqlite/sqlite3.c   if( pcache1.nSlot &amp;&amp; (pCache-&gt;szPage+pCache-&gt;szExtra)&lt;=pcache1.szSlot ){</span>
<span class='curline'><a href='../S/1054.html#L40297'>pcache1</a>          40297 ext/sqlite3/libsqlite/sqlite3.c     return pcache1.bUnderPressure;</span>
<span class='curline'><a href='../S/1054.html#L40456'>pcache1</a>          40456 ext/sqlite3/libsqlite/sqlite3.c   assert( pcache1.isInit==0 );</span>
<span class='curline'><a href='../S/1054.html#L40457'>pcache1</a>          40457 ext/sqlite3/libsqlite/sqlite3.c   memset(&amp;pcache1, 0, sizeof(pcache1));</span>
<span class='curline'><a href='../S/1054.html#L40459'>pcache1</a>          40459 ext/sqlite3/libsqlite/sqlite3.c     pcache1.grp.mutex = sqlite3_mutex_alloc(SQLITE_MUTEX_STATIC_LRU);</span>
<span class='curline'><a href='../S/1054.html#L40460'>pcache1</a>          40460 ext/sqlite3/libsqlite/sqlite3.c     pcache1.mutex = sqlite3_mutex_alloc(SQLITE_MUTEX_STATIC_PMEM);</span>
<span class='curline'><a href='../S/1054.html#L40462'>pcache1</a>          40462 ext/sqlite3/libsqlite/sqlite3.c   pcache1.grp.mxPinned = 10;</span>
<span class='curline'><a href='../S/1054.html#L40463'>pcache1</a>          40463 ext/sqlite3/libsqlite/sqlite3.c   pcache1.isInit = 1;</span>
<span class='curline'><a href='../S/1054.html#L40474'>pcache1</a>          40474 ext/sqlite3/libsqlite/sqlite3.c   assert( pcache1.isInit!=0 );</span>
<span class='curline'><a href='../S/1054.html#L40475'>pcache1</a>          40475 ext/sqlite3/libsqlite/sqlite3.c   memset(&amp;pcache1, 0, sizeof(pcache1));</span>
<span class='curline'><a href='../S/1054.html#L40519'>pcache1</a>          40519 ext/sqlite3/libsqlite/sqlite3.c       pGroup = &amp;pcache1.grp;</span>
<span class='curline'><a href='../S/1054.html#L40920'>pcache1</a>          40920 ext/sqlite3/libsqlite/sqlite3.c   return pcache1.mutex;</span>
<span class='curline'><a href='../S/1054.html#L40935'>pcache1</a>          40935 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_notheld(pcache1.grp.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L40936'>pcache1</a>          40936 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_notheld(pcache1.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L40937'>pcache1</a>          40937 ext/sqlite3/libsqlite/sqlite3.c   if( pcache1.pStart==0 ){</span>
<span class='curline'><a href='../S/1054.html#L40939'>pcache1</a>          40939 ext/sqlite3/libsqlite/sqlite3.c     pcache1EnterMutex(&amp;pcache1.grp);</span>
<span class='curline'><a href='../S/1054.html#L40940'>pcache1</a>          40940 ext/sqlite3/libsqlite/sqlite3.c     while( (nReq&lt;0 || nFree&lt;nReq) &amp;&amp; ((p=pcache1.grp.pLruTail)!=0) ){</span>
<span class='curline'><a href='../S/1054.html#L40950'>pcache1</a>          40950 ext/sqlite3/libsqlite/sqlite3.c     pcache1LeaveMutex(&amp;pcache1.grp);</span>
<span class='curline'><a href='../S/1054.html#L40969'>pcache1</a>          40969 ext/sqlite3/libsqlite/sqlite3.c   for(p=pcache1.grp.pLruHead; p; p=p-&gt;pLruNext){</span>
<span class='curline'><a href='../S/1054.html#L40973'>pcache1</a>          40973 ext/sqlite3/libsqlite/sqlite3.c   *pnCurrent = pcache1.grp.nCurrentPage;</span>
<span class='curline'><a href='../S/1054.html#L40974'>pcache1</a>          40974 ext/sqlite3/libsqlite/sqlite3.c   *pnMax = (int)pcache1.grp.nMaxPage;</span>
<span class='curline'><a href='../S/1054.html#L40975'>pcache1</a>          40975 ext/sqlite3/libsqlite/sqlite3.c   *pnMin = (int)pcache1.grp.nMinPage;</span>
</pre>
</body>
</html>
