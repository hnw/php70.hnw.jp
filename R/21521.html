<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>mem3</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1054.html#L17977'>mem3</a>             17977 ext/sqlite3/libsqlite/sqlite3.c } mem3 = { 97535575 };</span>
<span class='curline'><a href='../S/1054.html#L17979'>mem3</a>             17979 ext/sqlite3/libsqlite/sqlite3.c #define mem3 GLOBAL(struct Mem3Global, mem3)</span>
<span class='curline'><a href='../S/1054.html#L17986'>mem3</a>             17986 ext/sqlite3/libsqlite/sqlite3.c   u32 next = mem3.aPool[i].u.list.next;</span>
<span class='curline'><a href='../S/1054.html#L17987'>mem3</a>             17987 ext/sqlite3/libsqlite/sqlite3.c   u32 prev = mem3.aPool[i].u.list.prev;</span>
<span class='curline'><a href='../S/1054.html#L17988'>mem3</a>             17988 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(mem3.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L17992'>mem3</a>             17992 ext/sqlite3/libsqlite/sqlite3.c     mem3.aPool[prev].u.list.next = next;</span>
<span class='curline'><a href='../S/1054.html#L17995'>mem3</a>             17995 ext/sqlite3/libsqlite/sqlite3.c     mem3.aPool[next].u.list.prev = prev;</span>
<span class='curline'><a href='../S/1054.html#L17997'>mem3</a>             17997 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[i].u.list.next = 0;</span>
<span class='curline'><a href='../S/1054.html#L17998'>mem3</a>             17998 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[i].u.list.prev = 0;</span>
<span class='curline'><a href='../S/1054.html#L18007'>mem3</a>             18007 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(mem3.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L18008'>mem3</a>             18008 ext/sqlite3/libsqlite/sqlite3.c   assert( (mem3.aPool[i-1].u.hdr.size4x &amp; 1)==0 );</span>
<span class='curline'><a href='../S/1054.html#L18010'>mem3</a>             18010 ext/sqlite3/libsqlite/sqlite3.c   size = mem3.aPool[i-1].u.hdr.size4x/4;</span>
<span class='curline'><a href='../S/1054.html#L18011'>mem3</a>             18011 ext/sqlite3/libsqlite/sqlite3.c   assert( size==mem3.aPool[i+size-1].u.hdr.prevSize );</span>
<span class='curline'><a href='../S/1054.html#L18014'>mem3</a>             18014 ext/sqlite3/libsqlite/sqlite3.c     memsys3UnlinkFromList(i, &amp;mem3.aiSmall[size-2]);</span>
<span class='curline'><a href='../S/1054.html#L18017'>mem3</a>             18017 ext/sqlite3/libsqlite/sqlite3.c     memsys3UnlinkFromList(i, &amp;mem3.aiHash[hash]);</span>
<span class='curline'><a href='../S/1054.html#L18026'>mem3</a>             18026 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(mem3.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L18027'>mem3</a>             18027 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[i].u.list.next = *pRoot;</span>
<span class='curline'><a href='../S/1054.html#L18028'>mem3</a>             18028 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[i].u.list.prev = 0;</span>
<span class='curline'><a href='../S/1054.html#L18030'>mem3</a>             18030 ext/sqlite3/libsqlite/sqlite3.c     mem3.aPool[*pRoot].u.list.prev = i;</span>
<span class='curline'><a href='../S/1054.html#L18041'>mem3</a>             18041 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(mem3.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L18043'>mem3</a>             18043 ext/sqlite3/libsqlite/sqlite3.c   assert( (mem3.aPool[i-1].u.hdr.size4x &amp; 1)==0 );</span>
<span class='curline'><a href='../S/1054.html#L18044'>mem3</a>             18044 ext/sqlite3/libsqlite/sqlite3.c   size = mem3.aPool[i-1].u.hdr.size4x/4;</span>
<span class='curline'><a href='../S/1054.html#L18045'>mem3</a>             18045 ext/sqlite3/libsqlite/sqlite3.c   assert( size==mem3.aPool[i+size-1].u.hdr.prevSize );</span>
<span class='curline'><a href='../S/1054.html#L18048'>mem3</a>             18048 ext/sqlite3/libsqlite/sqlite3.c     memsys3LinkIntoList(i, &amp;mem3.aiSmall[size-2]);</span>
<span class='curline'><a href='../S/1054.html#L18051'>mem3</a>             18051 ext/sqlite3/libsqlite/sqlite3.c     memsys3LinkIntoList(i, &amp;mem3.aiHash[hash]);</span>
<span class='curline'><a href='../S/1054.html#L18061'>mem3</a>             18061 ext/sqlite3/libsqlite/sqlite3.c   if( sqlite3GlobalConfig.bMemstat==0 &amp;&amp; mem3.mutex==0 ){</span>
<span class='curline'><a href='../S/1054.html#L18062'>mem3</a>             18062 ext/sqlite3/libsqlite/sqlite3.c     mem3.mutex = sqlite3MutexAlloc(SQLITE_MUTEX_STATIC_MEM);</span>
<span class='curline'><a href='../S/1054.html#L18064'>mem3</a>             18064 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(mem3.mutex);</span>
<span class='curline'><a href='../S/1054.html#L18067'>mem3</a>             18067 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(mem3.mutex);</span>
<span class='curline'><a href='../S/1054.html#L18074'>mem3</a>             18074 ext/sqlite3/libsqlite/sqlite3.c   if( !mem3.alarmBusy ){</span>
<span class='curline'><a href='../S/1054.html#L18075'>mem3</a>             18075 ext/sqlite3/libsqlite/sqlite3.c     mem3.alarmBusy = 1;</span>
<span class='curline'><a href='../S/1054.html#L18076'>mem3</a>             18076 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3_mutex_held(mem3.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L18077'>mem3</a>             18077 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(mem3.mutex);</span>
<span class='curline'><a href='../S/1054.html#L18079'>mem3</a>             18079 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_enter(mem3.mutex);</span>
<span class='curline'><a href='../S/1054.html#L18080'>mem3</a>             18080 ext/sqlite3/libsqlite/sqlite3.c     mem3.alarmBusy = 0;</span>
<span class='curline'><a href='../S/1054.html#L18092'>mem3</a>             18092 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(mem3.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L18094'>mem3</a>             18094 ext/sqlite3/libsqlite/sqlite3.c   assert( mem3.aPool[i-1].u.hdr.size4x/4==nBlock );</span>
<span class='curline'><a href='../S/1054.html#L18095'>mem3</a>             18095 ext/sqlite3/libsqlite/sqlite3.c   assert( mem3.aPool[i+nBlock-1].u.hdr.prevSize==nBlock );</span>
<span class='curline'><a href='../S/1054.html#L18096'>mem3</a>             18096 ext/sqlite3/libsqlite/sqlite3.c   x = mem3.aPool[i-1].u.hdr.size4x;</span>
<span class='curline'><a href='../S/1054.html#L18097'>mem3</a>             18097 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[i-1].u.hdr.size4x = nBlock*4 | 1 | (x&amp;2);</span>
<span class='curline'><a href='../S/1054.html#L18098'>mem3</a>             18098 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[i+nBlock-1].u.hdr.prevSize = nBlock;</span>
<span class='curline'><a href='../S/1054.html#L18099'>mem3</a>             18099 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[i+nBlock-1].u.hdr.size4x |= 2;</span>
<span class='curline'><a href='../S/1054.html#L18100'>mem3</a>             18100 ext/sqlite3/libsqlite/sqlite3.c   return &amp;mem3.aPool[i];</span>
<span class='curline'><a href='../S/1054.html#L18109'>mem3</a>             18109 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(mem3.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L18110'>mem3</a>             18110 ext/sqlite3/libsqlite/sqlite3.c   assert( mem3.szMaster&gt;=nBlock );</span>
<span class='curline'><a href='../S/1054.html#L18111'>mem3</a>             18111 ext/sqlite3/libsqlite/sqlite3.c   if( nBlock&gt;=mem3.szMaster-1 ){</span>
<span class='curline'><a href='../S/1054.html#L18113'>mem3</a>             18113 ext/sqlite3/libsqlite/sqlite3.c     void *p = memsys3Checkout(mem3.iMaster, mem3.szMaster);</span>
<span class='curline'><a href='../S/1054.html#L18114'>mem3</a>             18114 ext/sqlite3/libsqlite/sqlite3.c     mem3.iMaster = 0;</span>
<span class='curline'><a href='../S/1054.html#L18115'>mem3</a>             18115 ext/sqlite3/libsqlite/sqlite3.c     mem3.szMaster = 0;</span>
<span class='curline'><a href='../S/1054.html#L18116'>mem3</a>             18116 ext/sqlite3/libsqlite/sqlite3.c     mem3.mnMaster = 0;</span>
<span class='curline'><a href='../S/1054.html#L18121'>mem3</a>             18121 ext/sqlite3/libsqlite/sqlite3.c     newi = mem3.iMaster + mem3.szMaster - nBlock;</span>
<span class='curline'><a href='../S/1054.html#L18122'>mem3</a>             18122 ext/sqlite3/libsqlite/sqlite3.c     assert( newi &gt; mem3.iMaster+1 );</span>
<span class='curline'><a href='../S/1054.html#L18123'>mem3</a>             18123 ext/sqlite3/libsqlite/sqlite3.c     mem3.aPool[mem3.iMaster+mem3.szMaster-1].u.hdr.prevSize = nBlock;</span>
<span class='curline'><a href='../S/1054.html#L18124'>mem3</a>             18124 ext/sqlite3/libsqlite/sqlite3.c     mem3.aPool[mem3.iMaster+mem3.szMaster-1].u.hdr.size4x |= 2;</span>
<span class='curline'><a href='../S/1054.html#L18125'>mem3</a>             18125 ext/sqlite3/libsqlite/sqlite3.c     mem3.aPool[newi-1].u.hdr.size4x = nBlock*4 + 1;</span>
<span class='curline'><a href='../S/1054.html#L18126'>mem3</a>             18126 ext/sqlite3/libsqlite/sqlite3.c     mem3.szMaster -= nBlock;</span>
<span class='curline'><a href='../S/1054.html#L18127'>mem3</a>             18127 ext/sqlite3/libsqlite/sqlite3.c     mem3.aPool[newi-1].u.hdr.prevSize = mem3.szMaster;</span>
<span class='curline'><a href='../S/1054.html#L18128'>mem3</a>             18128 ext/sqlite3/libsqlite/sqlite3.c     x = mem3.aPool[mem3.iMaster-1].u.hdr.size4x &amp; 2;</span>
<span class='curline'><a href='../S/1054.html#L18129'>mem3</a>             18129 ext/sqlite3/libsqlite/sqlite3.c     mem3.aPool[mem3.iMaster-1].u.hdr.size4x = mem3.szMaster*4 | x;</span>
<span class='curline'><a href='../S/1054.html#L18130'>mem3</a>             18130 ext/sqlite3/libsqlite/sqlite3.c     if( mem3.szMaster &lt; mem3.mnMaster ){</span>
<span class='curline'><a href='../S/1054.html#L18131'>mem3</a>             18131 ext/sqlite3/libsqlite/sqlite3.c       mem3.mnMaster = mem3.szMaster;</span>
<span class='curline'><a href='../S/1054.html#L18133'>mem3</a>             18133 ext/sqlite3/libsqlite/sqlite3.c     return (void*)&amp;mem3.aPool[newi];</span>
<span class='curline'><a href='../S/1054.html#L18156'>mem3</a>             18156 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(mem3.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L18158'>mem3</a>             18158 ext/sqlite3/libsqlite/sqlite3.c     iNext = mem3.aPool[i].u.list.next;</span>
<span class='curline'><a href='../S/1054.html#L18159'>mem3</a>             18159 ext/sqlite3/libsqlite/sqlite3.c     size = mem3.aPool[i-1].u.hdr.size4x;</span>
<span class='curline'><a href='../S/1054.html#L18163'>mem3</a>             18163 ext/sqlite3/libsqlite/sqlite3.c       assert( i &gt; mem3.aPool[i-1].u.hdr.prevSize );</span>
<span class='curline'><a href='../S/1054.html#L18164'>mem3</a>             18164 ext/sqlite3/libsqlite/sqlite3.c       prev = i - mem3.aPool[i-1].u.hdr.prevSize;</span>
<span class='curline'><a href='../S/1054.html#L18166'>mem3</a>             18166 ext/sqlite3/libsqlite/sqlite3.c         iNext = mem3.aPool[prev].u.list.next;</span>
<span class='curline'><a href='../S/1054.html#L18170'>mem3</a>             18170 ext/sqlite3/libsqlite/sqlite3.c       x = mem3.aPool[prev-1].u.hdr.size4x &amp; 2;</span>
<span class='curline'><a href='../S/1054.html#L18171'>mem3</a>             18171 ext/sqlite3/libsqlite/sqlite3.c       mem3.aPool[prev-1].u.hdr.size4x = size*4 | x;</span>
<span class='curline'><a href='../S/1054.html#L18172'>mem3</a>             18172 ext/sqlite3/libsqlite/sqlite3.c       mem3.aPool[prev+size-1].u.hdr.prevSize = size;</span>
<span class='curline'><a href='../S/1054.html#L18178'>mem3</a>             18178 ext/sqlite3/libsqlite/sqlite3.c     if( size&gt;mem3.szMaster ){</span>
<span class='curline'><a href='../S/1054.html#L18179'>mem3</a>             18179 ext/sqlite3/libsqlite/sqlite3.c       mem3.iMaster = i;</span>
<span class='curline'><a href='../S/1054.html#L18180'>mem3</a>             18180 ext/sqlite3/libsqlite/sqlite3.c       mem3.szMaster = size;</span>
<span class='curline'><a href='../S/1054.html#L18197'>mem3</a>             18197 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(mem3.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L18212'>mem3</a>             18212 ext/sqlite3/libsqlite/sqlite3.c     i = mem3.aiSmall[nBlock-2];</span>
<span class='curline'><a href='../S/1054.html#L18214'>mem3</a>             18214 ext/sqlite3/libsqlite/sqlite3.c       memsys3UnlinkFromList(i, &amp;mem3.aiSmall[nBlock-2]);</span>
<span class='curline'><a href='../S/1054.html#L18219'>mem3</a>             18219 ext/sqlite3/libsqlite/sqlite3.c     for(i=mem3.aiHash[hash]; i&gt;0; i=mem3.aPool[i].u.list.next){</span>
<span class='curline'><a href='../S/1054.html#L18220'>mem3</a>             18220 ext/sqlite3/libsqlite/sqlite3.c       if( mem3.aPool[i-1].u.hdr.size4x/4==nBlock ){</span>
<span class='curline'><a href='../S/1054.html#L18221'>mem3</a>             18221 ext/sqlite3/libsqlite/sqlite3.c         memsys3UnlinkFromList(i, &amp;mem3.aiHash[hash]);</span>
<span class='curline'><a href='../S/1054.html#L18231'>mem3</a>             18231 ext/sqlite3/libsqlite/sqlite3.c   if( mem3.szMaster&gt;=nBlock ){</span>
<span class='curline'><a href='../S/1054.html#L18243'>mem3</a>             18243 ext/sqlite3/libsqlite/sqlite3.c   for(toFree=nBlock*16; toFree&lt;(mem3.nPool*16); toFree *= 2){</span>
<span class='curline'><a href='../S/1054.html#L18245'>mem3</a>             18245 ext/sqlite3/libsqlite/sqlite3.c     if( mem3.iMaster ){</span>
<span class='curline'><a href='../S/1054.html#L18246'>mem3</a>             18246 ext/sqlite3/libsqlite/sqlite3.c       memsys3Link(mem3.iMaster);</span>
<span class='curline'><a href='../S/1054.html#L18247'>mem3</a>             18247 ext/sqlite3/libsqlite/sqlite3.c       mem3.iMaster = 0;</span>
<span class='curline'><a href='../S/1054.html#L18248'>mem3</a>             18248 ext/sqlite3/libsqlite/sqlite3.c       mem3.szMaster = 0;</span>
<span class='curline'><a href='../S/1054.html#L18251'>mem3</a>             18251 ext/sqlite3/libsqlite/sqlite3.c       memsys3Merge(&amp;mem3.aiHash[i]);</span>
<span class='curline'><a href='../S/1054.html#L18254'>mem3</a>             18254 ext/sqlite3/libsqlite/sqlite3.c       memsys3Merge(&amp;mem3.aiSmall[i]);</span>
<span class='curline'><a href='../S/1054.html#L18256'>mem3</a>             18256 ext/sqlite3/libsqlite/sqlite3.c     if( mem3.szMaster ){</span>
<span class='curline'><a href='../S/1054.html#L18257'>mem3</a>             18257 ext/sqlite3/libsqlite/sqlite3.c       memsys3Unlink(mem3.iMaster);</span>
<span class='curline'><a href='../S/1054.html#L18258'>mem3</a>             18258 ext/sqlite3/libsqlite/sqlite3.c       if( mem3.szMaster&gt;=nBlock ){</span>
<span class='curline'><a href='../S/1054.html#L18278'>mem3</a>             18278 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(mem3.mutex) );</span>
<span class='curline'><a href='../S/1054.html#L18279'>mem3</a>             18279 ext/sqlite3/libsqlite/sqlite3.c   assert( p&gt;mem3.aPool &amp;&amp; p&lt;&amp;mem3.aPool[mem3.nPool] );</span>
<span class='curline'><a href='../S/1054.html#L18280'>mem3</a>             18280 ext/sqlite3/libsqlite/sqlite3.c   i = p - mem3.aPool;</span>
<span class='curline'><a href='../S/1054.html#L18281'>mem3</a>             18281 ext/sqlite3/libsqlite/sqlite3.c   assert( (mem3.aPool[i-1].u.hdr.size4x&amp;1)==1 );</span>
<span class='curline'><a href='../S/1054.html#L18282'>mem3</a>             18282 ext/sqlite3/libsqlite/sqlite3.c   size = mem3.aPool[i-1].u.hdr.size4x/4;</span>
<span class='curline'><a href='../S/1054.html#L18283'>mem3</a>             18283 ext/sqlite3/libsqlite/sqlite3.c   assert( i+size&lt;=mem3.nPool+1 );</span>
<span class='curline'><a href='../S/1054.html#L18284'>mem3</a>             18284 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[i-1].u.hdr.size4x &amp;= ~1;</span>
<span class='curline'><a href='../S/1054.html#L18285'>mem3</a>             18285 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[i+size-1].u.hdr.prevSize = size;</span>
<span class='curline'><a href='../S/1054.html#L18286'>mem3</a>             18286 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[i+size-1].u.hdr.size4x &amp;= ~2;</span>
<span class='curline'><a href='../S/1054.html#L18290'>mem3</a>             18290 ext/sqlite3/libsqlite/sqlite3.c   if( mem3.iMaster ){</span>
<span class='curline'><a href='../S/1054.html#L18291'>mem3</a>             18291 ext/sqlite3/libsqlite/sqlite3.c     while( (mem3.aPool[mem3.iMaster-1].u.hdr.size4x&amp;2)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L18292'>mem3</a>             18292 ext/sqlite3/libsqlite/sqlite3.c       size = mem3.aPool[mem3.iMaster-1].u.hdr.prevSize;</span>
<span class='curline'><a href='../S/1054.html#L18293'>mem3</a>             18293 ext/sqlite3/libsqlite/sqlite3.c       mem3.iMaster -= size;</span>
<span class='curline'><a href='../S/1054.html#L18294'>mem3</a>             18294 ext/sqlite3/libsqlite/sqlite3.c       mem3.szMaster += size;</span>
<span class='curline'><a href='../S/1054.html#L18295'>mem3</a>             18295 ext/sqlite3/libsqlite/sqlite3.c       memsys3Unlink(mem3.iMaster);</span>
<span class='curline'><a href='../S/1054.html#L18296'>mem3</a>             18296 ext/sqlite3/libsqlite/sqlite3.c       x = mem3.aPool[mem3.iMaster-1].u.hdr.size4x &amp; 2;</span>
<span class='curline'><a href='../S/1054.html#L18297'>mem3</a>             18297 ext/sqlite3/libsqlite/sqlite3.c       mem3.aPool[mem3.iMaster-1].u.hdr.size4x = mem3.szMaster*4 | x;</span>
<span class='curline'><a href='../S/1054.html#L18298'>mem3</a>             18298 ext/sqlite3/libsqlite/sqlite3.c       mem3.aPool[mem3.iMaster+mem3.szMaster-1].u.hdr.prevSize = mem3.szMaster;</span>
<span class='curline'><a href='../S/1054.html#L18300'>mem3</a>             18300 ext/sqlite3/libsqlite/sqlite3.c     x = mem3.aPool[mem3.iMaster-1].u.hdr.size4x &amp; 2;</span>
<span class='curline'><a href='../S/1054.html#L18301'>mem3</a>             18301 ext/sqlite3/libsqlite/sqlite3.c     while( (mem3.aPool[mem3.iMaster+mem3.szMaster-1].u.hdr.size4x&amp;1)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L18302'>mem3</a>             18302 ext/sqlite3/libsqlite/sqlite3.c       memsys3Unlink(mem3.iMaster+mem3.szMaster);</span>
<span class='curline'><a href='../S/1054.html#L18303'>mem3</a>             18303 ext/sqlite3/libsqlite/sqlite3.c       mem3.szMaster += mem3.aPool[mem3.iMaster+mem3.szMaster-1].u.hdr.size4x/4;</span>
<span class='curline'><a href='../S/1054.html#L18304'>mem3</a>             18304 ext/sqlite3/libsqlite/sqlite3.c       mem3.aPool[mem3.iMaster-1].u.hdr.size4x = mem3.szMaster*4 | x;</span>
<span class='curline'><a href='../S/1054.html#L18305'>mem3</a>             18305 ext/sqlite3/libsqlite/sqlite3.c       mem3.aPool[mem3.iMaster+mem3.szMaster-1].u.hdr.prevSize = mem3.szMaster;</span>
<span class='curline'><a href='../S/1054.html#L18398'>mem3</a>             18398 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool = (Mem3Block *)sqlite3GlobalConfig.pHeap;</span>
<span class='curline'><a href='../S/1054.html#L18399'>mem3</a>             18399 ext/sqlite3/libsqlite/sqlite3.c   mem3.nPool = (sqlite3GlobalConfig.nHeap / sizeof(Mem3Block)) - 2;</span>
<span class='curline'><a href='../S/1054.html#L18402'>mem3</a>             18402 ext/sqlite3/libsqlite/sqlite3.c   mem3.szMaster = mem3.nPool;</span>
<span class='curline'><a href='../S/1054.html#L18403'>mem3</a>             18403 ext/sqlite3/libsqlite/sqlite3.c   mem3.mnMaster = mem3.szMaster;</span>
<span class='curline'><a href='../S/1054.html#L18404'>mem3</a>             18404 ext/sqlite3/libsqlite/sqlite3.c   mem3.iMaster = 1;</span>
<span class='curline'><a href='../S/1054.html#L18405'>mem3</a>             18405 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[0].u.hdr.size4x = (mem3.szMaster&lt;&lt;2) + 2;</span>
<span class='curline'><a href='../S/1054.html#L18406'>mem3</a>             18406 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[mem3.nPool].u.hdr.prevSize = mem3.nPool;</span>
<span class='curline'><a href='../S/1054.html#L18407'>mem3</a>             18407 ext/sqlite3/libsqlite/sqlite3.c   mem3.aPool[mem3.nPool].u.hdr.size4x = 1;</span>
<span class='curline'><a href='../S/1054.html#L18417'>mem3</a>             18417 ext/sqlite3/libsqlite/sqlite3.c   mem3.mutex = 0;</span>
<span class='curline'><a href='../S/1054.html#L18444'>mem3</a>             18444 ext/sqlite3/libsqlite/sqlite3.c   for(i=1; i&lt;=mem3.nPool; i+=size/4){</span>
<span class='curline'><a href='../S/1054.html#L18445'>mem3</a>             18445 ext/sqlite3/libsqlite/sqlite3.c     size = mem3.aPool[i-1].u.hdr.size4x;</span>
<span class='curline'><a href='../S/1054.html#L18447'>mem3</a>             18447 ext/sqlite3/libsqlite/sqlite3.c       fprintf(out, "%p size error\n", &amp;mem3.aPool[i]);</span>
<span class='curline'><a href='../S/1054.html#L18451'>mem3</a>             18451 ext/sqlite3/libsqlite/sqlite3.c     if( (size&amp;1)==0 &amp;&amp; mem3.aPool[i+size/4-1].u.hdr.prevSize!=size/4 ){</span>
<span class='curline'><a href='../S/1054.html#L18452'>mem3</a>             18452 ext/sqlite3/libsqlite/sqlite3.c       fprintf(out, "%p tail size does not match\n", &amp;mem3.aPool[i]);</span>
<span class='curline'><a href='../S/1054.html#L18456'>mem3</a>             18456 ext/sqlite3/libsqlite/sqlite3.c     if( ((mem3.aPool[i+size/4-1].u.hdr.size4x&amp;2)&gt;&gt;1)!=(size&amp;1) ){</span>
<span class='curline'><a href='../S/1054.html#L18457'>mem3</a>             18457 ext/sqlite3/libsqlite/sqlite3.c       fprintf(out, "%p tail checkout bit is incorrect\n", &amp;mem3.aPool[i]);</span>
<span class='curline'><a href='../S/1054.html#L18462'>mem3</a>             18462 ext/sqlite3/libsqlite/sqlite3.c       fprintf(out, "%p %6d bytes checked out\n", &amp;mem3.aPool[i], (size/4)*8-8);</span>
<span class='curline'><a href='../S/1054.html#L18464'>mem3</a>             18464 ext/sqlite3/libsqlite/sqlite3.c       fprintf(out, "%p %6d bytes free%s\n", &amp;mem3.aPool[i], (size/4)*8-8,</span>
<span class='curline'><a href='../S/1054.html#L18465'>mem3</a>             18465 ext/sqlite3/libsqlite/sqlite3.c                   i==mem3.iMaster ? " **master**" : "");</span>
<span class='curline'><a href='../S/1054.html#L18469'>mem3</a>             18469 ext/sqlite3/libsqlite/sqlite3.c     if( mem3.aiSmall[i]==0 ) continue;</span>
<span class='curline'><a href='../S/1054.html#L18471'>mem3</a>             18471 ext/sqlite3/libsqlite/sqlite3.c     for(j = mem3.aiSmall[i]; j&gt;0; j=mem3.aPool[j].u.list.next){</span>
<span class='curline'><a href='../S/1054.html#L18472'>mem3</a>             18472 ext/sqlite3/libsqlite/sqlite3.c       fprintf(out, " %p(%d)", &amp;mem3.aPool[j],</span>
<span class='curline'><a href='../S/1054.html#L18473'>mem3</a>             18473 ext/sqlite3/libsqlite/sqlite3.c               (mem3.aPool[j-1].u.hdr.size4x/4)*8-8);</span>
<span class='curline'><a href='../S/1054.html#L18478'>mem3</a>             18478 ext/sqlite3/libsqlite/sqlite3.c     if( mem3.aiHash[i]==0 ) continue;</span>
<span class='curline'><a href='../S/1054.html#L18480'>mem3</a>             18480 ext/sqlite3/libsqlite/sqlite3.c     for(j = mem3.aiHash[i]; j&gt;0; j=mem3.aPool[j].u.list.next){</span>
<span class='curline'><a href='../S/1054.html#L18481'>mem3</a>             18481 ext/sqlite3/libsqlite/sqlite3.c       fprintf(out, " %p(%d)", &amp;mem3.aPool[j],</span>
<span class='curline'><a href='../S/1054.html#L18482'>mem3</a>             18482 ext/sqlite3/libsqlite/sqlite3.c               (mem3.aPool[j-1].u.hdr.size4x/4)*8-8);</span>
<span class='curline'><a href='../S/1054.html#L18486'>mem3</a>             18486 ext/sqlite3/libsqlite/sqlite3.c   fprintf(out, "master=%d\n", mem3.iMaster);</span>
<span class='curline'><a href='../S/1054.html#L18487'>mem3</a>             18487 ext/sqlite3/libsqlite/sqlite3.c   fprintf(out, "nowUsed=%d\n", mem3.nPool*8 - mem3.szMaster*8);</span>
<span class='curline'><a href='../S/1054.html#L18488'>mem3</a>             18488 ext/sqlite3/libsqlite/sqlite3.c   fprintf(out, "mxUsed=%d\n", mem3.nPool*8 - mem3.mnMaster*8);</span>
<span class='curline'><a href='../S/1054.html#L18489'>mem3</a>             18489 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(mem3.mutex);</span>
</pre>
</body>
</html>
