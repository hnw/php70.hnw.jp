<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>db</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1726.html#L1458'>db</a>               1458 Zend/zend_strtod.c 	U da, db;</span>
<span class='curline'><a href='../S/1726.html#L1462'>db</a>               1462 Zend/zend_strtod.c 	dval(&amp;db) = b2d(b, &amp;kb);</span>
<span class='curline'><a href='../S/1726.html#L1476'>db</a>               1476 Zend/zend_strtod.c 		word0(&amp;db) += (k &gt;&gt; 2)*Exp_msk1;</span>
<span class='curline'><a href='../S/1726.html#L1478'>db</a>               1478 Zend/zend_strtod.c 			dval(&amp;db) *= 1 &lt;&lt; k;</span>
<span class='curline'><a href='../S/1726.html#L1485'>db</a>               1485 Zend/zend_strtod.c 		word0(&amp;db) += k*Exp_msk1;</span>
<span class='curline'><a href='../S/1726.html#L1488'>db</a>               1488 Zend/zend_strtod.c 	return dval(&amp;da) / dval(&amp;db);</span>
<span class='curline'><a href='../S/83.html#L48'>db</a>                 48 ext/dba/dba_db1.c 	DB		*db;</span>
<span class='curline'><a href='../S/83.html#L76'>db</a>                 76 ext/dba/dba_db1.c 	db = dbopen((char *)info-&gt;path, gmode, filemode, DB_HASH, NULL);</span>
<span class='curline'><a href='../S/83.html#L78'>db</a>                 78 ext/dba/dba_db1.c 	if (db == NULL) {</span>
<span class='curline'><a href='../S/83.html#L83'>db</a>                 83 ext/dba/dba_db1.c 	dba-&gt;dbp = db;</span>
<span class='curline'><a href='../S/199.html#L1268'>db</a>               1268 ext/gd/libgd/gd.c 	int dr,dg,db,p,r,g,b;</span>
<span class='curline'><a href='../S/199.html#L1271'>db</a>               1271 ext/gd/libgd/gd.c 	db = gdTrueColorGetBlue(color);</span>
<span class='curline'><a href='../S/199.html#L1280'>db</a>               1280 ext/gd/libgd/gd.c 	BLEND_COLOR(t, db, b, db);</span>
<span class='curline'><a href='../S/199.html#L1281'>db</a>               1281 ext/gd/libgd/gd.c 	im-&gt;tpixels[y][x]=gdTrueColorAlpha(dr, dg, db,  gdAlphaOpaque);</span>
<span class='curline'><a href='../S/207.html#L348'>db</a>                348 ext/gd/libgd/gd_crop.c 	const int db = gdImageBlue(im, col1) - gdImageBlue(im, col2);</span>
<span class='curline'><a href='../S/207.html#L350'>db</a>                350 ext/gd/libgd/gd_crop.c 	const double dist = sqrt(dr * dr + dg * dg + db * db + da * da);</span>
<span class='curline'><a href='../S/305.html#L1109'>db</a>               1109 ext/interbase/ibase_query.c 				isc_db_handle db = 0;</span>
<span class='curline'><a href='../S/305.html#L1120'>db</a>               1120 ext/interbase/ibase_query.c 				} else if (isc_dsql_execute_immediate(IB_STATUS, &amp;db, &amp;trans, (short)query_len,</span>
<span class='curline'><a href='../S/305.html#L1124'>db</a>               1124 ext/interbase/ibase_query.c 				} else if (!db) {</span>
<span class='curline'><a href='../S/305.html#L1133'>db</a>               1133 ext/interbase/ibase_query.c 					ib_link-&gt;handle = db;</span>
<span class='curline'><a href='../S/306.html#L426'>db</a>                426 ext/interbase/ibase_service.c 	char *db, *bk, buf[200];</span>
<span class='curline'><a href='../S/306.html#L435'>db</a>                435 ext/interbase/ibase_service.c 			&amp;res, &amp;db, &amp;dblen, &amp;bk, &amp;bklen, &amp;opts, &amp;verbose)) {</span>
<span class='curline'><a href='../S/306.html#L444'>db</a>                444 ext/interbase/ibase_service.c 		operation, isc_spb_dbname, (char)dblen, (char)(dblen &gt;&gt; 8), db,</span>
<span class='curline'><a href='../S/306.html#L490'>db</a>                490 ext/interbase/ibase_service.c 	char buf[128], *db;</span>
<span class='curline'><a href='../S/306.html#L499'>db</a>                499 ext/interbase/ibase_service.c 			&amp;res, &amp;db, &amp;dblen, &amp;action, &amp;argument)) {</span>
<span class='curline'><a href='../S/306.html#L547'>db</a>                547 ext/interbase/ibase_service.c 					svc_action, isc_spb_dbname, (char)dblen, (char)(dblen &gt;&gt; 8), db,</span>
<span class='curline'><a href='../S/306.html#L557'>db</a>                557 ext/interbase/ibase_service.c 					db, (char)action, (char)argument);</span>
<span class='curline'><a href='../S/307.html#L285'>db</a>                285 ext/interbase/interbase.c 	ZEND_ARG_INFO(0, db)</span>
<span class='curline'><a href='../S/307.html#L292'>db</a>                292 ext/interbase/interbase.c 	ZEND_ARG_INFO(0, db)</span>
<span class='curline'><a href='../S/307.html#L851'>db</a>                851 ext/interbase/interbase.c int _php_ibase_attach_db(char **args, size_t *len, zend_long *largs, isc_db_handle *db) /* {{{ */</span>
<span class='curline'><a href='../S/307.html#L876'>db</a>                876 ext/interbase/interbase.c 	if (isc_attach_database(IB_STATUS, (short)len[DB], args[DB], db, (short)(dpb-dpb_buffer), dpb_buffer)) {</span>
<span class='curline'><a href='../S/750.html#L1165'>db</a>               1165 ext/mysqli/mysqli_api.c 	add_property_stringl(value, "db", (field-&gt;db ? field-&gt;db : ""), field-&gt;db_length);</span>
<span class='curline'><a href='../S/768.html#L559'>db</a>                559 ext/mysqlnd/mysqlnd.c 			const char * const db,</span>
<span class='curline'><a href='../S/768.html#L635'>db</a>                635 ext/mysqlnd/mysqlnd.c 				ret = mysqlnd_auth_handshake(conn, user, passwd, passwd_len, db, db_len, options, mysql_flags,</span>
<span class='curline'><a href='../S/768.html#L644'>db</a>                644 ext/mysqlnd/mysqlnd.c 				ret = mysqlnd_auth_change_user(conn, user, strlen(user), passwd, passwd_len, db, db_len, silent,</span>
<span class='curline'><a href='../S/768.html#L693'>db</a>                693 ext/mysqlnd/mysqlnd.c 			const char * const db,</span>
<span class='curline'><a href='../S/768.html#L706'>db</a>                706 ext/mysqlnd/mysqlnd.c 		ret = mysqlnd_run_authentication(conn, user, passwd, passwd_len, db, db_len,</span>
<span class='curline'><a href='../S/768.html#L790'>db</a>                790 ext/mysqlnd/mysqlnd.c 						const char * const db, const unsigned int db_len,</span>
<span class='curline'><a href='../S/768.html#L845'>db</a>                845 ext/mysqlnd/mysqlnd.c 	if (FAIL == mysqlnd_connect_run_authentication(conn, user, passwd, db, db_len, (size_t) passwd_len,</span>
<span class='curline'><a href='../S/768.html#L871'>db</a>                871 ext/mysqlnd/mysqlnd.c 						 const char *db, unsigned int db_len,</span>
<span class='curline'><a href='../S/768.html#L898'>db</a>                898 ext/mysqlnd/mysqlnd.c 				host?host:"", user?user:"", db?db:"", port, mysql_flags,</span>
<span class='curline'><a href='../S/768.html#L945'>db</a>                945 ext/mysqlnd/mysqlnd.c 	if (!db) {</span>
<span class='curline'><a href='../S/768.html#L947'>db</a>                947 ext/mysqlnd/mysqlnd.c 		db = "";</span>
<span class='curline'><a href='../S/768.html#L996'>db</a>                996 ext/mysqlnd/mysqlnd.c 	if (FAIL == conn-&gt;m-&gt;connect_handshake(conn, host, user, passwd, passwd_len, db, db_len, mysql_flags)) {</span>
<span class='curline'><a href='../S/768.html#L1018'>db</a>               1018 ext/mysqlnd/mysqlnd.c 		conn-&gt;connect_or_select_db = mnd_pestrndup(db, db_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L1122'>db</a>               1122 ext/mysqlnd/mysqlnd.c 						 const char * db, unsigned int db_len,</span>
<span class='curline'><a href='../S/768.html#L1136'>db</a>               1136 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;connect(conn, host, user, passwd, passwd_len, db, db_len, port, socket_or_pipe, mysql_flags);</span>
<span class='curline'><a href='../S/768.html#L1149'>db</a>               1149 ext/mysqlnd/mysqlnd.c 						 const char * db, unsigned int db_len,</span>
<span class='curline'><a href='../S/768.html#L1160'>db</a>               1160 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("host=%s user=%s db=%s port=%u flags=%u", host?host:"", user?user:"", db?db:"", port, mysql_flags);</span>
<span class='curline'><a href='../S/768.html#L1170'>db</a>               1170 ext/mysqlnd/mysqlnd.c 	ret = conn_handle-&gt;m-&gt;connect(conn_handle, host, user, passwd, passwd_len, db, db_len, port, socket_or_pipe, mysql_flags);</span>
<span class='curline'><a href='../S/768.html#L1682'>db</a>               1682 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, select_db)(MYSQLND_CONN_DATA * const conn, const char * const db, unsigned int db_len)</span>
<span class='curline'><a href='../S/768.html#L1688'>db</a>               1688 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu db=%s", conn-&gt;thread_id, db);</span>
<span class='curline'><a href='../S/768.html#L1691'>db</a>               1691 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_INIT_DB, (zend_uchar*) db, db_len, PROT_OK_PACKET, FALSE, TRUE);</span>
<span class='curline'><a href='../S/768.html#L1701'>db</a>               1701 ext/mysqlnd/mysqlnd.c 			conn-&gt;connect_or_select_db = mnd_pestrndup(db, db_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/768.html#L2270'>db</a>               2270 ext/mysqlnd/mysqlnd.c 										  const char * db,</span>
<span class='curline'><a href='../S/768.html#L2280'>db</a>               2280 ext/mysqlnd/mysqlnd.c 				conn-&gt;thread_id, user?user:"", passwd?"***":"null", db?db:"", (silent == TRUE)?1:0 );</span>
<span class='curline'><a href='../S/768.html#L2295'>db</a>               2295 ext/mysqlnd/mysqlnd.c 	if (!db) {</span>
<span class='curline'><a href='../S/768.html#L2296'>db</a>               2296 ext/mysqlnd/mysqlnd.c 		db = "";</span>
<span class='curline'><a href='../S/768.html#L2300'>db</a>               2300 ext/mysqlnd/mysqlnd.c 	ret = mysqlnd_run_authentication(conn, user, passwd, passwd_len, db, strlen(db),</span>
<span class='curline'><a href='../S/769.html#L90'>db</a>                 90 ext/mysqlnd/mysqlnd.h 						  const char * db, unsigned int db_len,</span>
<span class='curline'><a href='../S/769.html#L97'>db</a>                 97 ext/mysqlnd/mysqlnd.h #define mysqlnd_change_user(conn, user, passwd, db, silent)		((conn)-&gt;data)-&gt;m-&gt;change_user((conn)-&gt;data, (user), (passwd), (db), (silent), strlen((passwd)))</span>
<span class='curline'><a href='../S/769.html#L98'>db</a>                 98 ext/mysqlnd/mysqlnd.h #define mysqlnd_change_user_ex(conn, user, passwd, db, silent, passwd_len)	((conn)-&gt;data)-&gt;m-&gt;change_user((conn)-&gt;data, (user), (passwd), (db), (silent), (passwd_len))</span>
<span class='curline'><a href='../S/769.html#L200'>db</a>                200 ext/mysqlnd/mysqlnd.h #define mysqlnd_select_db(conn, db, db_len)	((conn)-&gt;data)-&gt;m-&gt;select_db((conn)-&gt;data, (db), (db_len))</span>
<span class='curline'><a href='../S/772.html#L37'>db</a>                 37 ext/mysqlnd/mysqlnd_auth.c 							  const char * const db,</span>
<span class='curline'><a href='../S/772.html#L95'>db</a>                 95 ext/mysqlnd/mysqlnd_auth.c 		auth_packet-&gt;db			= db;</span>
<span class='curline'><a href='../S/772.html#L160'>db</a>                160 ext/mysqlnd/mysqlnd_auth.c 								const char * const db,</span>
<span class='curline'><a href='../S/772.html#L213'>db</a>                213 ext/mysqlnd/mysqlnd_auth.c 		auth_packet-&gt;db			= db;</span>
<span class='curline'><a href='../S/789.html#L195'>db</a>                195 ext/mysqlnd/mysqlnd_priv.h 						const char * const db,</span>
<span class='curline'><a href='../S/789.html#L216'>db</a>                216 ext/mysqlnd/mysqlnd_priv.h 								const char * const db,</span>
<span class='curline'><a href='../S/794.html#L246'>db</a>                246 ext/mysqlnd/mysqlnd_result_meta.c 		if (orig_fields[i].db &amp;&amp; orig_fields[i].db != mysqlnd_empty_string) {</span>
<span class='curline'><a href='../S/794.html#L247'>db</a>                247 ext/mysqlnd/mysqlnd_result_meta.c 			new_fields[i].db = new_fields[i].root + (orig_fields[i].db - orig_fields[i].root);</span>
<span class='curline'><a href='../S/800.html#L80'>db</a>                 80 ext/mysqlnd/mysqlnd_structs.h 	const char  *db;			/* Database for table */</span>
<span class='curline'><a href='../S/800.html#L423'>db</a>                423 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__connect)(MYSQLND_CONN_DATA * conn, const char * host, const char * user, const char * passwd, unsigned int passwd_len, const char * db, unsigned int db_len, unsigned int port, const char * socket_or_pipe, unsigned int mysql_flags);</span>
<span class='curline'><a href='../S/800.html#L441'>db</a>                441 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__select_db)(MYSQLND_CONN_DATA * const conn, const char * const db, unsigned int db_len);</span>
<span class='curline'><a href='../S/800.html#L443'>db</a>                443 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__change_user)(MYSQLND_CONN_DATA * const conn, const char * user, const char * passwd, const char * db, zend_bool silent, size_t passwd_len);</span>
<span class='curline'><a href='../S/801.html#L536'>db</a>                536 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (packet-&gt;db) {</span>
<span class='curline'><a href='../S/801.html#L539'>db</a>                539 ext/mysqlnd/mysqlnd_wireprotocol.c 			memcpy(p, packet-&gt;db, real_db_len);</span>
<span class='curline'><a href='../S/801.html#L1207'>db</a>               1207 ext/mysqlnd/mysqlnd_wireprotocol.c 	STRUCT_OFFSET(MYSQLND_FIELD, db),</span>
<span class='curline'><a href='../S/801.html#L1372'>db</a>               1372 ext/mysqlnd/mysqlnd_wireprotocol.c 	if (meta-&gt;db &amp;&amp; meta-&gt;db != mysqlnd_empty_string) {</span>
<span class='curline'><a href='../S/801.html#L1374'>db</a>               1374 ext/mysqlnd/mysqlnd_wireprotocol.c 		meta-&gt;db = memcpy(root_ptr, meta-&gt;db, len);</span>
<span class='curline'><a href='../S/801.html#L1402'>db</a>               1402 ext/mysqlnd/mysqlnd_wireprotocol.c 	DBG_INF_FMT("FIELD=[%s.%s.%s]", meta-&gt;db? meta-&gt;db:"*NA*", meta-&gt;table? meta-&gt;table:"*NA*",</span>
<span class='curline'><a href='../S/801.html#L1542'>db</a>               1542 ext/mysqlnd/mysqlnd_wireprotocol.c 			fields_metadata[i].db, fields_metadata[i].table, fields_metadata[i].name, fields_metadata[i].type,</span>
<span class='curline'><a href='../S/802.html#L96'>db</a>                 96 ext/mysqlnd/mysqlnd_wireprotocol.h 	const char	*db;</span>
<span class='curline'><a href='../S/814.html#L2433'>db</a>               2433 ext/odbc/php_odbc.c int odbc_sqlconnect(odbc_connection **conn, char *db, char *uid, char *pwd, int cur_opt, int persistent)</span>
<span class='curline'><a href='../S/814.html#L2450'>db</a>               2450 ext/odbc/php_odbc.c 	 if (lpszConnStr &amp;&amp; db) {</span>
<span class='curline'><a href='../S/814.html#L2452'>db</a>               2452 ext/odbc/php_odbc.c 		 if (strstr(db, ";")) {</span>
<span class='curline'><a href='../S/814.html#L2454'>db</a>               2454 ext/odbc/php_odbc.c 			 if (strstr(db, "uid") || strstr(db, "UID")) {</span>
<span class='curline'><a href='../S/814.html#L2457'>db</a>               2457 ext/odbc/php_odbc.c 			 if (strstr(db, "pwd") || strstr(db, "PWD")) {</span>
<span class='curline'><a href='../S/814.html#L2460'>db</a>               2460 ext/odbc/php_odbc.c 			 strlcpy( lpszConnStr, db, CONNSTRSIZE);</span>
<span class='curline'><a href='../S/814.html#L2464'>db</a>               2464 ext/odbc/php_odbc.c 			 strlcat(lpszConnStr, db, CONNSTRSIZE);</span>
<span class='curline'><a href='../S/814.html#L2490'>db</a>               2490 ext/odbc/php_odbc.c 		rc = SQLDriverConnect((*conn)-&gt;hdbc, NULL, db, SQL_NTS,	dsnbuf, sizeof(dsnbuf) - 1, &amp;dsnbuflen, SQL_DRIVER_NOPROMPT);</span>
<span class='curline'><a href='../S/814.html#L2514'>db</a>               2514 ext/odbc/php_odbc.c 		if (strstr((char*)db, ";")) {</span>
<span class='curline'><a href='../S/814.html#L2516'>db</a>               2516 ext/odbc/php_odbc.c 			if (uid &amp;&amp; !strstr ((char*)db, "uid") &amp;&amp; !strstr((char*)db, "UID")) {</span>
<span class='curline'><a href='../S/814.html#L2517'>db</a>               2517 ext/odbc/php_odbc.c 				spprintf(&amp;ldb, 0, "%s;UID=%s;PWD=%s", db, uid, pwd);</span>
<span class='curline'><a href='../S/814.html#L2519'>db</a>               2519 ext/odbc/php_odbc.c 				ldb_len = strlen(db)+1;</span>
<span class='curline'><a href='../S/814.html#L2521'>db</a>               2521 ext/odbc/php_odbc.c 				memcpy(ldb, db, ldb_len);</span>
<span class='curline'><a href='../S/814.html#L2528'>db</a>               2528 ext/odbc/php_odbc.c 			rc = SQLConnect((*conn)-&gt;hdbc, db, SQL_NTS, uid, SQL_NTS, pwd, SQL_NTS);</span>
<span class='curline'><a href='../S/814.html#L2536'>db</a>               2536 ext/odbc/php_odbc.c 	rc = SQLConnect((*conn)-&gt;hdbc, db, SQL_NTS, uid, SQL_NTS, pwd, SQL_NTS);</span>
<span class='curline'><a href='../S/814.html#L2567'>db</a>               2567 ext/odbc/php_odbc.c 	char *db, *uid, *pwd;</span>
<span class='curline'><a href='../S/814.html#L2577'>db</a>               2577 ext/odbc/php_odbc.c 	if (zend_parse_parameters(ZEND_NUM_ARGS(), "sss|l", &amp;db, &amp;db_len, &amp;uid, &amp;uid_len, &amp;pwd, &amp;pwd_len, &amp;pv_opt) == FAILURE) {</span>
<span class='curline'><a href='../S/814.html#L2598'>db</a>               2598 ext/odbc/php_odbc.c 	hashed_len = spprintf(&amp;hashed_details, 0, "%s_%s_%s_%s_%d", ODBC_TYPE, db, uid, pwd, cur_opt);</span>
<span class='curline'><a href='../S/814.html#L2627'>db</a>               2627 ext/odbc/php_odbc.c 			if (!odbc_sqlconnect(&amp;db_conn, db, uid, pwd, cur_opt, 1)) {</span>
<span class='curline'><a href='../S/814.html#L2709'>db</a>               2709 ext/odbc/php_odbc.c 		if (!odbc_sqlconnect(&amp;db_conn, db, uid, pwd, cur_opt, 0)) {</span>
<span class='curline'><a href='../S/923.html#L112'>db</a>                112 ext/pdo_firebird/firebird_driver.c 	if (isc_detach_database(H-&gt;isc_status, &amp;H-&gt;db)) {</span>
<span class='curline'><a href='../S/923.html#L357'>db</a>                357 ext/pdo_firebird/firebird_driver.c 	if (isc_start_transaction(H-&gt;isc_status, &amp;H-&gt;tr, 1, &amp;H-&gt;db, (unsigned short)(ptpb-tpb), tpb)) {</span>
<span class='curline'><a href='../S/923.html#L416'>db</a>                416 ext/pdo_firebird/firebird_driver.c 	if (isc_dsql_allocate_statement(H-&gt;isc_status, &amp;H-&gt;db, s)) {</span>
<span class='curline'><a href='../S/923.html#L567'>db</a>                567 ext/pdo_firebird/firebird_driver.c 			ZVAL_BOOL(val, !isc_version(&amp;H-&gt;db, firebird_info_cb, NULL));</span>
<span class='curline'><a href='../S/923.html#L597'>db</a>                597 ext/pdo_firebird/firebird_driver.c 			if (!isc_version(&amp;H-&gt;db, firebird_info_cb, (void*)tmp)) {</span>
<span class='curline'><a href='../S/923.html#L684'>db</a>                684 ext/pdo_firebird/firebird_driver.c 		if (isc_attach_database(H-&gt;isc_status, 0, vars[0].optval, &amp;H-&gt;db,(short)(dpb-dpb_buffer), dpb_buffer)) {</span>
<span class='curline'><a href='../S/924.html#L232'>db</a>                232 ext/pdo_firebird/firebird_statement.c 	if (isc_open_blob(H-&gt;isc_status, &amp;H-&gt;db, &amp;H-&gt;tr, &amp;blobh, blob_id)) {</span>
<span class='curline'><a href='../S/924.html#L420'>db</a>                420 ext/pdo_firebird/firebird_statement.c 	if (isc_create_blob(H-&gt;isc_status, &amp;H-&gt;db, &amp;H-&gt;tr, &amp;h, blob_id)) {</span>
<span class='curline'><a href='../S/927.html#L70'>db</a>                 70 ext/pdo_firebird/php_pdo_firebird_int.h 	isc_db_handle db;</span>
<span class='curline'><a href='../S/951.html#L58'>db</a>                 58 ext/pdo_sqlite/php_pdo_sqlite_int.h 	sqlite3 *db;</span>
<span class='curline'><a href='../S/952.html#L40'>db</a>                 40 ext/pdo_sqlite/sqlite_driver.c 	einfo-&gt;errcode = sqlite3_errcode(H-&gt;db);</span>
<span class='curline'><a href='../S/952.html#L48'>db</a>                 48 ext/pdo_sqlite/sqlite_driver.c 		einfo-&gt;errmsg = pestrdup((char*)sqlite3_errmsg(H-&gt;db), dbh-&gt;is_persistent);</span>
<span class='curline'><a href='../S/952.html#L110'>db</a>                110 ext/pdo_sqlite/sqlite_driver.c 		if (H-&gt;db) {</span>
<span class='curline'><a href='../S/952.html#L112'>db</a>                112 ext/pdo_sqlite/sqlite_driver.c 			sqlite3_create_function(H-&gt;db,</span>
<span class='curline'><a href='../S/952.html#L138'>db</a>                138 ext/pdo_sqlite/sqlite_driver.c 		if (H-&gt;db) {</span>
<span class='curline'><a href='../S/952.html#L140'>db</a>                140 ext/pdo_sqlite/sqlite_driver.c 			sqlite3_create_collation(H-&gt;db,</span>
<span class='curline'><a href='../S/952.html#L163'>db</a>                163 ext/pdo_sqlite/sqlite_driver.c 		if (H-&gt;db) {</span>
<span class='curline'><a href='../S/952.html#L164'>db</a>                164 ext/pdo_sqlite/sqlite_driver.c 			sqlite3_close(H-&gt;db);</span>
<span class='curline'><a href='../S/952.html#L165'>db</a>                165 ext/pdo_sqlite/sqlite_driver.c 			H-&gt;db = NULL;</span>
<span class='curline'><a href='../S/952.html#L196'>db</a>                196 ext/pdo_sqlite/sqlite_driver.c 	i = sqlite3_prepare(H-&gt;db, sql, sql_len, &amp;S-&gt;stmt, &amp;tail);</span>
<span class='curline'><a href='../S/952.html#L211'>db</a>                211 ext/pdo_sqlite/sqlite_driver.c 	if (sqlite3_exec(H-&gt;db, sql, NULL, NULL, &amp;errmsg) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/952.html#L218'>db</a>                218 ext/pdo_sqlite/sqlite_driver.c 		return sqlite3_changes(H-&gt;db);</span>
<span class='curline'><a href='../S/952.html#L227'>db</a>                227 ext/pdo_sqlite/sqlite_driver.c 	id = php_pdo_int64_to_str(sqlite3_last_insert_rowid(H-&gt;db));</span>
<span class='curline'><a href='../S/952.html#L246'>db</a>                246 ext/pdo_sqlite/sqlite_driver.c 	if (sqlite3_exec(H-&gt;db, "BEGIN", NULL, NULL, &amp;errmsg) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/952.html#L260'>db</a>                260 ext/pdo_sqlite/sqlite_driver.c 	if (sqlite3_exec(H-&gt;db, "COMMIT", NULL, NULL, &amp;errmsg) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/952.html#L274'>db</a>                274 ext/pdo_sqlite/sqlite_driver.c 	if (sqlite3_exec(H-&gt;db, "ROLLBACK", NULL, NULL, &amp;errmsg) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/952.html#L304'>db</a>                304 ext/pdo_sqlite/sqlite_driver.c 			sqlite3_busy_timeout(H-&gt;db, zval_get_long(val) * 1000);</span>
<span class='curline'><a href='../S/952.html#L545'>db</a>                545 ext/pdo_sqlite/sqlite_driver.c 	ret = sqlite3_create_function(H-&gt;db, func_name, argc, SQLITE_UTF8,</span>
<span class='curline'><a href='../S/952.html#L621'>db</a>                621 ext/pdo_sqlite/sqlite_driver.c 	ret = sqlite3_create_function(H-&gt;db, func_name, argc, SQLITE_UTF8,</span>
<span class='curline'><a href='../S/952.html#L675'>db</a>                675 ext/pdo_sqlite/sqlite_driver.c 	ret = sqlite3_create_collation(H-&gt;db, collation_name, SQLITE_UTF8, collation, php_sqlite3_collation_callback);</span>
<span class='curline'><a href='../S/952.html#L806'>db</a>                806 ext/pdo_sqlite/sqlite_driver.c 	i = sqlite3_open(filename, &amp;H-&gt;db);</span>
<span class='curline'><a href='../S/952.html#L815'>db</a>                815 ext/pdo_sqlite/sqlite_driver.c 		sqlite3_set_authorizer(H-&gt;db, authorizer, NULL);</span>
<span class='curline'><a href='../S/952.html#L821'>db</a>                821 ext/pdo_sqlite/sqlite_driver.c 	sqlite3_busy_timeout(H-&gt;db, timeout * 1000);</span>
<span class='curline'><a href='../S/953.html#L63'>db</a>                 63 ext/pdo_sqlite/sqlite_statement.c 			stmt-&gt;row_count = sqlite3_changes(S-&gt;H-&gt;db);</span>
<span class='curline'><a href='../S/954.html#L547'>db</a>                547 ext/pgsql/pgsql.c 	ZEND_ARG_INFO(0, db)</span>
<span class='curline'><a href='../S/954.html#L552'>db</a>                552 ext/pgsql/pgsql.c 	ZEND_ARG_INFO(0, db)</span>
<span class='curline'><a href='../S/954.html#L559'>db</a>                559 ext/pgsql/pgsql.c 	ZEND_ARG_INFO(0, db)</span>
<span class='curline'><a href='../S/954.html#L566'>db</a>                566 ext/pgsql/pgsql.c 	ZEND_ARG_INFO(0, db)</span>
<span class='curline'><a href='../S/954.html#L574'>db</a>                574 ext/pgsql/pgsql.c 	ZEND_ARG_INFO(0, db)</span>
<span class='curline'><a href='../S/954.html#L581'>db</a>                581 ext/pgsql/pgsql.c 	ZEND_ARG_INFO(0, db)</span>
<span class='curline'><a href='../S/1054.html#L2459'>db</a>               2459 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,          /* An open database */</span>
<span class='curline'><a href='../S/1054.html#L3272'>db</a>               3272 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_errcode(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L3273'>db</a>               3273 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_extended_errcode(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L3497'>db</a>               3497 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L3504'>db</a>               3504 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L3511'>db</a>               3511 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L3518'>db</a>               3518 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L4426'>db</a>               4426 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L4436'>db</a>               4436 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L4446'>db</a>               4446 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L4990'>db</a>               4990 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/1054.html#L4994'>db</a>               4994 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/1054.html#L5008'>db</a>               5008 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/1054.html#L5012'>db</a>               5012 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/1054.html#L5202'>db</a>               5202 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API const char *SQLITE_STDCALL sqlite3_db_filename(sqlite3 *db, const char *zDbName);</span>
<span class='curline'><a href='../S/1054.html#L5212'>db</a>               5212 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_db_readonly(sqlite3 *db, const char *zDbName);</span>
<span class='curline'><a href='../S/1054.html#L5533'>db</a>               5533 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                /* Connection handle */</span>
<span class='curline'><a href='../S/1054.html#L5580'>db</a>               5580 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,          /* Load the extension into this database connection */</span>
<span class='curline'><a href='../S/1054.html#L5600'>db</a>               5600 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_enable_load_extension(sqlite3 *db, int onoff);</span>
<span class='curline'><a href='../S/1054.html#L5863'>db</a>               5863 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,               /* SQLite connection to register module with */</span>
<span class='curline'><a href='../S/1054.html#L5869'>db</a>               5869 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,               /* SQLite connection to register module with */</span>
<span class='curline'><a href='../S/1054.html#L7582'>db</a>               7582 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_wal_autocheckpoint(sqlite3 *db, int N);</span>
<span class='curline'><a href='../S/1054.html#L7604'>db</a>               7604 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_wal_checkpoint(sqlite3 *db, const char *zDb);</span>
<span class='curline'><a href='../S/1054.html#L7699'>db</a>               7699 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L7964'>db</a>               7964 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L7990'>db</a>               7990 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L9389'>db</a>               9389 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,             /* Associated database connection */</span>
<span class='curline'><a href='../S/1054.html#L11135'>db</a>               11135 ext/sqlite3/libsqlite/sqlite3.c #define SCHEMA_ENC(db) ((db)-&gt;aDb[0].pSchema-&gt;enc)</span>
<span class='curline'><a href='../S/1054.html#L11136'>db</a>               11136 ext/sqlite3/libsqlite/sqlite3.c #define ENC(db)        ((db)-&gt;enc)</span>
<span class='curline'><a href='../S/1054.html#L11197'>db</a>               11197 ext/sqlite3/libsqlite/sqlite3.c #define OptimizationDisabled(db, mask)  (((db)-&gt;dbOptFlags&amp;(mask))!=0)</span>
<span class='curline'><a href='../S/1054.html#L11198'>db</a>               11198 ext/sqlite3/libsqlite/sqlite3.c #define OptimizationEnabled(db, mask)   (((db)-&gt;dbOptFlags&amp;(mask))==0)</span>
<span class='curline'><a href='../S/1054.html#L11200'>db</a>               11200 ext/sqlite3/libsqlite/sqlite3.c #define OptimizationDisabled(db, mask)  0</span>
<span class='curline'><a href='../S/1054.html#L11201'>db</a>               11201 ext/sqlite3/libsqlite/sqlite3.c #define OptimizationEnabled(db, mask)   1</span>
<span class='curline'><a href='../S/1054.html#L11492'>db</a>               11492 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;              /* Database connection associated with this table */</span>
<span class='curline'><a href='../S/1054.html#L11672'>db</a>               11672 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;        /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L12500'>db</a>               12500 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;         /* The main database structure */</span>
<span class='curline'><a href='../S/1054.html#L12749'>db</a>               12749 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;         /* Optional database for lookaside.  Can be NULL */</span>
<span class='curline'><a href='../S/1054.html#L12765'>db</a>               12765 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;        /* The database being initialized */</span>
<span class='curline'><a href='../S/1054.html#L13496'>db</a>               13496 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3SchemaToIndex(sqlite3 *db, Schema *);</span>
<span class='curline'><a href='../S/1054.html#L13509'>db</a>               13509 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3ApiExit(sqlite3 *db, int);</span>
<span class='curline'><a href='../S/1054.html#L13564'>db</a>               13564 ext/sqlite3/libsqlite/sqlite3.c #  define sqlite3VtabInSync(db) 0</span>
<span class='curline'><a href='../S/1054.html#L13571'>db</a>               13571 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE    void sqlite3VtabClear(sqlite3 *db, Table*);</span>
<span class='curline'><a href='../S/1054.html#L13572'>db</a>               13572 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE    void sqlite3VtabDisconnect(sqlite3 *db, Table *p);</span>
<span class='curline'><a href='../S/1054.html#L13573'>db</a>               13573 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE    int sqlite3VtabSync(sqlite3 *db, Vdbe*);</span>
<span class='curline'><a href='../S/1054.html#L13574'>db</a>               13574 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE    int sqlite3VtabRollback(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L13575'>db</a>               13575 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE    int sqlite3VtabCommit(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L13582'>db</a>               13582 ext/sqlite3/libsqlite/sqlite3.c #  define sqlite3VtabInSync(db) ((db)-&gt;nVTrans&gt;0 &amp;&amp; (db)-&gt;aVTrans==0)</span>
<span class='curline'><a href='../S/1054.html#L13710'>db</a>               13710 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE   void sqlite3ConnectionUnlocked(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L13711'>db</a>               13711 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE   void sqlite3ConnectionClosed(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L14682'>db</a>               14682 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;        /* The associated database connection */</span>
<span class='curline'><a href='../S/1054.html#L14819'>db</a>               14819 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;            /* The database connection that owns this statement */</span>
<span class='curline'><a href='../S/1054.html#L15154'>db</a>               15154 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,          /* The database connection whose status is desired */</span>
<span class='curline'><a href='../S/1054.html#L15162'>db</a>               15162 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) || pCurrent==0|| pHighwater==0 ){</span>
<span class='curline'><a href='../S/1054.html#L15166'>db</a>               15166 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L15169'>db</a>               15169 ext/sqlite3/libsqlite/sqlite3.c       *pCurrent = db-&gt;lookaside.nOut;</span>
<span class='curline'><a href='../S/1054.html#L15170'>db</a>               15170 ext/sqlite3/libsqlite/sqlite3.c       *pHighwater = db-&gt;lookaside.mxOut;</span>
<span class='curline'><a href='../S/1054.html#L15172'>db</a>               15172 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;lookaside.mxOut = db-&gt;lookaside.nOut;</span>
<span class='curline'><a href='../S/1054.html#L15186'>db</a>               15186 ext/sqlite3/libsqlite/sqlite3.c       *pHighwater = db-&gt;lookaside.anStat[op - SQLITE_DBSTATUS_LOOKASIDE_HIT];</span>
<span class='curline'><a href='../S/1054.html#L15188'>db</a>               15188 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;lookaside.anStat[op - SQLITE_DBSTATUS_LOOKASIDE_HIT] = 0;</span>
<span class='curline'><a href='../S/1054.html#L15201'>db</a>               15201 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/1054.html#L15202'>db</a>               15202 ext/sqlite3/libsqlite/sqlite3.c       for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L15203'>db</a>               15203 ext/sqlite3/libsqlite/sqlite3.c         Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L15209'>db</a>               15209 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L15224'>db</a>               15224 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/1054.html#L15225'>db</a>               15225 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;pnBytesFreed = &amp;nByte;</span>
<span class='curline'><a href='../S/1054.html#L15226'>db</a>               15226 ext/sqlite3/libsqlite/sqlite3.c       for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L15227'>db</a>               15227 ext/sqlite3/libsqlite/sqlite3.c         Schema *pSchema = db-&gt;aDb[i].pSchema;</span>
<span class='curline'><a href='../S/1054.html#L15243'>db</a>               15243 ext/sqlite3/libsqlite/sqlite3.c             sqlite3DeleteTrigger(db, (Trigger*)sqliteHashData(p));</span>
<span class='curline'><a href='../S/1054.html#L15246'>db</a>               15246 ext/sqlite3/libsqlite/sqlite3.c             sqlite3DeleteTable(db, (Table *)sqliteHashData(p));</span>
<span class='curline'><a href='../S/1054.html#L15250'>db</a>               15250 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;pnBytesFreed = 0;</span>
<span class='curline'><a href='../S/1054.html#L15251'>db</a>               15251 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L15267'>db</a>               15267 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;pnBytesFreed = &amp;nByte;</span>
<span class='curline'><a href='../S/1054.html#L15268'>db</a>               15268 ext/sqlite3/libsqlite/sqlite3.c       for(pVdbe=db-&gt;pVdbe; pVdbe; pVdbe=pVdbe-&gt;pNext){</span>
<span class='curline'><a href='../S/1054.html#L15269'>db</a>               15269 ext/sqlite3/libsqlite/sqlite3.c         sqlite3VdbeClearObject(db, pVdbe);</span>
<span class='curline'><a href='../S/1054.html#L15270'>db</a>               15270 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, pVdbe);</span>
<span class='curline'><a href='../S/1054.html#L15272'>db</a>               15272 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;pnBytesFreed = 0;</span>
<span class='curline'><a href='../S/1054.html#L15293'>db</a>               15293 ext/sqlite3/libsqlite/sqlite3.c       for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L15294'>db</a>               15294 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;aDb[i].pBt ){</span>
<span class='curline'><a href='../S/1054.html#L15295'>db</a>               15295 ext/sqlite3/libsqlite/sqlite3.c           Pager *pPager = sqlite3BtreePager(db-&gt;aDb[i].pBt);</span>
<span class='curline'><a href='../S/1054.html#L15312'>db</a>               15312 ext/sqlite3/libsqlite/sqlite3.c       *pCurrent = db-&gt;nDeferredImmCons&gt;0 || db-&gt;nDeferredCons&gt;0;</span>
<span class='curline'><a href='../S/1054.html#L15320'>db</a>               15320 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L16221'>db</a>               16221 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L16227'>db</a>               16227 ext/sqlite3/libsqlite/sqlite3.c   db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L16263'>db</a>               16263 ext/sqlite3/libsqlite/sqlite3.c   testcase( n==(u64)db-&gt;aLimit[SQLITE_LIMIT_LENGTH]+1 );</span>
<span class='curline'><a href='../S/1054.html#L16264'>db</a>               16264 ext/sqlite3/libsqlite/sqlite3.c   testcase( n==(u64)db-&gt;aLimit[SQLITE_LIMIT_LENGTH] );</span>
<span class='curline'><a href='../S/1054.html#L16267'>db</a>               16267 ext/sqlite3/libsqlite/sqlite3.c   }else if( n&gt;(u64)db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/1054.html#L16271'>db</a>               16271 ext/sqlite3/libsqlite/sqlite3.c     z = sqlite3DbMallocRaw(db, (int)n);</span>
<span class='curline'><a href='../S/1054.html#L16407'>db</a>               16407 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L20962'>db</a>               20962 ext/sqlite3/libsqlite/sqlite3.c static int isLookaside(sqlite3 *db, void *p){</span>
<span class='curline'><a href='../S/1054.html#L20963'>db</a>               20963 ext/sqlite3/libsqlite/sqlite3.c   return p&gt;=db-&gt;lookaside.pStart &amp;&amp; p&lt;db-&gt;lookaside.pEnd;</span>
<span class='curline'><a href='../S/1054.html#L20977'>db</a>               20977 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3DbMallocSize(sqlite3 *db, void *p){</span>
<span class='curline'><a href='../S/1054.html#L20978'>db</a>               20978 ext/sqlite3/libsqlite/sqlite3.c   if( db==0 ){</span>
<span class='curline'><a href='../S/1054.html#L20983'>db</a>               20983 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L20984'>db</a>               20984 ext/sqlite3/libsqlite/sqlite3.c     if( isLookaside(db, p) ){</span>
<span class='curline'><a href='../S/1054.html#L20985'>db</a>               20985 ext/sqlite3/libsqlite/sqlite3.c       return db-&gt;lookaside.sz;</span>
<span class='curline'><a href='../S/1054.html#L21021'>db</a>               21021 ext/sqlite3/libsqlite/sqlite3.c static SQLITE_NOINLINE void measureAllocationSize(sqlite3 *db, void *p){</span>
<span class='curline'><a href='../S/1054.html#L21022'>db</a>               21022 ext/sqlite3/libsqlite/sqlite3.c   *db-&gt;pnBytesFreed += sqlite3DbMallocSize(db,p);</span>
<span class='curline'><a href='../S/1054.html#L21029'>db</a>               21029 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3DbFree(sqlite3 *db, void *p){</span>
<span class='curline'><a href='../S/1054.html#L21030'>db</a>               21030 ext/sqlite3/libsqlite/sqlite3.c   assert( db==0 || sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L21032'>db</a>               21032 ext/sqlite3/libsqlite/sqlite3.c   if( db ){</span>
<span class='curline'><a href='../S/1054.html#L21033'>db</a>               21033 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;pnBytesFreed ){</span>
<span class='curline'><a href='../S/1054.html#L21034'>db</a>               21034 ext/sqlite3/libsqlite/sqlite3.c       measureAllocationSize(db, p);</span>
<span class='curline'><a href='../S/1054.html#L21037'>db</a>               21037 ext/sqlite3/libsqlite/sqlite3.c     if( isLookaside(db, p) ){</span>
<span class='curline'><a href='../S/1054.html#L21041'>db</a>               21041 ext/sqlite3/libsqlite/sqlite3.c       memset(p, 0xaa, db-&gt;lookaside.sz);</span>
<span class='curline'><a href='../S/1054.html#L21043'>db</a>               21043 ext/sqlite3/libsqlite/sqlite3.c       pBuf-&gt;pNext = db-&gt;lookaside.pFree;</span>
<span class='curline'><a href='../S/1054.html#L21044'>db</a>               21044 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;lookaside.pFree = pBuf;</span>
<span class='curline'><a href='../S/1054.html#L21045'>db</a>               21045 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;lookaside.nOut--;</span>
<span class='curline'><a href='../S/1054.html#L21051'>db</a>               21051 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 || sqlite3MemdebugNoType(p, MEMTYPE_LOOKASIDE) );</span>
<span class='curline'><a href='../S/1054.html#L21141'>db</a>               21141 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void *sqlite3DbMallocZero(sqlite3 *db, u64 n){</span>
<span class='curline'><a href='../S/1054.html#L21142'>db</a>               21142 ext/sqlite3/libsqlite/sqlite3.c   void *p = sqlite3DbMallocRaw(db, n);</span>
<span class='curline'><a href='../S/1054.html#L21167'>db</a>               21167 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void *sqlite3DbMallocRaw(sqlite3 *db, u64 n){</span>
<span class='curline'><a href='../S/1054.html#L21169'>db</a>               21169 ext/sqlite3/libsqlite/sqlite3.c   assert( db==0 || sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L21170'>db</a>               21170 ext/sqlite3/libsqlite/sqlite3.c   assert( db==0 || db-&gt;pnBytesFreed==0 );</span>
<span class='curline'><a href='../S/1054.html#L21172'>db</a>               21172 ext/sqlite3/libsqlite/sqlite3.c   if( db ){</span>
<span class='curline'><a href='../S/1054.html#L21174'>db</a>               21174 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L21177'>db</a>               21177 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;lookaside.bEnabled ){</span>
<span class='curline'><a href='../S/1054.html#L21178'>db</a>               21178 ext/sqlite3/libsqlite/sqlite3.c       if( n&gt;db-&gt;lookaside.sz ){</span>
<span class='curline'><a href='../S/1054.html#L21179'>db</a>               21179 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;lookaside.anStat[1]++;</span>
<span class='curline'><a href='../S/1054.html#L21180'>db</a>               21180 ext/sqlite3/libsqlite/sqlite3.c       }else if( (pBuf = db-&gt;lookaside.pFree)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L21181'>db</a>               21181 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;lookaside.anStat[2]++;</span>
<span class='curline'><a href='../S/1054.html#L21183'>db</a>               21183 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;lookaside.pFree = pBuf-&gt;pNext;</span>
<span class='curline'><a href='../S/1054.html#L21184'>db</a>               21184 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;lookaside.nOut++;</span>
<span class='curline'><a href='../S/1054.html#L21185'>db</a>               21185 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;lookaside.anStat[0]++;</span>
<span class='curline'><a href='../S/1054.html#L21186'>db</a>               21186 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;lookaside.nOut&gt;db-&gt;lookaside.mxOut ){</span>
<span class='curline'><a href='../S/1054.html#L21187'>db</a>               21187 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;lookaside.mxOut = db-&gt;lookaside.nOut;</span>
<span class='curline'><a href='../S/1054.html#L21194'>db</a>               21194 ext/sqlite3/libsqlite/sqlite3.c   if( db &amp;&amp; db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L21199'>db</a>               21199 ext/sqlite3/libsqlite/sqlite3.c   if( !p &amp;&amp; db ){</span>
<span class='curline'><a href='../S/1054.html#L21200'>db</a>               21200 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L21203'>db</a>               21203 ext/sqlite3/libsqlite/sqlite3.c          (db &amp;&amp; db-&gt;lookaside.bEnabled) ? MEMTYPE_LOOKASIDE : MEMTYPE_HEAP);</span>
<span class='curline'><a href='../S/1054.html#L21211'>db</a>               21211 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void *sqlite3DbRealloc(sqlite3 *db, void *p, u64 n){</span>
<span class='curline'><a href='../S/1054.html#L21213'>db</a>               21213 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L21214'>db</a>               21214 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L21215'>db</a>               21215 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed==0 ){</span>
<span class='curline'><a href='../S/1054.html#L21217'>db</a>               21217 ext/sqlite3/libsqlite/sqlite3.c       return sqlite3DbMallocRaw(db, n);</span>
<span class='curline'><a href='../S/1054.html#L21219'>db</a>               21219 ext/sqlite3/libsqlite/sqlite3.c     if( isLookaside(db, p) ){</span>
<span class='curline'><a href='../S/1054.html#L21220'>db</a>               21220 ext/sqlite3/libsqlite/sqlite3.c       if( n&lt;=db-&gt;lookaside.sz ){</span>
<span class='curline'><a href='../S/1054.html#L21223'>db</a>               21223 ext/sqlite3/libsqlite/sqlite3.c       pNew = sqlite3DbMallocRaw(db, n);</span>
<span class='curline'><a href='../S/1054.html#L21225'>db</a>               21225 ext/sqlite3/libsqlite/sqlite3.c         memcpy(pNew, p, db-&gt;lookaside.sz);</span>
<span class='curline'><a href='../S/1054.html#L21226'>db</a>               21226 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L21234'>db</a>               21234 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L21237'>db</a>               21237 ext/sqlite3/libsqlite/sqlite3.c             (db-&gt;lookaside.bEnabled ? MEMTYPE_LOOKASIDE : MEMTYPE_HEAP));</span>
<span class='curline'><a href='../S/1054.html#L21247'>db</a>               21247 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void *sqlite3DbReallocOrFree(sqlite3 *db, void *p, u64 n){</span>
<span class='curline'><a href='../S/1054.html#L21249'>db</a>               21249 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3DbRealloc(db, p, n);</span>
<span class='curline'><a href='../S/1054.html#L21251'>db</a>               21251 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L21263'>db</a>               21263 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE char *sqlite3DbStrDup(sqlite3 *db, const char *z){</span>
<span class='curline'><a href='../S/1054.html#L21271'>db</a>               21271 ext/sqlite3/libsqlite/sqlite3.c   zNew = sqlite3DbMallocRaw(db, (int)n);</span>
<span class='curline'><a href='../S/1054.html#L21277'>db</a>               21277 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE char *sqlite3DbStrNDup(sqlite3 *db, const char *z, u64 n){</span>
<span class='curline'><a href='../S/1054.html#L21283'>db</a>               21283 ext/sqlite3/libsqlite/sqlite3.c   zNew = sqlite3DbMallocRaw(db, n+1);</span>
<span class='curline'><a href='../S/1054.html#L21296'>db</a>               21296 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3SetString(char **pz, sqlite3 *db, const char *zFormat, ...){</span>
<span class='curline'><a href='../S/1054.html#L21301'>db</a>               21301 ext/sqlite3/libsqlite/sqlite3.c   z = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/1054.html#L21303'>db</a>               21303 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, *pz);</span>
<span class='curline'><a href='../S/1054.html#L21310'>db</a>               21310 ext/sqlite3/libsqlite/sqlite3.c static SQLITE_NOINLINE int apiOomError(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L21311'>db</a>               21311 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;mallocFailed = 0;</span>
<span class='curline'><a href='../S/1054.html#L21312'>db</a>               21312 ext/sqlite3/libsqlite/sqlite3.c   sqlite3Error(db, SQLITE_NOMEM);</span>
<span class='curline'><a href='../S/1054.html#L21329'>db</a>               21329 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3ApiExit(sqlite3* db, int rc){</span>
<span class='curline'><a href='../S/1054.html#L21334'>db</a>               21334 ext/sqlite3/libsqlite/sqlite3.c   assert( !db || sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L21335'>db</a>               21335 ext/sqlite3/libsqlite/sqlite3.c   if( db==0 ) return rc &amp; 0xff;</span>
<span class='curline'><a href='../S/1054.html#L21336'>db</a>               21336 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed || rc==SQLITE_IOERR_NOMEM ){</span>
<span class='curline'><a href='../S/1054.html#L21337'>db</a>               21337 ext/sqlite3/libsqlite/sqlite3.c     return apiOomError(db);</span>
<span class='curline'><a href='../S/1054.html#L21339'>db</a>               21339 ext/sqlite3/libsqlite/sqlite3.c   return rc &amp; db-&gt;errMask;</span>
<span class='curline'><a href='../S/1054.html#L22119'>db</a>               22119 ext/sqlite3/libsqlite/sqlite3.c     if( p-&gt;db ){</span>
<span class='curline'><a href='../S/1054.html#L22120'>db</a>               22120 ext/sqlite3/libsqlite/sqlite3.c       zNew = sqlite3DbRealloc(p-&gt;db, zOld, p-&gt;nAlloc);</span>
<span class='curline'><a href='../S/1054.html#L22128'>db</a>               22128 ext/sqlite3/libsqlite/sqlite3.c       p-&gt;nAlloc = sqlite3DbMallocSize(p-&gt;db, zNew);</span>
<span class='curline'><a href='../S/1054.html#L22200'>db</a>               22200 ext/sqlite3/libsqlite/sqlite3.c       p-&gt;zText = sqlite3DbMallocRaw(p-&gt;db, p-&gt;nChar+1 );</span>
<span class='curline'><a href='../S/1054.html#L22216'>db</a>               22216 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(p-&gt;db, p-&gt;zText);</span>
<span class='curline'><a href='../S/1054.html#L22235'>db</a>               22235 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3StrAccumInit(StrAccum *p, sqlite3 *db, char *zBase, int n, int mx){</span>
<span class='curline'><a href='../S/1054.html#L22237'>db</a>               22237 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L22248'>db</a>               22248 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE char *sqlite3VMPrintf(sqlite3 *db, const char *zFormat, va_list ap){</span>
<span class='curline'><a href='../S/1054.html#L22252'>db</a>               22252 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L22253'>db</a>               22253 ext/sqlite3/libsqlite/sqlite3.c   sqlite3StrAccumInit(&amp;acc, db, zBase, sizeof(zBase),</span>
<span class='curline'><a href='../S/1054.html#L22254'>db</a>               22254 ext/sqlite3/libsqlite/sqlite3.c                       db-&gt;aLimit[SQLITE_LIMIT_LENGTH]);</span>
<span class='curline'><a href='../S/1054.html#L22258'>db</a>               22258 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L22267'>db</a>               22267 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE char *sqlite3MPrintf(sqlite3 *db, const char *zFormat, ...){</span>
<span class='curline'><a href='../S/1054.html#L22271'>db</a>               22271 ext/sqlite3/libsqlite/sqlite3.c   z = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/1054.html#L22284'>db</a>               22284 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE char *sqlite3MAppendf(sqlite3 *db, char *zStr, const char *zFormat, ...){</span>
<span class='curline'><a href='../S/1054.html#L22288'>db</a>               22288 ext/sqlite3/libsqlite/sqlite3.c   z = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/1054.html#L22290'>db</a>               22290 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zStr);</span>
<span class='curline'><a href='../S/1054.html#L23104'>db</a>               23104 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L23168'>db</a>               23168 ext/sqlite3/libsqlite/sqlite3.c   zOut = sqlite3DbMallocRaw(pMem-&gt;db, len);</span>
<span class='curline'><a href='../S/1054.html#L23217'>db</a>               23217 ext/sqlite3/libsqlite/sqlite3.c   pMem-&gt;szMalloc = sqlite3DbMallocSize(pMem-&gt;db, pMem-&gt;z);</span>
<span class='curline'><a href='../S/1054.html#L23331'>db</a>               23331 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE char *sqlite3Utf16to8(sqlite3 *db, const void *z, int nByte, u8 enc){</span>
<span class='curline'><a href='../S/1054.html#L23334'>db</a>               23334 ext/sqlite3/libsqlite/sqlite3.c   m.db = db;</span>
<span class='curline'><a href='../S/1054.html#L23337'>db</a>               23337 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L23341'>db</a>               23341 ext/sqlite3/libsqlite/sqlite3.c   assert( (m.flags &amp; MEM_Term)!=0 || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L23342'>db</a>               23342 ext/sqlite3/libsqlite/sqlite3.c   assert( (m.flags &amp; MEM_Str)!=0 || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L23343'>db</a>               23343 ext/sqlite3/libsqlite/sqlite3.c   assert( m.z || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L23543'>db</a>               23543 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3Error(sqlite3 *db, int err_code){</span>
<span class='curline'><a href='../S/1054.html#L23544'>db</a>               23544 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L23545'>db</a>               23545 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;errCode = err_code;</span>
<span class='curline'><a href='../S/1054.html#L23546'>db</a>               23546 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;pErr ) sqlite3ValueSetNull(db-&gt;pErr);</span>
<span class='curline'><a href='../S/1054.html#L23570'>db</a>               23570 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3ErrorWithMsg(sqlite3 *db, int err_code, const char *zFormat, ...){</span>
<span class='curline'><a href='../S/1054.html#L23571'>db</a>               23571 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L23572'>db</a>               23572 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;errCode = err_code;</span>
<span class='curline'><a href='../S/1054.html#L23574'>db</a>               23574 ext/sqlite3/libsqlite/sqlite3.c     sqlite3Error(db, err_code);</span>
<span class='curline'><a href='../S/1054.html#L23575'>db</a>               23575 ext/sqlite3/libsqlite/sqlite3.c   }else if( db-&gt;pErr || (db-&gt;pErr = sqlite3ValueNew(db))!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L23579'>db</a>               23579 ext/sqlite3/libsqlite/sqlite3.c     z = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/1054.html#L23581'>db</a>               23581 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ValueSetStr(db-&gt;pErr, -1, z, SQLITE_UTF8, SQLITE_DYNAMIC);</span>
<span class='curline'><a href='../S/1054.html#L23605'>db</a>               23605 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L23607'>db</a>               23607 ext/sqlite3/libsqlite/sqlite3.c   zMsg = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/1054.html#L23609'>db</a>               23609 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;suppressErr ){</span>
<span class='curline'><a href='../S/1054.html#L23610'>db</a>               23610 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zMsg);</span>
<span class='curline'><a href='../S/1054.html#L23613'>db</a>               23613 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pParse-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L24544'>db</a>               24544 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void *sqlite3HexToBlob(sqlite3 *db, const char *z, int n){</span>
<span class='curline'><a href='../S/1054.html#L24548'>db</a>               24548 ext/sqlite3/libsqlite/sqlite3.c   zBlob = (char *)sqlite3DbMallocRaw(db, n/2 + 1);</span>
<span class='curline'><a href='../S/1054.html#L24586'>db</a>               24586 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3SafetyCheckOk(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L24588'>db</a>               24588 ext/sqlite3/libsqlite/sqlite3.c   if( db==0 ){</span>
<span class='curline'><a href='../S/1054.html#L24592'>db</a>               24592 ext/sqlite3/libsqlite/sqlite3.c   magic = db-&gt;magic;</span>
<span class='curline'><a href='../S/1054.html#L24594'>db</a>               24594 ext/sqlite3/libsqlite/sqlite3.c     if( sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L24603'>db</a>               24603 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3SafetyCheckSickOrOk(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L24605'>db</a>               24605 ext/sqlite3/libsqlite/sqlite3.c   magic = db-&gt;magic;</span>
<span class='curline'><a href='../S/1054.html#L41089'>db</a>               41089 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;                   /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L41117'>db</a>               41117 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE RowSet *sqlite3RowSetInit(sqlite3 *db, void *pSpace, unsigned int N){</span>
<span class='curline'><a href='../S/1054.html#L41122'>db</a>               41122 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L41142'>db</a>               41142 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(p-&gt;db, pChunk);</span>
<span class='curline'><a href='../S/1054.html#L41164'>db</a>               41164 ext/sqlite3/libsqlite/sqlite3.c     pNew = sqlite3DbMallocRaw(p-&gt;db, sizeof(*pNew));</span>
<span class='curline'><a href='../S/1054.html#L52429'>db</a>               52429 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;       /* The database connection holding this btree */</span>
<span class='curline'><a href='../S/1054.html#L52492'>db</a>               52492 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;          /* Database connection currently using this Btree */</span>
<span class='curline'><a href='../S/1054.html#L52778'>db</a>               52778 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L52781'>db</a>               52781 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;pBt-&gt;db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L52793'>db</a>               52793 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L52794'>db</a>               52794 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;db==pBt-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L52826'>db</a>               52826 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;pNext==0 || p-&gt;pNext-&gt;db==p-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L52827'>db</a>               52827 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;pPrev==0 || p-&gt;pPrev-&gt;db==p-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L52835'>db</a>               52835 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L52839'>db</a>               52839 ext/sqlite3/libsqlite/sqlite3.c   assert( (p-&gt;locked==0 &amp;&amp; p-&gt;sharable) || p-&gt;pBt-&gt;db==p-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L52861'>db</a>               52861 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;pBt-&gt;db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L52892'>db</a>               52892 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L52911'>db</a>               52911 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;sharable==0 || p-&gt;locked==0 || p-&gt;db==p-&gt;pBt-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L52913'>db</a>               52913 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;sharable==0 || p-&gt;locked==0 || sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L52949'>db</a>               52949 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3BtreeEnterAll(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L52952'>db</a>               52952 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L52953'>db</a>               52953 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L52954'>db</a>               52954 ext/sqlite3/libsqlite/sqlite3.c     p = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L52958'>db</a>               52958 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3BtreeLeaveAll(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L52961'>db</a>               52961 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L52962'>db</a>               52962 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L52963'>db</a>               52963 ext/sqlite3/libsqlite/sqlite3.c     p = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L52983'>db</a>               52983 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3BtreeHoldsAllMutexes(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L52985'>db</a>               52985 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3_mutex_held(db-&gt;mutex) ){</span>
<span class='curline'><a href='../S/1054.html#L52988'>db</a>               52988 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L52990'>db</a>               52990 ext/sqlite3/libsqlite/sqlite3.c     p = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L53012'>db</a>               53012 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3SchemaMutexHeld(sqlite3 *db, int iDb, Schema *pSchema){</span>
<span class='curline'><a href='../S/1054.html#L53014'>db</a>               53014 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L53015'>db</a>               53015 ext/sqlite3/libsqlite/sqlite3.c   if( pSchema ) iDb = sqlite3SchemaToIndex(db, pSchema);</span>
<span class='curline'><a href='../S/1054.html#L53016'>db</a>               53016 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L53017'>db</a>               53017 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3_mutex_held(db-&gt;mutex) ) return 0;</span>
<span class='curline'><a href='../S/1054.html#L53019'>db</a>               53019 ext/sqlite3/libsqlite/sqlite3.c   p = db-&gt;aDb[iDb].pBt;</span>
<span class='curline'><a href='../S/1054.html#L53037'>db</a>               53037 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;pBt-&gt;db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L53039'>db</a>               53039 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3BtreeEnterAll(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L53041'>db</a>               53041 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L53042'>db</a>               53042 ext/sqlite3/libsqlite/sqlite3.c     Btree *p = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L53044'>db</a>               53044 ext/sqlite3/libsqlite/sqlite3.c       p-&gt;pBt-&gt;db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L53206'>db</a>               53206 ext/sqlite3/libsqlite/sqlite3.c    || (eLockType==READ_LOCK &amp;&amp; (pBtree-&gt;db-&gt;flags &amp; SQLITE_ReadUncommitted))</span>
<span class='curline'><a href='../S/1054.html#L53283'>db</a>               53283 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; 0==(p-&gt;pBtree-&gt;db-&gt;flags &amp; SQLITE_ReadUncommitted)</span>
<span class='curline'><a href='../S/1054.html#L53304'>db</a>               53304 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L53305'>db</a>               53305 ext/sqlite3/libsqlite/sqlite3.c   assert( !(p-&gt;db-&gt;flags&amp;SQLITE_ReadUncommitted)||eLock==WRITE_LOCK||iTab==1 );</span>
<span class='curline'><a href='../S/1054.html#L53323'>db</a>               53323 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ConnectionBlocked(p-&gt;db, pBt-&gt;pWriter-&gt;db);</span>
<span class='curline'><a href='../S/1054.html#L53340'>db</a>               53340 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ConnectionBlocked(p-&gt;db, pIter-&gt;pBtree-&gt;db);</span>
<span class='curline'><a href='../S/1054.html#L53377'>db</a>               53377 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L53383'>db</a>               53383 ext/sqlite3/libsqlite/sqlite3.c   assert( 0==(p-&gt;db-&gt;flags&amp;SQLITE_ReadUncommitted) || eLock==WRITE_LOCK );</span>
<span class='curline'><a href='../S/1054.html#L53783'>db</a>               53783 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(pCur-&gt;pKeyInfo-&gt;db, pFree);</span>
<span class='curline'><a href='../S/1054.html#L53791'>db</a>               53791 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(pCur-&gt;pKeyInfo-&gt;db, pFree);</span>
<span class='curline'><a href='../S/1054.html#L54923'>db</a>               54923 ext/sqlite3/libsqlite/sqlite3.c   assert( pBt-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L54924'>db</a>               54924 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pBt-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L54925'>db</a>               54925 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3InvokeBusyHandler(&amp;pBt-&gt;db-&gt;busyHandler);</span>
<span class='curline'><a href='../S/1054.html#L54952'>db</a>               54952 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,            /* Associated database handle */</span>
<span class='curline'><a href='../S/1054.html#L54974'>db</a>               54974 ext/sqlite3/libsqlite/sqlite3.c                        || (isTempDb &amp;&amp; sqlite3TempInMemory(db))</span>
<span class='curline'><a href='../S/1054.html#L54978'>db</a>               54978 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L54980'>db</a>               54980 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L55000'>db</a>               55000 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L55045'>db</a>               55045 ext/sqlite3/libsqlite/sqlite3.c           for(iDb=db-&gt;nDb-1; iDb&gt;=0; iDb--){</span>
<span class='curline'><a href='../S/1054.html#L55046'>db</a>               55046 ext/sqlite3/libsqlite/sqlite3.c             Btree *pExisting = db-&gt;aDb[iDb].pBt;</span>
<span class='curline'><a href='../S/1054.html#L55095'>db</a>               55095 ext/sqlite3/libsqlite/sqlite3.c       sqlite3PagerSetMmapLimit(pBt-&gt;pPager, db-&gt;szMmap);</span>
<span class='curline'><a href='../S/1054.html#L55102'>db</a>               55102 ext/sqlite3/libsqlite/sqlite3.c     pBt-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L55159'>db</a>               55159 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;mallocFailed = 0;</span>
<span class='curline'><a href='../S/1054.html#L55179'>db</a>               55179 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L55180'>db</a>               55180 ext/sqlite3/libsqlite/sqlite3.c       if( (pSib = db-&gt;aDb[i].pBt)!=0 &amp;&amp; pSib-&gt;sharable ){</span>
<span class='curline'><a href='../S/1054.html#L55318'>db</a>               55318 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L55385'>db</a>               55385 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L55399'>db</a>               55399 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L55421'>db</a>               55421 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L55436'>db</a>               55436 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );  </span>
<span class='curline'><a href='../S/1054.html#L55742'>db</a>               55742 ext/sqlite3/libsqlite/sqlite3.c     if( (pBt-&gt;db-&gt;flags &amp; SQLITE_RecoveryMode)==0 &amp;&amp; nPage&gt;nPageFile ){</span>
<span class='curline'><a href='../S/1054.html#L55961'>db</a>               55961 ext/sqlite3/libsqlite/sqlite3.c     pBlock = pBt-&gt;pWriter-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L55966'>db</a>               55966 ext/sqlite3/libsqlite/sqlite3.c         pBlock = pIter-&gt;pBtree-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L55972'>db</a>               55972 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ConnectionBlocked(p-&gt;db, pBlock);</span>
<span class='curline'><a href='../S/1054.html#L56000'>db</a>               56000 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3PagerBegin(pBt-&gt;pPager,wrflag&gt;1,sqlite3TempInMemory(p-&gt;db));</span>
<span class='curline'><a href='../S/1054.html#L56060'>db</a>               56060 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3PagerOpenSavepoint(pBt-&gt;pPager, p-&gt;db-&gt;nSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L56550'>db</a>               56550 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L56556'>db</a>               56556 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;inTrans&gt;TRANS_NONE &amp;&amp; db-&gt;nVdbeRead&gt;1 ){</span>
<span class='curline'><a href='../S/1054.html#L56798'>db</a>               56798 ext/sqlite3/libsqlite/sqlite3.c   assert( iStatement&gt;p-&gt;db-&gt;nSavepoint );</span>
<span class='curline'><a href='../S/1054.html#L57356'>db</a>               57356 ext/sqlite3/libsqlite/sqlite3.c         assert( pCur-&gt;pBtree-&gt;db==pBt-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L57508'>db</a>               57508 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCur-&gt;pBtree-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L57774'>db</a>               57774 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCur-&gt;pBtree-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L57797'>db</a>               57797 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCur-&gt;pBtree-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L57873'>db</a>               57873 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCur-&gt;pBtree-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L58020'>db</a>               58020 ext/sqlite3/libsqlite/sqlite3.c          &amp;&amp; (pIdxKey-&gt;errCode!=SQLITE_NOMEM || pCur-&gt;pBtree-&gt;db-&gt;mallocFailed)</span>
<span class='curline'><a href='../S/1054.html#L61157'>db</a>               61157 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ConnectionBlocked(p-&gt;db, pBt-&gt;pCursor-&gt;pBtree-&gt;db);</span>
<span class='curline'><a href='../S/1054.html#L62053'>db</a>               62053 ext/sqlite3/libsqlite/sqlite3.c   assert( p==0 || sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L62087'>db</a>               62087 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L62093'>db</a>               62093 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L62135'>db</a>               62135 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L62183'>db</a>               62183 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCsr-&gt;pBtree-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L62391'>db</a>               62391 ext/sqlite3/libsqlite/sqlite3.c       pParse-&gt;db = pDb;</span>
<span class='curline'><a href='../S/1054.html#L62429'>db</a>               62429 ext/sqlite3/libsqlite/sqlite3.c static int checkReadTransaction(sqlite3 *db, Btree *p){</span>
<span class='curline'><a href='../S/1054.html#L62431'>db</a>               62431 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ErrorWithMsg(db, SQLITE_ERROR, "destination database is in use");</span>
<span class='curline'><a href='../S/1054.html#L63058'>db</a>               63058 ext/sqlite3/libsqlite/sqlite3.c   b.pSrcDb = pFrom-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L63131'>db</a>               63131 ext/sqlite3/libsqlite/sqlite3.c        || p-&gt;szMalloc==sqlite3DbMallocSize(p-&gt;db,p-&gt;zMalloc) );</span>
<span class='curline'><a href='../S/1054.html#L63177'>db</a>               63177 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63212'>db</a>               63212 ext/sqlite3/libsqlite/sqlite3.c        || pMem-&gt;szMalloc==sqlite3DbMallocSize(pMem-&gt;db, pMem-&gt;zMalloc) );</span>
<span class='curline'><a href='../S/1054.html#L63216'>db</a>               63216 ext/sqlite3/libsqlite/sqlite3.c       pMem-&gt;z = pMem-&gt;zMalloc = sqlite3DbReallocOrFree(pMem-&gt;db, pMem-&gt;z, n);</span>
<span class='curline'><a href='../S/1054.html#L63219'>db</a>               63219 ext/sqlite3/libsqlite/sqlite3.c       if( pMem-&gt;szMalloc&gt;0 ) sqlite3DbFree(pMem-&gt;db, pMem-&gt;zMalloc);</span>
<span class='curline'><a href='../S/1054.html#L63220'>db</a>               63220 ext/sqlite3/libsqlite/sqlite3.c       pMem-&gt;zMalloc = sqlite3DbMallocRaw(pMem-&gt;db, n);</span>
<span class='curline'><a href='../S/1054.html#L63228'>db</a>               63228 ext/sqlite3/libsqlite/sqlite3.c       pMem-&gt;szMalloc = sqlite3DbMallocSize(pMem-&gt;db, pMem-&gt;zMalloc);</span>
<span class='curline'><a href='../S/1054.html#L63278'>db</a>               63278 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63308'>db</a>               63308 ext/sqlite3/libsqlite/sqlite3.c     assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63345'>db</a>               63345 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63373'>db</a>               63373 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63419'>db</a>               63419 ext/sqlite3/libsqlite/sqlite3.c     assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63423'>db</a>               63423 ext/sqlite3/libsqlite/sqlite3.c     t.db = pMem-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L63429'>db</a>               63429 ext/sqlite3/libsqlite/sqlite3.c     if( pMem-&gt;szMalloc&gt;0 ) sqlite3DbFree(pMem-&gt;db, pMem-&gt;zMalloc);</span>
<span class='curline'><a href='../S/1054.html#L63446'>db</a>               63446 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;db==0 || sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63480'>db</a>               63480 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(p-&gt;db, p-&gt;zMalloc);</span>
<span class='curline'><a href='../S/1054.html#L63546'>db</a>               63546 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63570'>db</a>               63570 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63595'>db</a>               63595 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63620'>db</a>               63620 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63634'>db</a>               63634 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63653'>db</a>               63653 ext/sqlite3/libsqlite/sqlite3.c     assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63680'>db</a>               63680 ext/sqlite3/libsqlite/sqlite3.c         assert( pMem-&gt;flags &amp; MEM_Str || pMem-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L63704'>db</a>               63704 ext/sqlite3/libsqlite/sqlite3.c       assert( pMem-&gt;flags &amp; MEM_Str || pMem-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L63716'>db</a>               63716 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3VdbeMemInit(Mem *pMem, sqlite3 *db, u16 flags){</span>
<span class='curline'><a href='../S/1054.html#L63719'>db</a>               63719 ext/sqlite3/libsqlite/sqlite3.c   pMem-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L63804'>db</a>               63804 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pMem-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L63805'>db</a>               63805 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L63808'>db</a>               63808 ext/sqlite3/libsqlite/sqlite3.c   pMem-&gt;zMalloc = sqlite3DbMallocRaw(db, 64);</span>
<span class='curline'><a href='../S/1054.html#L63809'>db</a>               63809 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L63814'>db</a>               63814 ext/sqlite3/libsqlite/sqlite3.c     pMem-&gt;szMalloc = sqlite3DbMallocSize(db, pMem-&gt;zMalloc);</span>
<span class='curline'><a href='../S/1054.html#L63815'>db</a>               63815 ext/sqlite3/libsqlite/sqlite3.c     pMem-&gt;u.pRowSet = sqlite3RowSetInit(db, pMem-&gt;zMalloc, pMem-&gt;szMalloc);</span>
<span class='curline'><a href='../S/1054.html#L63826'>db</a>               63826 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L63832'>db</a>               63832 ext/sqlite3/libsqlite/sqlite3.c     return n&gt;p-&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH];</span>
<span class='curline'><a href='../S/1054.html#L63872'>db</a>               63872 ext/sqlite3/libsqlite/sqlite3.c   assert( pTo-&gt;db==pFrom-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L63889'>db</a>               63889 ext/sqlite3/libsqlite/sqlite3.c   assert( pTo-&gt;db==pFrom-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L63911'>db</a>               63911 ext/sqlite3/libsqlite/sqlite3.c   assert( pFrom-&gt;db==0 || sqlite3_mutex_held(pFrom-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63912'>db</a>               63912 ext/sqlite3/libsqlite/sqlite3.c   assert( pTo-&gt;db==0 || sqlite3_mutex_held(pTo-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63913'>db</a>               63913 ext/sqlite3/libsqlite/sqlite3.c   assert( pFrom-&gt;db==0 || pTo-&gt;db==0 || pFrom-&gt;db==pTo-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L63947'>db</a>               63947 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L63956'>db</a>               63956 ext/sqlite3/libsqlite/sqlite3.c   if( pMem-&gt;db ){</span>
<span class='curline'><a href='../S/1054.html#L63957'>db</a>               63957 ext/sqlite3/libsqlite/sqlite3.c     iLimit = pMem-&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH];</span>
<span class='curline'><a href='../S/1054.html#L63995'>db</a>               63995 ext/sqlite3/libsqlite/sqlite3.c     pMem-&gt;szMalloc = sqlite3DbMallocSize(pMem-&gt;db, pMem-&gt;zMalloc);</span>
<span class='curline'><a href='../S/1054.html#L64093'>db</a>               64093 ext/sqlite3/libsqlite/sqlite3.c   assert( pVal-&gt;db==0 || sqlite3_mutex_held(pVal-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L64116'>db</a>               64116 ext/sqlite3/libsqlite/sqlite3.c   assert(pVal-&gt;enc==(enc &amp; ~SQLITE_UTF16_ALIGNED) || pVal-&gt;db==0</span>
<span class='curline'><a href='../S/1054.html#L64117'>db</a>               64117 ext/sqlite3/libsqlite/sqlite3.c               || pVal-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L64137'>db</a>               64137 ext/sqlite3/libsqlite/sqlite3.c   assert( pVal-&gt;db==0 || sqlite3_mutex_held(pVal-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L64152'>db</a>               64152 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE sqlite3_value *sqlite3ValueNew(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L64153'>db</a>               64153 ext/sqlite3/libsqlite/sqlite3.c   Mem *p = sqlite3DbMallocZero(db, sizeof(*p));</span>
<span class='curline'><a href='../S/1054.html#L64156'>db</a>               64156 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L64183'>db</a>               64183 ext/sqlite3/libsqlite/sqlite3.c static sqlite3_value *valueNew(sqlite3 *db, struct ValueNewStat4Ctx *p){</span>
<span class='curline'><a href='../S/1054.html#L64195'>db</a>               64195 ext/sqlite3/libsqlite/sqlite3.c       pRec = (UnpackedRecord*)sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/1054.html#L64200'>db</a>               64200 ext/sqlite3/libsqlite/sqlite3.c           assert( pRec-&gt;pKeyInfo-&gt;enc==ENC(db) );</span>
<span class='curline'><a href='../S/1054.html#L64204'>db</a>               64204 ext/sqlite3/libsqlite/sqlite3.c             pRec-&gt;aMem[i].db = db;</span>
<span class='curline'><a href='../S/1054.html#L64207'>db</a>               64207 ext/sqlite3/libsqlite/sqlite3.c           sqlite3DbFree(db, pRec);</span>
<span class='curline'><a href='../S/1054.html#L64221'>db</a>               64221 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3ValueNew(db);</span>
<span class='curline'><a href='../S/1054.html#L64246'>db</a>               64246 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L64268'>db</a>               64268 ext/sqlite3/libsqlite/sqlite3.c   pFunc = sqlite3FindFunction(db, p-&gt;u.zToken, nName, nVal, enc, 0);</span>
<span class='curline'><a href='../S/1054.html#L64277'>db</a>               64277 ext/sqlite3/libsqlite/sqlite3.c     apVal = (sqlite3_value**)sqlite3DbMallocZero(db, sizeof(apVal[0]) * nVal);</span>
<span class='curline'><a href='../S/1054.html#L64283'>db</a>               64283 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3ValueFromExpr(db, pList-&gt;a[i].pExpr, enc, aff, &amp;apVal[i]);</span>
<span class='curline'><a href='../S/1054.html#L64288'>db</a>               64288 ext/sqlite3/libsqlite/sqlite3.c   pVal = valueNew(db, pCtx);</span>
<span class='curline'><a href='../S/1054.html#L64321'>db</a>               64321 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, apVal);</span>
<span class='curline'><a href='../S/1054.html#L64342'>db</a>               64342 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L64371'>db</a>               64371 ext/sqlite3/libsqlite/sqlite3.c     rc = valueFromExpr(db, pExpr-&gt;pLeft, enc, aff, ppVal, pCtx);</span>
<span class='curline'><a href='../S/1054.html#L64392'>db</a>               64392 ext/sqlite3/libsqlite/sqlite3.c     pVal = valueNew(db, pCtx);</span>
<span class='curline'><a href='../S/1054.html#L64397'>db</a>               64397 ext/sqlite3/libsqlite/sqlite3.c       zVal = sqlite3MPrintf(db, "%s%s", zNeg, pExpr-&gt;u.zToken);</span>
<span class='curline'><a href='../S/1054.html#L64412'>db</a>               64412 ext/sqlite3/libsqlite/sqlite3.c     if( SQLITE_OK==sqlite3ValueFromExpr(db,pExpr-&gt;pLeft,enc,affinity,&amp;pVal) </span>
<span class='curline'><a href='../S/1054.html#L64427'>db</a>               64427 ext/sqlite3/libsqlite/sqlite3.c     pVal = valueNew(db, pCtx);</span>
<span class='curline'><a href='../S/1054.html#L64435'>db</a>               64435 ext/sqlite3/libsqlite/sqlite3.c     pVal = valueNew(db, pCtx);</span>
<span class='curline'><a href='../S/1054.html#L64440'>db</a>               64440 ext/sqlite3/libsqlite/sqlite3.c     sqlite3VdbeMemSetStr(pVal, sqlite3HexToBlob(db, zVal, nVal), nVal/2,</span>
<span class='curline'><a href='../S/1054.html#L64447'>db</a>               64447 ext/sqlite3/libsqlite/sqlite3.c     rc = valueFromFunction(db, pExpr, enc, affinity, &amp;pVal, pCtx);</span>
<span class='curline'><a href='../S/1054.html#L64455'>db</a>               64455 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L64456'>db</a>               64456 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zVal);</span>
<span class='curline'><a href='../S/1054.html#L64477'>db</a>               64477 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,              /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L64483'>db</a>               64483 ext/sqlite3/libsqlite/sqlite3.c   return valueFromExpr(db, pExpr, enc, affinity, ppVal, 0);</span>
<span class='curline'><a href='../S/1054.html#L64505'>db</a>               64505 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L64512'>db</a>               64512 ext/sqlite3/libsqlite/sqlite3.c   db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L64515'>db</a>               64515 ext/sqlite3/libsqlite/sqlite3.c   aRet = sqlite3DbMallocRaw(db, nRet);</span>
<span class='curline'><a href='../S/1054.html#L64523'>db</a>               64523 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, aRet);</span>
<span class='curline'><a href='../S/1054.html#L64569'>db</a>               64569 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L64575'>db</a>               64575 ext/sqlite3/libsqlite/sqlite3.c     pVal = valueNew(db, pAlloc);</span>
<span class='curline'><a href='../S/1054.html#L64586'>db</a>               64586 ext/sqlite3/libsqlite/sqlite3.c       pVal = valueNew(db, pAlloc);</span>
<span class='curline'><a href='../S/1054.html#L64590'>db</a>               64590 ext/sqlite3/libsqlite/sqlite3.c           sqlite3ValueApplyAffinity(pVal, affinity, ENC(db));</span>
<span class='curline'><a href='../S/1054.html#L64592'>db</a>               64592 ext/sqlite3/libsqlite/sqlite3.c         pVal-&gt;db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L64596'>db</a>               64596 ext/sqlite3/libsqlite/sqlite3.c     rc = valueFromExpr(db, pExpr, ENC(db), affinity, &amp;pVal, pAlloc);</span>
<span class='curline'><a href='../S/1054.html#L64599'>db</a>               64599 ext/sqlite3/libsqlite/sqlite3.c   assert( pVal==0 || pVal-&gt;db==db );</span>
<span class='curline'><a href='../S/1054.html#L64653'>db</a>               64653 ext/sqlite3/libsqlite/sqlite3.c   assert( pVal==0 || pVal-&gt;db==pParse-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L64686'>db</a>               64686 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L64717'>db</a>               64717 ext/sqlite3/libsqlite/sqlite3.c     pMem = *ppVal = sqlite3ValueNew(db);</span>
<span class='curline'><a href='../S/1054.html#L64721'>db</a>               64721 ext/sqlite3/libsqlite/sqlite3.c   pMem-&gt;enc = ENC(db);</span>
<span class='curline'><a href='../S/1054.html#L64735'>db</a>               64735 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = aMem[0].db;</span>
<span class='curline'><a href='../S/1054.html#L64740'>db</a>               64740 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pRec);</span>
<span class='curline'><a href='../S/1054.html#L64764'>db</a>               64764 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(((Mem*)v)-&gt;db, v);</span>
<span class='curline'><a href='../S/1054.html#L64804'>db</a>               64804 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L64806'>db</a>               64806 ext/sqlite3/libsqlite/sqlite3.c   p = sqlite3DbMallocZero(db, sizeof(Vdbe) );</span>
<span class='curline'><a href='../S/1054.html#L64808'>db</a>               64808 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L64809'>db</a>               64809 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;pVdbe ){</span>
<span class='curline'><a href='../S/1054.html#L64810'>db</a>               64810 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;pVdbe-&gt;pPrev = p;</span>
<span class='curline'><a href='../S/1054.html#L64812'>db</a>               64812 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;pNext = db-&gt;pVdbe;</span>
<span class='curline'><a href='../S/1054.html#L64814'>db</a>               64814 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pVdbe = p;</span>
<span class='curline'><a href='../S/1054.html#L64833'>db</a>               64833 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;zSql = sqlite3DbStrNDup(p-&gt;db, z, n);</span>
<span class='curline'><a href='../S/1054.html#L64896'>db</a>               64896 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3DbRealloc(p-&gt;db, v-&gt;aOp, nNew*sizeof(Op));</span>
<span class='curline'><a href='../S/1054.html#L64898'>db</a>               64898 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;nOpAlloc = sqlite3DbMallocSize(p-&gt;db, pNew)/sizeof(Op);</span>
<span class='curline'><a href='../S/1054.html#L64956'>db</a>               64956 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;db-&gt;flags &amp; SQLITE_VdbeAddopTrace ){</span>
<span class='curline'><a href='../S/1054.html#L65019'>db</a>               65019 ext/sqlite3/libsqlite/sqlite3.c   for(j=0; j&lt;p-&gt;db-&gt;nDb; j++) sqlite3VdbeUsesBtree(p, j);</span>
<span class='curline'><a href='../S/1054.html#L65057'>db</a>               65057 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;aLabel = sqlite3DbReallocOrFree(p-&gt;db, p-&gt;aLabel, </span>
<span class='curline'><a href='../S/1054.html#L65146'>db</a>               65146 ext/sqlite3/libsqlite/sqlite3.c         p-&gt;apSub = sqlite3DbReallocOrFree(v-&gt;db, p-&gt;apSub, nByte);</span>
<span class='curline'><a href='../S/1054.html#L65202'>db</a>               65202 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(v-&gt;db, sIter.apSub);</span>
<span class='curline'><a href='../S/1054.html#L65209'>db</a>               65209 ext/sqlite3/libsqlite/sqlite3.c   return ( v-&gt;db-&gt;mallocFailed || hasAbort==mayAbort || hasFkCounter );</span>
<span class='curline'><a href='../S/1054.html#L65298'>db</a>               65298 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(p-&gt;db, pParse-&gt;aLabel);</span>
<span class='curline'><a href='../S/1054.html#L65326'>db</a>               65326 ext/sqlite3/libsqlite/sqlite3.c   assert( aOp &amp;&amp; !p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L65375'>db</a>               65375 ext/sqlite3/libsqlite/sqlite3.c       if( p-&gt;db-&gt;flags &amp; SQLITE_VdbeAddopTrace ){</span>
<span class='curline'><a href='../S/1054.html#L65399'>db</a>               65399 ext/sqlite3/libsqlite/sqlite3.c   aNew = (ScanStatus*)sqlite3DbRealloc(p-&gt;db, p-&gt;aScan, nByte);</span>
<span class='curline'><a href='../S/1054.html#L65406'>db</a>               65406 ext/sqlite3/libsqlite/sqlite3.c     pNew-&gt;zName = sqlite3DbStrDup(p-&gt;db, zName);</span>
<span class='curline'><a href='../S/1054.html#L65473'>db</a>               65473 ext/sqlite3/libsqlite/sqlite3.c static void freeEphemeralFunction(sqlite3 *db, FuncDef *pDef){</span>
<span class='curline'><a href='../S/1054.html#L65475'>db</a>               65475 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pDef);</span>
<span class='curline'><a href='../S/1054.html#L65484'>db</a>               65484 ext/sqlite3/libsqlite/sqlite3.c static void freeP4(sqlite3 *db, int p4type, void *p4){</span>
<span class='curline'><a href='../S/1054.html#L65486'>db</a>               65486 ext/sqlite3/libsqlite/sqlite3.c     assert( db );</span>
<span class='curline'><a href='../S/1054.html#L65492'>db</a>               65492 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, p4);</span>
<span class='curline'><a href='../S/1054.html#L65496'>db</a>               65496 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;pnBytesFreed==0 ) sqlite3KeyInfoUnref((KeyInfo*)p4);</span>
<span class='curline'><a href='../S/1054.html#L65500'>db</a>               65500 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;pnBytesFreed==0 ) sqlite3_free(p4);</span>
<span class='curline'><a href='../S/1054.html#L65504'>db</a>               65504 ext/sqlite3/libsqlite/sqlite3.c         freeEphemeralFunction(db, (FuncDef*)p4);</span>
<span class='curline'><a href='../S/1054.html#L65508'>db</a>               65508 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;pnBytesFreed==0 ){</span>
<span class='curline'><a href='../S/1054.html#L65512'>db</a>               65512 ext/sqlite3/libsqlite/sqlite3.c           if( p-&gt;szMalloc ) sqlite3DbFree(db, p-&gt;zMalloc);</span>
<span class='curline'><a href='../S/1054.html#L65513'>db</a>               65513 ext/sqlite3/libsqlite/sqlite3.c           sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L65518'>db</a>               65518 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;pnBytesFreed==0 ) sqlite3VtabUnlock((VTable *)p4);</span>
<span class='curline'><a href='../S/1054.html#L65530'>db</a>               65530 ext/sqlite3/libsqlite/sqlite3.c static void vdbeFreeOpArray(sqlite3 *db, Op *aOp, int nOp){</span>
<span class='curline'><a href='../S/1054.html#L65534'>db</a>               65534 ext/sqlite3/libsqlite/sqlite3.c       freeP4(db, pOp-&gt;p4type, pOp-&gt;p4.p);</span>
<span class='curline'><a href='../S/1054.html#L65536'>db</a>               65536 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pOp-&gt;zComment);</span>
<span class='curline'><a href='../S/1054.html#L65540'>db</a>               65540 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, aOp);</span>
<span class='curline'><a href='../S/1054.html#L65559'>db</a>               65559 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L65560'>db</a>               65560 ext/sqlite3/libsqlite/sqlite3.c     freeP4(db, pOp-&gt;p4type, pOp-&gt;p4.p);</span>
<span class='curline'><a href='../S/1054.html#L65599'>db</a>               65599 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L65601'>db</a>               65601 ext/sqlite3/libsqlite/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L65603'>db</a>               65603 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;aOp==0 || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L65605'>db</a>               65605 ext/sqlite3/libsqlite/sqlite3.c       freeP4(db, n, (void*)*(char**)&amp;zP4);</span>
<span class='curline'><a href='../S/1054.html#L65618'>db</a>               65618 ext/sqlite3/libsqlite/sqlite3.c   freeP4(db, pOp-&gt;p4type, pOp-&gt;p4.p);</span>
<span class='curline'><a href='../S/1054.html#L65635'>db</a>               65635 ext/sqlite3/libsqlite/sqlite3.c     assert( ((VTable *)zP4)-&gt;db==p-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L65641'>db</a>               65641 ext/sqlite3/libsqlite/sqlite3.c     pOp-&gt;p4.z = sqlite3DbStrNDup(p-&gt;db, zP4, n);</span>
<span class='curline'><a href='../S/1054.html#L65667'>db</a>               65667 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;aOp==0 || p-&gt;aOp[p-&gt;nOp-1].zComment==0 || p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L65670'>db</a>               65670 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(p-&gt;db, p-&gt;aOp[p-&gt;nOp-1].zComment);</span>
<span class='curline'><a href='../S/1054.html#L65671'>db</a>               65671 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;aOp[p-&gt;nOp-1].zComment = sqlite3VMPrintf(p-&gt;db, zFormat, ap);</span>
<span class='curline'><a href='../S/1054.html#L65723'>db</a>               65723 ext/sqlite3/libsqlite/sqlite3.c   assert( (addr&gt;=0 &amp;&amp; addr&lt;p-&gt;nOp) || p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L65724'>db</a>               65724 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L65941'>db</a>               65941 ext/sqlite3/libsqlite/sqlite3.c   assert( i&gt;=0 &amp;&amp; i&lt;p-&gt;db-&gt;nDb &amp;&amp; i&lt;(int)sizeof(yDbMask)*8 );</span>
<span class='curline'><a href='../S/1054.html#L65944'>db</a>               65944 ext/sqlite3/libsqlite/sqlite3.c   if( i!=1 &amp;&amp; sqlite3BtreeSharable(p-&gt;db-&gt;aDb[i].pBt) ){</span>
<span class='curline'><a href='../S/1054.html#L65973'>db</a>               65973 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L65977'>db</a>               65977 ext/sqlite3/libsqlite/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L65978'>db</a>               65978 ext/sqlite3/libsqlite/sqlite3.c   aDb = db-&gt;aDb;</span>
<span class='curline'><a href='../S/1054.html#L65979'>db</a>               65979 ext/sqlite3/libsqlite/sqlite3.c   nDb = db-&gt;nDb;</span>
<span class='curline'><a href='../S/1054.html#L65994'>db</a>               65994 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L65998'>db</a>               65998 ext/sqlite3/libsqlite/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L65999'>db</a>               65999 ext/sqlite3/libsqlite/sqlite3.c   aDb = db-&gt;aDb;</span>
<span class='curline'><a href='../S/1054.html#L66000'>db</a>               66000 ext/sqlite3/libsqlite/sqlite3.c   nDb = db-&gt;nDb;</span>
<span class='curline'><a href='../S/1054.html#L66042'>db</a>               66042 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L66043'>db</a>               66043 ext/sqlite3/libsqlite/sqlite3.c     u8 malloc_failed = db-&gt;mallocFailed;</span>
<span class='curline'><a href='../S/1054.html#L66044'>db</a>               66044 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;pnBytesFreed ){</span>
<span class='curline'><a href='../S/1054.html#L66046'>db</a>               66046 ext/sqlite3/libsqlite/sqlite3.c         if( p-&gt;szMalloc ) sqlite3DbFree(db, p-&gt;zMalloc);</span>
<span class='curline'><a href='../S/1054.html#L66051'>db</a>               66051 ext/sqlite3/libsqlite/sqlite3.c       assert( (&amp;p[1])==pEnd || p[0].db==p[1].db );</span>
<span class='curline'><a href='../S/1054.html#L66073'>db</a>               66073 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, p-&gt;zMalloc);</span>
<span class='curline'><a href='../S/1054.html#L66079'>db</a>               66079 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = malloc_failed;</span>
<span class='curline'><a href='../S/1054.html#L66095'>db</a>               66095 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(p-&gt;v-&gt;db, p);</span>
<span class='curline'><a href='../S/1054.html#L66121'>db</a>               66121 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;                 /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L66140'>db</a>               66140 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L66176'>db</a>               66176 ext/sqlite3/libsqlite/sqlite3.c   }else if( db-&gt;u1.isInterrupted ){</span>
<span class='curline'><a href='../S/1054.html#L66179'>db</a>               66179 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3ErrStr(p-&gt;rc));</span>
<span class='curline'><a href='../S/1054.html#L66242'>db</a>               66242 ext/sqlite3/libsqlite/sqlite3.c       assert( p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L66258'>db</a>               66258 ext/sqlite3/libsqlite/sqlite3.c         assert( p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L66269'>db</a>               66269 ext/sqlite3/libsqlite/sqlite3.c         assert( p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L66398'>db</a>               66398 ext/sqlite3/libsqlite/sqlite3.c     assert( p-&gt;aMem[i].db==p-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L66440'>db</a>               66440 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;                   /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L66456'>db</a>               66456 ext/sqlite3/libsqlite/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L66457'>db</a>               66457 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;mallocFailed==0 );</span>
<span class='curline'><a href='../S/1054.html#L66515'>db</a>               66515 ext/sqlite3/libsqlite/sqlite3.c       p-&gt;pFree = sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/1054.html#L66519'>db</a>               66519 ext/sqlite3/libsqlite/sqlite3.c   }while( nByte &amp;&amp; !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L66527'>db</a>               66527 ext/sqlite3/libsqlite/sqlite3.c       p-&gt;aVar[n].db = db;</span>
<span class='curline'><a href='../S/1054.html#L66540'>db</a>               66540 ext/sqlite3/libsqlite/sqlite3.c       p-&gt;aMem[n].db = db;</span>
<span class='curline'><a href='../S/1054.html#L66555'>db</a>               66555 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VdbeSorterClose(p-&gt;db, pCx);</span>
<span class='curline'><a href='../S/1054.html#L66609'>db</a>               66609 ext/sqlite3/libsqlite/sqlite3.c   v-&gt;db-&gt;lastRowid = pFrame-&gt;lastRowid;</span>
<span class='curline'><a href='../S/1054.html#L66611'>db</a>               66611 ext/sqlite3/libsqlite/sqlite3.c   v-&gt;db-&gt;nChange = pFrame-&gt;nDbChange;</span>
<span class='curline'><a href='../S/1054.html#L66651'>db</a>               66651 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L66663'>db</a>               66663 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L66677'>db</a>               66677 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L66680'>db</a>               66680 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p-&gt;aColName);</span>
<span class='curline'><a href='../S/1054.html#L66683'>db</a>               66683 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;aColName = pColName = (Mem*)sqlite3DbMallocZero(db, sizeof(Mem)*n );</span>
<span class='curline'><a href='../S/1054.html#L66687'>db</a>               66687 ext/sqlite3/libsqlite/sqlite3.c     pColName-&gt;db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L66713'>db</a>               66713 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L66730'>db</a>               66730 ext/sqlite3/libsqlite/sqlite3.c static int vdbeCommit(sqlite3 *db, Vdbe *p){</span>
<span class='curline'><a href='../S/1054.html#L66749'>db</a>               66749 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3VtabSync(db, p);</span>
<span class='curline'><a href='../S/1054.html#L66757'>db</a>               66757 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nDb; i++){ </span>
<span class='curline'><a href='../S/1054.html#L66758'>db</a>               66758 ext/sqlite3/libsqlite/sqlite3.c     Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L66772'>db</a>               66772 ext/sqlite3/libsqlite/sqlite3.c   if( needXcommit &amp;&amp; db-&gt;xCommitCallback ){</span>
<span class='curline'><a href='../S/1054.html#L66773'>db</a>               66773 ext/sqlite3/libsqlite/sqlite3.c     rc = db-&gt;xCommitCallback(db-&gt;pCommitArg);</span>
<span class='curline'><a href='../S/1054.html#L66788'>db</a>               66788 ext/sqlite3/libsqlite/sqlite3.c   if( 0==sqlite3Strlen30(sqlite3BtreeGetFilename(db-&gt;aDb[0].pBt))</span>
<span class='curline'><a href='../S/1054.html#L66791'>db</a>               66791 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L66792'>db</a>               66792 ext/sqlite3/libsqlite/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L66803'>db</a>               66803 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L66804'>db</a>               66804 ext/sqlite3/libsqlite/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L66810'>db</a>               66810 ext/sqlite3/libsqlite/sqlite3.c       sqlite3VtabCommit(db);</span>
<span class='curline'><a href='../S/1054.html#L66820'>db</a>               66820 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_vfs *pVfs = db-&gt;pVfs;</span>
<span class='curline'><a href='../S/1054.html#L66823'>db</a>               66823 ext/sqlite3/libsqlite/sqlite3.c     char const *zMainFile = sqlite3BtreeGetFilename(db-&gt;aDb[0].pBt);</span>
<span class='curline'><a href='../S/1054.html#L66832'>db</a>               66832 ext/sqlite3/libsqlite/sqlite3.c     zMaster = sqlite3MPrintf(db, "%s-mjXXXXXX9XXz", zMainFile);</span>
<span class='curline'><a href='../S/1054.html#L66863'>db</a>               66863 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zMaster);</span>
<span class='curline'><a href='../S/1054.html#L66873'>db</a>               66873 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L66874'>db</a>               66874 ext/sqlite3/libsqlite/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L66889'>db</a>               66889 ext/sqlite3/libsqlite/sqlite3.c           sqlite3DbFree(db, zMaster);</span>
<span class='curline'><a href='../S/1054.html#L66904'>db</a>               66904 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zMaster);</span>
<span class='curline'><a href='../S/1054.html#L66918'>db</a>               66918 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nDb; i++){ </span>
<span class='curline'><a href='../S/1054.html#L66919'>db</a>               66919 ext/sqlite3/libsqlite/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L66927'>db</a>               66927 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zMaster);</span>
<span class='curline'><a href='../S/1054.html#L66936'>db</a>               66936 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zMaster);</span>
<span class='curline'><a href='../S/1054.html#L66951'>db</a>               66951 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){ </span>
<span class='curline'><a href='../S/1054.html#L66952'>db</a>               66952 ext/sqlite3/libsqlite/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L66960'>db</a>               66960 ext/sqlite3/libsqlite/sqlite3.c     sqlite3VtabCommit(db);</span>
<span class='curline'><a href='../S/1054.html#L66977'>db</a>               66977 ext/sqlite3/libsqlite/sqlite3.c static void checkActiveVdbeCnt(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L66982'>db</a>               66982 ext/sqlite3/libsqlite/sqlite3.c   p = db-&gt;pVdbe;</span>
<span class='curline'><a href='../S/1054.html#L66991'>db</a>               66991 ext/sqlite3/libsqlite/sqlite3.c   assert( cnt==db-&gt;nVdbeActive );</span>
<span class='curline'><a href='../S/1054.html#L66992'>db</a>               66992 ext/sqlite3/libsqlite/sqlite3.c   assert( nWrite==db-&gt;nVdbeWrite );</span>
<span class='curline'><a href='../S/1054.html#L66993'>db</a>               66993 ext/sqlite3/libsqlite/sqlite3.c   assert( nRead==db-&gt;nVdbeRead );</span>
<span class='curline'><a href='../S/1054.html#L67010'>db</a>               67010 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *const db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L67018'>db</a>               67018 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;nStatement &amp;&amp; p-&gt;iStatement ){</span>
<span class='curline'><a href='../S/1054.html#L67023'>db</a>               67023 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;nStatement&gt;0 );</span>
<span class='curline'><a href='../S/1054.html#L67024'>db</a>               67024 ext/sqlite3/libsqlite/sqlite3.c     assert( p-&gt;iStatement==(db-&gt;nStatement+db-&gt;nSavepoint) );</span>
<span class='curline'><a href='../S/1054.html#L67026'>db</a>               67026 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){ </span>
<span class='curline'><a href='../S/1054.html#L67028'>db</a>               67028 ext/sqlite3/libsqlite/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L67041'>db</a>               67041 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nStatement--;</span>
<span class='curline'><a href='../S/1054.html#L67046'>db</a>               67046 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3VtabSavepoint(db, SAVEPOINT_ROLLBACK, iSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L67049'>db</a>               67049 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3VtabSavepoint(db, SAVEPOINT_RELEASE, iSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L67057'>db</a>               67057 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;nDeferredCons = p-&gt;nStmtDefCons;</span>
<span class='curline'><a href='../S/1054.html#L67058'>db</a>               67058 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;nDeferredImmCons = p-&gt;nStmtDefImmCons;</span>
<span class='curline'><a href='../S/1054.html#L67076'>db</a>               67076 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L67077'>db</a>               67077 ext/sqlite3/libsqlite/sqlite3.c   if( (deferred &amp;&amp; (db-&gt;nDeferredCons+db-&gt;nDeferredImmCons)&gt;0) </span>
<span class='curline'><a href='../S/1054.html#L67082'>db</a>               67082 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "FOREIGN KEY constraint failed");</span>
<span class='curline'><a href='../S/1054.html#L67104'>db</a>               67104 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L67122'>db</a>               67122 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L67130'>db</a>               67130 ext/sqlite3/libsqlite/sqlite3.c   checkActiveVdbeCnt(db);</span>
<span class='curline'><a href='../S/1054.html#L67166'>db</a>               67166 ext/sqlite3/libsqlite/sqlite3.c           sqlite3RollbackAll(db, SQLITE_ABORT_ROLLBACK);</span>
<span class='curline'><a href='../S/1054.html#L67167'>db</a>               67167 ext/sqlite3/libsqlite/sqlite3.c           sqlite3CloseSavepoints(db);</span>
<span class='curline'><a href='../S/1054.html#L67168'>db</a>               67168 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/1054.html#L67185'>db</a>               67185 ext/sqlite3/libsqlite/sqlite3.c     if( !sqlite3VtabInSync(db) </span>
<span class='curline'><a href='../S/1054.html#L67186'>db</a>               67186 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; db-&gt;autoCommit </span>
<span class='curline'><a href='../S/1054.html#L67187'>db</a>               67187 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; db-&gt;nVdbeWrite==(p-&gt;readOnly==0) </span>
<span class='curline'><a href='../S/1054.html#L67202'>db</a>               67202 ext/sqlite3/libsqlite/sqlite3.c           rc = vdbeCommit(db, p);</span>
<span class='curline'><a href='../S/1054.html#L67209'>db</a>               67209 ext/sqlite3/libsqlite/sqlite3.c           sqlite3RollbackAll(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/1054.html#L67212'>db</a>               67212 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;nDeferredCons = 0;</span>
<span class='curline'><a href='../S/1054.html#L67213'>db</a>               67213 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;nDeferredImmCons = 0;</span>
<span class='curline'><a href='../S/1054.html#L67214'>db</a>               67214 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;flags &amp;= ~SQLITE_DeferFKs;</span>
<span class='curline'><a href='../S/1054.html#L67215'>db</a>               67215 ext/sqlite3/libsqlite/sqlite3.c           sqlite3CommitInternalChanges(db);</span>
<span class='curline'><a href='../S/1054.html#L67218'>db</a>               67218 ext/sqlite3/libsqlite/sqlite3.c         sqlite3RollbackAll(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/1054.html#L67221'>db</a>               67221 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;nStatement = 0;</span>
<span class='curline'><a href='../S/1054.html#L67228'>db</a>               67228 ext/sqlite3/libsqlite/sqlite3.c         sqlite3RollbackAll(db, SQLITE_ABORT_ROLLBACK);</span>
<span class='curline'><a href='../S/1054.html#L67229'>db</a>               67229 ext/sqlite3/libsqlite/sqlite3.c         sqlite3CloseSavepoints(db);</span>
<span class='curline'><a href='../S/1054.html#L67230'>db</a>               67230 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/1054.html#L67246'>db</a>               67246 ext/sqlite3/libsqlite/sqlite3.c           sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L67249'>db</a>               67249 ext/sqlite3/libsqlite/sqlite3.c         sqlite3RollbackAll(db, SQLITE_ABORT_ROLLBACK);</span>
<span class='curline'><a href='../S/1054.html#L67250'>db</a>               67250 ext/sqlite3/libsqlite/sqlite3.c         sqlite3CloseSavepoints(db);</span>
<span class='curline'><a href='../S/1054.html#L67251'>db</a>               67251 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/1054.html#L67261'>db</a>               67261 ext/sqlite3/libsqlite/sqlite3.c         sqlite3VdbeSetChanges(db, p-&gt;nChange);</span>
<span class='curline'><a href='../S/1054.html#L67263'>db</a>               67263 ext/sqlite3/libsqlite/sqlite3.c         sqlite3VdbeSetChanges(db, 0);</span>
<span class='curline'><a href='../S/1054.html#L67274'>db</a>               67274 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nVdbeActive--;</span>
<span class='curline'><a href='../S/1054.html#L67275'>db</a>               67275 ext/sqlite3/libsqlite/sqlite3.c     if( !p-&gt;readOnly ) db-&gt;nVdbeWrite--;</span>
<span class='curline'><a href='../S/1054.html#L67276'>db</a>               67276 ext/sqlite3/libsqlite/sqlite3.c     if( p-&gt;bIsReader ) db-&gt;nVdbeRead--;</span>
<span class='curline'><a href='../S/1054.html#L67277'>db</a>               67277 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;nVdbeActive&gt;=db-&gt;nVdbeRead );</span>
<span class='curline'><a href='../S/1054.html#L67278'>db</a>               67278 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;nVdbeRead&gt;=db-&gt;nVdbeWrite );</span>
<span class='curline'><a href='../S/1054.html#L67279'>db</a>               67279 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;nVdbeWrite&gt;=0 );</span>
<span class='curline'><a href='../S/1054.html#L67282'>db</a>               67282 ext/sqlite3/libsqlite/sqlite3.c   checkActiveVdbeCnt(db);</span>
<span class='curline'><a href='../S/1054.html#L67283'>db</a>               67283 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L67291'>db</a>               67291 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/1054.html#L67292'>db</a>               67292 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ConnectionUnlocked(db);</span>
<span class='curline'><a href='../S/1054.html#L67295'>db</a>               67295 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;nVdbeActive&gt;0 || db-&gt;autoCommit==0 || db-&gt;nStatement==0 );</span>
<span class='curline'><a href='../S/1054.html#L67317'>db</a>               67317 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L67320'>db</a>               67320 ext/sqlite3/libsqlite/sqlite3.c     u8 mallocFailed = db-&gt;mallocFailed;</span>
<span class='curline'><a href='../S/1054.html#L67322'>db</a>               67322 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;pErr==0 ) db-&gt;pErr = sqlite3ValueNew(db);</span>
<span class='curline'><a href='../S/1054.html#L67323'>db</a>               67323 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ValueSetStr(db-&gt;pErr, -1, p-&gt;zErrMsg, SQLITE_UTF8, SQLITE_TRANSIENT);</span>
<span class='curline'><a href='../S/1054.html#L67325'>db</a>               67325 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = mallocFailed;</span>
<span class='curline'><a href='../S/1054.html#L67326'>db</a>               67326 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;errCode = rc;</span>
<span class='curline'><a href='../S/1054.html#L67328'>db</a>               67328 ext/sqlite3/libsqlite/sqlite3.c     sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L67341'>db</a>               67341 ext/sqlite3/libsqlite/sqlite3.c     assert( v-&gt;db-&gt;init.busy==0 );</span>
<span class='curline'><a href='../S/1054.html#L67344'>db</a>               67344 ext/sqlite3/libsqlite/sqlite3.c           sqlite3GlobalConfig.pSqllogArg, v-&gt;db, zExpanded, 1</span>
<span class='curline'><a href='../S/1054.html#L67346'>db</a>               67346 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(v-&gt;db, zExpanded);</span>
<span class='curline'><a href='../S/1054.html#L67366'>db</a>               67366 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L67367'>db</a>               67367 ext/sqlite3/libsqlite/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L67383'>db</a>               67383 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L67391'>db</a>               67391 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ErrorWithMsg(db, p-&gt;rc, p-&gt;zErrMsg ? "%s" : 0, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L67392'>db</a>               67392 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L67438'>db</a>               67438 ext/sqlite3/libsqlite/sqlite3.c   return p-&gt;rc &amp; db-&gt;errMask;</span>
<span class='curline'><a href='../S/1054.html#L67449'>db</a>               67449 ext/sqlite3/libsqlite/sqlite3.c     assert( (rc &amp; p-&gt;db-&gt;errMask)==rc );</span>
<span class='curline'><a href='../S/1054.html#L67483'>db</a>               67483 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(pVdbe-&gt;db, pAux);</span>
<span class='curline'><a href='../S/1054.html#L67498'>db</a>               67498 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3VdbeClearObject(sqlite3 *db, Vdbe *p){</span>
<span class='curline'><a href='../S/1054.html#L67501'>db</a>               67501 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;db==0 || p-&gt;db==db );</span>
<span class='curline'><a href='../S/1054.html#L67506'>db</a>               67506 ext/sqlite3/libsqlite/sqlite3.c     vdbeFreeOpArray(db, pSub-&gt;aOp, pSub-&gt;nOp);</span>
<span class='curline'><a href='../S/1054.html#L67507'>db</a>               67507 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pSub);</span>
<span class='curline'><a href='../S/1054.html#L67509'>db</a>               67509 ext/sqlite3/libsqlite/sqlite3.c   for(i=p-&gt;nzVar-1; i&gt;=0; i--) sqlite3DbFree(db, p-&gt;azVar[i]);</span>
<span class='curline'><a href='../S/1054.html#L67510'>db</a>               67510 ext/sqlite3/libsqlite/sqlite3.c   vdbeFreeOpArray(db, p-&gt;aOp, p-&gt;nOp);</span>
<span class='curline'><a href='../S/1054.html#L67511'>db</a>               67511 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p-&gt;aColName);</span>
<span class='curline'><a href='../S/1054.html#L67512'>db</a>               67512 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p-&gt;zSql);</span>
<span class='curline'><a href='../S/1054.html#L67513'>db</a>               67513 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p-&gt;pFree);</span>
<span class='curline'><a href='../S/1054.html#L67516'>db</a>               67516 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p-&gt;aScan[i].zName);</span>
<span class='curline'><a href='../S/1054.html#L67518'>db</a>               67518 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p-&gt;aScan);</span>
<span class='curline'><a href='../S/1054.html#L67526'>db</a>               67526 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L67529'>db</a>               67529 ext/sqlite3/libsqlite/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L67530'>db</a>               67530 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L67531'>db</a>               67531 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VdbeClearObject(db, p);</span>
<span class='curline'><a href='../S/1054.html#L67535'>db</a>               67535 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;pVdbe==p );</span>
<span class='curline'><a href='../S/1054.html#L67536'>db</a>               67536 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;pVdbe = p-&gt;pNext;</span>
<span class='curline'><a href='../S/1054.html#L67542'>db</a>               67542 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;db = 0;</span>
<span class='curline'><a href='../S/1054.html#L67543'>db</a>               67543 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L67694'>db</a>               67694 ext/sqlite3/libsqlite/sqlite3.c   assert( pMem-&gt;db-&gt;mallocFailed || flags&amp;(MEM_Str|MEM_Blob) );</span>
<span class='curline'><a href='../S/1054.html#L67983'>db</a>               67983 ext/sqlite3/libsqlite/sqlite3.c     p = (UnpackedRecord *)sqlite3DbMallocRaw(pKeyInfo-&gt;db, nByte);</span>
<span class='curline'><a href='../S/1054.html#L68026'>db</a>               68026 ext/sqlite3/libsqlite/sqlite3.c     pMem-&gt;db = pKeyInfo-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L68064'>db</a>               68064 ext/sqlite3/libsqlite/sqlite3.c   if( pKeyInfo-&gt;db==0 ) return 1;</span>
<span class='curline'><a href='../S/1054.html#L68066'>db</a>               68066 ext/sqlite3/libsqlite/sqlite3.c   mem1.db = pKeyInfo-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L68136'>db</a>               68136 ext/sqlite3/libsqlite/sqlite3.c   if( pKeyInfo-&gt;db-&gt;mallocFailed ) return 1;</span>
<span class='curline'><a href='../S/1054.html#L68199'>db</a>               68199 ext/sqlite3/libsqlite/sqlite3.c     sqlite3VdbeMemInit(&amp;c1, pMem1-&gt;db, MEM_Null);</span>
<span class='curline'><a href='../S/1054.html#L68200'>db</a>               68200 ext/sqlite3/libsqlite/sqlite3.c     sqlite3VdbeMemInit(&amp;c2, pMem1-&gt;db, MEM_Null);</span>
<span class='curline'><a href='../S/1054.html#L68489'>db</a>               68489 ext/sqlite3/libsqlite/sqlite3.c           mem1.db = pKeyInfo-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L68555'>db</a>               68555 ext/sqlite3/libsqlite/sqlite3.c        || pKeyInfo-&gt;db-&gt;mallocFailed</span>
<span class='curline'><a href='../S/1054.html#L68717'>db</a>               68717 ext/sqlite3/libsqlite/sqlite3.c        || pPKey2-&gt;pKeyInfo-&gt;db-&gt;mallocFailed</span>
<span class='curline'><a href='../S/1054.html#L68773'>db</a>               68773 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3VdbeIdxRowid(sqlite3 *db, BtCursor *pCur, i64 *rowid){</span>
<span class='curline'><a href='../S/1054.html#L68792'>db</a>               68792 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VdbeMemInit(&amp;m, db, 0);</span>
<span class='curline'><a href='../S/1054.html#L68852'>db</a>               68852 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                     /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L68871'>db</a>               68871 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VdbeMemInit(&amp;m, db, 0);</span>
<span class='curline'><a href='../S/1054.html#L68885'>db</a>               68885 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3VdbeSetChanges(sqlite3 *db, int nChange){</span>
<span class='curline'><a href='../S/1054.html#L68886'>db</a>               68886 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L68887'>db</a>               68887 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nChange = nChange;</span>
<span class='curline'><a href='../S/1054.html#L68888'>db</a>               68888 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nTotalChange += nChange;</span>
<span class='curline'><a href='../S/1054.html#L68909'>db</a>               68909 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3ExpirePreparedStatements(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L68911'>db</a>               68911 ext/sqlite3/libsqlite/sqlite3.c   for(p = db-&gt;pVdbe; p; p=p-&gt;pNext){</span>
<span class='curline'><a href='../S/1054.html#L68920'>db</a>               68920 ext/sqlite3/libsqlite/sqlite3.c   return v-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L68936'>db</a>               68936 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_value *pRet = sqlite3ValueNew(v-&gt;db);</span>
<span class='curline'><a href='../S/1054.html#L68968'>db</a>               68968 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L68969'>db</a>               68969 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L68970'>db</a>               68970 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;zErrMsg = sqlite3DbStrDup(db, pVtab-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L69015'>db</a>               69015 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;db==0 ){</span>
<span class='curline'><a href='../S/1054.html#L69048'>db</a>               69048 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = v-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L69050'>db</a>               69050 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L69052'>db</a>               69052 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L69053'>db</a>               69053 ext/sqlite3/libsqlite/sqlite3.c     sqlite3LeaveMutexAndCloseZombie(db);</span>
<span class='curline'><a href='../S/1054.html#L69072'>db</a>               69072 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_enter(v-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L69075'>db</a>               69075 ext/sqlite3/libsqlite/sqlite3.c     assert( (rc &amp; (v-&gt;db-&gt;errMask))==rc );</span>
<span class='curline'><a href='../S/1054.html#L69076'>db</a>               69076 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3ApiExit(v-&gt;db, rc);</span>
<span class='curline'><a href='../S/1054.html#L69077'>db</a>               69077 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(v-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L69090'>db</a>               69090 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex *mutex = ((Vdbe*)pStmt)-&gt;db-&gt;mutex;</span>
<span class='curline'><a href='../S/1054.html#L69235'>db</a>               69235 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69244'>db</a>               69244 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69253'>db</a>               69253 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69257'>db</a>               69257 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69264'>db</a>               69264 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69271'>db</a>               69271 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69275'>db</a>               69275 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69279'>db</a>               69279 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69288'>db</a>               69288 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69298'>db</a>               69298 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69314'>db</a>               69314 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69323'>db</a>               69323 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69332'>db</a>               69332 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69337'>db</a>               69337 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69341'>db</a>               69341 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69358'>db</a>               69358 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69367'>db</a>               69367 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69371'>db</a>               69371 ext/sqlite3/libsqlite/sqlite3.c   pCtx-&gt;pOut-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L69378'>db</a>               69378 ext/sqlite3/libsqlite/sqlite3.c static int doWalCallbacks(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L69382'>db</a>               69382 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L69383'>db</a>               69383 ext/sqlite3/libsqlite/sqlite3.c     Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L69389'>db</a>               69389 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;xWalCallback &amp;&amp; nEntry&gt;0 &amp;&amp; rc==SQLITE_OK ){</span>
<span class='curline'><a href='../S/1054.html#L69390'>db</a>               69390 ext/sqlite3/libsqlite/sqlite3.c         rc = db-&gt;xWalCallback(db-&gt;pWalArg, db, db-&gt;aDb[i].zName, nEntry);</span>
<span class='curline'><a href='../S/1054.html#L69408'>db</a>               69408 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L69441'>db</a>               69441 ext/sqlite3/libsqlite/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L69442'>db</a>               69442 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L69457'>db</a>               69457 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;nVdbeActive==0 ){</span>
<span class='curline'><a href='../S/1054.html#L69458'>db</a>               69458 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;u1.isInterrupted = 0;</span>
<span class='curline'><a href='../S/1054.html#L69461'>db</a>               69461 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;nVdbeWrite&gt;0 || db-&gt;autoCommit==0 </span>
<span class='curline'><a href='../S/1054.html#L69462'>db</a>               69462 ext/sqlite3/libsqlite/sqlite3.c         || (db-&gt;nDeferredCons==0 &amp;&amp; db-&gt;nDeferredImmCons==0)</span>
<span class='curline'><a href='../S/1054.html#L69466'>db</a>               69466 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;xProfile &amp;&amp; !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L69467'>db</a>               69467 ext/sqlite3/libsqlite/sqlite3.c       sqlite3OsCurrentTimeInt64(db-&gt;pVfs, &amp;p-&gt;startTime);</span>
<span class='curline'><a href='../S/1054.html#L69471'>db</a>               69471 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nVdbeActive++;</span>
<span class='curline'><a href='../S/1054.html#L69472'>db</a>               69472 ext/sqlite3/libsqlite/sqlite3.c     if( p-&gt;readOnly==0 ) db-&gt;nVdbeWrite++;</span>
<span class='curline'><a href='../S/1054.html#L69473'>db</a>               69473 ext/sqlite3/libsqlite/sqlite3.c     if( p-&gt;bIsReader ) db-&gt;nVdbeRead++;</span>
<span class='curline'><a href='../S/1054.html#L69485'>db</a>               69485 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nVdbeExec++;</span>
<span class='curline'><a href='../S/1054.html#L69487'>db</a>               69487 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nVdbeExec--;</span>
<span class='curline'><a href='../S/1054.html#L69493'>db</a>               69493 ext/sqlite3/libsqlite/sqlite3.c   if( rc!=SQLITE_ROW &amp;&amp; db-&gt;xProfile &amp;&amp; !db-&gt;init.busy &amp;&amp; p-&gt;zSql ){</span>
<span class='curline'><a href='../S/1054.html#L69495'>db</a>               69495 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsCurrentTimeInt64(db-&gt;pVfs, &amp;iNow);</span>
<span class='curline'><a href='../S/1054.html#L69496'>db</a>               69496 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;xProfile(db-&gt;pProfileArg, p-&gt;zSql, (iNow - p-&gt;startTime)*1000000);</span>
<span class='curline'><a href='../S/1054.html#L69502'>db</a>               69502 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;rc = doWalCallbacks(db);</span>
<span class='curline'><a href='../S/1054.html#L69508'>db</a>               69508 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;errCode = rc;</span>
<span class='curline'><a href='../S/1054.html#L69509'>db</a>               69509 ext/sqlite3/libsqlite/sqlite3.c   if( SQLITE_NOMEM==sqlite3ApiExit(p-&gt;db, p-&gt;rc) ){</span>
<span class='curline'><a href='../S/1054.html#L69531'>db</a>               69531 ext/sqlite3/libsqlite/sqlite3.c   return (rc&amp;db-&gt;errMask);</span>
<span class='curline'><a href='../S/1054.html#L69544'>db</a>               69544 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;             /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L69549'>db</a>               69549 ext/sqlite3/libsqlite/sqlite3.c   db = v-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L69550'>db</a>               69550 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L69570'>db</a>               69570 ext/sqlite3/libsqlite/sqlite3.c     const char *zErr = (const char *)sqlite3_value_text(db-&gt;pErr); </span>
<span class='curline'><a href='../S/1054.html#L69571'>db</a>               69571 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, v-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L69572'>db</a>               69572 ext/sqlite3/libsqlite/sqlite3.c     if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L69573'>db</a>               69573 ext/sqlite3/libsqlite/sqlite3.c       v-&gt;zErrMsg = sqlite3DbStrDup(db, zErr);</span>
<span class='curline'><a href='../S/1054.html#L69580'>db</a>               69580 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L69581'>db</a>               69581 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L69607'>db</a>               69607 ext/sqlite3/libsqlite/sqlite3.c   return p-&gt;pOut-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L69627'>db</a>               69627 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3OsCurrentTimeInt64(p-&gt;pOut-&gt;db-&gt;pVfs, piTime);</span>
<span class='curline'><a href='../S/1054.html#L69683'>db</a>               69683 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69699'>db</a>               69699 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69726'>db</a>               69726 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L69738'>db</a>               69738 ext/sqlite3/libsqlite/sqlite3.c     pAuxData = sqlite3DbMallocZero(pVdbe-&gt;db, sizeof(AuxData));</span>
<span class='curline'><a href='../S/1054.html#L69844'>db</a>               69844 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_enter(pVm-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L69847'>db</a>               69847 ext/sqlite3/libsqlite/sqlite3.c     if( pVm &amp;&amp; ALWAYS(pVm-&gt;db) ){</span>
<span class='curline'><a href='../S/1054.html#L69848'>db</a>               69848 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_mutex_enter(pVm-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L69849'>db</a>               69849 ext/sqlite3/libsqlite/sqlite3.c       sqlite3Error(pVm-&gt;db, SQLITE_RANGE);</span>
<span class='curline'><a href='../S/1054.html#L69883'>db</a>               69883 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;rc = sqlite3ApiExit(p-&gt;db, p-&gt;rc);</span>
<span class='curline'><a href='../S/1054.html#L69884'>db</a>               69884 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L69979'>db</a>               69979 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L69988'>db</a>               69988 ext/sqlite3/libsqlite/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L69989'>db</a>               69989 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L69993'>db</a>               69993 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L69994'>db</a>               69994 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;mallocFailed==0 );</span>
<span class='curline'><a href='../S/1054.html#L69999'>db</a>               69999 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L70000'>db</a>               70000 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;mallocFailed = 0;</span>
<span class='curline'><a href='../S/1054.html#L70003'>db</a>               70003 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L70120'>db</a>               70120 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L70122'>db</a>               70122 ext/sqlite3/libsqlite/sqlite3.c     sqlite3Error(p-&gt;db, SQLITE_MISUSE);</span>
<span class='curline'><a href='../S/1054.html#L70123'>db</a>               70123 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L70129'>db</a>               70129 ext/sqlite3/libsqlite/sqlite3.c     sqlite3Error(p-&gt;db, SQLITE_RANGE);</span>
<span class='curline'><a href='../S/1054.html#L70130'>db</a>               70130 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L70137'>db</a>               70137 ext/sqlite3/libsqlite/sqlite3.c   sqlite3Error(p-&gt;db, SQLITE_OK);</span>
<span class='curline'><a href='../S/1054.html#L70177'>db</a>               70177 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3VdbeChangeEncoding(pVar, ENC(p-&gt;db));</span>
<span class='curline'><a href='../S/1054.html#L70179'>db</a>               70179 ext/sqlite3/libsqlite/sqlite3.c       sqlite3Error(p-&gt;db, rc);</span>
<span class='curline'><a href='../S/1054.html#L70180'>db</a>               70180 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3ApiExit(p-&gt;db, rc);</span>
<span class='curline'><a href='../S/1054.html#L70182'>db</a>               70182 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L70222'>db</a>               70222 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L70235'>db</a>               70235 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L70244'>db</a>               70244 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L70321'>db</a>               70321 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L70380'>db</a>               70380 ext/sqlite3/libsqlite/sqlite3.c   assert( pTo-&gt;db==pFrom-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L70382'>db</a>               70382 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(pTo-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L70386'>db</a>               70386 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(pTo-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L70426'>db</a>               70426 ext/sqlite3/libsqlite/sqlite3.c   return pStmt ? ((Vdbe*)pStmt)-&gt;db : 0;</span>
<span class='curline'><a href='../S/1054.html#L70630'>db</a>               70630 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;             /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L70640'>db</a>               70640 ext/sqlite3/libsqlite/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L70641'>db</a>               70641 ext/sqlite3/libsqlite/sqlite3.c   sqlite3StrAccumInit(&amp;out, db, zBase, sizeof(zBase), </span>
<span class='curline'><a href='../S/1054.html#L70642'>db</a>               70642 ext/sqlite3/libsqlite/sqlite3.c                       db-&gt;aLimit[SQLITE_LIMIT_LENGTH]);</span>
<span class='curline'><a href='../S/1054.html#L70643'>db</a>               70643 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;nVdbeExec&gt;1 ){</span>
<span class='curline'><a href='../S/1054.html#L70691'>db</a>               70691 ext/sqlite3/libsqlite/sqlite3.c         u8 enc = ENC(db);</span>
<span class='curline'><a href='../S/1054.html#L70695'>db</a>               70695 ext/sqlite3/libsqlite/sqlite3.c           utf8.db = db;</span>
<span class='curline'><a href='../S/1054.html#L71225'>db</a>               71225 ext/sqlite3/libsqlite/sqlite3.c #  define REGISTER_TRACE(R,M) if(db-&gt;flags&amp;SQLITE_VdbeTrace)registerTrace(R,M)</span>
<span class='curline'><a href='../S/1054.html#L71341'>db</a>               71341 ext/sqlite3/libsqlite/sqlite3.c static int checkSavepointCount(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L71344'>db</a>               71344 ext/sqlite3/libsqlite/sqlite3.c   for(p=db-&gt;pSavepoint; p; p=p-&gt;pNext) n++;</span>
<span class='curline'><a href='../S/1054.html#L71345'>db</a>               71345 ext/sqlite3/libsqlite/sqlite3.c   assert( n==(db-&gt;nSavepoint + db-&gt;isTransactionSavepoint) );</span>
<span class='curline'><a href='../S/1054.html#L71379'>db</a>               71379 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;       /* The database */</span>
<span class='curline'><a href='../S/1054.html#L71381'>db</a>               71381 ext/sqlite3/libsqlite/sqlite3.c   u8 encoding = ENC(db);     /* The database encoding */</span>
<span class='curline'><a href='../S/1054.html#L71393'>db</a>               71393 ext/sqlite3/libsqlite/sqlite3.c   i64 lastRowid = db-&gt;lastRowid;  /* Saved value of the last insert ROWID */</span>
<span class='curline'><a href='../S/1054.html#L71412'>db</a>               71412 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;busyHandler.nBusy = 0;</span>
<span class='curline'><a href='../S/1054.html#L71413'>db</a>               71413 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;u1.isInterrupted ) goto abort_due_to_interrupt;</span>
<span class='curline'><a href='../S/1054.html#L71416'>db</a>               71416 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;xProgress ){</span>
<span class='curline'><a href='../S/1054.html#L71417'>db</a>               71417 ext/sqlite3/libsqlite/sqlite3.c     assert( 0 &lt; db-&gt;nProgressOps );</span>
<span class='curline'><a href='../S/1054.html#L71420'>db</a>               71420 ext/sqlite3/libsqlite/sqlite3.c       nProgressLimit = db-&gt;nProgressOps;</span>
<span class='curline'><a href='../S/1054.html#L71422'>db</a>               71422 ext/sqlite3/libsqlite/sqlite3.c       nProgressLimit %= (unsigned)db-&gt;nProgressOps;</span>
<span class='curline'><a href='../S/1054.html#L71429'>db</a>               71429 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; (p-&gt;db-&gt;flags &amp; (SQLITE_VdbeListing|SQLITE_VdbeEQP|SQLITE_VdbeTrace))!=0</span>
<span class='curline'><a href='../S/1054.html#L71434'>db</a>               71434 ext/sqlite3/libsqlite/sqlite3.c     if( p-&gt;db-&gt;flags &amp; SQLITE_VdbeListing ){</span>
<span class='curline'><a href='../S/1054.html#L71440'>db</a>               71440 ext/sqlite3/libsqlite/sqlite3.c     if( p-&gt;db-&gt;flags &amp; SQLITE_VdbeEQP ){</span>
<span class='curline'><a href='../S/1054.html#L71449'>db</a>               71449 ext/sqlite3/libsqlite/sqlite3.c     if( p-&gt;db-&gt;flags &amp; SQLITE_VdbeTrace )  printf("VDBE Trace:\n");</span>
<span class='curline'><a href='../S/1054.html#L71455'>db</a>               71455 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed ) goto no_mem;</span>
<span class='curline'><a href='../S/1054.html#L71467'>db</a>               71467 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;flags &amp; SQLITE_VdbeTrace ){</span>
<span class='curline'><a href='../S/1054.html#L71480'>db</a>               71480 ext/sqlite3/libsqlite/sqlite3.c         sqlite3_interrupt(db);</span>
<span class='curline'><a href='../S/1054.html#L71588'>db</a>               71588 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;u1.isInterrupted ) goto abort_due_to_interrupt;</span>
<span class='curline'><a href='../S/1054.html#L71596'>db</a>               71596 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;xProgress!=0 &amp;&amp; nVmStep&gt;=nProgressLimit ){</span>
<span class='curline'><a href='../S/1054.html#L71597'>db</a>               71597 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;nProgressOps!=0 );</span>
<span class='curline'><a href='../S/1054.html#L71598'>db</a>               71598 ext/sqlite3/libsqlite/sqlite3.c     nProgressLimit = nVmStep + db-&gt;nProgressOps - (nVmStep%db-&gt;nProgressOps);</span>
<span class='curline'><a href='../S/1054.html#L71599'>db</a>               71599 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;xProgress(db-&gt;pProgressArg) ){</span>
<span class='curline'><a href='../S/1054.html#L71768'>db</a>               71768 ext/sqlite3/libsqlite/sqlite3.c     sqlite3VdbeSetChanges(db, p-&gt;nChange);</span>
<span class='curline'><a href='../S/1054.html#L71770'>db</a>               71770 ext/sqlite3/libsqlite/sqlite3.c     lastRowid = db-&gt;lastRowid;</span>
<span class='curline'><a href='../S/1054.html#L71803'>db</a>               71803 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s constraint failed: %s", </span>
<span class='curline'><a href='../S/1054.html#L71806'>db</a>               71806 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/1054.html#L71808'>db</a>               71808 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s constraint failed", zType);</span>
<span class='curline'><a href='../S/1054.html#L71818'>db</a>               71818 ext/sqlite3/libsqlite/sqlite3.c     assert( rc==SQLITE_OK || db-&gt;nDeferredCons&gt;0 || db-&gt;nDeferredImmCons&gt;0 );</span>
<span class='curline'><a href='../S/1054.html#L71888'>db</a>               71888 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/1054.html#L71895'>db</a>               71895 ext/sqlite3/libsqlite/sqlite3.c   if( pOp-&gt;p1&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/1054.html#L72124'>db</a>               72124 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;xProgress!=0</span>
<span class='curline'><a href='../S/1054.html#L72126'>db</a>               72126 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; db-&gt;xProgress(db-&gt;pProgressArg)!=0</span>
<span class='curline'><a href='../S/1054.html#L72137'>db</a>               72137 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;flags&amp;SQLITE_CountRows );</span>
<span class='curline'><a href='../S/1054.html#L72157'>db</a>               72157 ext/sqlite3/libsqlite/sqlite3.c   assert( p-&gt;iStatement==0 || db-&gt;flags&amp;SQLITE_CountRows );</span>
<span class='curline'><a href='../S/1054.html#L72179'>db</a>               72179 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ) goto no_mem;</span>
<span class='curline'><a href='../S/1054.html#L72216'>db</a>               72216 ext/sqlite3/libsqlite/sqlite3.c   if( nByte&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/1054.html#L72433'>db</a>               72433 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;lastRowid = lastRowid;</span>
<span class='curline'><a href='../S/1054.html#L72435'>db</a>               72435 ext/sqlite3/libsqlite/sqlite3.c   lastRowid = db-&gt;lastRowid;  /* Remember rowid changes made by xFunc */</span>
<span class='curline'><a href='../S/1054.html#L72440'>db</a>               72440 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3_value_text(ctx.pOut));</span>
<span class='curline'><a href='../S/1054.html#L72798'>db</a>               72798 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed ) goto no_mem;</span>
<span class='curline'><a href='../S/1054.html#L73205'>db</a>               73205 ext/sqlite3/libsqlite/sqlite3.c       if( pC-&gt;payloadSize &gt; (u32)db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/1054.html#L73529'>db</a>               73529 ext/sqlite3/libsqlite/sqlite3.c   if( nByte+nZero&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/1054.html#L73616'>db</a>               73616 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;pSavepoint==0 || db-&gt;autoCommit==0 );</span>
<span class='curline'><a href='../S/1054.html#L73618'>db</a>               73618 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;pSavepoint || db-&gt;isTransactionSavepoint==0 );</span>
<span class='curline'><a href='../S/1054.html#L73619'>db</a>               73619 ext/sqlite3/libsqlite/sqlite3.c   assert( checkSavepointCount(db) );</span>
<span class='curline'><a href='../S/1054.html#L73623'>db</a>               73623 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;nVdbeWrite&gt;0 ){</span>
<span class='curline'><a href='../S/1054.html#L73627'>db</a>               73627 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "cannot open savepoint - "</span>
<span class='curline'><a href='../S/1054.html#L73638'>db</a>               73638 ext/sqlite3/libsqlite/sqlite3.c       assert( db-&gt;autoCommit==0 || db-&gt;nVTrans==0 );</span>
<span class='curline'><a href='../S/1054.html#L73639'>db</a>               73639 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3VtabSavepoint(db, SAVEPOINT_BEGIN,</span>
<span class='curline'><a href='../S/1054.html#L73640'>db</a>               73640 ext/sqlite3/libsqlite/sqlite3.c                                 db-&gt;nStatement+db-&gt;nSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L73645'>db</a>               73645 ext/sqlite3/libsqlite/sqlite3.c       pNew = sqlite3DbMallocRaw(db, sizeof(Savepoint)+nName+1);</span>
<span class='curline'><a href='../S/1054.html#L73652'>db</a>               73652 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/1054.html#L73653'>db</a>               73653 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;autoCommit = 0;</span>
<span class='curline'><a href='../S/1054.html#L73654'>db</a>               73654 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;isTransactionSavepoint = 1;</span>
<span class='curline'><a href='../S/1054.html#L73656'>db</a>               73656 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;nSavepoint++;</span>
<span class='curline'><a href='../S/1054.html#L73660'>db</a>               73660 ext/sqlite3/libsqlite/sqlite3.c         pNew-&gt;pNext = db-&gt;pSavepoint;</span>
<span class='curline'><a href='../S/1054.html#L73661'>db</a>               73661 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;pSavepoint = pNew;</span>
<span class='curline'><a href='../S/1054.html#L73662'>db</a>               73662 ext/sqlite3/libsqlite/sqlite3.c         pNew-&gt;nDeferredCons = db-&gt;nDeferredCons;</span>
<span class='curline'><a href='../S/1054.html#L73663'>db</a>               73663 ext/sqlite3/libsqlite/sqlite3.c         pNew-&gt;nDeferredImmCons = db-&gt;nDeferredImmCons;</span>
<span class='curline'><a href='../S/1054.html#L73672'>db</a>               73672 ext/sqlite3/libsqlite/sqlite3.c       pSavepoint = db-&gt;pSavepoint; </span>
<span class='curline'><a href='../S/1054.html#L73679'>db</a>               73679 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "no such savepoint: %s", zName);</span>
<span class='curline'><a href='../S/1054.html#L73681'>db</a>               73681 ext/sqlite3/libsqlite/sqlite3.c     }else if( db-&gt;nVdbeWrite&gt;0 &amp;&amp; p1==SAVEPOINT_RELEASE ){</span>
<span class='curline'><a href='../S/1054.html#L73685'>db</a>               73685 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, </span>
<span class='curline'><a href='../S/1054.html#L73695'>db</a>               73695 ext/sqlite3/libsqlite/sqlite3.c       int isTransaction = pSavepoint-&gt;pNext==0 &amp;&amp; db-&gt;isTransactionSavepoint;</span>
<span class='curline'><a href='../S/1054.html#L73700'>db</a>               73700 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/1054.html#L73703'>db</a>               73703 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;autoCommit = 0;</span>
<span class='curline'><a href='../S/1054.html#L73707'>db</a>               73707 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;isTransactionSavepoint = 0;</span>
<span class='curline'><a href='../S/1054.html#L73711'>db</a>               73711 ext/sqlite3/libsqlite/sqlite3.c         iSavepoint = db-&gt;nSavepoint - iSavepoint - 1;</span>
<span class='curline'><a href='../S/1054.html#L73713'>db</a>               73713 ext/sqlite3/libsqlite/sqlite3.c           isSchemaChange = (db-&gt;flags &amp; SQLITE_InternChanges)!=0;</span>
<span class='curline'><a href='../S/1054.html#L73714'>db</a>               73714 ext/sqlite3/libsqlite/sqlite3.c           for(ii=0; ii&lt;db-&gt;nDb; ii++){</span>
<span class='curline'><a href='../S/1054.html#L73715'>db</a>               73715 ext/sqlite3/libsqlite/sqlite3.c             rc = sqlite3BtreeTripAllCursors(db-&gt;aDb[ii].pBt,</span>
<span class='curline'><a href='../S/1054.html#L73723'>db</a>               73723 ext/sqlite3/libsqlite/sqlite3.c         for(ii=0; ii&lt;db-&gt;nDb; ii++){</span>
<span class='curline'><a href='../S/1054.html#L73724'>db</a>               73724 ext/sqlite3/libsqlite/sqlite3.c           rc = sqlite3BtreeSavepoint(db-&gt;aDb[ii].pBt, p1, iSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L73730'>db</a>               73730 ext/sqlite3/libsqlite/sqlite3.c           sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/1054.html#L73731'>db</a>               73731 ext/sqlite3/libsqlite/sqlite3.c           sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/1054.html#L73732'>db</a>               73732 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;flags = (db-&gt;flags | SQLITE_InternChanges);</span>
<span class='curline'><a href='../S/1054.html#L73738'>db</a>               73738 ext/sqlite3/libsqlite/sqlite3.c       while( db-&gt;pSavepoint!=pSavepoint ){</span>
<span class='curline'><a href='../S/1054.html#L73739'>db</a>               73739 ext/sqlite3/libsqlite/sqlite3.c         pTmp = db-&gt;pSavepoint;</span>
<span class='curline'><a href='../S/1054.html#L73740'>db</a>               73740 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;pSavepoint = pTmp-&gt;pNext;</span>
<span class='curline'><a href='../S/1054.html#L73741'>db</a>               73741 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, pTmp);</span>
<span class='curline'><a href='../S/1054.html#L73742'>db</a>               73742 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;nSavepoint--;</span>
<span class='curline'><a href='../S/1054.html#L73750'>db</a>               73750 ext/sqlite3/libsqlite/sqlite3.c         assert( pSavepoint==db-&gt;pSavepoint );</span>
<span class='curline'><a href='../S/1054.html#L73751'>db</a>               73751 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;pSavepoint = pSavepoint-&gt;pNext;</span>
<span class='curline'><a href='../S/1054.html#L73752'>db</a>               73752 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, pSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L73754'>db</a>               73754 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;nSavepoint--;</span>
<span class='curline'><a href='../S/1054.html#L73757'>db</a>               73757 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;nDeferredCons = pSavepoint-&gt;nDeferredCons;</span>
<span class='curline'><a href='../S/1054.html#L73758'>db</a>               73758 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;nDeferredImmCons = pSavepoint-&gt;nDeferredImmCons;</span>
<span class='curline'><a href='../S/1054.html#L73762'>db</a>               73762 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3VtabSavepoint(db, p1, iSavepoint);</span>
<span class='curline'><a href='../S/1054.html#L73787'>db</a>               73787 ext/sqlite3/libsqlite/sqlite3.c   turnOnAC = desiredAutoCommit &amp;&amp; !db-&gt;autoCommit;</span>
<span class='curline'><a href='../S/1054.html#L73790'>db</a>               73790 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;nVdbeActive&gt;0 );  /* At least this one VM is active */</span>
<span class='curline'><a href='../S/1054.html#L73794'>db</a>               73794 ext/sqlite3/libsqlite/sqlite3.c   if( turnOnAC &amp;&amp; iRollback &amp;&amp; db-&gt;nVdbeActive&gt;1 ){</span>
<span class='curline'><a href='../S/1054.html#L73799'>db</a>               73799 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "cannot rollback transaction - "</span>
<span class='curline'><a href='../S/1054.html#L73804'>db</a>               73804 ext/sqlite3/libsqlite/sqlite3.c   if( turnOnAC &amp;&amp; !iRollback &amp;&amp; db-&gt;nVdbeWrite&gt;0 ){</span>
<span class='curline'><a href='../S/1054.html#L73808'>db</a>               73808 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "cannot commit transaction - "</span>
<span class='curline'><a href='../S/1054.html#L73811'>db</a>               73811 ext/sqlite3/libsqlite/sqlite3.c   }else if( desiredAutoCommit!=db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/1054.html#L73814'>db</a>               73814 ext/sqlite3/libsqlite/sqlite3.c       sqlite3RollbackAll(db, SQLITE_ABORT_ROLLBACK);</span>
<span class='curline'><a href='../S/1054.html#L73815'>db</a>               73815 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/1054.html#L73819'>db</a>               73819 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;autoCommit = (u8)desiredAutoCommit;</span>
<span class='curline'><a href='../S/1054.html#L73822'>db</a>               73822 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;autoCommit = (u8)(1-desiredAutoCommit);</span>
<span class='curline'><a href='../S/1054.html#L73827'>db</a>               73827 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;nStatement==0 );</span>
<span class='curline'><a href='../S/1054.html#L73828'>db</a>               73828 ext/sqlite3/libsqlite/sqlite3.c     sqlite3CloseSavepoints(db);</span>
<span class='curline'><a href='../S/1054.html#L73836'>db</a>               73836 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db,</span>
<span class='curline'><a href='../S/1054.html#L73887'>db</a>               73887 ext/sqlite3/libsqlite/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L73889'>db</a>               73889 ext/sqlite3/libsqlite/sqlite3.c   if( pOp-&gt;p2 &amp;&amp; (db-&gt;flags &amp; SQLITE_QueryOnly)!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L73893'>db</a>               73893 ext/sqlite3/libsqlite/sqlite3.c   pBt = db-&gt;aDb[pOp-&gt;p1].pBt;</span>
<span class='curline'><a href='../S/1054.html#L73907'>db</a>               73907 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; (db-&gt;autoCommit==0 || db-&gt;nVdbeRead&gt;1) </span>
<span class='curline'><a href='../S/1054.html#L73911'>db</a>               73911 ext/sqlite3/libsqlite/sqlite3.c         assert( db-&gt;nStatement&gt;=0 &amp;&amp; db-&gt;nSavepoint&gt;=0 );</span>
<span class='curline'><a href='../S/1054.html#L73912'>db</a>               73912 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;nStatement++; </span>
<span class='curline'><a href='../S/1054.html#L73913'>db</a>               73913 ext/sqlite3/libsqlite/sqlite3.c         p-&gt;iStatement = db-&gt;nSavepoint + db-&gt;nStatement;</span>
<span class='curline'><a href='../S/1054.html#L73916'>db</a>               73916 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3VtabSavepoint(db, SAVEPOINT_BEGIN, p-&gt;iStatement-1);</span>
<span class='curline'><a href='../S/1054.html#L73924'>db</a>               73924 ext/sqlite3/libsqlite/sqlite3.c       p-&gt;nStmtDefCons = db-&gt;nDeferredCons;</span>
<span class='curline'><a href='../S/1054.html#L73925'>db</a>               73925 ext/sqlite3/libsqlite/sqlite3.c       p-&gt;nStmtDefImmCons = db-&gt;nDeferredImmCons;</span>
<span class='curline'><a href='../S/1054.html#L73935'>db</a>               73935 ext/sqlite3/libsqlite/sqlite3.c     iGen = db-&gt;aDb[pOp-&gt;p1].pSchema-&gt;iGeneration;</span>
<span class='curline'><a href='../S/1054.html#L73941'>db</a>               73941 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L73942'>db</a>               73942 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;zErrMsg = sqlite3DbStrDup(db, "database schema has changed");</span>
<span class='curline'><a href='../S/1054.html#L73956'>db</a>               73956 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;aDb[pOp-&gt;p1].pSchema-&gt;schema_cookie!=iMeta ){</span>
<span class='curline'><a href='../S/1054.html#L73957'>db</a>               73957 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ResetOneSchema(db, pOp-&gt;p1);</span>
<span class='curline'><a href='../S/1054.html#L73986'>db</a>               73986 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L73987'>db</a>               73987 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;aDb[iDb].pBt!=0 );</span>
<span class='curline'><a href='../S/1054.html#L73990'>db</a>               73990 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeGetMeta(db-&gt;aDb[iDb].pBt, iCookie, (u32 *)&amp;iMeta);</span>
<span class='curline'><a href='../S/1054.html#L74009'>db</a>               74009 ext/sqlite3/libsqlite/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L74012'>db</a>               74012 ext/sqlite3/libsqlite/sqlite3.c   pDb = &amp;db-&gt;aDb[pOp-&gt;p1];</span>
<span class='curline'><a href='../S/1054.html#L74014'>db</a>               74014 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, pOp-&gt;p1, 0) );</span>
<span class='curline'><a href='../S/1054.html#L74022'>db</a>               74022 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/1054.html#L74030'>db</a>               74030 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/1054.html#L74138'>db</a>               74138 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L74140'>db</a>               74140 ext/sqlite3/libsqlite/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/1054.html#L74145'>db</a>               74145 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L74171'>db</a>               74171 ext/sqlite3/libsqlite/sqlite3.c     assert( pKeyInfo-&gt;enc==ENC(db) );</span>
<span class='curline'><a href='../S/1054.html#L74172'>db</a>               74172 ext/sqlite3/libsqlite/sqlite3.c     assert( pKeyInfo-&gt;db==db );</span>
<span class='curline'><a href='../S/1054.html#L74244'>db</a>               74244 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3BtreeOpen(db-&gt;pVfs, 0, db, &amp;pCx-&gt;pBt, </span>
<span class='curline'><a href='../S/1054.html#L74261'>db</a>               74261 ext/sqlite3/libsqlite/sqlite3.c         assert( pKeyInfo-&gt;db==db );</span>
<span class='curline'><a href='../S/1054.html#L74262'>db</a>               74262 ext/sqlite3/libsqlite/sqlite3.c         assert( pKeyInfo-&gt;enc==ENC(db) );</span>
<span class='curline'><a href='../S/1054.html#L74294'>db</a>               74294 ext/sqlite3/libsqlite/sqlite3.c   assert( pCx-&gt;pKeyInfo-&gt;db==db );</span>
<span class='curline'><a href='../S/1054.html#L74295'>db</a>               74295 ext/sqlite3/libsqlite/sqlite3.c   assert( pCx-&gt;pKeyInfo-&gt;enc==ENC(db) );</span>
<span class='curline'><a href='../S/1054.html#L74296'>db</a>               74296 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3VdbeSorterInit(db, pOp-&gt;p3, pCx);</span>
<span class='curline'><a href='../S/1054.html#L74734'>db</a>               74734 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pFree);</span>
<span class='curline'><a href='../S/1054.html#L75033'>db</a>               75033 ext/sqlite3/libsqlite/sqlite3.c   if( pOp-&gt;p5 &amp; OPFLAG_LASTROWID ) db-&gt;lastRowid = lastRowid = iKey;</span>
<span class='curline'><a href='../S/1054.html#L75054'>db</a>               75054 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; db-&gt;xUpdateCallback &amp;&amp; pOp-&gt;p4.z ){</span>
<span class='curline'><a href='../S/1054.html#L75055'>db</a>               75055 ext/sqlite3/libsqlite/sqlite3.c     zDb = db-&gt;aDb[pC-&gt;iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L75059'>db</a>               75059 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;xUpdateCallback(db-&gt;pUpdateArg, op, zDb, zTbl, iKey);</span>
<span class='curline'><a href='../S/1054.html#L75109'>db</a>               75109 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; db-&gt;xUpdateCallback &amp;&amp; pOp-&gt;p4.z &amp;&amp; pC-&gt;isTable ){</span>
<span class='curline'><a href='../S/1054.html#L75110'>db</a>               75110 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;xUpdateCallback(db-&gt;pUpdateArg, SQLITE_DELETE,</span>
<span class='curline'><a href='../S/1054.html#L75111'>db</a>               75111 ext/sqlite3/libsqlite/sqlite3.c                         db-&gt;aDb[pC-&gt;iDb].zName, pOp-&gt;p4.z, pC-&gt;movetoTarget);</span>
<span class='curline'><a href='../S/1054.html#L75125'>db</a>               75125 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VdbeSetChanges(db, p-&gt;nChange);</span>
<span class='curline'><a href='../S/1054.html#L75249'>db</a>               75249 ext/sqlite3/libsqlite/sqlite3.c     if( n64&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/1054.html#L75256'>db</a>               75256 ext/sqlite3/libsqlite/sqlite3.c     if( n&gt;(u32)db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/1054.html#L75517'>db</a>               75517 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3VdbeSorterNext(db, pC, &amp;res);</span>
<span class='curline'><a href='../S/1054.html#L75690'>db</a>               75690 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3VdbeIdxRowid(db, pCrsr, &amp;rowid);</span>
<span class='curline'><a href='../S/1054.html#L75774'>db</a>               75774 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3VdbeIdxKeyCompare(db, pC, &amp;r, &amp;res);</span>
<span class='curline'><a href='../S/1054.html#L75815'>db</a>               75815 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;nVdbeRead &gt; db-&gt;nVDestroy+1 ){</span>
<span class='curline'><a href='../S/1054.html#L75822'>db</a>               75822 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3BtreeDropTable(db-&gt;aDb[iDb].pBt, pOp-&gt;p1, &amp;iMoved);</span>
<span class='curline'><a href='../S/1054.html#L75827'>db</a>               75827 ext/sqlite3/libsqlite/sqlite3.c       sqlite3RootPageMoved(db, iDb, iMoved, pOp-&gt;p1);</span>
<span class='curline'><a href='../S/1054.html#L75862'>db</a>               75862 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;aDb[pOp-&gt;p2].pBt, pOp-&gt;p1, (pOp-&gt;p3 ? &amp;nChange : 0)</span>
<span class='curline'><a href='../S/1054.html#L75890'>db</a>               75890 ext/sqlite3/libsqlite/sqlite3.c     sqlite3VdbeSorterReset(db, pC-&gt;pSorter);</span>
<span class='curline'><a href='../S/1054.html#L75930'>db</a>               75930 ext/sqlite3/libsqlite/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L75933'>db</a>               75933 ext/sqlite3/libsqlite/sqlite3.c   pDb = &amp;db-&gt;aDb[pOp-&gt;p1];</span>
<span class='curline'><a href='../S/1054.html#L75965'>db</a>               75965 ext/sqlite3/libsqlite/sqlite3.c   for(iDb=0; iDb&lt;db-&gt;nDb; iDb++){</span>
<span class='curline'><a href='../S/1054.html#L75966'>db</a>               75966 ext/sqlite3/libsqlite/sqlite3.c     assert( iDb==1 || sqlite3BtreeHoldsMutex(db-&gt;aDb[iDb].pBt) );</span>
<span class='curline'><a href='../S/1054.html#L75971'>db</a>               75971 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L75972'>db</a>               75972 ext/sqlite3/libsqlite/sqlite3.c   assert( DbHasProperty(db, iDb, DB_SchemaLoaded) );</span>
<span class='curline'><a href='../S/1054.html#L75975'>db</a>               75975 ext/sqlite3/libsqlite/sqlite3.c     initData.db = db;</span>
<span class='curline'><a href='../S/1054.html#L75978'>db</a>               75978 ext/sqlite3/libsqlite/sqlite3.c     zSql = sqlite3MPrintf(db,</span>
<span class='curline'><a href='../S/1054.html#L75980'>db</a>               75980 ext/sqlite3/libsqlite/sqlite3.c        db-&gt;aDb[iDb].zName, zMaster, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/1054.html#L75984'>db</a>               75984 ext/sqlite3/libsqlite/sqlite3.c       assert( db-&gt;init.busy==0 );</span>
<span class='curline'><a href='../S/1054.html#L75985'>db</a>               75985 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;init.busy = 1;</span>
<span class='curline'><a href='../S/1054.html#L75987'>db</a>               75987 ext/sqlite3/libsqlite/sqlite3.c       assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L75988'>db</a>               75988 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3_exec(db, zSql, sqlite3InitCallback, &amp;initData, 0);</span>
<span class='curline'><a href='../S/1054.html#L75990'>db</a>               75990 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/1054.html#L75991'>db</a>               75991 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;init.busy = 0;</span>
<span class='curline'><a href='../S/1054.html#L75994'>db</a>               75994 ext/sqlite3/libsqlite/sqlite3.c   if( rc ) sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/1054.html#L76009'>db</a>               76009 ext/sqlite3/libsqlite/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L76010'>db</a>               76010 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3AnalysisLoad(db, pOp-&gt;p1);</span>
<span class='curline'><a href='../S/1054.html#L76024'>db</a>               76024 ext/sqlite3/libsqlite/sqlite3.c   sqlite3UnlinkAndDeleteTable(db, pOp-&gt;p1, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/1054.html#L76037'>db</a>               76037 ext/sqlite3/libsqlite/sqlite3.c   sqlite3UnlinkAndDeleteIndex(db, pOp-&gt;p1, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/1054.html#L76050'>db</a>               76050 ext/sqlite3/libsqlite/sqlite3.c   sqlite3UnlinkAndDeleteTrigger(db, pOp-&gt;p1, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/1054.html#L76087'>db</a>               76087 ext/sqlite3/libsqlite/sqlite3.c   aRoot = sqlite3DbMallocRaw(db, sizeof(int)*(nRoot+1) );</span>
<span class='curline'><a href='../S/1054.html#L76098'>db</a>               76098 ext/sqlite3/libsqlite/sqlite3.c   assert( pOp-&gt;p5&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L76100'>db</a>               76100 ext/sqlite3/libsqlite/sqlite3.c   z = sqlite3BtreeIntegrityCheck(db-&gt;aDb[pOp-&gt;p5].pBt, aRoot, nRoot,</span>
<span class='curline'><a href='../S/1054.html#L76102'>db</a>               76102 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, aRoot);</span>
<span class='curline'><a href='../S/1054.html#L76267'>db</a>               76267 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;nFrame&gt;=db-&gt;aLimit[SQLITE_LIMIT_TRIGGER_DEPTH] ){</span>
<span class='curline'><a href='../S/1054.html#L76269'>db</a>               76269 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "too many levels of trigger recursion");</span>
<span class='curline'><a href='../S/1054.html#L76288'>db</a>               76288 ext/sqlite3/libsqlite/sqlite3.c     pFrame = sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/1054.html#L76316'>db</a>               76316 ext/sqlite3/libsqlite/sqlite3.c       pMem-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L76329'>db</a>               76329 ext/sqlite3/libsqlite/sqlite3.c   pFrame-&gt;nDbChange = p-&gt;db-&gt;nChange;</span>
<span class='curline'><a href='../S/1054.html#L76383'>db</a>               76383 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;flags &amp; SQLITE_DeferFKs ){</span>
<span class='curline'><a href='../S/1054.html#L76384'>db</a>               76384 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nDeferredImmCons += pOp-&gt;p2;</span>
<span class='curline'><a href='../S/1054.html#L76386'>db</a>               76386 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nDeferredCons += pOp-&gt;p2;</span>
<span class='curline'><a href='../S/1054.html#L76407'>db</a>               76407 ext/sqlite3/libsqlite/sqlite3.c     VdbeBranchTaken(db-&gt;nDeferredCons==0 &amp;&amp; db-&gt;nDeferredImmCons==0, 2);</span>
<span class='curline'><a href='../S/1054.html#L76408'>db</a>               76408 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;nDeferredCons==0 &amp;&amp; db-&gt;nDeferredImmCons==0 ) goto jump_to_p2;</span>
<span class='curline'><a href='../S/1054.html#L76410'>db</a>               76410 ext/sqlite3/libsqlite/sqlite3.c     VdbeBranchTaken(p-&gt;nFkConstraint==0 &amp;&amp; db-&gt;nDeferredImmCons==0, 2);</span>
<span class='curline'><a href='../S/1054.html#L76411'>db</a>               76411 ext/sqlite3/libsqlite/sqlite3.c     if( p-&gt;nFkConstraint==0 &amp;&amp; db-&gt;nDeferredImmCons==0 ) goto jump_to_p2;</span>
<span class='curline'><a href='../S/1054.html#L76564'>db</a>               76564 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VdbeMemInit(&amp;t, db, MEM_Null);</span>
<span class='curline'><a href='../S/1054.html#L76572'>db</a>               76572 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3_value_text(&amp;t));</span>
<span class='curline'><a href='../S/1054.html#L76604'>db</a>               76604 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3_value_text(pMem));</span>
<span class='curline'><a href='../S/1054.html#L76639'>db</a>               76639 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3Checkpoint(db, pOp-&gt;p1, pOp-&gt;p2, &amp;aRes[1], &amp;aRes[2]);</span>
<span class='curline'><a href='../S/1054.html#L76682'>db</a>               76682 ext/sqlite3/libsqlite/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L76685'>db</a>               76685 ext/sqlite3/libsqlite/sqlite3.c   pBt = db-&gt;aDb[pOp-&gt;p1].pBt;</span>
<span class='curline'><a href='../S/1054.html#L76707'>db</a>               76707 ext/sqlite3/libsqlite/sqlite3.c     if( !db-&gt;autoCommit || db-&gt;nVdbeRead&gt;1 ){</span>
<span class='curline'><a href='../S/1054.html#L76709'>db</a>               76709 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, </span>
<span class='curline'><a href='../S/1054.html#L76766'>db</a>               76766 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3RunVacuum(&amp;p-&gt;zErrMsg, db);</span>
<span class='curline'><a href='../S/1054.html#L76781'>db</a>               76781 ext/sqlite3/libsqlite/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L76784'>db</a>               76784 ext/sqlite3/libsqlite/sqlite3.c   pBt = db-&gt;aDb[pOp-&gt;p1].pBt;</span>
<span class='curline'><a href='../S/1054.html#L76807'>db</a>               76807 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/1054.html#L76832'>db</a>               76832 ext/sqlite3/libsqlite/sqlite3.c   if( isWriteLock || 0==(db-&gt;flags&amp;SQLITE_ReadUncommitted) ){</span>
<span class='curline'><a href='../S/1054.html#L76834'>db</a>               76834 ext/sqlite3/libsqlite/sqlite3.c     assert( p1&gt;=0 &amp;&amp; p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L76837'>db</a>               76837 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3BtreeLockTable(db-&gt;aDb[p1].pBt, pOp-&gt;p2, isWriteLock);</span>
<span class='curline'><a href='../S/1054.html#L76840'>db</a>               76840 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "database table is locked: %s", z);</span>
<span class='curline'><a href='../S/1054.html#L76860'>db</a>               76860 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3VtabBegin(db, pVTab);</span>
<span class='curline'><a href='../S/1054.html#L76877'>db</a>               76877 ext/sqlite3/libsqlite/sqlite3.c   sMem.db = db;</span>
<span class='curline'><a href='../S/1054.html#L76885'>db</a>               76885 ext/sqlite3/libsqlite/sqlite3.c   assert( zTab || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L76887'>db</a>               76887 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3VtabCallCreate(db, pOp-&gt;p1, zTab, &amp;p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L76901'>db</a>               76901 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nVDestroy++;</span>
<span class='curline'><a href='../S/1054.html#L76902'>db</a>               76902 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3VtabCallDestroy(db, pOp-&gt;p1, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/1054.html#L76903'>db</a>               76903 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nVDestroy--;</span>
<span class='curline'><a href='../S/1054.html#L76942'>db</a>               76942 ext/sqlite3/libsqlite/sqlite3.c       assert( db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L77186'>db</a>               77186 ext/sqlite3/libsqlite/sqlite3.c     u8 vtabOnConflict = db-&gt;vtabOnConflict;</span>
<span class='curline'><a href='../S/1054.html#L77195'>db</a>               77195 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;vtabOnConflict = pOp-&gt;p5;</span>
<span class='curline'><a href='../S/1054.html#L77197'>db</a>               77197 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;vtabOnConflict = vtabOnConflict;</span>
<span class='curline'><a href='../S/1054.html#L77201'>db</a>               77201 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;lastRowid = lastRowid = rowid;</span>
<span class='curline'><a href='../S/1054.html#L77224'>db</a>               77224 ext/sqlite3/libsqlite/sqlite3.c   pOut-&gt;u.i = sqlite3BtreeLastPage(db-&gt;aDb[pOp-&gt;p1].pBt);</span>
<span class='curline'><a href='../S/1054.html#L77244'>db</a>               77244 ext/sqlite3/libsqlite/sqlite3.c   pBt = db-&gt;aDb[pOp-&gt;p1].pBt;</span>
<span class='curline'><a href='../S/1054.html#L77273'>db</a>               77273 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;xTrace</span>
<span class='curline'><a href='../S/1054.html#L77278'>db</a>               77278 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;xTrace(db-&gt;pTraceArg, z);</span>
<span class='curline'><a href='../S/1054.html#L77279'>db</a>               77279 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/1054.html#L77285'>db</a>               77285 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L77287'>db</a>               77287 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_file_control(db, db-&gt;aDb[i].zName, SQLITE_FCNTL_TRACE, zTrace);</span>
<span class='curline'><a href='../S/1054.html#L77292'>db</a>               77292 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_SqlTrace)!=0</span>
<span class='curline'><a href='../S/1054.html#L77345'>db</a>               77345 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;flags &amp; SQLITE_VdbeTrace ){</span>
<span class='curline'><a href='../S/1054.html#L77368'>db</a>               77368 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_IOERR_NOMEM ) db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L77371'>db</a>               77371 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ResetOneSchema(db, resetSchemaOnFault-1);</span>
<span class='curline'><a href='../S/1054.html#L77378'>db</a>               77378 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;lastRowid = lastRowid;</span>
<span class='curline'><a href='../S/1054.html#L77388'>db</a>               77388 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SetString(&amp;p-&gt;zErrMsg, db, "string or blob too big");</span>
<span class='curline'><a href='../S/1054.html#L77395'>db</a>               77395 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L77396'>db</a>               77396 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SetString(&amp;p-&gt;zErrMsg, db, "out of memory");</span>
<span class='curline'><a href='../S/1054.html#L77405'>db</a>               77405 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ) rc = SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/1054.html#L77407'>db</a>               77407 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3ErrStr(rc));</span>
<span class='curline'><a href='../S/1054.html#L77415'>db</a>               77415 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;u1.isInterrupted );</span>
<span class='curline'><a href='../S/1054.html#L77418'>db</a>               77418 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3ErrStr(rc));</span>
<span class='curline'><a href='../S/1054.html#L77454'>db</a>               77454 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;            /* The associated database */</span>
<span class='curline'><a href='../S/1054.html#L77492'>db</a>               77492 ext/sqlite3/libsqlite/sqlite3.c       zErr = sqlite3MPrintf(p-&gt;db, "cannot open value of type %s",</span>
<span class='curline'><a href='../S/1054.html#L77512'>db</a>               77512 ext/sqlite3/libsqlite/sqlite3.c       zErr = sqlite3MPrintf(p-&gt;db, "no such rowid: %lld", iRow);</span>
<span class='curline'><a href='../S/1054.html#L77515'>db</a>               77515 ext/sqlite3/libsqlite/sqlite3.c       zErr = sqlite3MPrintf(p-&gt;db, "%s", sqlite3_errmsg(p-&gt;db));</span>
<span class='curline'><a href='../S/1054.html#L77530'>db</a>               77530 ext/sqlite3/libsqlite/sqlite3.c   sqlite3* db,            /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L77585'>db</a>               77585 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) || zTable==0 ){</span>
<span class='curline'><a href='../S/1054.html#L77591'>db</a>               77591 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L77593'>db</a>               77593 ext/sqlite3/libsqlite/sqlite3.c   pBlob = (Incrblob *)sqlite3DbMallocZero(db, sizeof(Incrblob));</span>
<span class='curline'><a href='../S/1054.html#L77595'>db</a>               77595 ext/sqlite3/libsqlite/sqlite3.c   pParse = sqlite3StackAllocRaw(db, sizeof(*pParse));</span>
<span class='curline'><a href='../S/1054.html#L77600'>db</a>               77600 ext/sqlite3/libsqlite/sqlite3.c     pParse-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L77601'>db</a>               77601 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/1054.html#L77604'>db</a>               77604 ext/sqlite3/libsqlite/sqlite3.c     sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/1054.html#L77622'>db</a>               77622 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/1054.html#L77627'>db</a>               77627 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L77638'>db</a>               77638 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/1054.html#L77639'>db</a>               77639 ext/sqlite3/libsqlite/sqlite3.c       zErr = sqlite3MPrintf(db, "no such column: \"%s\"", zColumn);</span>
<span class='curline'><a href='../S/1054.html#L77641'>db</a>               77641 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L77653'>db</a>               77653 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/1054.html#L77678'>db</a>               77678 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/1054.html#L77679'>db</a>               77679 ext/sqlite3/libsqlite/sqlite3.c         zErr = sqlite3MPrintf(db, "cannot open %s column for writing", zFault);</span>
<span class='curline'><a href='../S/1054.html#L77681'>db</a>               77681 ext/sqlite3/libsqlite/sqlite3.c         sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L77687'>db</a>               77687 ext/sqlite3/libsqlite/sqlite3.c     assert( pBlob-&gt;pStmt || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L77690'>db</a>               77690 ext/sqlite3/libsqlite/sqlite3.c       int iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L77727'>db</a>               77727 ext/sqlite3/libsqlite/sqlite3.c       if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L77737'>db</a>               77737 ext/sqlite3/libsqlite/sqlite3.c     pBlob-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L77738'>db</a>               77738 ext/sqlite3/libsqlite/sqlite3.c     sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L77739'>db</a>               77739 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L77747'>db</a>               77747 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; db-&gt;mallocFailed==0 ){</span>
<span class='curline'><a href='../S/1054.html#L77751'>db</a>               77751 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pBlob);</span>
<span class='curline'><a href='../S/1054.html#L77753'>db</a>               77753 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ErrorWithMsg(db, rc, (zErr ? "%s" : 0), zErr);</span>
<span class='curline'><a href='../S/1054.html#L77754'>db</a>               77754 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/1054.html#L77756'>db</a>               77756 ext/sqlite3/libsqlite/sqlite3.c   sqlite3StackFree(db, pParse);</span>
<span class='curline'><a href='../S/1054.html#L77757'>db</a>               77757 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L77758'>db</a>               77758 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L77769'>db</a>               77769 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L77772'>db</a>               77772 ext/sqlite3/libsqlite/sqlite3.c     db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L77773'>db</a>               77773 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L77775'>db</a>               77775 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L77776'>db</a>               77776 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L77796'>db</a>               77796 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L77799'>db</a>               77799 ext/sqlite3/libsqlite/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L77800'>db</a>               77800 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L77815'>db</a>               77815 ext/sqlite3/libsqlite/sqlite3.c     assert( db == v-&gt;db );</span>
<span class='curline'><a href='../S/1054.html#L77826'>db</a>               77826 ext/sqlite3/libsqlite/sqlite3.c   sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L77827'>db</a>               77827 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L77828'>db</a>               77828 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L77870'>db</a>               77870 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L77873'>db</a>               77873 ext/sqlite3/libsqlite/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L77874'>db</a>               77874 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L77885'>db</a>               77885 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ErrorWithMsg(db, rc, (zErr ? "%s" : 0), zErr);</span>
<span class='curline'><a href='../S/1054.html#L77886'>db</a>               77886 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/1054.html#L77891'>db</a>               77891 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L77893'>db</a>               77893 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L78222'>db</a>               78222 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;                    /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L78513'>db</a>               78513 ext/sqlite3/libsqlite/sqlite3.c   if( pFile-&gt;iEof&lt;=(i64)(pTask-&gt;pSorter-&gt;db-&gt;nMaxSorterMmap) ){</span>
<span class='curline'><a href='../S/1054.html#L78826'>db</a>               78826 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database connection (for malloc()) */</span>
<span class='curline'><a href='../S/1054.html#L78846'>db</a>               78846 ext/sqlite3/libsqlite/sqlite3.c   if( sqlite3TempInMemory(db) || sqlite3GlobalConfig.bCoreMutex==0 ){</span>
<span class='curline'><a href='../S/1054.html#L78849'>db</a>               78849 ext/sqlite3/libsqlite/sqlite3.c     nWorker = db-&gt;aLimit[SQLITE_LIMIT_WORKER_THREADS];</span>
<span class='curline'><a href='../S/1054.html#L78865'>db</a>               78865 ext/sqlite3/libsqlite/sqlite3.c   pSorter = (VdbeSorter*)sqlite3DbMallocZero(db, sz + szKeyInfo);</span>
<span class='curline'><a href='../S/1054.html#L78872'>db</a>               78872 ext/sqlite3/libsqlite/sqlite3.c     pKeyInfo-&gt;db = 0;</span>
<span class='curline'><a href='../S/1054.html#L78877'>db</a>               78877 ext/sqlite3/libsqlite/sqlite3.c     pSorter-&gt;pgsz = pgsz = sqlite3BtreeGetPageSize(db-&gt;aDb[0].pBt);</span>
<span class='curline'><a href='../S/1054.html#L78881'>db</a>               78881 ext/sqlite3/libsqlite/sqlite3.c     pSorter-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L78887'>db</a>               78887 ext/sqlite3/libsqlite/sqlite3.c     if( !sqlite3TempInMemory(db) ){</span>
<span class='curline'><a href='../S/1054.html#L78890'>db</a>               78890 ext/sqlite3/libsqlite/sqlite3.c       mxCache = db-&gt;aDb[0].pSchema-&gt;cache_size;</span>
<span class='curline'><a href='../S/1054.html#L78907'>db</a>               78907 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; (pKeyInfo-&gt;aColl[0]==0 || pKeyInfo-&gt;aColl[0]==db-&gt;pDfltColl)</span>
<span class='curline'><a href='../S/1054.html#L78920'>db</a>               78920 ext/sqlite3/libsqlite/sqlite3.c static void vdbeSorterRecordFree(sqlite3 *db, SorterRecord *pRecord){</span>
<span class='curline'><a href='../S/1054.html#L78925'>db</a>               78925 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L78933'>db</a>               78933 ext/sqlite3/libsqlite/sqlite3.c static void vdbeSortSubtaskCleanup(sqlite3 *db, SortSubtask *pTask){</span>
<span class='curline'><a href='../S/1054.html#L78934'>db</a>               78934 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pTask-&gt;pUnpacked);</span>
<span class='curline'><a href='../S/1054.html#L78959'>db</a>               78959 ext/sqlite3/libsqlite/sqlite3.c   sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/1054.html#L78973'>db</a>               78973 ext/sqlite3/libsqlite/sqlite3.c   sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/1054.html#L78983'>db</a>               78983 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/1054.html#L79116'>db</a>               79116 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3VdbeSorterReset(sqlite3 *db, VdbeSorter *pSorter){</span>
<span class='curline'><a href='../S/1054.html#L79123'>db</a>               79123 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pSorter-&gt;pReader);</span>
<span class='curline'><a href='../S/1054.html#L79131'>db</a>               79131 ext/sqlite3/libsqlite/sqlite3.c     vdbeSortSubtaskCleanup(db, pTask);</span>
<span class='curline'><a href='../S/1054.html#L79142'>db</a>               79142 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pSorter-&gt;pUnpacked);</span>
<span class='curline'><a href='../S/1054.html#L79149'>db</a>               79149 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3VdbeSorterClose(sqlite3 *db, VdbeCursor *pCsr){</span>
<span class='curline'><a href='../S/1054.html#L79152'>db</a>               79152 ext/sqlite3/libsqlite/sqlite3.c     sqlite3VdbeSorterReset(db, pSorter);</span>
<span class='curline'><a href='../S/1054.html#L79154'>db</a>               79154 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pSorter);</span>
<span class='curline'><a href='../S/1054.html#L79169'>db</a>               79169 ext/sqlite3/libsqlite/sqlite3.c static void vdbeSorterExtendFile(sqlite3 *db, sqlite3_file *pFd, i64 nByte){</span>
<span class='curline'><a href='../S/1054.html#L79170'>db</a>               79170 ext/sqlite3/libsqlite/sqlite3.c   if( nByte&lt;=(i64)(db-&gt;nMaxSorterMmap) &amp;&amp; pFd-&gt;pMethods-&gt;iVersion&gt;=3 ){</span>
<span class='curline'><a href='../S/1054.html#L79189'>db</a>               79189 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database handle doing sort */</span>
<span class='curline'><a href='../S/1054.html#L79195'>db</a>               79195 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3OsOpenMalloc(db-&gt;pVfs, 0, ppFd,</span>
<span class='curline'><a href='../S/1054.html#L79204'>db</a>               79204 ext/sqlite3/libsqlite/sqlite3.c       vdbeSorterExtendFile(db, *ppFd, nExtend);</span>
<span class='curline'><a href='../S/1054.html#L79434'>db</a>               79434 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pTask-&gt;pSorter-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L79450'>db</a>               79450 ext/sqlite3/libsqlite/sqlite3.c     rc = vdbeSorterOpenTempFile(db, 0, &amp;pTask-&gt;file.pFd);</span>
<span class='curline'><a href='../S/1054.html#L79458'>db</a>               79458 ext/sqlite3/libsqlite/sqlite3.c     vdbeSorterExtendFile(db, pTask-&gt;file.pFd, pTask-&gt;file.iEof+pList-&gt;szPMA+9);</span>
<span class='curline'><a href='../S/1054.html#L80064'>db</a>               80064 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pTask-&gt;pSorter-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L80078'>db</a>               80078 ext/sqlite3/libsqlite/sqlite3.c       rc = vdbeSorterOpenTempFile(db, mxSz, &amp;pIncr-&gt;aFile[0].pFd);</span>
<span class='curline'><a href='../S/1054.html#L80080'>db</a>               80080 ext/sqlite3/libsqlite/sqlite3.c         rc = vdbeSorterOpenTempFile(db, mxSz, &amp;pIncr-&gt;aFile[1].pFd);</span>
<span class='curline'><a href='../S/1054.html#L80087'>db</a>               80087 ext/sqlite3/libsqlite/sqlite3.c         rc = vdbeSorterOpenTempFile(db, pTask-&gt;file2.iEof, &amp;pTask-&gt;file2.pFd);</span>
<span class='curline'><a href='../S/1054.html#L80375'>db</a>               80375 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pTask0-&gt;pSorter-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L80393'>db</a>               80393 ext/sqlite3/libsqlite/sqlite3.c         pReadr = (PmaReader*)sqlite3DbMallocZero(db, sizeof(PmaReader));</span>
<span class='curline'><a href='../S/1054.html#L80498'>db</a>               80498 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3VdbeSorterNext(sqlite3 *db, const VdbeCursor *pCsr, int *pbEof){</span>
<span class='curline'><a href='../S/1054.html#L80522'>db</a>               80522 ext/sqlite3/libsqlite/sqlite3.c     if( pSorter-&gt;list.aMemory==0 ) vdbeSorterRecordFree(db, pFree);</span>
<span class='curline'><a href='../S/1054.html#L81393'>db</a>               81393 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;           /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L81398'>db</a>               81398 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L81399'>db</a>               81399 ext/sqlite3/libsqlite/sqlite3.c   pDup = sqlite3ExprDup(db, pOrig, 0);</span>
<span class='curline'><a href='../S/1054.html#L81423'>db</a>               81423 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pExpr);</span>
<span class='curline'><a href='../S/1054.html#L81427'>db</a>               81427 ext/sqlite3/libsqlite/sqlite3.c     pExpr-&gt;u.zToken = sqlite3DbStrDup(db, pExpr-&gt;u.zToken);</span>
<span class='curline'><a href='../S/1054.html#L81430'>db</a>               81430 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pDup);</span>
<span class='curline'><a href='../S/1054.html#L81519'>db</a>               81519 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;         /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L81551'>db</a>               81551 ext/sqlite3/libsqlite/sqlite3.c       for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L81552'>db</a>               81552 ext/sqlite3/libsqlite/sqlite3.c         assert( db-&gt;aDb[i].zName );</span>
<span class='curline'><a href='../S/1054.html#L81553'>db</a>               81553 ext/sqlite3/libsqlite/sqlite3.c         if( sqlite3StrICmp(db-&gt;aDb[i].zName,zDb)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L81554'>db</a>               81554 ext/sqlite3/libsqlite/sqlite3.c           pSchema = db-&gt;aDb[i].pSchema;</span>
<span class='curline'><a href='../S/1054.html#L81797'>db</a>               81797 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pExpr-&gt;pLeft);</span>
<span class='curline'><a href='../S/1054.html#L81799'>db</a>               81799 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pExpr-&gt;pRight);</span>
<span class='curline'><a href='../S/1054.html#L81826'>db</a>               81826 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE Expr *sqlite3CreateColumnExpr(sqlite3 *db, SrcList *pSrc, int iSrc, int iCol){</span>
<span class='curline'><a href='../S/1054.html#L81827'>db</a>               81827 ext/sqlite3/libsqlite/sqlite3.c   Expr *p = sqlite3ExprAlloc(db, TK_COLUMN, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L81986'>db</a>               81986 ext/sqlite3/libsqlite/sqlite3.c       u8 enc = ENC(pParse-&gt;db);   /* The database encoding */</span>
<span class='curline'><a href='../S/1054.html#L81992'>db</a>               81992 ext/sqlite3/libsqlite/sqlite3.c       pDef = sqlite3FindFunction(pParse-&gt;db, zId, nId, n, enc, 0);</span>
<span class='curline'><a href='../S/1054.html#L81994'>db</a>               81994 ext/sqlite3/libsqlite/sqlite3.c         pDef = sqlite3FindFunction(pParse-&gt;db, zId, nId, -2, enc, 0);</span>
<span class='curline'><a href='../S/1054.html#L82045'>db</a>               82045 ext/sqlite3/libsqlite/sqlite3.c       }else if( no_such_func &amp;&amp; pParse-&gt;db-&gt;init.busy==0 ){</span>
<span class='curline'><a href='../S/1054.html#L82101'>db</a>               82101 ext/sqlite3/libsqlite/sqlite3.c   return (pParse-&gt;nErr || pParse-&gt;db-&gt;mallocFailed) ? WRC_Abort : WRC_Continue;</span>
<span class='curline'><a href='../S/1054.html#L82163'>db</a>               82163 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;       /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L82178'>db</a>               82178 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L82179'>db</a>               82179 ext/sqlite3/libsqlite/sqlite3.c   savedSuppErr = db-&gt;suppressErr;</span>
<span class='curline'><a href='../S/1054.html#L82180'>db</a>               82180 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;suppressErr = 1;</span>
<span class='curline'><a href='../S/1054.html#L82182'>db</a>               82182 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;suppressErr = savedSuppErr;</span>
<span class='curline'><a href='../S/1054.html#L82235'>db</a>               82235 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L82240'>db</a>               82240 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L82242'>db</a>               82242 ext/sqlite3/libsqlite/sqlite3.c   if( pOrderBy-&gt;nExpr&gt;db-&gt;aLimit[SQLITE_LIMIT_COLUMN] ){</span>
<span class='curline'><a href='../S/1054.html#L82273'>db</a>               82273 ext/sqlite3/libsqlite/sqlite3.c           pDup = sqlite3ExprDup(db, pE, 0);</span>
<span class='curline'><a href='../S/1054.html#L82274'>db</a>               82274 ext/sqlite3/libsqlite/sqlite3.c           if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L82278'>db</a>               82278 ext/sqlite3/libsqlite/sqlite3.c           sqlite3ExprDelete(db, pDup);</span>
<span class='curline'><a href='../S/1054.html#L82284'>db</a>               82284 ext/sqlite3/libsqlite/sqlite3.c         Expr *pNew = sqlite3Expr(db, TK_INTEGER, 0);</span>
<span class='curline'><a href='../S/1054.html#L82297'>db</a>               82297 ext/sqlite3/libsqlite/sqlite3.c         sqlite3ExprDelete(db, pE);</span>
<span class='curline'><a href='../S/1054.html#L82333'>db</a>               82333 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L82337'>db</a>               82337 ext/sqlite3/libsqlite/sqlite3.c   if( pOrderBy==0 || pParse-&gt;db-&gt;mallocFailed ) return 0;</span>
<span class='curline'><a href='../S/1054.html#L82339'>db</a>               82339 ext/sqlite3/libsqlite/sqlite3.c   if( pOrderBy-&gt;nExpr&gt;db-&gt;aLimit[SQLITE_LIMIT_COLUMN] ){</span>
<span class='curline'><a href='../S/1054.html#L82445'>db</a>               82445 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;            /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L82454'>db</a>               82454 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L82466'>db</a>               82466 ext/sqlite3/libsqlite/sqlite3.c     return (pParse-&gt;nErr || db-&gt;mallocFailed) ? WRC_Abort : WRC_Prune;</span>
<span class='curline'><a href='../S/1054.html#L82520'>db</a>               82520 ext/sqlite3/libsqlite/sqlite3.c         if( pParse-&gt;nErr || db-&gt;mallocFailed ) return WRC_Abort;</span>
<span class='curline'><a href='../S/1054.html#L82608'>db</a>               82608 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L82618'>db</a>               82618 ext/sqlite3/libsqlite/sqlite3.c       if( resolveOrderGroupBy(&amp;sNC, p, pGroupBy, "GROUP") || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L82879'>db</a>               82879 ext/sqlite3/libsqlite/sqlite3.c     Expr *pNew = sqlite3ExprAlloc(pParse-&gt;db, TK_COLLATE, pCollName, dequote);</span>
<span class='curline'><a href='../S/1054.html#L82925'>db</a>               82925 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L82936'>db</a>               82936 ext/sqlite3/libsqlite/sqlite3.c       pColl = sqlite3GetCollSeq(pParse, ENC(db), 0, p-&gt;u.zToken);</span>
<span class='curline'><a href='../S/1054.html#L82948'>db</a>               82948 ext/sqlite3/libsqlite/sqlite3.c         pColl = sqlite3FindCollSeq(db, ENC(db), zColl, 0);</span>
<span class='curline'><a href='../S/1054.html#L83124'>db</a>               83124 ext/sqlite3/libsqlite/sqlite3.c   int mxHeight = pParse-&gt;db-&gt;aLimit[SQLITE_LIMIT_EXPR_DEPTH];</span>
<span class='curline'><a href='../S/1054.html#L83251'>db</a>               83251 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,            /* Handle for sqlite3DbMallocZero() (may be null) */</span>
<span class='curline'><a href='../S/1054.html#L83267'>db</a>               83267 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3DbMallocZero(db, sizeof(Expr)+nExtra);</span>
<span class='curline'><a href='../S/1054.html#L83300'>db</a>               83300 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,            /* Handle for sqlite3DbMallocZero() (may be null) */</span>
<span class='curline'><a href='../S/1054.html#L83307'>db</a>               83307 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3ExprAlloc(db, op, &amp;x, 0);</span>
<span class='curline'><a href='../S/1054.html#L83317'>db</a>               83317 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L83323'>db</a>               83323 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L83324'>db</a>               83324 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, pLeft);</span>
<span class='curline'><a href='../S/1054.html#L83325'>db</a>               83325 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, pRight);</span>
<span class='curline'><a href='../S/1054.html#L83356'>db</a>               83356 ext/sqlite3/libsqlite/sqlite3.c     p = sqlite3ExprAnd(pParse-&gt;db, pLeft, pRight);</span>
<span class='curline'><a href='../S/1054.html#L83358'>db</a>               83358 ext/sqlite3/libsqlite/sqlite3.c     p = sqlite3ExprAlloc(pParse-&gt;db, op, pToken, 1);</span>
<span class='curline'><a href='../S/1054.html#L83359'>db</a>               83359 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprAttachSubtrees(pParse-&gt;db, p, pLeft, pRight);</span>
<span class='curline'><a href='../S/1054.html#L83402'>db</a>               83402 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE Expr *sqlite3ExprAnd(sqlite3 *db, Expr *pLeft, Expr *pRight){</span>
<span class='curline'><a href='../S/1054.html#L83408'>db</a>               83408 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, pLeft);</span>
<span class='curline'><a href='../S/1054.html#L83409'>db</a>               83409 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, pRight);</span>
<span class='curline'><a href='../S/1054.html#L83410'>db</a>               83410 ext/sqlite3/libsqlite/sqlite3.c     return sqlite3ExprAlloc(db, TK_INTEGER, &amp;sqlite3IntTokens[0], 0);</span>
<span class='curline'><a href='../S/1054.html#L83412'>db</a>               83412 ext/sqlite3/libsqlite/sqlite3.c     Expr *pNew = sqlite3ExprAlloc(db, TK_AND, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L83413'>db</a>               83413 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprAttachSubtrees(db, pNew, pLeft, pRight);</span>
<span class='curline'><a href='../S/1054.html#L83424'>db</a>               83424 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L83426'>db</a>               83426 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3ExprAlloc(db, TK_FUNCTION, pToken, 1);</span>
<span class='curline'><a href='../S/1054.html#L83428'>db</a>               83428 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(db, pList); /* Avoid memory leak when malloc fails */</span>
<span class='curline'><a href='../S/1054.html#L83454'>db</a>               83454 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L83477'>db</a>               83477 ext/sqlite3/libsqlite/sqlite3.c       testcase( i==db-&gt;aLimit[SQLITE_LIMIT_VARIABLE_NUMBER]-1 );</span>
<span class='curline'><a href='../S/1054.html#L83478'>db</a>               83478 ext/sqlite3/libsqlite/sqlite3.c       testcase( i==db-&gt;aLimit[SQLITE_LIMIT_VARIABLE_NUMBER] );</span>
<span class='curline'><a href='../S/1054.html#L83479'>db</a>               83479 ext/sqlite3/libsqlite/sqlite3.c       if( bOk==0 || i&lt;1 || i&gt;db-&gt;aLimit[SQLITE_LIMIT_VARIABLE_NUMBER] ){</span>
<span class='curline'><a href='../S/1054.html#L83481'>db</a>               83481 ext/sqlite3/libsqlite/sqlite3.c             db-&gt;aLimit[SQLITE_LIMIT_VARIABLE_NUMBER]);</span>
<span class='curline'><a href='../S/1054.html#L83504'>db</a>               83504 ext/sqlite3/libsqlite/sqlite3.c         a = sqlite3DbRealloc(db, pParse-&gt;azVar, x*sizeof(a[0]));</span>
<span class='curline'><a href='../S/1054.html#L83511'>db</a>               83511 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, pParse-&gt;azVar[x-1]);</span>
<span class='curline'><a href='../S/1054.html#L83512'>db</a>               83512 ext/sqlite3/libsqlite/sqlite3.c         pParse-&gt;azVar[x-1] = sqlite3DbStrNDup(db, z, n);</span>
<span class='curline'><a href='../S/1054.html#L83516'>db</a>               83516 ext/sqlite3/libsqlite/sqlite3.c   if( !pParse-&gt;nErr &amp;&amp; pParse-&gt;nVar&gt;db-&gt;aLimit[SQLITE_LIMIT_VARIABLE_NUMBER] ){</span>
<span class='curline'><a href='../S/1054.html#L83524'>db</a>               83524 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3ExprDelete(sqlite3 *db, Expr *p){</span>
<span class='curline'><a href='../S/1054.html#L83531'>db</a>               83531 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, p-&gt;pLeft);</span>
<span class='curline'><a href='../S/1054.html#L83532'>db</a>               83532 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, p-&gt;pRight);</span>
<span class='curline'><a href='../S/1054.html#L83533'>db</a>               83533 ext/sqlite3/libsqlite/sqlite3.c     if( ExprHasProperty(p, EP_MemToken) ) sqlite3DbFree(db, p-&gt;u.zToken);</span>
<span class='curline'><a href='../S/1054.html#L83535'>db</a>               83535 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SelectDelete(db, p-&gt;x.pSelect);</span>
<span class='curline'><a href='../S/1054.html#L83537'>db</a>               83537 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprListDelete(db, p-&gt;x.pList);</span>
<span class='curline'><a href='../S/1054.html#L83541'>db</a>               83541 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L83657'>db</a>               83657 ext/sqlite3/libsqlite/sqlite3.c static Expr *exprDup(sqlite3 *db, Expr *p, int flags, u8 **pzBuffer){</span>
<span class='curline'><a href='../S/1054.html#L83671'>db</a>               83671 ext/sqlite3/libsqlite/sqlite3.c       zAlloc = sqlite3DbMallocRaw(db, dupedExprSize(p, flags));</span>
<span class='curline'><a href='../S/1054.html#L83712'>db</a>               83712 ext/sqlite3/libsqlite/sqlite3.c           pNew-&gt;x.pSelect = sqlite3SelectDup(db, p-&gt;x.pSelect, isReduced);</span>
<span class='curline'><a href='../S/1054.html#L83714'>db</a>               83714 ext/sqlite3/libsqlite/sqlite3.c           pNew-&gt;x.pList = sqlite3ExprListDup(db, p-&gt;x.pList, isReduced);</span>
<span class='curline'><a href='../S/1054.html#L83722'>db</a>               83722 ext/sqlite3/libsqlite/sqlite3.c           pNew-&gt;pLeft = exprDup(db, p-&gt;pLeft, EXPRDUP_REDUCE, &amp;zAlloc);</span>
<span class='curline'><a href='../S/1054.html#L83723'>db</a>               83723 ext/sqlite3/libsqlite/sqlite3.c           pNew-&gt;pRight = exprDup(db, p-&gt;pRight, EXPRDUP_REDUCE, &amp;zAlloc);</span>
<span class='curline'><a href='../S/1054.html#L83730'>db</a>               83730 ext/sqlite3/libsqlite/sqlite3.c           pNew-&gt;pLeft = sqlite3ExprDup(db, p-&gt;pLeft, 0);</span>
<span class='curline'><a href='../S/1054.html#L83731'>db</a>               83731 ext/sqlite3/libsqlite/sqlite3.c           pNew-&gt;pRight = sqlite3ExprDup(db, p-&gt;pRight, 0);</span>
<span class='curline'><a href='../S/1054.html#L83746'>db</a>               83746 ext/sqlite3/libsqlite/sqlite3.c static With *withDup(sqlite3 *db, With *p){</span>
<span class='curline'><a href='../S/1054.html#L83750'>db</a>               83750 ext/sqlite3/libsqlite/sqlite3.c     pRet = sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/1054.html#L83755'>db</a>               83755 ext/sqlite3/libsqlite/sqlite3.c         pRet-&gt;a[i].pSelect = sqlite3SelectDup(db, p-&gt;a[i].pSelect, 0);</span>
<span class='curline'><a href='../S/1054.html#L83756'>db</a>               83756 ext/sqlite3/libsqlite/sqlite3.c         pRet-&gt;a[i].pCols = sqlite3ExprListDup(db, p-&gt;a[i].pCols, 0);</span>
<span class='curline'><a href='../S/1054.html#L83757'>db</a>               83757 ext/sqlite3/libsqlite/sqlite3.c         pRet-&gt;a[i].zName = sqlite3DbStrDup(db, p-&gt;a[i].zName);</span>
<span class='curline'><a href='../S/1054.html#L83784'>db</a>               83784 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE Expr *sqlite3ExprDup(sqlite3 *db, Expr *p, int flags){</span>
<span class='curline'><a href='../S/1054.html#L83785'>db</a>               83785 ext/sqlite3/libsqlite/sqlite3.c   return exprDup(db, p, flags, 0);</span>
<span class='curline'><a href='../S/1054.html#L83787'>db</a>               83787 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE ExprList *sqlite3ExprListDup(sqlite3 *db, ExprList *p, int flags){</span>
<span class='curline'><a href='../S/1054.html#L83792'>db</a>               83792 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3DbMallocRaw(db, sizeof(*pNew) );</span>
<span class='curline'><a href='../S/1054.html#L83796'>db</a>               83796 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;a = pItem = sqlite3DbMallocRaw(db,  i*sizeof(p-&gt;a[0]) );</span>
<span class='curline'><a href='../S/1054.html#L83798'>db</a>               83798 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pNew);</span>
<span class='curline'><a href='../S/1054.html#L83804'>db</a>               83804 ext/sqlite3/libsqlite/sqlite3.c     pItem-&gt;pExpr = sqlite3ExprDup(db, pOldExpr, flags);</span>
<span class='curline'><a href='../S/1054.html#L83805'>db</a>               83805 ext/sqlite3/libsqlite/sqlite3.c     pItem-&gt;zName = sqlite3DbStrDup(db, pOldItem-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L83806'>db</a>               83806 ext/sqlite3/libsqlite/sqlite3.c     pItem-&gt;zSpan = sqlite3DbStrDup(db, pOldItem-&gt;zSpan);</span>
<span class='curline'><a href='../S/1054.html#L83823'>db</a>               83823 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE SrcList *sqlite3SrcListDup(sqlite3 *db, SrcList *p, int flags){</span>
<span class='curline'><a href='../S/1054.html#L83829'>db</a>               83829 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3DbMallocRaw(db, nByte );</span>
<span class='curline'><a href='../S/1054.html#L83837'>db</a>               83837 ext/sqlite3/libsqlite/sqlite3.c     pNewItem-&gt;zDatabase = sqlite3DbStrDup(db, pOldItem-&gt;zDatabase);</span>
<span class='curline'><a href='../S/1054.html#L83838'>db</a>               83838 ext/sqlite3/libsqlite/sqlite3.c     pNewItem-&gt;zName = sqlite3DbStrDup(db, pOldItem-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L83839'>db</a>               83839 ext/sqlite3/libsqlite/sqlite3.c     pNewItem-&gt;zAlias = sqlite3DbStrDup(db, pOldItem-&gt;zAlias);</span>
<span class='curline'><a href='../S/1054.html#L83847'>db</a>               83847 ext/sqlite3/libsqlite/sqlite3.c     pNewItem-&gt;zIndex = sqlite3DbStrDup(db, pOldItem-&gt;zIndex);</span>
<span class='curline'><a href='../S/1054.html#L83854'>db</a>               83854 ext/sqlite3/libsqlite/sqlite3.c     pNewItem-&gt;pSelect = sqlite3SelectDup(db, pOldItem-&gt;pSelect, flags);</span>
<span class='curline'><a href='../S/1054.html#L83855'>db</a>               83855 ext/sqlite3/libsqlite/sqlite3.c     pNewItem-&gt;pOn = sqlite3ExprDup(db, pOldItem-&gt;pOn, flags);</span>
<span class='curline'><a href='../S/1054.html#L83856'>db</a>               83856 ext/sqlite3/libsqlite/sqlite3.c     pNewItem-&gt;pUsing = sqlite3IdListDup(db, pOldItem-&gt;pUsing);</span>
<span class='curline'><a href='../S/1054.html#L83861'>db</a>               83861 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE IdList *sqlite3IdListDup(sqlite3 *db, IdList *p){</span>
<span class='curline'><a href='../S/1054.html#L83865'>db</a>               83865 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3DbMallocRaw(db, sizeof(*pNew) );</span>
<span class='curline'><a href='../S/1054.html#L83868'>db</a>               83868 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;a = sqlite3DbMallocRaw(db, p-&gt;nId*sizeof(p-&gt;a[0]) );</span>
<span class='curline'><a href='../S/1054.html#L83870'>db</a>               83870 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pNew);</span>
<span class='curline'><a href='../S/1054.html#L83879'>db</a>               83879 ext/sqlite3/libsqlite/sqlite3.c     pNewItem-&gt;zName = sqlite3DbStrDup(db, pOldItem-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L83884'>db</a>               83884 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE Select *sqlite3SelectDup(sqlite3 *db, Select *p, int flags){</span>
<span class='curline'><a href='../S/1054.html#L83887'>db</a>               83887 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3DbMallocRaw(db, sizeof(*p) );</span>
<span class='curline'><a href='../S/1054.html#L83889'>db</a>               83889 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;pEList = sqlite3ExprListDup(db, p-&gt;pEList, flags);</span>
<span class='curline'><a href='../S/1054.html#L83890'>db</a>               83890 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;pSrc = sqlite3SrcListDup(db, p-&gt;pSrc, flags);</span>
<span class='curline'><a href='../S/1054.html#L83891'>db</a>               83891 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;pWhere = sqlite3ExprDup(db, p-&gt;pWhere, flags);</span>
<span class='curline'><a href='../S/1054.html#L83892'>db</a>               83892 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;pGroupBy = sqlite3ExprListDup(db, p-&gt;pGroupBy, flags);</span>
<span class='curline'><a href='../S/1054.html#L83893'>db</a>               83893 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;pHaving = sqlite3ExprDup(db, p-&gt;pHaving, flags);</span>
<span class='curline'><a href='../S/1054.html#L83894'>db</a>               83894 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;pOrderBy = sqlite3ExprListDup(db, p-&gt;pOrderBy, flags);</span>
<span class='curline'><a href='../S/1054.html#L83896'>db</a>               83896 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;pPrior = pPrior = sqlite3SelectDup(db, p-&gt;pPrior, flags);</span>
<span class='curline'><a href='../S/1054.html#L83899'>db</a>               83899 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;pLimit = sqlite3ExprDup(db, p-&gt;pLimit, flags);</span>
<span class='curline'><a href='../S/1054.html#L83900'>db</a>               83900 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;pOffset = sqlite3ExprDup(db, p-&gt;pOffset, flags);</span>
<span class='curline'><a href='../S/1054.html#L83907'>db</a>               83907 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;pWith = withDup(db, p-&gt;pWith);</span>
<span class='curline'><a href='../S/1054.html#L83912'>db</a>               83912 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE Select *sqlite3SelectDup(sqlite3 *db, Select *p, int flags){</span>
<span class='curline'><a href='../S/1054.html#L83932'>db</a>               83932 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L83934'>db</a>               83934 ext/sqlite3/libsqlite/sqlite3.c     pList = sqlite3DbMallocZero(db, sizeof(ExprList) );</span>
<span class='curline'><a href='../S/1054.html#L83938'>db</a>               83938 ext/sqlite3/libsqlite/sqlite3.c     pList-&gt;a = sqlite3DbMallocRaw(db, sizeof(pList-&gt;a[0]));</span>
<span class='curline'><a href='../S/1054.html#L83943'>db</a>               83943 ext/sqlite3/libsqlite/sqlite3.c     a = sqlite3DbRealloc(db, pList-&gt;a, pList-&gt;nExpr*2*sizeof(pList-&gt;a[0]));</span>
<span class='curline'><a href='../S/1054.html#L83959'>db</a>               83959 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pExpr);</span>
<span class='curline'><a href='../S/1054.html#L83960'>db</a>               83960 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprListDelete(db, pList);</span>
<span class='curline'><a href='../S/1054.html#L83978'>db</a>               83978 ext/sqlite3/libsqlite/sqlite3.c   assert( pList!=0 || pParse-&gt;db-&gt;mallocFailed!=0 );</span>
<span class='curline'><a href='../S/1054.html#L83984'>db</a>               83984 ext/sqlite3/libsqlite/sqlite3.c     pItem-&gt;zName = sqlite3DbStrNDup(pParse-&gt;db, pName-&gt;z, pName-&gt;n);</span>
<span class='curline'><a href='../S/1054.html#L84002'>db</a>               84002 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L84003'>db</a>               84003 ext/sqlite3/libsqlite/sqlite3.c   assert( pList!=0 || db-&gt;mallocFailed!=0 );</span>
<span class='curline'><a href='../S/1054.html#L84007'>db</a>               84007 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;mallocFailed || pItem-&gt;pExpr==pSpan-&gt;pExpr );</span>
<span class='curline'><a href='../S/1054.html#L84008'>db</a>               84008 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zSpan);</span>
<span class='curline'><a href='../S/1054.html#L84009'>db</a>               84009 ext/sqlite3/libsqlite/sqlite3.c     pItem-&gt;zSpan = sqlite3DbStrNDup(db, (char*)pSpan-&gt;zStart,</span>
<span class='curline'><a href='../S/1054.html#L84023'>db</a>               84023 ext/sqlite3/libsqlite/sqlite3.c   int mx = pParse-&gt;db-&gt;aLimit[SQLITE_LIMIT_COLUMN];</span>
<span class='curline'><a href='../S/1054.html#L84034'>db</a>               84034 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3ExprListDelete(sqlite3 *db, ExprList *pList){</span>
<span class='curline'><a href='../S/1054.html#L84040'>db</a>               84040 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, pItem-&gt;pExpr);</span>
<span class='curline'><a href='../S/1054.html#L84041'>db</a>               84041 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L84042'>db</a>               84042 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zSpan);</span>
<span class='curline'><a href='../S/1054.html#L84044'>db</a>               84044 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pList-&gt;a);</span>
<span class='curline'><a href='../S/1054.html#L84045'>db</a>               84045 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pList);</span>
<span class='curline'><a href='../S/1054.html#L84499'>db</a>               84499 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = pParse-&gt;db;              /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L84514'>db</a>               84514 ext/sqlite3/libsqlite/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L84547'>db</a>               84547 ext/sqlite3/libsqlite/sqlite3.c          &amp;&amp; sqlite3FindCollSeq(db, ENC(db), pIdx-&gt;azColl[0], 0)==pReq</span>
<span class='curline'><a href='../S/1054.html#L84664'>db</a>               84664 ext/sqlite3/libsqlite/sqlite3.c         pParse-&gt;db, "EXECUTE %s%s SUBQUERY %d", jmpIfDynamic&gt;=0?"":"CORRELATED ",</span>
<span class='curline'><a href='../S/1054.html#L84695'>db</a>               84695 ext/sqlite3/libsqlite/sqlite3.c       pKeyInfo = isRowid ? 0 : sqlite3KeyInfoAlloc(pParse-&gt;db, 1, 1);</span>
<span class='curline'><a href='../S/1054.html#L84819'>db</a>               84819 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprDelete(pParse-&gt;db, pSel-&gt;pLimit);</span>
<span class='curline'><a href='../S/1054.html#L85113'>db</a>               85113 ext/sqlite3/libsqlite/sqlite3.c   assert( iReg&gt;0 || pParse-&gt;nErr || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L85120'>db</a>               85120 ext/sqlite3/libsqlite/sqlite3.c   if( OptimizationDisabled(pParse-&gt;db, SQLITE_ColumnCache) ) return;</span>
<span class='curline'><a href='../S/1054.html#L85192'>db</a>               85192 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;db-&gt;flags &amp; SQLITE_VdbeAddopTrace ){</span>
<span class='curline'><a href='../S/1054.html#L85209'>db</a>               85209 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;db-&gt;flags &amp; SQLITE_VdbeAddopTrace ){</span>
<span class='curline'><a href='../S/1054.html#L85308'>db</a>               85308 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;db-&gt;flags &amp; SQLITE_VdbeAddopTrace ){</span>
<span class='curline'><a href='../S/1054.html#L85385'>db</a>               85385 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db; /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L85390'>db</a>               85390 ext/sqlite3/libsqlite/sqlite3.c     assert( pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L85632'>db</a>               85632 ext/sqlite3/libsqlite/sqlite3.c       u8 enc = ENC(db);      /* The text encoding used by this database */</span>
<span class='curline'><a href='../S/1054.html#L85645'>db</a>               85645 ext/sqlite3/libsqlite/sqlite3.c       pDef = sqlite3FindFunction(db, zId, nId, nFarg, enc, 0);</span>
<span class='curline'><a href='../S/1054.html#L85737'>db</a>               85737 ext/sqlite3/libsqlite/sqlite3.c         pDef = sqlite3VtabOverloadFunction(db, pDef, nFarg, pFarg-&gt;a[1].pExpr);</span>
<span class='curline'><a href='../S/1054.html#L85739'>db</a>               85739 ext/sqlite3/libsqlite/sqlite3.c         pDef = sqlite3VtabOverloadFunction(db, pDef, nFarg, pFarg-&gt;a[0].pExpr);</span>
<span class='curline'><a href='../S/1054.html#L85743'>db</a>               85743 ext/sqlite3/libsqlite/sqlite3.c         if( !pColl ) pColl = db-&gt;pDfltColl; </span>
<span class='curline'><a href='../S/1054.html#L85952'>db</a>               85952 ext/sqlite3/libsqlite/sqlite3.c       assert( db-&gt;mallocFailed || pParse-&gt;nErr&gt;0 </span>
<span class='curline'><a href='../S/1054.html#L86003'>db</a>               86003 ext/sqlite3/libsqlite/sqlite3.c   pExpr = sqlite3ExprDup(pParse-&gt;db, pExpr, 0);</span>
<span class='curline'><a href='../S/1054.html#L86072'>db</a>               86072 ext/sqlite3/libsqlite/sqlite3.c     assert( pParse-&gt;pVdbe || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L86963'>db</a>               86963 ext/sqlite3/libsqlite/sqlite3.c static int addAggInfoColumn(sqlite3 *db, AggInfo *pInfo){</span>
<span class='curline'><a href='../S/1054.html#L86966'>db</a>               86966 ext/sqlite3/libsqlite/sqlite3.c        db,</span>
<span class='curline'><a href='../S/1054.html#L86979'>db</a>               86979 ext/sqlite3/libsqlite/sqlite3.c static int addAggInfoFunc(sqlite3 *db, AggInfo *pInfo){</span>
<span class='curline'><a href='../S/1054.html#L86982'>db</a>               86982 ext/sqlite3/libsqlite/sqlite3.c        db, </span>
<span class='curline'><a href='../S/1054.html#L87031'>db</a>               87031 ext/sqlite3/libsqlite/sqlite3.c              &amp;&amp; (k = addAggInfoColumn(pParse-&gt;db, pAggInfo))&gt;=0 </span>
<span class='curline'><a href='../S/1054.html#L87089'>db</a>               87089 ext/sqlite3/libsqlite/sqlite3.c           u8 enc = ENC(pParse-&gt;db);</span>
<span class='curline'><a href='../S/1054.html#L87090'>db</a>               87090 ext/sqlite3/libsqlite/sqlite3.c           i = addAggInfoFunc(pParse-&gt;db, pAggInfo);</span>
<span class='curline'><a href='../S/1054.html#L87097'>db</a>               87097 ext/sqlite3/libsqlite/sqlite3.c             pItem-&gt;pFunc = sqlite3FindFunction(pParse-&gt;db,</span>
<span class='curline'><a href='../S/1054.html#L87278'>db</a>               87278 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L87307'>db</a>               87307 ext/sqlite3/libsqlite/sqlite3.c     zRet = sqlite3MPrintf(db, "%.*s\"%w\"%s", (int)(((u8*)tname.z) - zSql),</span>
<span class='curline'><a href='../S/1054.html#L87334'>db</a>               87334 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L87357'>db</a>               87357 ext/sqlite3/libsqlite/sqlite3.c       zParent = sqlite3DbStrNDup(db, (const char *)z, n);</span>
<span class='curline'><a href='../S/1054.html#L87361'>db</a>               87361 ext/sqlite3/libsqlite/sqlite3.c         char *zOut = sqlite3MPrintf(db, "%s%.*s\"%w\"", </span>
<span class='curline'><a href='../S/1054.html#L87364'>db</a>               87364 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, zOutput);</span>
<span class='curline'><a href='../S/1054.html#L87368'>db</a>               87368 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zParent);</span>
<span class='curline'><a href='../S/1054.html#L87372'>db</a>               87372 ext/sqlite3/libsqlite/sqlite3.c   zResult = sqlite3MPrintf(db, "%s%s", (zOutput?zOutput:""), zInput), </span>
<span class='curline'><a href='../S/1054.html#L87374'>db</a>               87374 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zOutput);</span>
<span class='curline'><a href='../S/1054.html#L87400'>db</a>               87400 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L87448'>db</a>               87448 ext/sqlite3/libsqlite/sqlite3.c     zRet = sqlite3MPrintf(db, "%.*s\"%w\"%s", (int)(((u8*)tname.z) - zSql),</span>
<span class='curline'><a href='../S/1054.html#L87493'>db</a>               87493 ext/sqlite3/libsqlite/sqlite3.c static char *whereOrName(sqlite3 *db, char *zWhere, char *zConstant){</span>
<span class='curline'><a href='../S/1054.html#L87496'>db</a>               87496 ext/sqlite3/libsqlite/sqlite3.c     zNew = sqlite3MPrintf(db, "name=%Q", zConstant);</span>
<span class='curline'><a href='../S/1054.html#L87498'>db</a>               87498 ext/sqlite3/libsqlite/sqlite3.c     zNew = sqlite3MPrintf(db, "%s OR name=%Q", zWhere, zConstant);</span>
<span class='curline'><a href='../S/1054.html#L87499'>db</a>               87499 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zWhere);</span>
<span class='curline'><a href='../S/1054.html#L87515'>db</a>               87515 ext/sqlite3/libsqlite/sqlite3.c     zWhere = whereOrName(pParse-&gt;db, zWhere, p-&gt;pFrom-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L87530'>db</a>               87530 ext/sqlite3/libsqlite/sqlite3.c   const Schema *pTempSchema = pParse-&gt;db-&gt;aDb[1].pSchema; /* Temp db schema */</span>
<span class='curline'><a href='../S/1054.html#L87538'>db</a>               87538 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L87541'>db</a>               87541 ext/sqlite3/libsqlite/sqlite3.c         zWhere = whereOrName(db, zWhere, pTrig-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L87546'>db</a>               87546 ext/sqlite3/libsqlite/sqlite3.c     char *zNew = sqlite3MPrintf(pParse-&gt;db, "type='trigger' AND (%s)", zWhere);</span>
<span class='curline'><a href='../S/1054.html#L87547'>db</a>               87547 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(pParse-&gt;db, zWhere);</span>
<span class='curline'><a href='../S/1054.html#L87571'>db</a>               87571 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(pParse-&gt;db) );</span>
<span class='curline'><a href='../S/1054.html#L87572'>db</a>               87572 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L87578'>db</a>               87578 ext/sqlite3/libsqlite/sqlite3.c     int iTrigDb = sqlite3SchemaToIndex(pParse-&gt;db, pTrig-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L87588'>db</a>               87588 ext/sqlite3/libsqlite/sqlite3.c   zWhere = sqlite3MPrintf(pParse-&gt;db, "tbl_name=%Q", zName);</span>
<span class='curline'><a href='../S/1054.html#L87631'>db</a>               87631 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db; /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L87641'>db</a>               87641 ext/sqlite3/libsqlite/sqlite3.c   savedDbFlags = db-&gt;flags;  </span>
<span class='curline'><a href='../S/1054.html#L87642'>db</a>               87642 ext/sqlite3/libsqlite/sqlite3.c   if( NEVER(db-&gt;mallocFailed) ) goto exit_rename_table;</span>
<span class='curline'><a href='../S/1054.html#L87644'>db</a>               87644 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(pParse-&gt;db) );</span>
<span class='curline'><a href='../S/1054.html#L87648'>db</a>               87648 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L87649'>db</a>               87649 ext/sqlite3/libsqlite/sqlite3.c   zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L87650'>db</a>               87650 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags |= SQLITE_PreferBuiltin;</span>
<span class='curline'><a href='../S/1054.html#L87653'>db</a>               87653 ext/sqlite3/libsqlite/sqlite3.c   zName = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/1054.html#L87659'>db</a>               87659 ext/sqlite3/libsqlite/sqlite3.c   if( sqlite3FindTable(db, zName, zDb) || sqlite3FindIndex(db, zName, zDb) ){</span>
<span class='curline'><a href='../S/1054.html#L87694'>db</a>               87694 ext/sqlite3/libsqlite/sqlite3.c     pVTab = sqlite3GetVTable(db, pTab);</span>
<span class='curline'><a href='../S/1054.html#L87732'>db</a>               87732 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/1054.html#L87741'>db</a>               87741 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zWhere);</span>
<span class='curline'><a href='../S/1054.html#L87775'>db</a>               87775 ext/sqlite3/libsqlite/sqlite3.c   if( sqlite3FindTable(db, "sqlite_sequence", zDb) ){</span>
<span class='curline'><a href='../S/1054.html#L87793'>db</a>               87793 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zWhere);</span>
<span class='curline'><a href='../S/1054.html#L87798'>db</a>               87798 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/1054.html#L87813'>db</a>               87813 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SrcListDelete(db, pSrc);</span>
<span class='curline'><a href='../S/1054.html#L87814'>db</a>               87814 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L87815'>db</a>               87815 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags = savedDbFlags;</span>
<span class='curline'><a href='../S/1054.html#L87862'>db</a>               87862 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;              /* The database connection; */</span>
<span class='curline'><a href='../S/1054.html#L87864'>db</a>               87864 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L87865'>db</a>               87865 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/1054.html#L87869'>db</a>               87869 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/1054.html#L87870'>db</a>               87870 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pNew-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L87871'>db</a>               87871 ext/sqlite3/libsqlite/sqlite3.c   zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L87875'>db</a>               87875 ext/sqlite3/libsqlite/sqlite3.c   pTab = sqlite3FindTable(db, zTab, zDb);</span>
<span class='curline'><a href='../S/1054.html#L87905'>db</a>               87905 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_ForeignKeys) &amp;&amp; pNew-&gt;pFKey &amp;&amp; pDflt ){</span>
<span class='curline'><a href='../S/1054.html#L87922'>db</a>               87922 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3ValueFromExpr(db, pDflt, SQLITE_UTF8, SQLITE_AFF_NONE, &amp;pVal);</span>
<span class='curline'><a href='../S/1054.html#L87925'>db</a>               87925 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L87936'>db</a>               87936 ext/sqlite3/libsqlite/sqlite3.c   zCol = sqlite3DbStrNDup(db, (char*)pColDef-&gt;z, pColDef-&gt;n);</span>
<span class='curline'><a href='../S/1054.html#L87939'>db</a>               87939 ext/sqlite3/libsqlite/sqlite3.c     int savedDbFlags = db-&gt;flags;</span>
<span class='curline'><a href='../S/1054.html#L87943'>db</a>               87943 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;flags |= SQLITE_PreferBuiltin;</span>
<span class='curline'><a href='../S/1054.html#L87951'>db</a>               87951 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zCol);</span>
<span class='curline'><a href='../S/1054.html#L87952'>db</a>               87952 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;flags = savedDbFlags;</span>
<span class='curline'><a href='../S/1054.html#L87987'>db</a>               87987 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L87991'>db</a>               87991 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/1054.html#L87992'>db</a>               87992 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ) goto exit_begin_add_column;</span>
<span class='curline'><a href='../S/1054.html#L88013'>db</a>               88013 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L88022'>db</a>               88022 ext/sqlite3/libsqlite/sqlite3.c   pNew = (Table*)sqlite3DbMallocZero(db, sizeof(Table));</span>
<span class='curline'><a href='../S/1054.html#L88030'>db</a>               88030 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;aCol = (Column*)sqlite3DbMallocZero(db, sizeof(Column)*nAlloc);</span>
<span class='curline'><a href='../S/1054.html#L88031'>db</a>               88031 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;zName = sqlite3MPrintf(db, "sqlite_altertab_%s", pTab-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L88033'>db</a>               88033 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L88039'>db</a>               88039 ext/sqlite3/libsqlite/sqlite3.c     pCol-&gt;zName = sqlite3DbStrDup(db, pCol-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L88045'>db</a>               88045 ext/sqlite3/libsqlite/sqlite3.c   pNew-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/1054.html#L88056'>db</a>               88056 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SrcListDelete(db, pSrc);</span>
<span class='curline'><a href='../S/1054.html#L88257'>db</a>               88257 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L88264'>db</a>               88264 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/1054.html#L88265'>db</a>               88265 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3VdbeDb(v)==db );</span>
<span class='curline'><a href='../S/1054.html#L88266'>db</a>               88266 ext/sqlite3/libsqlite/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/1054.html#L88274'>db</a>               88274 ext/sqlite3/libsqlite/sqlite3.c     if( (pStat = sqlite3FindTable(db, zTab, pDb-&gt;zName))==0 ){</span>
<span class='curline'><a href='../S/1054.html#L88356'>db</a>               88356 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;              /* Database connection, for malloc() */</span>
<span class='curline'><a href='../S/1054.html#L88362'>db</a>               88362 ext/sqlite3/libsqlite/sqlite3.c static void sampleClear(sqlite3 *db, Stat4Sample *p){</span>
<span class='curline'><a href='../S/1054.html#L88363'>db</a>               88363 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L88365'>db</a>               88365 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p-&gt;u.aRowid);</span>
<span class='curline'><a href='../S/1054.html#L88374'>db</a>               88374 ext/sqlite3/libsqlite/sqlite3.c static void sampleSetRowid(sqlite3 *db, Stat4Sample *p, int n, const u8 *pData){</span>
<span class='curline'><a href='../S/1054.html#L88375'>db</a>               88375 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L88376'>db</a>               88376 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;nRowid ) sqlite3DbFree(db, p-&gt;u.aRowid);</span>
<span class='curline'><a href='../S/1054.html#L88377'>db</a>               88377 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;u.aRowid = sqlite3DbMallocRaw(db, n);</span>
<span class='curline'><a href='../S/1054.html#L88390'>db</a>               88390 ext/sqlite3/libsqlite/sqlite3.c static void sampleSetRowidInt64(sqlite3 *db, Stat4Sample *p, i64 iRowid){</span>
<span class='curline'><a href='../S/1054.html#L88391'>db</a>               88391 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L88392'>db</a>               88392 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;nRowid ) sqlite3DbFree(db, p-&gt;u.aRowid);</span>
<span class='curline'><a href='../S/1054.html#L88411'>db</a>               88411 ext/sqlite3/libsqlite/sqlite3.c     sampleSetRowid(p-&gt;db, pTo, pFrom-&gt;nRowid, pFrom-&gt;u.aRowid);</span>
<span class='curline'><a href='../S/1054.html#L88413'>db</a>               88413 ext/sqlite3/libsqlite/sqlite3.c     sampleSetRowidInt64(p-&gt;db, pTo, pFrom-&gt;u.iRowid);</span>
<span class='curline'><a href='../S/1054.html#L88425'>db</a>               88425 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;p-&gt;nCol; i++) sampleClear(p-&gt;db, p-&gt;aBest+i);</span>
<span class='curline'><a href='../S/1054.html#L88426'>db</a>               88426 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;p-&gt;mxSample; i++) sampleClear(p-&gt;db, p-&gt;a+i);</span>
<span class='curline'><a href='../S/1054.html#L88427'>db</a>               88427 ext/sqlite3/libsqlite/sqlite3.c   sampleClear(p-&gt;db, &amp;p-&gt;current);</span>
<span class='curline'><a href='../S/1054.html#L88429'>db</a>               88429 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(p-&gt;db, p);</span>
<span class='curline'><a href='../S/1054.html#L88465'>db</a>               88465 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;                    /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L88489'>db</a>               88489 ext/sqlite3/libsqlite/sqlite3.c   db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L88490'>db</a>               88490 ext/sqlite3/libsqlite/sqlite3.c   p = sqlite3DbMallocZero(db, n);</span>
<span class='curline'><a href='../S/1054.html#L88496'>db</a>               88496 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L88654'>db</a>               88654 ext/sqlite3/libsqlite/sqlite3.c     sampleClear(p-&gt;db, pMin);</span>
<span class='curline'><a href='../S/1054.html#L88808'>db</a>               88808 ext/sqlite3/libsqlite/sqlite3.c     sampleSetRowidInt64(p-&gt;db, &amp;p-&gt;current, sqlite3_value_int64(argv[2]));</span>
<span class='curline'><a href='../S/1054.html#L88810'>db</a>               88810 ext/sqlite3/libsqlite/sqlite3.c     sampleSetRowid(p-&gt;db, &amp;p-&gt;current, sqlite3_value_bytes(argv[2]),</span>
<span class='curline'><a href='../S/1054.html#L89024'>db</a>               89024 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;    /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L89058'>db</a>               89058 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/1054.html#L89059'>db</a>               89059 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L89061'>db</a>               89061 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L89064'>db</a>               89064 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;aDb[iDb].zName ) ){</span>
<span class='curline'><a href='../S/1054.html#L89142'>db</a>               89142 ext/sqlite3/libsqlite/sqlite3.c     assert( iDb==sqlite3SchemaToIndex(db, pIdx-&gt;pSchema) );</span>
<span class='curline'><a href='../S/1054.html#L89182'>db</a>               89182 ext/sqlite3/libsqlite/sqlite3.c       aGotoChng = sqlite3DbMallocRaw(db, sizeof(int)*nColTest);</span>
<span class='curline'><a href='../S/1054.html#L89230'>db</a>               89230 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, aGotoChng);</span>
<span class='curline'><a href='../S/1054.html#L89354'>db</a>               89354 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L89355'>db</a>               89355 ext/sqlite3/libsqlite/sqlite3.c   Schema *pSchema = db-&gt;aDb[iDb].pSchema;    /* Schema of database iDb */</span>
<span class='curline'><a href='../S/1054.html#L89367'>db</a>               89367 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L89385'>db</a>               89385 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(pParse-&gt;db) );</span>
<span class='curline'><a href='../S/1054.html#L89386'>db</a>               89386 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L89412'>db</a>               89412 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L89423'>db</a>               89423 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(pParse-&gt;db) );</span>
<span class='curline'><a href='../S/1054.html#L89431'>db</a>               89431 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L89437'>db</a>               89437 ext/sqlite3/libsqlite/sqlite3.c     iDb = sqlite3FindDb(db, pName1);</span>
<span class='curline'><a href='../S/1054.html#L89441'>db</a>               89441 ext/sqlite3/libsqlite/sqlite3.c       z = sqlite3NameFromToken(db, pName1);</span>
<span class='curline'><a href='../S/1054.html#L89443'>db</a>               89443 ext/sqlite3/libsqlite/sqlite3.c         if( (pIdx = sqlite3FindIndex(db, z, 0))!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L89448'>db</a>               89448 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/1054.html#L89455'>db</a>               89455 ext/sqlite3/libsqlite/sqlite3.c       zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L89456'>db</a>               89456 ext/sqlite3/libsqlite/sqlite3.c       z = sqlite3NameFromToken(db, pTableName);</span>
<span class='curline'><a href='../S/1054.html#L89458'>db</a>               89458 ext/sqlite3/libsqlite/sqlite3.c         if( (pIdx = sqlite3FindIndex(db, z, zDb))!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L89463'>db</a>               89463 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/1054.html#L89477'>db</a>               89477 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L89569'>db</a>               89569 ext/sqlite3/libsqlite/sqlite3.c   pTable = sqlite3FindTable(pInfo-&gt;db, argv[0], pInfo-&gt;zDatabase);</span>
<span class='curline'><a href='../S/1054.html#L89578'>db</a>               89578 ext/sqlite3/libsqlite/sqlite3.c     pIndex = sqlite3FindIndex(pInfo-&gt;db, argv[1], pInfo-&gt;zDatabase);</span>
<span class='curline'><a href='../S/1054.html#L89591'>db</a>               89591 ext/sqlite3/libsqlite/sqlite3.c       if( pIndex-&gt;aiRowEst==0 ) pInfo-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L89615'>db</a>               89615 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3DeleteIndexSamples(sqlite3 *db, Index *pIdx){</span>
<span class='curline'><a href='../S/1054.html#L89621'>db</a>               89621 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, p-&gt;p);</span>
<span class='curline'><a href='../S/1054.html#L89623'>db</a>               89623 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pIdx-&gt;aSample);</span>
<span class='curline'><a href='../S/1054.html#L89625'>db</a>               89625 ext/sqlite3/libsqlite/sqlite3.c   if( db &amp;&amp; db-&gt;pnBytesFreed==0 ){</span>
<span class='curline'><a href='../S/1054.html#L89630'>db</a>               89630 ext/sqlite3/libsqlite/sqlite3.c   UNUSED_PARAMETER(db);</span>
<span class='curline'><a href='../S/1054.html#L89700'>db</a>               89700 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L89704'>db</a>               89704 ext/sqlite3/libsqlite/sqlite3.c   Index *pIdx = sqlite3FindIndex(db, zName, zDb);</span>
<span class='curline'><a href='../S/1054.html#L89706'>db</a>               89706 ext/sqlite3/libsqlite/sqlite3.c     Table *pTab = sqlite3FindTable(db, zName, zDb);</span>
<span class='curline'><a href='../S/1054.html#L89726'>db</a>               89726 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                  /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L89738'>db</a>               89738 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;lookaside.bEnabled==0 );</span>
<span class='curline'><a href='../S/1054.html#L89739'>db</a>               89739 ext/sqlite3/libsqlite/sqlite3.c   zSql = sqlite3MPrintf(db, zSql1, zDb);</span>
<span class='curline'><a href='../S/1054.html#L89743'>db</a>               89743 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_prepare(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L89744'>db</a>               89744 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/1054.html#L89760'>db</a>               89760 ext/sqlite3/libsqlite/sqlite3.c     pIdx = findIndexOrPrimaryKey(db, zIndex, zDb);</span>
<span class='curline'><a href='../S/1054.html#L89778'>db</a>               89778 ext/sqlite3/libsqlite/sqlite3.c     pIdx-&gt;aSample = sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/1054.html#L89795'>db</a>               89795 ext/sqlite3/libsqlite/sqlite3.c   zSql = sqlite3MPrintf(db, zSql2, zDb);</span>
<span class='curline'><a href='../S/1054.html#L89799'>db</a>               89799 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_prepare(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L89800'>db</a>               89800 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/1054.html#L89810'>db</a>               89810 ext/sqlite3/libsqlite/sqlite3.c     pIdx = findIndexOrPrimaryKey(db, zIndex, zDb);</span>
<span class='curline'><a href='../S/1054.html#L89832'>db</a>               89832 ext/sqlite3/libsqlite/sqlite3.c     pSample-&gt;p = sqlite3DbMallocZero(db, pSample-&gt;n + 2);</span>
<span class='curline'><a href='../S/1054.html#L89849'>db</a>               89849 ext/sqlite3/libsqlite/sqlite3.c static int loadStat4(sqlite3 *db, const char *zDb){</span>
<span class='curline'><a href='../S/1054.html#L89852'>db</a>               89852 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;lookaside.bEnabled==0 );</span>
<span class='curline'><a href='../S/1054.html#L89853'>db</a>               89853 ext/sqlite3/libsqlite/sqlite3.c   if( sqlite3FindTable(db, "sqlite_stat4", zDb) ){</span>
<span class='curline'><a href='../S/1054.html#L89854'>db</a>               89854 ext/sqlite3/libsqlite/sqlite3.c     rc = loadStatTbl(db, 0,</span>
<span class='curline'><a href='../S/1054.html#L89861'>db</a>               89861 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; sqlite3FindTable(db, "sqlite_stat3", zDb) ){</span>
<span class='curline'><a href='../S/1054.html#L89862'>db</a>               89862 ext/sqlite3/libsqlite/sqlite3.c     rc = loadStatTbl(db, 1,</span>
<span class='curline'><a href='../S/1054.html#L89893'>db</a>               89893 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3AnalysisLoad(sqlite3 *db, int iDb){</span>
<span class='curline'><a href='../S/1054.html#L89899'>db</a>               89899 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L89900'>db</a>               89900 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;aDb[iDb].pBt!=0 );</span>
<span class='curline'><a href='../S/1054.html#L89903'>db</a>               89903 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L89904'>db</a>               89904 ext/sqlite3/libsqlite/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aDb[iDb].pSchema-&gt;idxHash);i;i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/1054.html#L89908'>db</a>               89908 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DeleteIndexSamples(db, pIdx);</span>
<span class='curline'><a href='../S/1054.html#L89914'>db</a>               89914 ext/sqlite3/libsqlite/sqlite3.c   sInfo.db = db;</span>
<span class='curline'><a href='../S/1054.html#L89915'>db</a>               89915 ext/sqlite3/libsqlite/sqlite3.c   sInfo.zDatabase = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L89916'>db</a>               89916 ext/sqlite3/libsqlite/sqlite3.c   if( sqlite3FindTable(db, "sqlite_stat1", sInfo.zDatabase)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L89921'>db</a>               89921 ext/sqlite3/libsqlite/sqlite3.c   zSql = sqlite3MPrintf(db, </span>
<span class='curline'><a href='../S/1054.html#L89926'>db</a>               89926 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_exec(db, zSql, analysisLoader, &amp;sInfo, 0);</span>
<span class='curline'><a href='../S/1054.html#L89927'>db</a>               89927 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/1054.html#L89933'>db</a>               89933 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; OptimizationEnabled(db, SQLITE_Stat34) ){</span>
<span class='curline'><a href='../S/1054.html#L89934'>db</a>               89934 ext/sqlite3/libsqlite/sqlite3.c     int lookasideEnabled = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/1054.html#L89935'>db</a>               89935 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/1054.html#L89936'>db</a>               89936 ext/sqlite3/libsqlite/sqlite3.c     rc = loadStat4(db, sInfo.zDatabase);</span>
<span class='curline'><a href='../S/1054.html#L89937'>db</a>               89937 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.bEnabled = lookasideEnabled;</span>
<span class='curline'><a href='../S/1054.html#L89939'>db</a>               89939 ext/sqlite3/libsqlite/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aDb[iDb].pSchema-&gt;idxHash);i;i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/1054.html#L89947'>db</a>               89947 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L90021'>db</a>               90021 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L90044'>db</a>               90044 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;nDb&gt;=db-&gt;aLimit[SQLITE_LIMIT_ATTACHED]+2 ){</span>
<span class='curline'><a href='../S/1054.html#L90045'>db</a>               90045 ext/sqlite3/libsqlite/sqlite3.c     zErrDyn = sqlite3MPrintf(db, "too many attached databases - max %d", </span>
<span class='curline'><a href='../S/1054.html#L90046'>db</a>               90046 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;aLimit[SQLITE_LIMIT_ATTACHED]</span>
<span class='curline'><a href='../S/1054.html#L90050'>db</a>               90050 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/1054.html#L90051'>db</a>               90051 ext/sqlite3/libsqlite/sqlite3.c     zErrDyn = sqlite3MPrintf(db, "cannot ATTACH database within transaction");</span>
<span class='curline'><a href='../S/1054.html#L90054'>db</a>               90054 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L90055'>db</a>               90055 ext/sqlite3/libsqlite/sqlite3.c     char *z = db-&gt;aDb[i].zName;</span>
<span class='curline'><a href='../S/1054.html#L90058'>db</a>               90058 ext/sqlite3/libsqlite/sqlite3.c       zErrDyn = sqlite3MPrintf(db, "database %s is already in use", zName);</span>
<span class='curline'><a href='../S/1054.html#L90066'>db</a>               90066 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;aDb==db-&gt;aDbStatic ){</span>
<span class='curline'><a href='../S/1054.html#L90067'>db</a>               90067 ext/sqlite3/libsqlite/sqlite3.c     aNew = sqlite3DbMallocRaw(db, sizeof(db-&gt;aDb[0])*3 );</span>
<span class='curline'><a href='../S/1054.html#L90069'>db</a>               90069 ext/sqlite3/libsqlite/sqlite3.c     memcpy(aNew, db-&gt;aDb, sizeof(db-&gt;aDb[0])*2);</span>
<span class='curline'><a href='../S/1054.html#L90071'>db</a>               90071 ext/sqlite3/libsqlite/sqlite3.c     aNew = sqlite3DbRealloc(db, db-&gt;aDb, sizeof(db-&gt;aDb[0])*(db-&gt;nDb+1) );</span>
<span class='curline'><a href='../S/1054.html#L90074'>db</a>               90074 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aDb = aNew;</span>
<span class='curline'><a href='../S/1054.html#L90075'>db</a>               90075 ext/sqlite3/libsqlite/sqlite3.c   aNew = &amp;db-&gt;aDb[db-&gt;nDb];</span>
<span class='curline'><a href='../S/1054.html#L90082'>db</a>               90082 ext/sqlite3/libsqlite/sqlite3.c   flags = db-&gt;openFlags;</span>
<span class='curline'><a href='../S/1054.html#L90083'>db</a>               90083 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ParseUri(db-&gt;pVfs-&gt;zName, zFile, &amp;flags, &amp;pVfs, &amp;zPath, &amp;zErr);</span>
<span class='curline'><a href='../S/1054.html#L90085'>db</a>               90085 ext/sqlite3/libsqlite/sqlite3.c     if( rc==SQLITE_NOMEM ) db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L90092'>db</a>               90092 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3BtreeOpen(pVfs, zPath, db, &amp;aNew-&gt;pBt, 0, flags);</span>
<span class='curline'><a href='../S/1054.html#L90094'>db</a>               90094 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nDb++;</span>
<span class='curline'><a href='../S/1054.html#L90097'>db</a>               90097 ext/sqlite3/libsqlite/sqlite3.c     zErrDyn = sqlite3MPrintf(db, "database is already attached");</span>
<span class='curline'><a href='../S/1054.html#L90100'>db</a>               90100 ext/sqlite3/libsqlite/sqlite3.c     aNew-&gt;pSchema = sqlite3SchemaGet(db, aNew-&gt;pBt);</span>
<span class='curline'><a href='../S/1054.html#L90103'>db</a>               90103 ext/sqlite3/libsqlite/sqlite3.c     }else if( aNew-&gt;pSchema-&gt;file_format &amp;&amp; aNew-&gt;pSchema-&gt;enc!=ENC(db) ){</span>
<span class='curline'><a href='../S/1054.html#L90104'>db</a>               90104 ext/sqlite3/libsqlite/sqlite3.c       zErrDyn = sqlite3MPrintf(db, </span>
<span class='curline'><a href='../S/1054.html#L90110'>db</a>               90110 ext/sqlite3/libsqlite/sqlite3.c     sqlite3PagerLockingMode(pPager, db-&gt;dfltLockMode);</span>
<span class='curline'><a href='../S/1054.html#L90112'>db</a>               90112 ext/sqlite3/libsqlite/sqlite3.c                              sqlite3BtreeSecureDelete(db-&gt;aDb[0].pBt,-1) );</span>
<span class='curline'><a href='../S/1054.html#L90114'>db</a>               90114 ext/sqlite3/libsqlite/sqlite3.c     sqlite3BtreeSetPagerFlags(aNew-&gt;pBt, 3 | (db-&gt;flags &amp; PAGER_FLAGS_MASK));</span>
<span class='curline'><a href='../S/1054.html#L90119'>db</a>               90119 ext/sqlite3/libsqlite/sqlite3.c   aNew-&gt;zName = sqlite3DbStrDup(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L90135'>db</a>               90135 ext/sqlite3/libsqlite/sqlite3.c         zErrDyn = sqlite3DbStrDup(db, "Invalid key value");</span>
<span class='curline'><a href='../S/1054.html#L90143'>db</a>               90143 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3CodecAttach(db, db-&gt;nDb-1, zKey, nKey);</span>
<span class='curline'><a href='../S/1054.html#L90148'>db</a>               90148 ext/sqlite3/libsqlite/sqlite3.c         sqlite3CodecGetKey(db, 0, (void**)&amp;zKey, &amp;nKey);</span>
<span class='curline'><a href='../S/1054.html#L90149'>db</a>               90149 ext/sqlite3/libsqlite/sqlite3.c         if( nKey&gt;0 || sqlite3BtreeGetOptimalReserve(db-&gt;aDb[0].pBt)&gt;0 ){</span>
<span class='curline'><a href='../S/1054.html#L90150'>db</a>               90150 ext/sqlite3/libsqlite/sqlite3.c           rc = sqlite3CodecAttach(db, db-&gt;nDb-1, zKey, nKey);</span>
<span class='curline'><a href='../S/1054.html#L90163'>db</a>               90163 ext/sqlite3/libsqlite/sqlite3.c     sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/1054.html#L90164'>db</a>               90164 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3Init(db, &amp;zErrDyn);</span>
<span class='curline'><a href='../S/1054.html#L90165'>db</a>               90165 ext/sqlite3/libsqlite/sqlite3.c     sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L90170'>db</a>               90170 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3UserAuthCheckLogin(db, zName, &amp;newAuth);</span>
<span class='curline'><a href='../S/1054.html#L90171'>db</a>               90171 ext/sqlite3/libsqlite/sqlite3.c     if( newAuth&lt;db-&gt;auth.authLevel ){</span>
<span class='curline'><a href='../S/1054.html#L90177'>db</a>               90177 ext/sqlite3/libsqlite/sqlite3.c     int iDb = db-&gt;nDb - 1;</span>
<span class='curline'><a href='../S/1054.html#L90179'>db</a>               90179 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;aDb[iDb].pBt ){</span>
<span class='curline'><a href='../S/1054.html#L90180'>db</a>               90180 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BtreeClose(db-&gt;aDb[iDb].pBt);</span>
<span class='curline'><a href='../S/1054.html#L90181'>db</a>               90181 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;aDb[iDb].pBt = 0;</span>
<span class='curline'><a href='../S/1054.html#L90182'>db</a>               90182 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;aDb[iDb].pSchema = 0;</span>
<span class='curline'><a href='../S/1054.html#L90184'>db</a>               90184 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/1054.html#L90185'>db</a>               90185 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nDb = iDb;</span>
<span class='curline'><a href='../S/1054.html#L90187'>db</a>               90187 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L90188'>db</a>               90188 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zErrDyn);</span>
<span class='curline'><a href='../S/1054.html#L90189'>db</a>               90189 ext/sqlite3/libsqlite/sqlite3.c       zErrDyn = sqlite3MPrintf(db, "out of memory");</span>
<span class='curline'><a href='../S/1054.html#L90191'>db</a>               90191 ext/sqlite3/libsqlite/sqlite3.c       zErrDyn = sqlite3MPrintf(db, "unable to open database: %s", zFile);</span>
<span class='curline'><a href='../S/1054.html#L90202'>db</a>               90202 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zErrDyn);</span>
<span class='curline'><a href='../S/1054.html#L90221'>db</a>               90221 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L90229'>db</a>               90229 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L90230'>db</a>               90230 ext/sqlite3/libsqlite/sqlite3.c     pDb = &amp;db-&gt;aDb[i];</span>
<span class='curline'><a href='../S/1054.html#L90235'>db</a>               90235 ext/sqlite3/libsqlite/sqlite3.c   if( i&gt;=db-&gt;nDb ){</span>
<span class='curline'><a href='../S/1054.html#L90243'>db</a>               90243 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/1054.html#L90256'>db</a>               90256 ext/sqlite3/libsqlite/sqlite3.c   sqlite3CollapseDatabaseArray(db);</span>
<span class='curline'><a href='../S/1054.html#L90279'>db</a>               90279 ext/sqlite3/libsqlite/sqlite3.c   sqlite3* db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L90315'>db</a>               90315 ext/sqlite3/libsqlite/sqlite3.c   assert( v || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L90330'>db</a>               90330 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pFilename);</span>
<span class='curline'><a href='../S/1054.html#L90331'>db</a>               90331 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pDbname);</span>
<span class='curline'><a href='../S/1054.html#L90332'>db</a>               90332 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pKey);</span>
<span class='curline'><a href='../S/1054.html#L90389'>db</a>               90389 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L90391'>db</a>               90391 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L90392'>db</a>               90392 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;nDb&gt;iDb );</span>
<span class='curline'><a href='../S/1054.html#L90394'>db</a>               90394 ext/sqlite3/libsqlite/sqlite3.c   pFix-&gt;zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L90395'>db</a>               90395 ext/sqlite3/libsqlite/sqlite3.c   pFix-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/1054.html#L90433'>db</a>               90433 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(pFix-&gt;pParse-&gt;db, pItem-&gt;zDatabase);</span>
<span class='curline'><a href='../S/1054.html#L90484'>db</a>               90484 ext/sqlite3/libsqlite/sqlite3.c       if( pFix-&gt;pParse-&gt;db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L90612'>db</a>               90612 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L90617'>db</a>               90617 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L90619'>db</a>               90619 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L90620'>db</a>               90620 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xAuth = (sqlite3_xauth)xAuth;</span>
<span class='curline'><a href='../S/1054.html#L90621'>db</a>               90621 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pAuthArg = pArg;</span>
<span class='curline'><a href='../S/1054.html#L90622'>db</a>               90622 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/1054.html#L90623'>db</a>               90623 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L90651'>db</a>               90651 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L90652'>db</a>               90652 ext/sqlite3/libsqlite/sqlite3.c   char *zDb = db-&gt;aDb[iDb].zName; /* Name of attached database */</span>
<span class='curline'><a href='../S/1054.html#L90655'>db</a>               90655 ext/sqlite3/libsqlite/sqlite3.c   rc = db-&gt;xAuth(db-&gt;pAuthArg, SQLITE_READ, zTab,zCol,zDb,pParse-&gt;zAuthContext</span>
<span class='curline'><a href='../S/1054.html#L90657'>db</a>               90657 ext/sqlite3/libsqlite/sqlite3.c                  ,db-&gt;auth.zAuthUser</span>
<span class='curline'><a href='../S/1054.html#L90661'>db</a>               90661 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;nDb&gt;2 || iDb!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L90688'>db</a>               90688 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L90695'>db</a>               90695 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;xAuth==0 ) return;</span>
<span class='curline'><a href='../S/1054.html#L90696'>db</a>               90696 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pSchema);</span>
<span class='curline'><a href='../S/1054.html#L90727'>db</a>               90727 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L90746'>db</a>               90746 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L90752'>db</a>               90752 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;init.busy || IN_DECLARE_VTAB ){</span>
<span class='curline'><a href='../S/1054.html#L90756'>db</a>               90756 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;xAuth==0 ){</span>
<span class='curline'><a href='../S/1054.html#L90759'>db</a>               90759 ext/sqlite3/libsqlite/sqlite3.c   rc = db-&gt;xAuth(db-&gt;pAuthArg, code, zArg1, zArg2, zArg3, pParse-&gt;zAuthContext</span>
<span class='curline'><a href='../S/1054.html#L90761'>db</a>               90761 ext/sqlite3/libsqlite/sqlite3.c                  ,db-&gt;auth.zAuthUser</span>
<span class='curline'><a href='../S/1054.html#L90884'>db</a>               90884 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbReallocOrFree(pToplevel-&gt;db, pToplevel-&gt;aTableLock, nBytes);</span>
<span class='curline'><a href='../S/1054.html#L90893'>db</a>               90893 ext/sqlite3/libsqlite/sqlite3.c     pToplevel-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L90943'>db</a>               90943 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L90947'>db</a>               90947 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L90949'>db</a>               90949 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed || pParse-&gt;nErr ){</span>
<span class='curline'><a href='../S/1054.html#L90965'>db</a>               90965 ext/sqlite3/libsqlite/sqlite3.c     if( pParse-&gt;nTableLock&gt;0 &amp;&amp; db-&gt;init.busy==0 ){</span>
<span class='curline'><a href='../S/1054.html#L90966'>db</a>               90966 ext/sqlite3/libsqlite/sqlite3.c       sqlite3UserAuthInit(db);</span>
<span class='curline'><a href='../S/1054.html#L90967'>db</a>               90967 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;auth.authLevel&lt;UAUTH_User ){</span>
<span class='curline'><a href='../S/1054.html#L90981'>db</a>               90981 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed==0 </span>
<span class='curline'><a href='../S/1054.html#L90987'>db</a>               90987 ext/sqlite3/libsqlite/sqlite3.c       for(iDb=0; iDb&lt;db-&gt;nDb; iDb++){</span>
<span class='curline'><a href='../S/1054.html#L90995'>db</a>               90995 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;aDb[iDb].pSchema-&gt;iGeneration  /* P4 */</span>
<span class='curline'><a href='../S/1054.html#L90997'>db</a>               90997 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;init.busy==0 ) sqlite3VdbeChangeP5(v, 1);</span>
<span class='curline'><a href='../S/1054.html#L91001'>db</a>               91001 ext/sqlite3/libsqlite/sqlite3.c         char *vtab = (char *)sqlite3GetVTable(db, pParse-&gt;apVtabLock[i]);</span>
<span class='curline'><a href='../S/1054.html#L91034'>db</a>               91034 ext/sqlite3/libsqlite/sqlite3.c   if( v &amp;&amp; pParse-&gt;nErr==0 &amp;&amp; !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L91068'>db</a>               91068 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L91075'>db</a>               91075 ext/sqlite3/libsqlite/sqlite3.c   zSql = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/1054.html#L91084'>db</a>               91084 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L91085'>db</a>               91085 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/1054.html#L91112'>db</a>               91112 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE Table *sqlite3FindTable(sqlite3 *db, const char *zName, const char *zDatabase){</span>
<span class='curline'><a href='../S/1054.html#L91117'>db</a>               91117 ext/sqlite3/libsqlite/sqlite3.c   assert( zDatabase!=0 || sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/1054.html#L91121'>db</a>               91121 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;auth.authLevel&lt;UAUTH_Admin &amp;&amp; sqlite3UserAuthTable(zName)!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L91125'>db</a>               91125 ext/sqlite3/libsqlite/sqlite3.c   for(i=OMIT_TEMPDB; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L91127'>db</a>               91127 ext/sqlite3/libsqlite/sqlite3.c     if( zDatabase!=0 &amp;&amp; sqlite3StrICmp(zDatabase, db-&gt;aDb[j].zName) ) continue;</span>
<span class='curline'><a href='../S/1054.html#L91128'>db</a>               91128 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, j, 0) );</span>
<span class='curline'><a href='../S/1054.html#L91129'>db</a>               91129 ext/sqlite3/libsqlite/sqlite3.c     p = sqlite3HashFind(&amp;db-&gt;aDb[j].pSchema-&gt;tblHash, zName);</span>
<span class='curline'><a href='../S/1054.html#L91159'>db</a>               91159 ext/sqlite3/libsqlite/sqlite3.c   p = sqlite3FindTable(pParse-&gt;db, zName, zDbase);</span>
<span class='curline'><a href='../S/1054.html#L91170'>db</a>               91170 ext/sqlite3/libsqlite/sqlite3.c   else if( pParse-&gt;db-&gt;auth.authLevel&lt;UAUTH_User ){</span>
<span class='curline'><a href='../S/1054.html#L91195'>db</a>               91195 ext/sqlite3/libsqlite/sqlite3.c     int iDb = sqlite3SchemaToIndex(pParse-&gt;db, p-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L91196'>db</a>               91196 ext/sqlite3/libsqlite/sqlite3.c     zDb = pParse-&gt;db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L91215'>db</a>               91215 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE Index *sqlite3FindIndex(sqlite3 *db, const char *zName, const char *zDb){</span>
<span class='curline'><a href='../S/1054.html#L91219'>db</a>               91219 ext/sqlite3/libsqlite/sqlite3.c   assert( zDb!=0 || sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/1054.html#L91220'>db</a>               91220 ext/sqlite3/libsqlite/sqlite3.c   for(i=OMIT_TEMPDB; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L91222'>db</a>               91222 ext/sqlite3/libsqlite/sqlite3.c     Schema *pSchema = db-&gt;aDb[j].pSchema;</span>
<span class='curline'><a href='../S/1054.html#L91224'>db</a>               91224 ext/sqlite3/libsqlite/sqlite3.c     if( zDb &amp;&amp; sqlite3StrICmp(zDb, db-&gt;aDb[j].zName) ) continue;</span>
<span class='curline'><a href='../S/1054.html#L91225'>db</a>               91225 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, j, 0) );</span>
<span class='curline'><a href='../S/1054.html#L91235'>db</a>               91235 ext/sqlite3/libsqlite/sqlite3.c static void freeIndex(sqlite3 *db, Index *p){</span>
<span class='curline'><a href='../S/1054.html#L91237'>db</a>               91237 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DeleteIndexSamples(db, p);</span>
<span class='curline'><a href='../S/1054.html#L91239'>db</a>               91239 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, p-&gt;pPartIdxWhere);</span>
<span class='curline'><a href='../S/1054.html#L91240'>db</a>               91240 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p-&gt;zColAff);</span>
<span class='curline'><a href='../S/1054.html#L91241'>db</a>               91241 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;isResized ) sqlite3DbFree(db, p-&gt;azColl);</span>
<span class='curline'><a href='../S/1054.html#L91245'>db</a>               91245 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L91254'>db</a>               91254 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3UnlinkAndDeleteIndex(sqlite3 *db, int iDb, const char *zIdxName){</span>
<span class='curline'><a href='../S/1054.html#L91258'>db</a>               91258 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L91259'>db</a>               91259 ext/sqlite3/libsqlite/sqlite3.c   pHash = &amp;db-&gt;aDb[iDb].pSchema-&gt;idxHash;</span>
<span class='curline'><a href='../S/1054.html#L91274'>db</a>               91274 ext/sqlite3/libsqlite/sqlite3.c     freeIndex(db, pIndex);</span>
<span class='curline'><a href='../S/1054.html#L91276'>db</a>               91276 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/1054.html#L91287'>db</a>               91287 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3CollapseDatabaseArray(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L91289'>db</a>               91289 ext/sqlite3/libsqlite/sqlite3.c   for(i=j=2; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L91290'>db</a>               91290 ext/sqlite3/libsqlite/sqlite3.c     struct Db *pDb = &amp;db-&gt;aDb[i];</span>
<span class='curline'><a href='../S/1054.html#L91292'>db</a>               91292 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pDb-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L91297'>db</a>               91297 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;aDb[j] = db-&gt;aDb[i];</span>
<span class='curline'><a href='../S/1054.html#L91301'>db</a>               91301 ext/sqlite3/libsqlite/sqlite3.c   memset(&amp;db-&gt;aDb[j], 0, (db-&gt;nDb-j)*sizeof(db-&gt;aDb[j]));</span>
<span class='curline'><a href='../S/1054.html#L91302'>db</a>               91302 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nDb = j;</span>
<span class='curline'><a href='../S/1054.html#L91303'>db</a>               91303 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;nDb&lt;=2 &amp;&amp; db-&gt;aDb!=db-&gt;aDbStatic ){</span>
<span class='curline'><a href='../S/1054.html#L91304'>db</a>               91304 ext/sqlite3/libsqlite/sqlite3.c     memcpy(db-&gt;aDbStatic, db-&gt;aDb, 2*sizeof(db-&gt;aDb[0]));</span>
<span class='curline'><a href='../S/1054.html#L91305'>db</a>               91305 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, db-&gt;aDb);</span>
<span class='curline'><a href='../S/1054.html#L91306'>db</a>               91306 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;aDb = db-&gt;aDbStatic;</span>
<span class='curline'><a href='../S/1054.html#L91314'>db</a>               91314 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3ResetOneSchema(sqlite3 *db, int iDb){</span>
<span class='curline'><a href='../S/1054.html#L91316'>db</a>               91316 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L91319'>db</a>               91319 ext/sqlite3/libsqlite/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/1054.html#L91320'>db</a>               91320 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L91329'>db</a>               91329 ext/sqlite3/libsqlite/sqlite3.c     pDb = &amp;db-&gt;aDb[1];</span>
<span class='curline'><a href='../S/1054.html#L91340'>db</a>               91340 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3ResetAllSchemasOfConnection(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L91342'>db</a>               91342 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/1054.html#L91343'>db</a>               91343 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L91344'>db</a>               91344 ext/sqlite3/libsqlite/sqlite3.c     Db *pDb = &amp;db-&gt;aDb[i];</span>
<span class='curline'><a href='../S/1054.html#L91349'>db</a>               91349 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags &amp;= ~SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/1054.html#L91350'>db</a>               91350 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VtabUnlockList(db);</span>
<span class='curline'><a href='../S/1054.html#L91351'>db</a>               91351 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L91352'>db</a>               91352 ext/sqlite3/libsqlite/sqlite3.c   sqlite3CollapseDatabaseArray(db);</span>
<span class='curline'><a href='../S/1054.html#L91358'>db</a>               91358 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3CommitInternalChanges(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L91359'>db</a>               91359 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags &amp;= ~SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/1054.html#L91366'>db</a>               91366 ext/sqlite3/libsqlite/sqlite3.c static void sqliteDeleteColumnNames(sqlite3 *db, Table *pTable){</span>
<span class='curline'><a href='../S/1054.html#L91372'>db</a>               91372 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pCol-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L91373'>db</a>               91373 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprDelete(db, pCol-&gt;pDflt);</span>
<span class='curline'><a href='../S/1054.html#L91374'>db</a>               91374 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pCol-&gt;zDflt);</span>
<span class='curline'><a href='../S/1054.html#L91375'>db</a>               91375 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pCol-&gt;zType);</span>
<span class='curline'><a href='../S/1054.html#L91376'>db</a>               91376 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pCol-&gt;zColl);</span>
<span class='curline'><a href='../S/1054.html#L91378'>db</a>               91378 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pTable-&gt;aCol);</span>
<span class='curline'><a href='../S/1054.html#L91397'>db</a>               91397 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3DeleteTable(sqlite3 *db, Table *pTable){</span>
<span class='curline'><a href='../S/1054.html#L91405'>db</a>               91405 ext/sqlite3/libsqlite/sqlite3.c   if( ((!db || db-&gt;pnBytesFreed==0) &amp;&amp; (--pTable-&gt;nRef)&gt;0) ) return;</span>
<span class='curline'><a href='../S/1054.html#L91410'>db</a>               91410 ext/sqlite3/libsqlite/sqlite3.c   TESTONLY( nLookaside = (db &amp;&amp; (pTable-&gt;tabFlags &amp; TF_Ephemeral)==0) ?</span>
<span class='curline'><a href='../S/1054.html#L91411'>db</a>               91411 ext/sqlite3/libsqlite/sqlite3.c                          db-&gt;lookaside.nOut : 0 );</span>
<span class='curline'><a href='../S/1054.html#L91417'>db</a>               91417 ext/sqlite3/libsqlite/sqlite3.c     if( !db || db-&gt;pnBytesFreed==0 ){</span>
<span class='curline'><a href='../S/1054.html#L91422'>db</a>               91422 ext/sqlite3/libsqlite/sqlite3.c       assert( db==0 || sqlite3SchemaMutexHeld(db, 0, pIndex-&gt;pSchema) );</span>
<span class='curline'><a href='../S/1054.html#L91425'>db</a>               91425 ext/sqlite3/libsqlite/sqlite3.c     freeIndex(db, pIndex);</span>
<span class='curline'><a href='../S/1054.html#L91429'>db</a>               91429 ext/sqlite3/libsqlite/sqlite3.c   sqlite3FkDelete(db, pTable);</span>
<span class='curline'><a href='../S/1054.html#L91433'>db</a>               91433 ext/sqlite3/libsqlite/sqlite3.c   sqliteDeleteColumnNames(db, pTable);</span>
<span class='curline'><a href='../S/1054.html#L91434'>db</a>               91434 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pTable-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L91435'>db</a>               91435 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pTable-&gt;zColAff);</span>
<span class='curline'><a href='../S/1054.html#L91436'>db</a>               91436 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(db, pTable-&gt;pSelect);</span>
<span class='curline'><a href='../S/1054.html#L91438'>db</a>               91438 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprListDelete(db, pTable-&gt;pCheck);</span>
<span class='curline'><a href='../S/1054.html#L91441'>db</a>               91441 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VtabClear(db, pTable);</span>
<span class='curline'><a href='../S/1054.html#L91443'>db</a>               91443 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pTable);</span>
<span class='curline'><a href='../S/1054.html#L91446'>db</a>               91446 ext/sqlite3/libsqlite/sqlite3.c   assert( nLookaside==0 || nLookaside==db-&gt;lookaside.nOut );</span>
<span class='curline'><a href='../S/1054.html#L91453'>db</a>               91453 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3UnlinkAndDeleteTable(sqlite3 *db, int iDb, const char *zTabName){</span>
<span class='curline'><a href='../S/1054.html#L91457'>db</a>               91457 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L91458'>db</a>               91458 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L91460'>db</a>               91460 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L91462'>db</a>               91462 ext/sqlite3/libsqlite/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/1054.html#L91464'>db</a>               91464 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DeleteTable(db, p);</span>
<span class='curline'><a href='../S/1054.html#L91465'>db</a>               91465 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/1054.html#L91481'>db</a>               91481 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE char *sqlite3NameFromToken(sqlite3 *db, Token *pName){</span>
<span class='curline'><a href='../S/1054.html#L91484'>db</a>               91484 ext/sqlite3/libsqlite/sqlite3.c     zName = sqlite3DbStrNDup(db, (char*)pName-&gt;z, pName-&gt;n);</span>
<span class='curline'><a href='../S/1054.html#L91511'>db</a>               91511 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3FindDbName(sqlite3 *db, const char *zName){</span>
<span class='curline'><a href='../S/1054.html#L91516'>db</a>               91516 ext/sqlite3/libsqlite/sqlite3.c     for(i=(db-&gt;nDb-1), pDb=&amp;db-&gt;aDb[i]; i&gt;=0; i--, pDb--){</span>
<span class='curline'><a href='../S/1054.html#L91532'>db</a>               91532 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3FindDb(sqlite3 *db, Token *pName){</span>
<span class='curline'><a href='../S/1054.html#L91535'>db</a>               91535 ext/sqlite3/libsqlite/sqlite3.c   zName = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/1054.html#L91536'>db</a>               91536 ext/sqlite3/libsqlite/sqlite3.c   i = sqlite3FindDbName(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L91537'>db</a>               91537 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L91564'>db</a>               91564 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L91567'>db</a>               91567 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;init.busy ) {</span>
<span class='curline'><a href='../S/1054.html#L91572'>db</a>               91572 ext/sqlite3/libsqlite/sqlite3.c     iDb = sqlite3FindDb(db, pName1);</span>
<span class='curline'><a href='../S/1054.html#L91578'>db</a>               91578 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;init.iDb==0 || db-&gt;init.busy );</span>
<span class='curline'><a href='../S/1054.html#L91579'>db</a>               91579 ext/sqlite3/libsqlite/sqlite3.c     iDb = db-&gt;init.iDb;</span>
<span class='curline'><a href='../S/1054.html#L91593'>db</a>               91593 ext/sqlite3/libsqlite/sqlite3.c   if( !pParse-&gt;db-&gt;init.busy &amp;&amp; pParse-&gt;nested==0 </span>
<span class='curline'><a href='../S/1054.html#L91594'>db</a>               91594 ext/sqlite3/libsqlite/sqlite3.c           &amp;&amp; (pParse-&gt;db-&gt;flags &amp; SQLITE_WriteSchema)==0</span>
<span class='curline'><a href='../S/1054.html#L91650'>db</a>               91650 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L91683'>db</a>               91683 ext/sqlite3/libsqlite/sqlite3.c   zName = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/1054.html#L91688'>db</a>               91688 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;init.iDb==1 ) isTemp = 1;</span>
<span class='curline'><a href='../S/1054.html#L91693'>db</a>               91693 ext/sqlite3/libsqlite/sqlite3.c     char *zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L91724'>db</a>               91724 ext/sqlite3/libsqlite/sqlite3.c     char *zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L91728'>db</a>               91728 ext/sqlite3/libsqlite/sqlite3.c     pTable = sqlite3FindTable(db, zName, zDb);</span>
<span class='curline'><a href='../S/1054.html#L91733'>db</a>               91733 ext/sqlite3/libsqlite/sqlite3.c         assert( !db-&gt;init.busy || CORRUPT_DB );</span>
<span class='curline'><a href='../S/1054.html#L91738'>db</a>               91738 ext/sqlite3/libsqlite/sqlite3.c     if( sqlite3FindIndex(db, zName, zDb)!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L91744'>db</a>               91744 ext/sqlite3/libsqlite/sqlite3.c   pTable = sqlite3DbMallocZero(db, sizeof(Table));</span>
<span class='curline'><a href='../S/1054.html#L91746'>db</a>               91746 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L91753'>db</a>               91753 ext/sqlite3/libsqlite/sqlite3.c   pTable-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/1054.html#L91765'>db</a>               91765 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L91778'>db</a>               91778 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;init.busy &amp;&amp; (v = sqlite3GetVdbe(pParse))!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L91799'>db</a>               91799 ext/sqlite3/libsqlite/sqlite3.c     fileFormat = (db-&gt;flags &amp; SQLITE_LegacyFileFmt)!=0 ?</span>
<span class='curline'><a href='../S/1054.html#L91803'>db</a>               91803 ext/sqlite3/libsqlite/sqlite3.c     sqlite3VdbeAddOp2(v, OP_Integer, ENC(db), reg3);</span>
<span class='curline'><a href='../S/1054.html#L91837'>db</a>               91837 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L91867'>db</a>               91867 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L91870'>db</a>               91870 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;nCol+1&gt;db-&gt;aLimit[SQLITE_LIMIT_COLUMN] ){</span>
<span class='curline'><a href='../S/1054.html#L91875'>db</a>               91875 ext/sqlite3/libsqlite/sqlite3.c   z = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/1054.html#L91880'>db</a>               91880 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/1054.html#L91886'>db</a>               91886 ext/sqlite3/libsqlite/sqlite3.c     aNew = sqlite3DbRealloc(db,p-&gt;aCol,(p-&gt;nCol+8)*sizeof(p-&gt;aCol[0]));</span>
<span class='curline'><a href='../S/1054.html#L91888'>db</a>               91888 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/1054.html#L92023'>db</a>               92023 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(pParse-&gt;db, pCol-&gt;zType);</span>
<span class='curline'><a href='../S/1054.html#L92024'>db</a>               92024 ext/sqlite3/libsqlite/sqlite3.c   pCol-&gt;zType = sqlite3NameFromToken(pParse-&gt;db, pType);</span>
<span class='curline'><a href='../S/1054.html#L92041'>db</a>               92041 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L92045'>db</a>               92045 ext/sqlite3/libsqlite/sqlite3.c     if( !sqlite3ExprIsConstantOrFunction(pSpan-&gt;pExpr, db-&gt;init.busy) ){</span>
<span class='curline'><a href='../S/1054.html#L92053'>db</a>               92053 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprDelete(db, pCol-&gt;pDflt);</span>
<span class='curline'><a href='../S/1054.html#L92054'>db</a>               92054 ext/sqlite3/libsqlite/sqlite3.c       pCol-&gt;pDflt = sqlite3ExprDup(db, pSpan-&gt;pExpr, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/1054.html#L92055'>db</a>               92055 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pCol-&gt;zDflt);</span>
<span class='curline'><a href='../S/1054.html#L92056'>db</a>               92056 ext/sqlite3/libsqlite/sqlite3.c       pCol-&gt;zDflt = sqlite3DbStrNDup(db, (char*)pSpan-&gt;zStart,</span>
<span class='curline'><a href='../S/1054.html#L92060'>db</a>               92060 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pSpan-&gt;pExpr);</span>
<span class='curline'><a href='../S/1054.html#L92144'>db</a>               92144 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprListDelete(pParse-&gt;db, pList);</span>
<span class='curline'><a href='../S/1054.html#L92157'>db</a>               92157 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L92159'>db</a>               92159 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; !sqlite3BtreeIsReadonly(db-&gt;aDb[db-&gt;init.iDb].pBt)</span>
<span class='curline'><a href='../S/1054.html#L92168'>db</a>               92168 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(pParse-&gt;db, pCheckExpr);</span>
<span class='curline'><a href='../S/1054.html#L92180'>db</a>               92180 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L92184'>db</a>               92184 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L92185'>db</a>               92185 ext/sqlite3/libsqlite/sqlite3.c   zColl = sqlite3NameFromToken(db, pToken);</span>
<span class='curline'><a href='../S/1054.html#L92190'>db</a>               92190 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p-&gt;aCol[i].zColl);</span>
<span class='curline'><a href='../S/1054.html#L92204'>db</a>               92204 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zColl);</span>
<span class='curline'><a href='../S/1054.html#L92229'>db</a>               92229 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L92230'>db</a>               92230 ext/sqlite3/libsqlite/sqlite3.c   u8 enc = ENC(db);</span>
<span class='curline'><a href='../S/1054.html#L92231'>db</a>               92231 ext/sqlite3/libsqlite/sqlite3.c   u8 initbusy = db-&gt;init.busy;</span>
<span class='curline'><a href='../S/1054.html#L92234'>db</a>               92234 ext/sqlite3/libsqlite/sqlite3.c   pColl = sqlite3FindCollSeq(db, enc, zName, initbusy);</span>
<span class='curline'><a href='../S/1054.html#L92261'>db</a>               92261 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L92263'>db</a>               92263 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L92264'>db</a>               92264 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VdbeAddOp2(v, OP_Integer, db-&gt;aDb[iDb].pSchema-&gt;schema_cookie+1, r1);</span>
<span class='curline'><a href='../S/1054.html#L92326'>db</a>               92326 ext/sqlite3/libsqlite/sqlite3.c static char *createTableStmt(sqlite3 *db, Table *p){</span>
<span class='curline'><a href='../S/1054.html#L92348'>db</a>               92348 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L92394'>db</a>               92394 ext/sqlite3/libsqlite/sqlite3.c static int resizeIndexObject(sqlite3 *db, Index *pIdx, int N){</span>
<span class='curline'><a href='../S/1054.html#L92400'>db</a>               92400 ext/sqlite3/libsqlite/sqlite3.c   zExtra = sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/1054.html#L92479'>db</a>               92479 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L92506'>db</a>               92506 ext/sqlite3/libsqlite/sqlite3.c     pList-&gt;a[0].zName = sqlite3DbStrDup(pParse-&gt;db,</span>
<span class='curline'><a href='../S/1054.html#L92536'>db</a>               92536 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;init.imposterTable ){</span>
<span class='curline'><a href='../S/1054.html#L92560'>db</a>               92560 ext/sqlite3/libsqlite/sqlite3.c     if( resizeIndexObject(db, pIdx, pIdx-&gt;nKeyCol+n) ) return;</span>
<span class='curline'><a href='../S/1054.html#L92575'>db</a>               92575 ext/sqlite3/libsqlite/sqlite3.c     if( resizeIndexObject(db, pPk, pTab-&gt;nCol) ) return;</span>
<span class='curline'><a href='../S/1054.html#L92619'>db</a>               92619 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db; /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L92623'>db</a>               92623 ext/sqlite3/libsqlite/sqlite3.c   if( (pEnd==0 &amp;&amp; pSelect==0) || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L92629'>db</a>               92629 ext/sqlite3/libsqlite/sqlite3.c   assert( !db-&gt;init.busy || !pSelect );</span>
<span class='curline'><a href='../S/1054.html#L92637'>db</a>               92637 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L92638'>db</a>               92638 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;tnum = db-&gt;init.newTnum;</span>
<span class='curline'><a href='../S/1054.html#L92656'>db</a>               92656 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, p-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L92678'>db</a>               92678 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L92737'>db</a>               92737 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DeleteTable(db, pSelTab);</span>
<span class='curline'><a href='../S/1054.html#L92743'>db</a>               92743 ext/sqlite3/libsqlite/sqlite3.c       zStmt = createTableStmt(db, p);</span>
<span class='curline'><a href='../S/1054.html#L92748'>db</a>               92748 ext/sqlite3/libsqlite/sqlite3.c       zStmt = sqlite3MPrintf(db, </span>
<span class='curline'><a href='../S/1054.html#L92761'>db</a>               92761 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb),</span>
<span class='curline'><a href='../S/1054.html#L92769'>db</a>               92769 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zStmt);</span>
<span class='curline'><a href='../S/1054.html#L92777'>db</a>               92777 ext/sqlite3/libsqlite/sqlite3.c       Db *pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/1054.html#L92778'>db</a>               92778 ext/sqlite3/libsqlite/sqlite3.c       assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L92790'>db</a>               92790 ext/sqlite3/libsqlite/sqlite3.c            sqlite3MPrintf(db, "tbl_name='%q' AND type!='trigger'", p-&gt;zName));</span>
<span class='curline'><a href='../S/1054.html#L92796'>db</a>               92796 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L92799'>db</a>               92799 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L92803'>db</a>               92803 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L92807'>db</a>               92807 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/1054.html#L92844'>db</a>               92844 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L92848'>db</a>               92848 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/1054.html#L92854'>db</a>               92854 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/1054.html#L92858'>db</a>               92858 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, p-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L92861'>db</a>               92861 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/1054.html#L92870'>db</a>               92870 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;pSelect = sqlite3SelectDup(db, pSelect, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/1054.html#L92871'>db</a>               92871 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/1054.html#L92872'>db</a>               92872 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L92875'>db</a>               92875 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L92910'>db</a>               92910 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;  /* Database connection for malloc errors */</span>
<span class='curline'><a href='../S/1054.html#L92957'>db</a>               92957 ext/sqlite3/libsqlite/sqlite3.c   pSel = sqlite3SelectDup(db, pTable-&gt;pSelect, 0);</span>
<span class='curline'><a href='../S/1054.html#L92959'>db</a>               92959 ext/sqlite3/libsqlite/sqlite3.c     u8 enableLookaside = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/1054.html#L92963'>db</a>               92963 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/1054.html#L92965'>db</a>               92965 ext/sqlite3/libsqlite/sqlite3.c     xAuth = db-&gt;xAuth;</span>
<span class='curline'><a href='../S/1054.html#L92966'>db</a>               92966 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;xAuth = 0;</span>
<span class='curline'><a href='../S/1054.html#L92968'>db</a>               92968 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;xAuth = xAuth;</span>
<span class='curline'><a href='../S/1054.html#L92972'>db</a>               92972 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.bEnabled = enableLookaside;</span>
<span class='curline'><a href='../S/1054.html#L92980'>db</a>               92980 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DeleteTable(db, pSelTab);</span>
<span class='curline'><a href='../S/1054.html#L92981'>db</a>               92981 ext/sqlite3/libsqlite/sqlite3.c       assert( sqlite3SchemaMutexHeld(db, 0, pTable-&gt;pSchema) );</span>
<span class='curline'><a href='../S/1054.html#L92987'>db</a>               92987 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(db, pSel);</span>
<span class='curline'><a href='../S/1054.html#L93000'>db</a>               93000 ext/sqlite3/libsqlite/sqlite3.c static void sqliteViewResetAll(sqlite3 *db, int idx){</span>
<span class='curline'><a href='../S/1054.html#L93002'>db</a>               93002 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, idx, 0) );</span>
<span class='curline'><a href='../S/1054.html#L93003'>db</a>               93003 ext/sqlite3/libsqlite/sqlite3.c   if( !DbHasProperty(db, idx, DB_UnresetViews) ) return;</span>
<span class='curline'><a href='../S/1054.html#L93004'>db</a>               93004 ext/sqlite3/libsqlite/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aDb[idx].pSchema-&gt;tblHash); i;i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/1054.html#L93007'>db</a>               93007 ext/sqlite3/libsqlite/sqlite3.c       sqliteDeleteColumnNames(db, pTab);</span>
<span class='curline'><a href='../S/1054.html#L93012'>db</a>               93012 ext/sqlite3/libsqlite/sqlite3.c   DbClearProperty(db, idx, DB_UnresetViews);</span>
<span class='curline'><a href='../S/1054.html#L93036'>db</a>               93036 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3RootPageMoved(sqlite3 *db, int iDb, int iFrom, int iTo){</span>
<span class='curline'><a href='../S/1054.html#L93041'>db</a>               93041 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L93042'>db</a>               93042 ext/sqlite3/libsqlite/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/1054.html#L93083'>db</a>               93083 ext/sqlite3/libsqlite/sqlite3.c      pParse-&gt;db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb), iTable, r1, r1);</span>
<span class='curline'><a href='../S/1054.html#L93097'>db</a>               93097 ext/sqlite3/libsqlite/sqlite3.c   int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L93139'>db</a>               93139 ext/sqlite3/libsqlite/sqlite3.c       int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L93140'>db</a>               93140 ext/sqlite3/libsqlite/sqlite3.c       assert( iDb&gt;=0 &amp;&amp; iDb&lt;pParse-&gt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L93159'>db</a>               93159 ext/sqlite3/libsqlite/sqlite3.c   const char *zDbName = pParse-&gt;db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L93163'>db</a>               93163 ext/sqlite3/libsqlite/sqlite3.c     if( sqlite3FindTable(pParse-&gt;db, zTab, zDbName) ){</span>
<span class='curline'><a href='../S/1054.html#L93177'>db</a>               93177 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L93179'>db</a>               93179 ext/sqlite3/libsqlite/sqlite3.c   Db *pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/1054.html#L93198'>db</a>               93198 ext/sqlite3/libsqlite/sqlite3.c         pTrigger-&gt;pSchema==db-&gt;aDb[1].pSchema );</span>
<span class='curline'><a href='../S/1054.html#L93239'>db</a>               93239 ext/sqlite3/libsqlite/sqlite3.c   sqliteViewResetAll(db, iDb);</span>
<span class='curline'><a href='../S/1054.html#L93249'>db</a>               93249 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L93252'>db</a>               93252 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L93258'>db</a>               93258 ext/sqlite3/libsqlite/sqlite3.c   if( noErr ) db-&gt;suppressErr++;</span>
<span class='curline'><a href='../S/1054.html#L93260'>db</a>               93260 ext/sqlite3/libsqlite/sqlite3.c   if( noErr ) db-&gt;suppressErr--;</span>
<span class='curline'><a href='../S/1054.html#L93266'>db</a>               93266 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L93267'>db</a>               93267 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L93279'>db</a>               93279 ext/sqlite3/libsqlite/sqlite3.c     const char *zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L93293'>db</a>               93293 ext/sqlite3/libsqlite/sqlite3.c       zArg2 = sqlite3GetVTable(db, pTab)-&gt;pMod-&gt;zName;</span>
<span class='curline'><a href='../S/1054.html#L93342'>db</a>               93342 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SrcListDelete(db, pName);</span>
<span class='curline'><a href='../S/1054.html#L93368'>db</a>               93368 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L93404'>db</a>               93404 ext/sqlite3/libsqlite/sqlite3.c   pFKey = sqlite3DbMallocZero(db, nByte );</span>
<span class='curline'><a href='../S/1054.html#L93449'>db</a>               93449 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, 0, p-&gt;pSchema) );</span>
<span class='curline'><a href='../S/1054.html#L93454'>db</a>               93454 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L93469'>db</a>               93469 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pFKey);</span>
<span class='curline'><a href='../S/1054.html#L93471'>db</a>               93471 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprListDelete(db, pFromCol);</span>
<span class='curline'><a href='../S/1054.html#L93472'>db</a>               93472 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprListDelete(db, pToCol);</span>
<span class='curline'><a href='../S/1054.html#L93515'>db</a>               93515 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;      /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L93516'>db</a>               93516 ext/sqlite3/libsqlite/sqlite3.c   int iDb = sqlite3SchemaToIndex(db, pIndex-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L93520'>db</a>               93520 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;aDb[iDb].zName ) ){</span>
<span class='curline'><a href='../S/1054.html#L93559'>db</a>               93559 ext/sqlite3/libsqlite/sqlite3.c   assert( pKey!=0 || db-&gt;mallocFailed || pParse-&gt;nErr );</span>
<span class='curline'><a href='../S/1054.html#L93591'>db</a>               93591 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,         /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L93604'>db</a>               93604 ext/sqlite3/libsqlite/sqlite3.c   p = sqlite3DbMallocZero(db, nByte + nExtra);</span>
<span class='curline'><a href='../S/1054.html#L93654'>db</a>               93654 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L93665'>db</a>               93665 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed || IN_DECLARE_VTAB || pParse-&gt;nErr&gt;0 ){</span>
<span class='curline'><a href='../S/1054.html#L93691'>db</a>               93691 ext/sqlite3/libsqlite/sqlite3.c     if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L93693'>db</a>               93693 ext/sqlite3/libsqlite/sqlite3.c       if( pName2-&gt;n==0 &amp;&amp; pTab &amp;&amp; pTab-&gt;pSchema==db-&gt;aDb[1].pSchema ){</span>
<span class='curline'><a href='../S/1054.html#L93706'>db</a>               93706 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;mallocFailed==0 || pTab==0 );</span>
<span class='curline'><a href='../S/1054.html#L93708'>db</a>               93708 ext/sqlite3/libsqlite/sqlite3.c     if( iDb==1 &amp;&amp; db-&gt;aDb[iDb].pSchema!=pTab-&gt;pSchema ){</span>
<span class='curline'><a href='../S/1054.html#L93720'>db</a>               93720 ext/sqlite3/libsqlite/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L93722'>db</a>               93722 ext/sqlite3/libsqlite/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/1054.html#L93727'>db</a>               93727 ext/sqlite3/libsqlite/sqlite3.c        &amp;&amp; db-&gt;init.busy==0</span>
<span class='curline'><a href='../S/1054.html#L93762'>db</a>               93762 ext/sqlite3/libsqlite/sqlite3.c     zName = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/1054.html#L93768'>db</a>               93768 ext/sqlite3/libsqlite/sqlite3.c     if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L93769'>db</a>               93769 ext/sqlite3/libsqlite/sqlite3.c       if( sqlite3FindTable(db, zName, 0)!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L93774'>db</a>               93774 ext/sqlite3/libsqlite/sqlite3.c     if( sqlite3FindIndex(db, zName, pDb-&gt;zName)!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L93778'>db</a>               93778 ext/sqlite3/libsqlite/sqlite3.c         assert( !db-&gt;init.busy );</span>
<span class='curline'><a href='../S/1054.html#L93787'>db</a>               93787 ext/sqlite3/libsqlite/sqlite3.c     zName = sqlite3MPrintf(db, "sqlite_autoindex_%s_%d", pTab-&gt;zName, n);</span>
<span class='curline'><a href='../S/1054.html#L93816'>db</a>               93816 ext/sqlite3/libsqlite/sqlite3.c     pList-&gt;a[0].zName = sqlite3DbStrDup(pParse-&gt;db,</span>
<span class='curline'><a href='../S/1054.html#L93837'>db</a>               93837 ext/sqlite3/libsqlite/sqlite3.c   pIndex = sqlite3AllocateIndexObject(db, pList-&gt;nExpr + nExtraCol,</span>
<span class='curline'><a href='../S/1054.html#L93839'>db</a>               93839 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L93851'>db</a>               93851 ext/sqlite3/libsqlite/sqlite3.c   pIndex-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/1054.html#L93858'>db</a>               93858 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L93908'>db</a>               93908 ext/sqlite3/libsqlite/sqlite3.c     if( !db-&gt;init.busy &amp;&amp; !sqlite3LocateCollSeq(pParse, zColl) ){</span>
<span class='curline'><a href='../S/1054.html#L94000'>db</a>               94000 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L94002'>db</a>               94002 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pIndex-&gt;pSchema) );</span>
<span class='curline'><a href='../S/1054.html#L94007'>db</a>               94007 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L94010'>db</a>               94010 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/1054.html#L94012'>db</a>               94012 ext/sqlite3/libsqlite/sqlite3.c       pIndex-&gt;tnum = db-&gt;init.newTnum;</span>
<span class='curline'><a href='../S/1054.html#L94050'>db</a>               94050 ext/sqlite3/libsqlite/sqlite3.c       zStmt = sqlite3MPrintf(db, "CREATE%s INDEX %.*s",</span>
<span class='curline'><a href='../S/1054.html#L94062'>db</a>               94062 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb),</span>
<span class='curline'><a href='../S/1054.html#L94068'>db</a>               94068 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zStmt);</span>
<span class='curline'><a href='../S/1054.html#L94077'>db</a>               94077 ext/sqlite3/libsqlite/sqlite3.c          sqlite3MPrintf(db, "name='%q' AND type='index'", pIndex-&gt;zName));</span>
<span class='curline'><a href='../S/1054.html#L94088'>db</a>               94088 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;init.busy || pTblName==0 ){</span>
<span class='curline'><a href='../S/1054.html#L94107'>db</a>               94107 ext/sqlite3/libsqlite/sqlite3.c   if( pIndex ) freeIndex(db, pIndex);</span>
<span class='curline'><a href='../S/1054.html#L94108'>db</a>               94108 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pPIWhere);</span>
<span class='curline'><a href='../S/1054.html#L94109'>db</a>               94109 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprListDelete(db, pList);</span>
<span class='curline'><a href='../S/1054.html#L94110'>db</a>               94110 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SrcListDelete(db, pTblName);</span>
<span class='curline'><a href='../S/1054.html#L94111'>db</a>               94111 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L94164'>db</a>               94164 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L94168'>db</a>               94168 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L94175'>db</a>               94175 ext/sqlite3/libsqlite/sqlite3.c   pIndex = sqlite3FindIndex(db, pName-&gt;a[0].zName, pName-&gt;a[0].zDatabase);</span>
<span class='curline'><a href='../S/1054.html#L94190'>db</a>               94190 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pIndex-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L94195'>db</a>               94195 ext/sqlite3/libsqlite/sqlite3.c     const char *zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L94213'>db</a>               94213 ext/sqlite3/libsqlite/sqlite3.c        db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb), pIndex-&gt;zName</span>
<span class='curline'><a href='../S/1054.html#L94222'>db</a>               94222 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SrcListDelete(db, pName);</span>
<span class='curline'><a href='../S/1054.html#L94243'>db</a>               94243 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,      /* Connection to notify of malloc failures */</span>
<span class='curline'><a href='../S/1054.html#L94253'>db</a>               94253 ext/sqlite3/libsqlite/sqlite3.c     void *pNew = sqlite3DbRealloc(db, pArray, sz*szEntry);</span>
<span class='curline'><a href='../S/1054.html#L94273'>db</a>               94273 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE IdList *sqlite3IdListAppend(sqlite3 *db, IdList *pList, Token *pToken){</span>
<span class='curline'><a href='../S/1054.html#L94276'>db</a>               94276 ext/sqlite3/libsqlite/sqlite3.c     pList = sqlite3DbMallocZero(db, sizeof(IdList) );</span>
<span class='curline'><a href='../S/1054.html#L94280'>db</a>               94280 ext/sqlite3/libsqlite/sqlite3.c       db,</span>
<span class='curline'><a href='../S/1054.html#L94287'>db</a>               94287 ext/sqlite3/libsqlite/sqlite3.c     sqlite3IdListDelete(db, pList);</span>
<span class='curline'><a href='../S/1054.html#L94290'>db</a>               94290 ext/sqlite3/libsqlite/sqlite3.c   pList-&gt;a[i].zName = sqlite3NameFromToken(db, pToken);</span>
<span class='curline'><a href='../S/1054.html#L94297'>db</a>               94297 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3IdListDelete(sqlite3 *db, IdList *pList){</span>
<span class='curline'><a href='../S/1054.html#L94301'>db</a>               94301 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pList-&gt;a[i].zName);</span>
<span class='curline'><a href='../S/1054.html#L94303'>db</a>               94303 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pList-&gt;a);</span>
<span class='curline'><a href='../S/1054.html#L94304'>db</a>               94304 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pList);</span>
<span class='curline'><a href='../S/1054.html#L94340'>db</a>               94340 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,       /* Database connection to notify of OOM errors */</span>
<span class='curline'><a href='../S/1054.html#L94358'>db</a>               94358 ext/sqlite3/libsqlite/sqlite3.c     pNew = sqlite3DbRealloc(db, pSrc,</span>
<span class='curline'><a href='../S/1054.html#L94361'>db</a>               94361 ext/sqlite3/libsqlite/sqlite3.c       assert( db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L94365'>db</a>               94365 ext/sqlite3/libsqlite/sqlite3.c     nGot = (sqlite3DbMallocSize(db, pNew) - sizeof(*pSrc))/sizeof(pSrc-&gt;a[0])+1;</span>
<span class='curline'><a href='../S/1054.html#L94422'>db</a>               94422 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,        /* Connection to notify of malloc failures */</span>
<span class='curline'><a href='../S/1054.html#L94430'>db</a>               94430 ext/sqlite3/libsqlite/sqlite3.c     pList = sqlite3DbMallocZero(db, sizeof(SrcList) );</span>
<span class='curline'><a href='../S/1054.html#L94434'>db</a>               94434 ext/sqlite3/libsqlite/sqlite3.c   pList = sqlite3SrcListEnlarge(db, pList, 1, pList-&gt;nSrc);</span>
<span class='curline'><a href='../S/1054.html#L94435'>db</a>               94435 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L94436'>db</a>               94436 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SrcListDelete(db, pList);</span>
<span class='curline'><a href='../S/1054.html#L94448'>db</a>               94448 ext/sqlite3/libsqlite/sqlite3.c   pItem-&gt;zName = sqlite3NameFromToken(db, pTable);</span>
<span class='curline'><a href='../S/1054.html#L94449'>db</a>               94449 ext/sqlite3/libsqlite/sqlite3.c   pItem-&gt;zDatabase = sqlite3NameFromToken(db, pDatabase);</span>
<span class='curline'><a href='../S/1054.html#L94459'>db</a>               94459 ext/sqlite3/libsqlite/sqlite3.c   assert(pList || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L94474'>db</a>               94474 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3SrcListDelete(sqlite3 *db, SrcList *pList){</span>
<span class='curline'><a href='../S/1054.html#L94479'>db</a>               94479 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zDatabase);</span>
<span class='curline'><a href='../S/1054.html#L94480'>db</a>               94480 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L94481'>db</a>               94481 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zAlias);</span>
<span class='curline'><a href='../S/1054.html#L94482'>db</a>               94482 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zIndex);</span>
<span class='curline'><a href='../S/1054.html#L94483'>db</a>               94483 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DeleteTable(db, pItem-&gt;pTab);</span>
<span class='curline'><a href='../S/1054.html#L94484'>db</a>               94484 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(db, pItem-&gt;pSelect);</span>
<span class='curline'><a href='../S/1054.html#L94485'>db</a>               94485 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, pItem-&gt;pOn);</span>
<span class='curline'><a href='../S/1054.html#L94486'>db</a>               94486 ext/sqlite3/libsqlite/sqlite3.c     sqlite3IdListDelete(db, pItem-&gt;pUsing);</span>
<span class='curline'><a href='../S/1054.html#L94488'>db</a>               94488 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pList);</span>
<span class='curline'><a href='../S/1054.html#L94518'>db</a>               94518 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L94525'>db</a>               94525 ext/sqlite3/libsqlite/sqlite3.c   p = sqlite3SrcListAppend(db, p, pTable, pDatabase);</span>
<span class='curline'><a href='../S/1054.html#L94532'>db</a>               94532 ext/sqlite3/libsqlite/sqlite3.c     pItem-&gt;zAlias = sqlite3NameFromToken(db, pAlias);</span>
<span class='curline'><a href='../S/1054.html#L94541'>db</a>               94541 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pOn);</span>
<span class='curline'><a href='../S/1054.html#L94542'>db</a>               94542 ext/sqlite3/libsqlite/sqlite3.c   sqlite3IdListDelete(db, pUsing);</span>
<span class='curline'><a href='../S/1054.html#L94543'>db</a>               94543 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(db, pSubquery);</span>
<span class='curline'><a href='../S/1054.html#L94561'>db</a>               94561 ext/sqlite3/libsqlite/sqlite3.c       pItem-&gt;zIndex = sqlite3NameFromToken(pParse-&gt;db, pIndexedBy);</span>
<span class='curline'><a href='../S/1054.html#L94595'>db</a>               94595 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L94600'>db</a>               94600 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L94601'>db</a>               94601 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L94609'>db</a>               94609 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L94624'>db</a>               94624 ext/sqlite3/libsqlite/sqlite3.c   assert( pParse-&gt;db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L94641'>db</a>               94641 ext/sqlite3/libsqlite/sqlite3.c   assert( pParse-&gt;db!=0 );</span>
<span class='curline'><a href='../S/1054.html#L94656'>db</a>               94656 ext/sqlite3/libsqlite/sqlite3.c   char *zName = sqlite3NameFromToken(pParse-&gt;db, pName);</span>
<span class='curline'><a href='../S/1054.html#L94664'>db</a>               94664 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(pParse-&gt;db, zName);</span>
<span class='curline'><a href='../S/1054.html#L94676'>db</a>               94676 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L94677'>db</a>               94677 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;aDb[1].pBt==0 &amp;&amp; !pParse-&gt;explain ){</span>
<span class='curline'><a href='../S/1054.html#L94687'>db</a>               94687 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3BtreeOpen(db-&gt;pVfs, 0, db, &amp;pBt, 0, flags);</span>
<span class='curline'><a href='../S/1054.html#L94694'>db</a>               94694 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;aDb[1].pBt = pBt;</span>
<span class='curline'><a href='../S/1054.html#L94695'>db</a>               94695 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;aDb[1].pSchema );</span>
<span class='curline'><a href='../S/1054.html#L94696'>db</a>               94696 ext/sqlite3/libsqlite/sqlite3.c     if( SQLITE_NOMEM==sqlite3BtreeSetPageSize(pBt, db-&gt;nextPagesize, -1, 0) ){</span>
<span class='curline'><a href='../S/1054.html#L94697'>db</a>               94697 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L94712'>db</a>               94712 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pToplevel-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L94714'>db</a>               94714 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L94715'>db</a>               94715 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;aDb[iDb].pBt!=0 || iDb==1 );</span>
<span class='curline'><a href='../S/1054.html#L94717'>db</a>               94717 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L94720'>db</a>               94720 ext/sqlite3/libsqlite/sqlite3.c     pToplevel-&gt;cookieValue[iDb] = db-&gt;aDb[iDb].pSchema-&gt;schema_cookie;</span>
<span class='curline'><a href='../S/1054.html#L94732'>db</a>               94732 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L94734'>db</a>               94734 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L94735'>db</a>               94735 ext/sqlite3/libsqlite/sqlite3.c     Db *pDb = &amp;db-&gt;aDb[i];</span>
<span class='curline'><a href='../S/1054.html#L94830'>db</a>               94830 ext/sqlite3/libsqlite/sqlite3.c   sqlite3StrAccumInit(&amp;errMsg, pParse-&gt;db, 0, 0, 200);</span>
<span class='curline'><a href='../S/1054.html#L94857'>db</a>               94857 ext/sqlite3/libsqlite/sqlite3.c     zMsg = sqlite3MPrintf(pParse-&gt;db, "%s.%s", pTab-&gt;zName,</span>
<span class='curline'><a href='../S/1054.html#L94861'>db</a>               94861 ext/sqlite3/libsqlite/sqlite3.c     zMsg = sqlite3MPrintf(pParse-&gt;db, "%s.rowid", pTab-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L94897'>db</a>               94897 ext/sqlite3/libsqlite/sqlite3.c       int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L94914'>db</a>               94914 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;   /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L94918'>db</a>               94918 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );  /* Needed for schema access */</span>
<span class='curline'><a href='../S/1054.html#L94919'>db</a>               94919 ext/sqlite3/libsqlite/sqlite3.c   for(iDb=0, pDb=db-&gt;aDb; iDb&lt;db-&gt;nDb; iDb++, pDb++){</span>
<span class='curline'><a href='../S/1054.html#L94950'>db</a>               94950 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;   /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L94965'>db</a>               94965 ext/sqlite3/libsqlite/sqlite3.c     zColl = sqlite3NameFromToken(pParse-&gt;db, pName1);</span>
<span class='curline'><a href='../S/1054.html#L94967'>db</a>               94967 ext/sqlite3/libsqlite/sqlite3.c     pColl = sqlite3FindCollSeq(db, ENC(db), zColl, 0);</span>
<span class='curline'><a href='../S/1054.html#L94970'>db</a>               94970 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zColl);</span>
<span class='curline'><a href='../S/1054.html#L94973'>db</a>               94973 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zColl);</span>
<span class='curline'><a href='../S/1054.html#L94977'>db</a>               94977 ext/sqlite3/libsqlite/sqlite3.c   z = sqlite3NameFromToken(db, pObjName);</span>
<span class='curline'><a href='../S/1054.html#L94979'>db</a>               94979 ext/sqlite3/libsqlite/sqlite3.c   zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L94980'>db</a>               94980 ext/sqlite3/libsqlite/sqlite3.c   pTab = sqlite3FindTable(db, z, zDb);</span>
<span class='curline'><a href='../S/1054.html#L94983'>db</a>               94983 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/1054.html#L94986'>db</a>               94986 ext/sqlite3/libsqlite/sqlite3.c   pIndex = sqlite3FindIndex(db, z, zDb);</span>
<span class='curline'><a href='../S/1054.html#L94987'>db</a>               94987 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/1054.html#L95014'>db</a>               95014 ext/sqlite3/libsqlite/sqlite3.c     pKey = sqlite3KeyInfoAlloc(pParse-&gt;db, nKey, nCol-nKey);</span>
<span class='curline'><a href='../S/1054.html#L95016'>db</a>               95016 ext/sqlite3/libsqlite/sqlite3.c     pKey = sqlite3KeyInfoAlloc(pParse-&gt;db, nCol, 0);</span>
<span class='curline'><a href='../S/1054.html#L95047'>db</a>               95047 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L95053'>db</a>               95053 ext/sqlite3/libsqlite/sqlite3.c   zName = sqlite3NameFromToken(pParse-&gt;db, pName);</span>
<span class='curline'><a href='../S/1054.html#L95065'>db</a>               95065 ext/sqlite3/libsqlite/sqlite3.c     pNew = sqlite3DbRealloc(db, pWith, nByte);</span>
<span class='curline'><a href='../S/1054.html#L95067'>db</a>               95067 ext/sqlite3/libsqlite/sqlite3.c     pNew = sqlite3DbMallocZero(db, sizeof(*pWith));</span>
<span class='curline'><a href='../S/1054.html#L95070'>db</a>               95070 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;mallocFailed==0 || pNew==0 );</span>
<span class='curline'><a href='../S/1054.html#L95073'>db</a>               95073 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(db, pArglist);</span>
<span class='curline'><a href='../S/1054.html#L95074'>db</a>               95074 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(db, pQuery);</span>
<span class='curline'><a href='../S/1054.html#L95075'>db</a>               95075 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L95091'>db</a>               95091 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3WithDelete(sqlite3 *db, With *pWith){</span>
<span class='curline'><a href='../S/1054.html#L95096'>db</a>               95096 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprListDelete(db, pCte-&gt;pCols);</span>
<span class='curline'><a href='../S/1054.html#L95097'>db</a>               95097 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SelectDelete(db, pCte-&gt;pSelect);</span>
<span class='curline'><a href='../S/1054.html#L95098'>db</a>               95098 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pCte-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L95100'>db</a>               95100 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pWith);</span>
<span class='curline'><a href='../S/1054.html#L95128'>db</a>               95128 ext/sqlite3/libsqlite/sqlite3.c static void callCollNeeded(sqlite3 *db, int enc, const char *zName){</span>
<span class='curline'><a href='../S/1054.html#L95129'>db</a>               95129 ext/sqlite3/libsqlite/sqlite3.c   assert( !db-&gt;xCollNeeded || !db-&gt;xCollNeeded16 );</span>
<span class='curline'><a href='../S/1054.html#L95130'>db</a>               95130 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;xCollNeeded ){</span>
<span class='curline'><a href='../S/1054.html#L95131'>db</a>               95131 ext/sqlite3/libsqlite/sqlite3.c     char *zExternal = sqlite3DbStrDup(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L95133'>db</a>               95133 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;xCollNeeded(db-&gt;pCollNeededArg, db, enc, zExternal);</span>
<span class='curline'><a href='../S/1054.html#L95134'>db</a>               95134 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zExternal);</span>
<span class='curline'><a href='../S/1054.html#L95137'>db</a>               95137 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;xCollNeeded16 ){</span>
<span class='curline'><a href='../S/1054.html#L95139'>db</a>               95139 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_value *pTmp = sqlite3ValueNew(db);</span>
<span class='curline'><a href='../S/1054.html#L95143'>db</a>               95143 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;xCollNeeded16(db-&gt;pCollNeededArg, db, (int)ENC(db), zExternal);</span>
<span class='curline'><a href='../S/1054.html#L95157'>db</a>               95157 ext/sqlite3/libsqlite/sqlite3.c static int synthCollSeq(sqlite3 *db, CollSeq *pColl){</span>
<span class='curline'><a href='../S/1054.html#L95163'>db</a>               95163 ext/sqlite3/libsqlite/sqlite3.c     pColl2 = sqlite3FindCollSeq(db, aEnc[i], z, 0);</span>
<span class='curline'><a href='../S/1054.html#L95194'>db</a>               95194 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L95198'>db</a>               95198 ext/sqlite3/libsqlite/sqlite3.c     p = sqlite3FindCollSeq(db, enc, zName, 0);</span>
<span class='curline'><a href='../S/1054.html#L95204'>db</a>               95204 ext/sqlite3/libsqlite/sqlite3.c     callCollNeeded(db, enc, zName);</span>
<span class='curline'><a href='../S/1054.html#L95205'>db</a>               95205 ext/sqlite3/libsqlite/sqlite3.c     p = sqlite3FindCollSeq(db, enc, zName, 0);</span>
<span class='curline'><a href='../S/1054.html#L95207'>db</a>               95207 ext/sqlite3/libsqlite/sqlite3.c   if( p &amp;&amp; !p-&gt;xCmp &amp;&amp; synthCollSeq(db, p) ){</span>
<span class='curline'><a href='../S/1054.html#L95231'>db</a>               95231 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L95232'>db</a>               95232 ext/sqlite3/libsqlite/sqlite3.c     CollSeq *p = sqlite3GetCollSeq(pParse, ENC(db), pColl, zName);</span>
<span class='curline'><a href='../S/1054.html#L95257'>db</a>               95257 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,          /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L95262'>db</a>               95262 ext/sqlite3/libsqlite/sqlite3.c   pColl = sqlite3HashFind(&amp;db-&gt;aCollSeq, zName);</span>
<span class='curline'><a href='../S/1054.html#L95266'>db</a>               95266 ext/sqlite3/libsqlite/sqlite3.c     pColl = sqlite3DbMallocZero(db, 3*sizeof(*pColl) + nName + 1);</span>
<span class='curline'><a href='../S/1054.html#L95277'>db</a>               95277 ext/sqlite3/libsqlite/sqlite3.c       pDel = sqlite3HashInsert(&amp;db-&gt;aCollSeq, pColl[0].zName, pColl);</span>
<span class='curline'><a href='../S/1054.html#L95285'>db</a>               95285 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L95286'>db</a>               95286 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, pDel);</span>
<span class='curline'><a href='../S/1054.html#L95310'>db</a>               95310 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L95317'>db</a>               95317 ext/sqlite3/libsqlite/sqlite3.c     pColl = findCollSeqEntry(db, zName, create);</span>
<span class='curline'><a href='../S/1054.html#L95319'>db</a>               95319 ext/sqlite3/libsqlite/sqlite3.c     pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/1054.html#L95451'>db</a>               95451 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,       /* An open database */</span>
<span class='curline'><a href='../S/1054.html#L95465'>db</a>               95465 ext/sqlite3/libsqlite/sqlite3.c   h = (sqlite3UpperToLower[(u8)zName[0]] + nName) % ArraySize(db-&gt;aFunc.a);</span>
<span class='curline'><a href='../S/1054.html#L95469'>db</a>               95469 ext/sqlite3/libsqlite/sqlite3.c   p = functionSearch(&amp;db-&gt;aFunc, h, zName, nName);</span>
<span class='curline'><a href='../S/1054.html#L95491'>db</a>               95491 ext/sqlite3/libsqlite/sqlite3.c   if( !createFlag &amp;&amp; (pBest==0 || (db-&gt;flags &amp; SQLITE_PreferBuiltin)!=0) ){</span>
<span class='curline'><a href='../S/1054.html#L95510'>db</a>               95510 ext/sqlite3/libsqlite/sqlite3.c       (pBest = sqlite3DbMallocZero(db, sizeof(*pBest)+nName+1))!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L95516'>db</a>               95516 ext/sqlite3/libsqlite/sqlite3.c     sqlite3FuncDefInsert(&amp;db-&gt;aFunc, pBest);</span>
<span class='curline'><a href='../S/1054.html#L95565'>db</a>               95565 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE Schema *sqlite3SchemaGet(sqlite3 *db, Btree *pBt){</span>
<span class='curline'><a href='../S/1054.html#L95573'>db</a>               95573 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L95620'>db</a>               95620 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DeleteTable(pParse-&gt;db, pItem-&gt;pTab);</span>
<span class='curline'><a href='../S/1054.html#L95648'>db</a>               95648 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; sqlite3GetVTable(pParse-&gt;db, pTab)-&gt;pMod-&gt;pModule-&gt;xUpdate==0 )</span>
<span class='curline'><a href='../S/1054.html#L95650'>db</a>               95650 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; (pParse-&gt;db-&gt;flags &amp; SQLITE_WriteSchema)==0</span>
<span class='curline'><a href='../S/1054.html#L95682'>db</a>               95682 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L95683'>db</a>               95683 ext/sqlite3/libsqlite/sqlite3.c   int iDb = sqlite3SchemaToIndex(db, pView-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L95684'>db</a>               95684 ext/sqlite3/libsqlite/sqlite3.c   pWhere = sqlite3ExprDup(db, pWhere, 0);</span>
<span class='curline'><a href='../S/1054.html#L95685'>db</a>               95685 ext/sqlite3/libsqlite/sqlite3.c   pFrom = sqlite3SrcListAppend(db, 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L95688'>db</a>               95688 ext/sqlite3/libsqlite/sqlite3.c     pFrom-&gt;a[0].zName = sqlite3DbStrDup(db, pView-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L95689'>db</a>               95689 ext/sqlite3/libsqlite/sqlite3.c     pFrom-&gt;a[0].zDatabase = sqlite3DbStrDup(db, db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/1054.html#L95696'>db</a>               95696 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(db, pSel);</span>
<span class='curline'><a href='../S/1054.html#L95757'>db</a>               95757 ext/sqlite3/libsqlite/sqlite3.c   pSelectSrc = sqlite3SrcListDup(pParse-&gt;db, pSrc, 0);</span>
<span class='curline'><a href='../S/1054.html#L95759'>db</a>               95759 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(pParse-&gt;db, pEList);</span>
<span class='curline'><a href='../S/1054.html#L95781'>db</a>               95781 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(pParse-&gt;db, pSelect);</span>
<span class='curline'><a href='../S/1054.html#L95785'>db</a>               95785 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(pParse-&gt;db, pWhere);</span>
<span class='curline'><a href='../S/1054.html#L95786'>db</a>               95786 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprListDelete(pParse-&gt;db, pOrderBy);</span>
<span class='curline'><a href='../S/1054.html#L95787'>db</a>               95787 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(pParse-&gt;db, pLimit);</span>
<span class='curline'><a href='../S/1054.html#L95788'>db</a>               95788 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(pParse-&gt;db, pOffset);</span>
<span class='curline'><a href='../S/1054.html#L95816'>db</a>               95816 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;           /* Main database structure */</span>
<span class='curline'><a href='../S/1054.html#L95843'>db</a>               95843 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L95844'>db</a>               95844 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L95881'>db</a>               95881 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L95882'>db</a>               95882 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L95883'>db</a>               95883 ext/sqlite3/libsqlite/sqlite3.c   zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L95936'>db</a>               95936 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;flags &amp; SQLITE_CountRows ){</span>
<span class='curline'><a href='../S/1054.html#L95991'>db</a>               95991 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;flags &amp; SQLITE_CountRows ){</span>
<span class='curline'><a href='../S/1054.html#L96014'>db</a>               96014 ext/sqlite3/libsqlite/sqlite3.c       aToOpen = sqlite3DbMallocRaw(db, nIdx+2);</span>
<span class='curline'><a href='../S/1054.html#L96085'>db</a>               96085 ext/sqlite3/libsqlite/sqlite3.c       const char *pVTab = (const char *)sqlite3GetVTable(db, pTab);</span>
<span class='curline'><a href='../S/1054.html#L96130'>db</a>               96130 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_CountRows) &amp;&amp; !pParse-&gt;nested &amp;&amp; !pParse-&gt;pTriggerTab ){</span>
<span class='curline'><a href='../S/1054.html#L96138'>db</a>               96138 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SrcListDelete(db, pTabList);</span>
<span class='curline'><a href='../S/1054.html#L96139'>db</a>               96139 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/1054.html#L96140'>db</a>               96140 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, aToOpen);</span>
<span class='curline'><a href='../S/1054.html#L96659'>db</a>               96659 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L96665'>db</a>               96665 ext/sqlite3/libsqlite/sqlite3.c     sqlite3StrAccumInit(&amp;str, db, 0, 0, db-&gt;aLimit[SQLITE_LIMIT_LENGTH]);</span>
<span class='curline'><a href='../S/1054.html#L96823'>db</a>               96823 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L96825'>db</a>               96825 ext/sqlite3/libsqlite/sqlite3.c   testcase( nByte==db-&gt;aLimit[SQLITE_LIMIT_LENGTH] );</span>
<span class='curline'><a href='../S/1054.html#L96826'>db</a>               96826 ext/sqlite3/libsqlite/sqlite3.c   testcase( nByte==db-&gt;aLimit[SQLITE_LIMIT_LENGTH]+1 );</span>
<span class='curline'><a href='../S/1054.html#L96827'>db</a>               96827 ext/sqlite3/libsqlite/sqlite3.c   if( nByte&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/1054.html#L96949'>db</a>               96949 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L96954'>db</a>               96954 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_result_int64(context, sqlite3_last_insert_rowid(db));</span>
<span class='curline'><a href='../S/1054.html#L96969'>db</a>               96969 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L96971'>db</a>               96971 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_result_int(context, sqlite3_changes(db));</span>
<span class='curline'><a href='../S/1054.html#L96983'>db</a>               96983 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L96987'>db</a>               96987 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_result_int(context, sqlite3_total_changes(db));</span>
<span class='curline'><a href='../S/1054.html#L97223'>db</a>               97223 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L97232'>db</a>               97232 ext/sqlite3/libsqlite/sqlite3.c   testcase( nPat==db-&gt;aLimit[SQLITE_LIMIT_LIKE_PATTERN_LENGTH] );</span>
<span class='curline'><a href='../S/1054.html#L97233'>db</a>               97233 ext/sqlite3/libsqlite/sqlite3.c   testcase( nPat==db-&gt;aLimit[SQLITE_LIMIT_LIKE_PATTERN_LENGTH]+1 );</span>
<span class='curline'><a href='../S/1054.html#L97234'>db</a>               97234 ext/sqlite3/libsqlite/sqlite3.c   if( nPat &gt; db-&gt;aLimit[SQLITE_LIMIT_LIKE_PATTERN_LENGTH] ){</span>
<span class='curline'><a href='../S/1054.html#L97552'>db</a>               97552 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L97556'>db</a>               97556 ext/sqlite3/libsqlite/sqlite3.c   testcase( n==db-&gt;aLimit[SQLITE_LIMIT_LENGTH] );</span>
<span class='curline'><a href='../S/1054.html#L97557'>db</a>               97557 ext/sqlite3/libsqlite/sqlite3.c   testcase( n==db-&gt;aLimit[SQLITE_LIMIT_LENGTH]+1 );</span>
<span class='curline'><a href='../S/1054.html#L97558'>db</a>               97558 ext/sqlite3/libsqlite/sqlite3.c   if( n&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/1054.html#L97622'>db</a>               97622 ext/sqlite3/libsqlite/sqlite3.c       sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L97624'>db</a>               97624 ext/sqlite3/libsqlite/sqlite3.c       testcase( nOut-1==db-&gt;aLimit[SQLITE_LIMIT_LENGTH] );</span>
<span class='curline'><a href='../S/1054.html#L97625'>db</a>               97625 ext/sqlite3/libsqlite/sqlite3.c       testcase( nOut-2==db-&gt;aLimit[SQLITE_LIMIT_LENGTH] );</span>
<span class='curline'><a href='../S/1054.html#L97626'>db</a>               97626 ext/sqlite3/libsqlite/sqlite3.c       if( nOut-1&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/1054.html#L97803'>db</a>               97803 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L97811'>db</a>               97811 ext/sqlite3/libsqlite/sqlite3.c   if( zFile &amp;&amp; sqlite3_load_extension(db, zFile, zProc, &amp;zErrMsg) ){</span>
<span class='curline'><a href='../S/1054.html#L97961'>db</a>               97961 ext/sqlite3/libsqlite/sqlite3.c     pBest-&gt;db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L97993'>db</a>               97993 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L97995'>db</a>               97995 ext/sqlite3/libsqlite/sqlite3.c     pAccum-&gt;mxAlloc = db-&gt;aLimit[SQLITE_LIMIT_LENGTH];</span>
<span class='curline'><a href='../S/1054.html#L98031'>db</a>               98031 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3RegisterBuiltinFunctions(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L98032'>db</a>               98032 ext/sqlite3/libsqlite/sqlite3.c   int rc = sqlite3_overload_function(db, "MATCH", 2);</span>
<span class='curline'><a href='../S/1054.html#L98035'>db</a>               98035 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L98042'>db</a>               98042 ext/sqlite3/libsqlite/sqlite3.c static void setLikeOptFlag(sqlite3 *db, const char *zName, u8 flagVal){</span>
<span class='curline'><a href='../S/1054.html#L98044'>db</a>               98044 ext/sqlite3/libsqlite/sqlite3.c   pDef = sqlite3FindFunction(db, zName, sqlite3Strlen30(zName),</span>
<span class='curline'><a href='../S/1054.html#L98056'>db</a>               98056 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3RegisterLikeFunctions(sqlite3 *db, int caseSensitive){</span>
<span class='curline'><a href='../S/1054.html#L98063'>db</a>               98063 ext/sqlite3/libsqlite/sqlite3.c   sqlite3CreateFunc(db, "like", 2, SQLITE_UTF8, pInfo, likeFunc, 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L98064'>db</a>               98064 ext/sqlite3/libsqlite/sqlite3.c   sqlite3CreateFunc(db, "like", 3, SQLITE_UTF8, pInfo, likeFunc, 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L98065'>db</a>               98065 ext/sqlite3/libsqlite/sqlite3.c   sqlite3CreateFunc(db, "glob", 2, SQLITE_UTF8, </span>
<span class='curline'><a href='../S/1054.html#L98067'>db</a>               98067 ext/sqlite3/libsqlite/sqlite3.c   setLikeOptFlag(db, "glob", SQLITE_FUNC_LIKE | SQLITE_FUNC_CASE);</span>
<span class='curline'><a href='../S/1054.html#L98068'>db</a>               98068 ext/sqlite3/libsqlite/sqlite3.c   setLikeOptFlag(db, "like", </span>
<span class='curline'><a href='../S/1054.html#L98084'>db</a>               98084 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3IsLikeFunction(sqlite3 *db, Expr *pExpr, int *pIsNocase, char *aWc){</span>
<span class='curline'><a href='../S/1054.html#L98093'>db</a>               98093 ext/sqlite3/libsqlite/sqlite3.c   pDef = sqlite3FindFunction(db, pExpr-&gt;u.zToken, </span>
<span class='curline'><a href='../S/1054.html#L98449'>db</a>               98449 ext/sqlite3/libsqlite/sqlite3.c     aiCol = (int *)sqlite3DbMallocRaw(pParse-&gt;db, nCol*sizeof(int));</span>
<span class='curline'><a href='../S/1054.html#L98511'>db</a>               98511 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(pParse-&gt;db, aiCol);</span>
<span class='curline'><a href='../S/1054.html#L98654'>db</a>               98654 ext/sqlite3/libsqlite/sqlite3.c   if( !pFKey-&gt;isDeferred &amp;&amp; !(pParse-&gt;db-&gt;flags &amp; SQLITE_DeferFKs)</span>
<span class='curline'><a href='../S/1054.html#L98694'>db</a>               98694 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L98696'>db</a>               98696 ext/sqlite3/libsqlite/sqlite3.c   pExpr = sqlite3Expr(db, TK_REGISTER, 0);</span>
<span class='curline'><a href='../S/1054.html#L98703'>db</a>               98703 ext/sqlite3/libsqlite/sqlite3.c       if( zColl==0 ) zColl = db-&gt;pDfltColl-&gt;zName;</span>
<span class='curline'><a href='../S/1054.html#L98718'>db</a>               98718 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,      /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L98723'>db</a>               98723 ext/sqlite3/libsqlite/sqlite3.c   Expr *pExpr = sqlite3Expr(db, TK_COLUMN, 0);</span>
<span class='curline'><a href='../S/1054.html#L98774'>db</a>               98774 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L98812'>db</a>               98812 ext/sqlite3/libsqlite/sqlite3.c     pRight = sqlite3Expr(db, TK_ID, zCol);</span>
<span class='curline'><a href='../S/1054.html#L98814'>db</a>               98814 ext/sqlite3/libsqlite/sqlite3.c     pWhere = sqlite3ExprAnd(db, pWhere, pEq);</span>
<span class='curline'><a href='../S/1054.html#L98834'>db</a>               98834 ext/sqlite3/libsqlite/sqlite3.c       pRight = exprTableColumn(db, pTab, pSrc-&gt;a[0].iCursor, -1);</span>
<span class='curline'><a href='../S/1054.html#L98843'>db</a>               98843 ext/sqlite3/libsqlite/sqlite3.c         pRight = exprTableColumn(db, pTab, pSrc-&gt;a[0].iCursor, iCol);</span>
<span class='curline'><a href='../S/1054.html#L98845'>db</a>               98845 ext/sqlite3/libsqlite/sqlite3.c         pAll = sqlite3ExprAnd(db, pAll, pEq);</span>
<span class='curline'><a href='../S/1054.html#L98849'>db</a>               98849 ext/sqlite3/libsqlite/sqlite3.c     pWhere = sqlite3ExprAnd(db, pWhere, pNe);</span>
<span class='curline'><a href='../S/1054.html#L98868'>db</a>               98868 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/1054.html#L98929'>db</a>               98929 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L98930'>db</a>               98930 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_ForeignKeys) &amp;&amp; !IsVirtual(pTab) &amp;&amp; !pTab-&gt;pSelect ){</span>
<span class='curline'><a href='../S/1054.html#L98943'>db</a>               98943 ext/sqlite3/libsqlite/sqlite3.c         if( p-&gt;isDeferred || (db-&gt;flags &amp; SQLITE_DeferFKs) ) break;</span>
<span class='curline'><a href='../S/1054.html#L98951'>db</a>               98951 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DeleteFrom(pParse, sqlite3SrcListDup(db, pName, 0), 0);</span>
<span class='curline'><a href='../S/1054.html#L98963'>db</a>               98963 ext/sqlite3/libsqlite/sqlite3.c     if( (db-&gt;flags &amp; SQLITE_DeferFKs)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L99086'>db</a>               99086 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L99096'>db</a>               99096 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_ForeignKeys)==0 ) return;</span>
<span class='curline'><a href='../S/1054.html#L99098'>db</a>               99098 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L99099'>db</a>               99099 ext/sqlite3/libsqlite/sqlite3.c   zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L99124'>db</a>               99124 ext/sqlite3/libsqlite/sqlite3.c       pTo = sqlite3FindTable(db, pFKey-&gt;zTo, zDb);</span>
<span class='curline'><a href='../S/1054.html#L99130'>db</a>               99130 ext/sqlite3/libsqlite/sqlite3.c       if( !isIgnoreErrors || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/1054.html#L99165'>db</a>               99165 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;xAuth ){</span>
<span class='curline'><a href='../S/1054.html#L99198'>db</a>               99198 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, aiFree);</span>
<span class='curline'><a href='../S/1054.html#L99212'>db</a>               99212 ext/sqlite3/libsqlite/sqlite3.c     if( !pFKey-&gt;isDeferred &amp;&amp; !(db-&gt;flags &amp; SQLITE_DeferFKs) </span>
<span class='curline'><a href='../S/1054.html#L99222'>db</a>               99222 ext/sqlite3/libsqlite/sqlite3.c       if( !isIgnoreErrors || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/1054.html#L99229'>db</a>               99229 ext/sqlite3/libsqlite/sqlite3.c     pSrc = sqlite3SrcListAppend(db, 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L99265'>db</a>               99265 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SrcListDelete(db, pSrc);</span>
<span class='curline'><a href='../S/1054.html#L99267'>db</a>               99267 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, aiCol);</span>
<span class='curline'><a href='../S/1054.html#L99282'>db</a>               99282 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/1054.html#L99320'>db</a>               99320 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/1054.html#L99380'>db</a>               99380 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L99427'>db</a>               99427 ext/sqlite3/libsqlite/sqlite3.c             sqlite3ExprAlloc(db, TK_ID, &amp;tOld, 0),</span>
<span class='curline'><a href='../S/1054.html#L99428'>db</a>               99428 ext/sqlite3/libsqlite/sqlite3.c             sqlite3ExprAlloc(db, TK_ID, &amp;tToCol, 0)</span>
<span class='curline'><a href='../S/1054.html#L99430'>db</a>               99430 ext/sqlite3/libsqlite/sqlite3.c           sqlite3ExprAlloc(db, TK_ID, &amp;tFromCol, 0)</span>
<span class='curline'><a href='../S/1054.html#L99432'>db</a>               99432 ext/sqlite3/libsqlite/sqlite3.c       pWhere = sqlite3ExprAnd(db, pWhere, pEq);</span>
<span class='curline'><a href='../S/1054.html#L99442'>db</a>               99442 ext/sqlite3/libsqlite/sqlite3.c               sqlite3ExprAlloc(db, TK_ID, &amp;tOld, 0),</span>
<span class='curline'><a href='../S/1054.html#L99443'>db</a>               99443 ext/sqlite3/libsqlite/sqlite3.c               sqlite3ExprAlloc(db, TK_ID, &amp;tToCol, 0),</span>
<span class='curline'><a href='../S/1054.html#L99446'>db</a>               99446 ext/sqlite3/libsqlite/sqlite3.c               sqlite3ExprAlloc(db, TK_ID, &amp;tNew, 0),</span>
<span class='curline'><a href='../S/1054.html#L99447'>db</a>               99447 ext/sqlite3/libsqlite/sqlite3.c               sqlite3ExprAlloc(db, TK_ID, &amp;tToCol, 0),</span>
<span class='curline'><a href='../S/1054.html#L99450'>db</a>               99450 ext/sqlite3/libsqlite/sqlite3.c         pWhen = sqlite3ExprAnd(db, pWhen, pEq);</span>
<span class='curline'><a href='../S/1054.html#L99457'>db</a>               99457 ext/sqlite3/libsqlite/sqlite3.c             sqlite3ExprAlloc(db, TK_ID, &amp;tNew, 0),</span>
<span class='curline'><a href='../S/1054.html#L99458'>db</a>               99458 ext/sqlite3/libsqlite/sqlite3.c             sqlite3ExprAlloc(db, TK_ID, &amp;tToCol, 0)</span>
<span class='curline'><a href='../S/1054.html#L99463'>db</a>               99463 ext/sqlite3/libsqlite/sqlite3.c             pNew = sqlite3ExprDup(db, pDflt, 0);</span>
<span class='curline'><a href='../S/1054.html#L99474'>db</a>               99474 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, aiCol);</span>
<span class='curline'><a href='../S/1054.html#L99485'>db</a>               99485 ext/sqlite3/libsqlite/sqlite3.c       pRaise = sqlite3Expr(db, TK_RAISE, "FOREIGN KEY constraint failed");</span>
<span class='curline'><a href='../S/1054.html#L99491'>db</a>               99491 ext/sqlite3/libsqlite/sqlite3.c           sqlite3SrcListAppend(db, 0, &amp;tFrom, 0),</span>
<span class='curline'><a href='../S/1054.html#L99499'>db</a>               99499 ext/sqlite3/libsqlite/sqlite3.c     enableLookaside = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/1054.html#L99500'>db</a>               99500 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/1054.html#L99502'>db</a>               99502 ext/sqlite3/libsqlite/sqlite3.c     pTrigger = (Trigger *)sqlite3DbMallocZero(db, </span>
<span class='curline'><a href='../S/1054.html#L99512'>db</a>               99512 ext/sqlite3/libsqlite/sqlite3.c       pStep-&gt;pWhere = sqlite3ExprDup(db, pWhere, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/1054.html#L99513'>db</a>               99513 ext/sqlite3/libsqlite/sqlite3.c       pStep-&gt;pExprList = sqlite3ExprListDup(db, pList, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/1054.html#L99514'>db</a>               99514 ext/sqlite3/libsqlite/sqlite3.c       pStep-&gt;pSelect = sqlite3SelectDup(db, pSelect, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/1054.html#L99517'>db</a>               99517 ext/sqlite3/libsqlite/sqlite3.c         pTrigger-&gt;pWhen = sqlite3ExprDup(db, pWhen, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/1054.html#L99522'>db</a>               99522 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.bEnabled = enableLookaside;</span>
<span class='curline'><a href='../S/1054.html#L99524'>db</a>               99524 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/1054.html#L99525'>db</a>               99525 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, pWhen);</span>
<span class='curline'><a href='../S/1054.html#L99526'>db</a>               99526 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(db, pList);</span>
<span class='curline'><a href='../S/1054.html#L99527'>db</a>               99527 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/1054.html#L99528'>db</a>               99528 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed==1 ){</span>
<span class='curline'><a href='../S/1054.html#L99529'>db</a>               99529 ext/sqlite3/libsqlite/sqlite3.c       fkTriggerDelete(db, pTrigger);</span>
<span class='curline'><a href='../S/1054.html#L99572'>db</a>               99572 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/1054.html#L99592'>db</a>               99592 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3FkDelete(sqlite3 *db, Table *pTab){</span>
<span class='curline'><a href='../S/1054.html#L99596'>db</a>               99596 ext/sqlite3/libsqlite/sqlite3.c   assert( db==0 || sqlite3SchemaMutexHeld(db, 0, pTab-&gt;pSchema) );</span>
<span class='curline'><a href='../S/1054.html#L99600'>db</a>               99600 ext/sqlite3/libsqlite/sqlite3.c     if( !db || db-&gt;pnBytesFreed==0 ){</span>
<span class='curline'><a href='../S/1054.html#L99620'>db</a>               99620 ext/sqlite3/libsqlite/sqlite3.c     fkTriggerDelete(db, pFKey-&gt;apTrigger[0]);</span>
<span class='curline'><a href='../S/1054.html#L99621'>db</a>               99621 ext/sqlite3/libsqlite/sqlite3.c     fkTriggerDelete(db, pFKey-&gt;apTrigger[1]);</span>
<span class='curline'><a href='../S/1054.html#L99625'>db</a>               99625 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pFKey);</span>
<span class='curline'><a href='../S/1054.html#L99714'>db</a>               99714 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = sqlite3VdbeDb(v);</span>
<span class='curline'><a href='../S/1054.html#L99717'>db</a>               99717 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L99754'>db</a>               99754 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = sqlite3VdbeDb(v);</span>
<span class='curline'><a href='../S/1054.html#L99757'>db</a>               99757 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L99790'>db</a>               99790 ext/sqlite3/libsqlite/sqlite3.c   VTable *pVTab = IsVirtual(pTab) ? sqlite3GetVTable(p-&gt;db, pTab) : 0;</span>
<span class='curline'><a href='../S/1054.html#L99853'>db</a>               99853 ext/sqlite3/libsqlite/sqlite3.c       pInfo = sqlite3DbMallocRaw(pParse-&gt;db, sizeof(*pInfo));</span>
<span class='curline'><a href='../S/1054.html#L99874'>db</a>               99874 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;  /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L99887'>db</a>               99887 ext/sqlite3/libsqlite/sqlite3.c     pDb = &amp;db-&gt;aDb[p-&gt;iDb];</span>
<span class='curline'><a href='../S/1054.html#L99889'>db</a>               99889 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pDb-&gt;pSchema) );</span>
<span class='curline'><a href='../S/1054.html#L99931'>db</a>               99931 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L99935'>db</a>               99935 ext/sqlite3/libsqlite/sqlite3.c     Db *pDb = &amp;db-&gt;aDb[p-&gt;iDb];</span>
<span class='curline'><a href='../S/1054.html#L99941'>db</a>               99941 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pDb-&gt;pSchema) );</span>
<span class='curline'><a href='../S/1054.html#L100076'>db</a>               100076 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;          /* The main database structure */</span>
<span class='curline'><a href='../S/1054.html#L100116'>db</a>               100116 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L100118'>db</a>               100118 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L100129'>db</a>               100129 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/1054.html#L100142'>db</a>               100142 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L100143'>db</a>               100143 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L100144'>db</a>               100144 ext/sqlite3/libsqlite/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/1054.html#L100282'>db</a>               100282 ext/sqlite3/libsqlite/sqlite3.c     if( rc || db-&gt;mallocFailed || pParse-&gt;nErr ) goto insert_cleanup;</span>
<span class='curline'><a href='../S/1054.html#L100375'>db</a>               100375 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;flags &amp; SQLITE_CountRows ){</span>
<span class='curline'><a href='../S/1054.html#L100385'>db</a>               100385 ext/sqlite3/libsqlite/sqlite3.c     aRegIdx = sqlite3DbMallocRaw(db, sizeof(int)*(nIdx+1));</span>
<span class='curline'><a href='../S/1054.html#L100584'>db</a>               100584 ext/sqlite3/libsqlite/sqlite3.c       const char *pVTab = (const char *)sqlite3GetVTable(db, pTab);</span>
<span class='curline'><a href='../S/1054.html#L100604'>db</a>               100604 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_CountRows)!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L100649'>db</a>               100649 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_CountRows) &amp;&amp; !pParse-&gt;nested &amp;&amp; !pParse-&gt;pTriggerTab ){</span>
<span class='curline'><a href='../S/1054.html#L100656'>db</a>               100656 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SrcListDelete(db, pTabList);</span>
<span class='curline'><a href='../S/1054.html#L100657'>db</a>               100657 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprListDelete(db, pList);</span>
<span class='curline'><a href='../S/1054.html#L100658'>db</a>               100658 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/1054.html#L100659'>db</a>               100659 ext/sqlite3/libsqlite/sqlite3.c   sqlite3IdListDelete(db, pColumn);</span>
<span class='curline'><a href='../S/1054.html#L100660'>db</a>               100660 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, aRegIdx);</span>
<span class='curline'><a href='../S/1054.html#L100775'>db</a>               100775 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;         /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L100790'>db</a>               100790 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L100836'>db</a>               100836 ext/sqlite3/libsqlite/sqlite3.c         char *zMsg = sqlite3MPrintf(db, "%s.%s", pTab-&gt;zName,</span>
<span class='curline'><a href='../S/1054.html#L100862'>db</a>               100862 ext/sqlite3/libsqlite/sqlite3.c   if( pTab-&gt;pCheck &amp;&amp; (db-&gt;flags &amp; SQLITE_IgnoreChecks)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L100962'>db</a>               100962 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;flags&amp;SQLITE_RecTriggers ){</span>
<span class='curline'><a href='../S/1054.html#L101138'>db</a>               101138 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;flags&amp;SQLITE_RecTriggers ){</span>
<span class='curline'><a href='../S/1054.html#L101275'>db</a>               101275 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L101402'>db</a>               101402 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L101550'>db</a>               101550 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_ForeignKeys)!=0 &amp;&amp; pDest-&gt;pFKey!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L101554'>db</a>               101554 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_CountRows)!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L101565'>db</a>               101565 ext/sqlite3/libsqlite/sqlite3.c   iDbSrc = sqlite3SchemaToIndex(db, pSrc-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L101575'>db</a>               101575 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_Vacuum)==0 &amp;&amp; (</span>
<span class='curline'><a href='../S/1054.html#L101643'>db</a>               101643 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;flags &amp; SQLITE_Vacuum ){</span>
<span class='curline'><a href='../S/1054.html#L101720'>db</a>               101720 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                /* The database on which the SQL executes */</span>
<span class='curline'><a href='../S/1054.html#L101732'>db</a>               101732 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L101735'>db</a>               101735 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L101736'>db</a>               101736 ext/sqlite3/libsqlite/sqlite3.c   sqlite3Error(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/1054.html#L101742'>db</a>               101742 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_prepare_v2(db, zSql, -1, &amp;pStmt, &amp;zLeftover);</span>
<span class='curline'><a href='../S/1054.html#L101763'>db</a>               101763 ext/sqlite3/libsqlite/sqlite3.c                            &amp;&amp; db-&gt;flags&amp;SQLITE_NullCallback)) ){</span>
<span class='curline'><a href='../S/1054.html#L101765'>db</a>               101765 ext/sqlite3/libsqlite/sqlite3.c           azCols = sqlite3DbMallocZero(db, 2*nCol*sizeof(const char*) + 1);</span>
<span class='curline'><a href='../S/1054.html#L101782'>db</a>               101782 ext/sqlite3/libsqlite/sqlite3.c               db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L101794'>db</a>               101794 ext/sqlite3/libsqlite/sqlite3.c           sqlite3Error(db, SQLITE_ABORT);</span>
<span class='curline'><a href='../S/1054.html#L101808'>db</a>               101808 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, azCols);</span>
<span class='curline'><a href='../S/1054.html#L101814'>db</a>               101814 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, azCols);</span>
<span class='curline'><a href='../S/1054.html#L101816'>db</a>               101816 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L101818'>db</a>               101818 ext/sqlite3/libsqlite/sqlite3.c     int nErrMsg = 1 + sqlite3Strlen30(sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/1054.html#L101821'>db</a>               101821 ext/sqlite3/libsqlite/sqlite3.c       memcpy(*pzErrMsg, sqlite3_errmsg(db), nErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L101824'>db</a>               101824 ext/sqlite3/libsqlite/sqlite3.c       sqlite3Error(db, SQLITE_NOMEM);</span>
<span class='curline'><a href='../S/1054.html#L101830'>db</a>               101830 ext/sqlite3/libsqlite/sqlite3.c   assert( (rc&amp;db-&gt;errMask)==rc );</span>
<span class='curline'><a href='../S/1054.html#L101831'>db</a>               101831 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L101952'>db</a>               101952 ext/sqlite3/libsqlite/sqlite3.c   int  (*errcode)(sqlite3*db);</span>
<span class='curline'><a href='../S/1054.html#L102776'>db</a>               102776 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,          /* Load the extension into this database connection */</span>
<span class='curline'><a href='../S/1054.html#L102781'>db</a>               102781 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_vfs *pVfs = db-&gt;pVfs;</span>
<span class='curline'><a href='../S/1054.html#L102811'>db</a>               102811 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_LoadExtension)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L102891'>db</a>               102891 ext/sqlite3/libsqlite/sqlite3.c   if( xInit(db, &amp;zErrmsg, &amp;sqlite3Apis) ){</span>
<span class='curline'><a href='../S/1054.html#L102901'>db</a>               102901 ext/sqlite3/libsqlite/sqlite3.c   aHandle = sqlite3DbMallocZero(db, sizeof(handle)*(db-&gt;nExtension+1));</span>
<span class='curline'><a href='../S/1054.html#L102905'>db</a>               102905 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;nExtension&gt;0 ){</span>
<span class='curline'><a href='../S/1054.html#L102906'>db</a>               102906 ext/sqlite3/libsqlite/sqlite3.c     memcpy(aHandle, db-&gt;aExtension, sizeof(handle)*db-&gt;nExtension);</span>
<span class='curline'><a href='../S/1054.html#L102908'>db</a>               102908 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, db-&gt;aExtension);</span>
<span class='curline'><a href='../S/1054.html#L102909'>db</a>               102909 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aExtension = aHandle;</span>
<span class='curline'><a href='../S/1054.html#L102911'>db</a>               102911 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aExtension[db-&gt;nExtension++] = handle;</span>
<span class='curline'><a href='../S/1054.html#L102915'>db</a>               102915 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,          /* Load the extension into this database connection */</span>
<span class='curline'><a href='../S/1054.html#L102921'>db</a>               102921 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L102922'>db</a>               102922 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3LoadExtension(db, zFile, zProc, pzErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L102923'>db</a>               102923 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L102924'>db</a>               102924 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L102932'>db</a>               102932 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3CloseExtensions(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L102934'>db</a>               102934 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L102935'>db</a>               102935 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nExtension; i++){</span>
<span class='curline'><a href='../S/1054.html#L102936'>db</a>               102936 ext/sqlite3/libsqlite/sqlite3.c     sqlite3OsDlClose(db-&gt;pVfs, db-&gt;aExtension[i]);</span>
<span class='curline'><a href='../S/1054.html#L102938'>db</a>               102938 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, db-&gt;aExtension);</span>
<span class='curline'><a href='../S/1054.html#L102945'>db</a>               102945 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_enable_load_extension(sqlite3 *db, int onoff){</span>
<span class='curline'><a href='../S/1054.html#L102946'>db</a>               102946 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L102948'>db</a>               102948 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;flags |= SQLITE_LoadExtension;</span>
<span class='curline'><a href='../S/1054.html#L102950'>db</a>               102950 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;flags &amp;= ~SQLITE_LoadExtension;</span>
<span class='curline'><a href='../S/1054.html#L102952'>db</a>               102952 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L103092'>db</a>               103092 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3AutoLoadExtensions(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L103118'>db</a>               103118 ext/sqlite3/libsqlite/sqlite3.c     if( xInit &amp;&amp; (rc = xInit(db, &amp;zErrmsg, &amp;sqlite3Apis))!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L103119'>db</a>               103119 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ErrorWithMsg(db, rc,</span>
<span class='curline'><a href='../S/1054.html#L103719'>db</a>               103719 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L103720'>db</a>               103720 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;aDb[1].pBt!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L103721'>db</a>               103721 ext/sqlite3/libsqlite/sqlite3.c     if( !db-&gt;autoCommit || sqlite3BtreeIsInReadTrans(db-&gt;aDb[1].pBt) ){</span>
<span class='curline'><a href='../S/1054.html#L103726'>db</a>               103726 ext/sqlite3/libsqlite/sqlite3.c     sqlite3BtreeClose(db-&gt;aDb[1].pBt);</span>
<span class='curline'><a href='../S/1054.html#L103727'>db</a>               103727 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;aDb[1].pBt = 0;</span>
<span class='curline'><a href='../S/1054.html#L103728'>db</a>               103728 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/1054.html#L103742'>db</a>               103742 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L103743'>db</a>               103743 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;temp_store==ts ) return SQLITE_OK;</span>
<span class='curline'><a href='../S/1054.html#L103747'>db</a>               103747 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;temp_store = (u8)ts;</span>
<span class='curline'><a href='../S/1054.html#L103758'>db</a>               103758 ext/sqlite3/libsqlite/sqlite3.c   i64 *pI64 = sqlite3DbMallocRaw(pParse-&gt;db, sizeof(value));</span>
<span class='curline'><a href='../S/1054.html#L103774'>db</a>               103774 ext/sqlite3/libsqlite/sqlite3.c static void setAllPagerFlags(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L103775'>db</a>               103775 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/1054.html#L103776'>db</a>               103776 ext/sqlite3/libsqlite/sqlite3.c     Db *pDb = db-&gt;aDb;</span>
<span class='curline'><a href='../S/1054.html#L103777'>db</a>               103777 ext/sqlite3/libsqlite/sqlite3.c     int n = db-&gt;nDb;</span>
<span class='curline'><a href='../S/1054.html#L103787'>db</a>               103787 ext/sqlite3/libsqlite/sqlite3.c                  pDb-&gt;safety_level | (db-&gt;flags &amp; PAGER_FLAGS_MASK) );</span>
<span class='curline'><a href='../S/1054.html#L103871'>db</a>               103871 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;    /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L103884'>db</a>               103884 ext/sqlite3/libsqlite/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/1054.html#L103893'>db</a>               103893 ext/sqlite3/libsqlite/sqlite3.c   zLeft = sqlite3NameFromToken(db, pId);</span>
<span class='curline'><a href='../S/1054.html#L103896'>db</a>               103896 ext/sqlite3/libsqlite/sqlite3.c     zRight = sqlite3MPrintf(db, "-%T", pValue);</span>
<span class='curline'><a href='../S/1054.html#L103898'>db</a>               103898 ext/sqlite3/libsqlite/sqlite3.c     zRight = sqlite3NameFromToken(db, pValue);</span>
<span class='curline'><a href='../S/1054.html#L103926'>db</a>               103926 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;busyHandler.nBusy = 0;</span>
<span class='curline'><a href='../S/1054.html#L103927'>db</a>               103927 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_file_control(db, zDb, SQLITE_FCNTL_PRAGMA, (void*)aFcntl);</span>
<span class='curline'><a href='../S/1054.html#L104018'>db</a>               104018 ext/sqlite3/libsqlite/sqlite3.c       assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L104046'>db</a>               104046 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;nextPagesize = sqlite3Atoi(zRight);</span>
<span class='curline'><a href='../S/1054.html#L104047'>db</a>               104047 ext/sqlite3/libsqlite/sqlite3.c       if( SQLITE_NOMEM==sqlite3BtreeSetPageSize(pBt, db-&gt;nextPagesize,-1,0) ){</span>
<span class='curline'><a href='../S/1054.html#L104048'>db</a>               104048 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L104071'>db</a>               104071 ext/sqlite3/libsqlite/sqlite3.c       for(ii=0; ii&lt;db-&gt;nDb; ii++){</span>
<span class='curline'><a href='../S/1054.html#L104072'>db</a>               104072 ext/sqlite3/libsqlite/sqlite3.c         sqlite3BtreeSecureDelete(db-&gt;aDb[ii].pBt, b);</span>
<span class='curline'><a href='../S/1054.html#L104126'>db</a>               104126 ext/sqlite3/libsqlite/sqlite3.c       eMode = db-&gt;dfltLockMode;</span>
<span class='curline'><a href='../S/1054.html#L104139'>db</a>               104139 ext/sqlite3/libsqlite/sqlite3.c         assert(pDb==&amp;db-&gt;aDb[0]);</span>
<span class='curline'><a href='../S/1054.html#L104140'>db</a>               104140 ext/sqlite3/libsqlite/sqlite3.c         for(ii=2; ii&lt;db-&gt;nDb; ii++){</span>
<span class='curline'><a href='../S/1054.html#L104141'>db</a>               104141 ext/sqlite3/libsqlite/sqlite3.c           pPager = sqlite3BtreePager(db-&gt;aDb[ii].pBt);</span>
<span class='curline'><a href='../S/1054.html#L104144'>db</a>               104144 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;dfltLockMode = (u8)eMode;</span>
<span class='curline'><a href='../S/1054.html#L104195'>db</a>               104195 ext/sqlite3/libsqlite/sqlite3.c     for(ii=db-&gt;nDb-1; ii&gt;=0; ii--){</span>
<span class='curline'><a href='../S/1054.html#L104196'>db</a>               104196 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;aDb[ii].pBt &amp;&amp; (ii==iDb || pId2-&gt;n==0) ){</span>
<span class='curline'><a href='../S/1054.html#L104241'>db</a>               104241 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;nextAutovac = (u8)eAuto;</span>
<span class='curline'><a href='../S/1054.html#L104312'>db</a>               104312 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L104340'>db</a>               104340 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L104345'>db</a>               104345 ext/sqlite3/libsqlite/sqlite3.c       if( pId2-&gt;n==0 ) db-&gt;szMmap = sz;</span>
<span class='curline'><a href='../S/1054.html#L104346'>db</a>               104346 ext/sqlite3/libsqlite/sqlite3.c       for(ii=db-&gt;nDb-1; ii&gt;=0; ii--){</span>
<span class='curline'><a href='../S/1054.html#L104347'>db</a>               104347 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;aDb[ii].pBt &amp;&amp; (ii==iDb || pId2-&gt;n==0) ){</span>
<span class='curline'><a href='../S/1054.html#L104348'>db</a>               104348 ext/sqlite3/libsqlite/sqlite3.c           sqlite3BtreeSetMmapLimit(db-&gt;aDb[ii].pBt, sz);</span>
<span class='curline'><a href='../S/1054.html#L104353'>db</a>               104353 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_file_control(db, zDb, SQLITE_FCNTL_MMAP_SIZE, &amp;sz);</span>
<span class='curline'><a href='../S/1054.html#L104380'>db</a>               104380 ext/sqlite3/libsqlite/sqlite3.c       returnSingleInt(pParse, "temp_store", db-&gt;temp_store);</span>
<span class='curline'><a href='../S/1054.html#L104410'>db</a>               104410 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsAccess(db-&gt;pVfs, zRight, SQLITE_ACCESS_READWRITE, &amp;res);</span>
<span class='curline'><a href='../S/1054.html#L104417'>db</a>               104417 ext/sqlite3/libsqlite/sqlite3.c        || (SQLITE_TEMP_STORE==1 &amp;&amp; db-&gt;temp_store&lt;=1)</span>
<span class='curline'><a href='../S/1054.html#L104418'>db</a>               104418 ext/sqlite3/libsqlite/sqlite3.c        || (SQLITE_TEMP_STORE==2 &amp;&amp; db-&gt;temp_store==1)</span>
<span class='curline'><a href='../S/1054.html#L104460'>db</a>               104460 ext/sqlite3/libsqlite/sqlite3.c         rc = sqlite3OsAccess(db-&gt;pVfs, zRight, SQLITE_ACCESS_READWRITE, &amp;res);</span>
<span class='curline'><a href='../S/1054.html#L104535'>db</a>               104535 ext/sqlite3/libsqlite/sqlite3.c       if( !db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/1054.html#L104542'>db</a>               104542 ext/sqlite3/libsqlite/sqlite3.c         setAllPagerFlags(db);</span>
<span class='curline'><a href='../S/1054.html#L104552'>db</a>               104552 ext/sqlite3/libsqlite/sqlite3.c       returnSingleInt(pParse, pPragma-&gt;zName, (db-&gt;flags &amp; pPragma-&gt;iArg)!=0 );</span>
<span class='curline'><a href='../S/1054.html#L104555'>db</a>               104555 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;autoCommit==0 ){</span>
<span class='curline'><a href='../S/1054.html#L104561'>db</a>               104561 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;auth.authLevel==UAUTH_User ){</span>
<span class='curline'><a href='../S/1054.html#L104568'>db</a>               104568 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;flags |= mask;</span>
<span class='curline'><a href='../S/1054.html#L104570'>db</a>               104570 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;flags &amp;= ~mask;</span>
<span class='curline'><a href='../S/1054.html#L104571'>db</a>               104571 ext/sqlite3/libsqlite/sqlite3.c         if( mask==SQLITE_DeferFKs ) db-&gt;nDeferredImmCons = 0;</span>
<span class='curline'><a href='../S/1054.html#L104579'>db</a>               104579 ext/sqlite3/libsqlite/sqlite3.c       setAllPagerFlags(db);</span>
<span class='curline'><a href='../S/1054.html#L104600'>db</a>               104600 ext/sqlite3/libsqlite/sqlite3.c     pTab = sqlite3FindTable(db, zRight, zDb);</span>
<span class='curline'><a href='../S/1054.html#L104680'>db</a>               104680 ext/sqlite3/libsqlite/sqlite3.c     pIdx = sqlite3FindIndex(db, zRight, zDb);</span>
<span class='curline'><a href='../S/1054.html#L104728'>db</a>               104728 ext/sqlite3/libsqlite/sqlite3.c     pTab = sqlite3FindTable(db, zRight, zDb);</span>
<span class='curline'><a href='../S/1054.html#L104759'>db</a>               104759 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L104760'>db</a>               104760 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;aDb[i].pBt==0 ) continue;</span>
<span class='curline'><a href='../S/1054.html#L104761'>db</a>               104761 ext/sqlite3/libsqlite/sqlite3.c       assert( db-&gt;aDb[i].zName!=0 );</span>
<span class='curline'><a href='../S/1054.html#L104763'>db</a>               104763 ext/sqlite3/libsqlite/sqlite3.c       sqlite3VdbeAddOp4(v, OP_String8, 0, 2, 0, db-&gt;aDb[i].zName, 0);</span>
<span class='curline'><a href='../S/1054.html#L104765'>db</a>               104765 ext/sqlite3/libsqlite/sqlite3.c            sqlite3BtreeGetFilename(db-&gt;aDb[i].pBt), 0);</span>
<span class='curline'><a href='../S/1054.html#L104778'>db</a>               104778 ext/sqlite3/libsqlite/sqlite3.c     for(p=sqliteHashFirst(&amp;db-&gt;aCollSeq); p; p=sqliteHashNext(p)){</span>
<span class='curline'><a href='../S/1054.html#L104792'>db</a>               104792 ext/sqlite3/libsqlite/sqlite3.c     pTab = sqlite3FindTable(db, zRight, zDb);</span>
<span class='curline'><a href='../S/1054.html#L104864'>db</a>               104864 ext/sqlite3/libsqlite/sqlite3.c     k = sqliteHashFirst(&amp;db-&gt;aDb[iDb].pSchema-&gt;tblHash);</span>
<span class='curline'><a href='../S/1054.html#L104880'>db</a>               104880 ext/sqlite3/libsqlite/sqlite3.c         pParent = sqlite3FindTable(db, pFK-&gt;zTo, zDb);</span>
<span class='curline'><a href='../S/1054.html#L104902'>db</a>               104902 ext/sqlite3/libsqlite/sqlite3.c         pParent = sqlite3FindTable(db, pFK-&gt;zTo, zDb);</span>
<span class='curline'><a href='../S/1054.html#L104944'>db</a>               104944 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, aiCols);</span>
<span class='curline'><a href='../S/1054.html#L104972'>db</a>               104972 ext/sqlite3/libsqlite/sqlite3.c       sqlite3RegisterLikeFunctions(db, sqlite3GetBoolean(zRight, 0));</span>
<span class='curline'><a href='../S/1054.html#L105031'>db</a>               105031 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L105050'>db</a>               105050 ext/sqlite3/libsqlite/sqlite3.c       assert( sqlite3SchemaMutexHeld(db, i, 0) );</span>
<span class='curline'><a href='../S/1054.html#L105051'>db</a>               105051 ext/sqlite3/libsqlite/sqlite3.c       pTbls = &amp;db-&gt;aDb[i].pSchema-&gt;tblHash;</span>
<span class='curline'><a href='../S/1054.html#L105075'>db</a>               105075 ext/sqlite3/libsqlite/sqlite3.c          sqlite3MPrintf(db, "*** in database %s ***\n", db-&gt;aDb[i].zName),</span>
<span class='curline'><a href='../S/1054.html#L105118'>db</a>               105118 ext/sqlite3/libsqlite/sqlite3.c           zErr = sqlite3MPrintf(db, "NULL value in %s.%s", pTab-&gt;zName,</span>
<span class='curline'><a href='../S/1054.html#L105256'>db</a>               105256 ext/sqlite3/libsqlite/sqlite3.c       sqlite3VdbeChangeP4(v, -1, encnames[ENC(pParse-&gt;db)].zName, P4_STATIC);</span>
<span class='curline'><a href='../S/1054.html#L105265'>db</a>               105265 ext/sqlite3/libsqlite/sqlite3.c         !(DbHasProperty(db, 0, DB_SchemaLoaded)) || </span>
<span class='curline'><a href='../S/1054.html#L105266'>db</a>               105266 ext/sqlite3/libsqlite/sqlite3.c         DbHasProperty(db, 0, DB_Empty) </span>
<span class='curline'><a href='../S/1054.html#L105270'>db</a>               105270 ext/sqlite3/libsqlite/sqlite3.c             SCHEMA_ENC(db) = ENC(db) =</span>
<span class='curline'><a href='../S/1054.html#L105408'>db</a>               105408 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_wal_autocheckpoint(db, sqlite3Atoi(zRight));</span>
<span class='curline'><a href='../S/1054.html#L105411'>db</a>               105411 ext/sqlite3/libsqlite/sqlite3.c        db-&gt;xWalCallback==sqlite3WalDefaultHook ? </span>
<span class='curline'><a href='../S/1054.html#L105412'>db</a>               105412 ext/sqlite3/libsqlite/sqlite3.c            SQLITE_PTR_TO_INT(db-&gt;pWalArg) : 0);</span>
<span class='curline'><a href='../S/1054.html#L105425'>db</a>               105425 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_db_release_memory(db);</span>
<span class='curline'><a href='../S/1054.html#L105441'>db</a>               105441 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_busy_timeout(db, sqlite3Atoi(zRight));</span>
<span class='curline'><a href='../S/1054.html#L105443'>db</a>               105443 ext/sqlite3/libsqlite/sqlite3.c     returnSingleInt(pParse, "timeout",  db-&gt;busyTimeout);</span>
<span class='curline'><a href='../S/1054.html#L105480'>db</a>               105480 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_limit(db, SQLITE_LIMIT_WORKER_THREADS, (int)(N&amp;0x7fffffff));</span>
<span class='curline'><a href='../S/1054.html#L105483'>db</a>               105483 ext/sqlite3/libsqlite/sqlite3.c                     sqlite3_limit(db, SQLITE_LIMIT_WORKER_THREADS, -1));</span>
<span class='curline'><a href='../S/1054.html#L105500'>db</a>               105500 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L105504'>db</a>               105504 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;aDb[i].zName==0 ) continue;</span>
<span class='curline'><a href='../S/1054.html#L105505'>db</a>               105505 ext/sqlite3/libsqlite/sqlite3.c       sqlite3VdbeAddOp4(v, OP_String8, 0, 1, 0, db-&gt;aDb[i].zName, P4_STATIC);</span>
<span class='curline'><a href='../S/1054.html#L105506'>db</a>               105506 ext/sqlite3/libsqlite/sqlite3.c       pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L105509'>db</a>               105509 ext/sqlite3/libsqlite/sqlite3.c       }else if( sqlite3_file_control(db, i ? db-&gt;aDb[i].zName : 0, </span>
<span class='curline'><a href='../S/1054.html#L105522'>db</a>               105522 ext/sqlite3/libsqlite/sqlite3.c     if( zRight ) sqlite3_key_v2(db, zDb, zRight, sqlite3Strlen30(zRight));</span>
<span class='curline'><a href='../S/1054.html#L105526'>db</a>               105526 ext/sqlite3/libsqlite/sqlite3.c     if( zRight ) sqlite3_rekey_v2(db, zDb, zRight, sqlite3Strlen30(zRight));</span>
<span class='curline'><a href='../S/1054.html#L105539'>db</a>               105539 ext/sqlite3/libsqlite/sqlite3.c         sqlite3_key_v2(db, zDb, zKey, i/2);</span>
<span class='curline'><a href='../S/1054.html#L105541'>db</a>               105541 ext/sqlite3/libsqlite/sqlite3.c         sqlite3_rekey_v2(db, zDb, zKey, i/2);</span>
<span class='curline'><a href='../S/1054.html#L105566'>db</a>               105566 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zLeft);</span>
<span class='curline'><a href='../S/1054.html#L105567'>db</a>               105567 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zRight);</span>
<span class='curline'><a href='../S/1054.html#L105599'>db</a>               105599 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pData-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L105600'>db</a>               105600 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;mallocFailed &amp;&amp; (db-&gt;flags &amp; SQLITE_RecoveryMode)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L105602'>db</a>               105602 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(pData-&gt;pzErrMsg, db,</span>
<span class='curline'><a href='../S/1054.html#L105605'>db</a>               105605 ext/sqlite3/libsqlite/sqlite3.c       *pData-&gt;pzErrMsg = sqlite3MAppendf(db, *pData-&gt;pzErrMsg, </span>
<span class='curline'><a href='../S/1054.html#L105609'>db</a>               105609 ext/sqlite3/libsqlite/sqlite3.c   pData-&gt;rc = db-&gt;mallocFailed ? SQLITE_NOMEM : SQLITE_CORRUPT_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L105626'>db</a>               105626 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pData-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L105631'>db</a>               105631 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L105632'>db</a>               105632 ext/sqlite3/libsqlite/sqlite3.c   DbClearProperty(db, iDb, DB_Empty);</span>
<span class='curline'><a href='../S/1054.html#L105633'>db</a>               105633 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L105638'>db</a>               105638 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L105652'>db</a>               105652 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;init.busy );</span>
<span class='curline'><a href='../S/1054.html#L105653'>db</a>               105653 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;init.iDb = iDb;</span>
<span class='curline'><a href='../S/1054.html#L105654'>db</a>               105654 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;init.newTnum = sqlite3Atoi(argv[1]);</span>
<span class='curline'><a href='../S/1054.html#L105655'>db</a>               105655 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;init.orphanTrigger = 0;</span>
<span class='curline'><a href='../S/1054.html#L105656'>db</a>               105656 ext/sqlite3/libsqlite/sqlite3.c     TESTONLY(rcp = ) sqlite3_prepare(db, argv[2], -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L105657'>db</a>               105657 ext/sqlite3/libsqlite/sqlite3.c     rc = db-&gt;errCode;</span>
<span class='curline'><a href='../S/1054.html#L105659'>db</a>               105659 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;init.iDb = 0;</span>
<span class='curline'><a href='../S/1054.html#L105661'>db</a>               105661 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;init.orphanTrigger ){</span>
<span class='curline'><a href='../S/1054.html#L105666'>db</a>               105666 ext/sqlite3/libsqlite/sqlite3.c           db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L105668'>db</a>               105668 ext/sqlite3/libsqlite/sqlite3.c           corruptSchema(pData, argv[0], sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/1054.html#L105683'>db</a>               105683 ext/sqlite3/libsqlite/sqlite3.c     pIndex = sqlite3FindIndex(db, argv[0], db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/1054.html#L105706'>db</a>               105706 ext/sqlite3/libsqlite/sqlite3.c static int sqlite3InitOne(sqlite3 *db, int iDb, char **pzErrMsg){</span>
<span class='curline'><a href='../S/1054.html#L105747'>db</a>               105747 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L105748'>db</a>               105748 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;aDb[iDb].pSchema );</span>
<span class='curline'><a href='../S/1054.html#L105749'>db</a>               105749 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L105750'>db</a>               105750 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb==1 || sqlite3BtreeHoldsMutex(db-&gt;aDb[iDb].pBt) );</span>
<span class='curline'><a href='../S/1054.html#L105768'>db</a>               105768 ext/sqlite3/libsqlite/sqlite3.c   initData.db = db;</span>
<span class='curline'><a href='../S/1054.html#L105777'>db</a>               105777 ext/sqlite3/libsqlite/sqlite3.c   pTab = sqlite3FindTable(db, zMasterName, db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/1054.html#L105784'>db</a>               105784 ext/sqlite3/libsqlite/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/1054.html#L105787'>db</a>               105787 ext/sqlite3/libsqlite/sqlite3.c       DbSetProperty(db, 1, DB_SchemaLoaded);</span>
<span class='curline'><a href='../S/1054.html#L105799'>db</a>               105799 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SetString(pzErrMsg, db, "%s", sqlite3ErrStr(rc));</span>
<span class='curline'><a href='../S/1054.html#L105839'>db</a>               105839 ext/sqlite3/libsqlite/sqlite3.c       ENC(db) = encoding;</span>
<span class='curline'><a href='../S/1054.html#L105841'>db</a>               105841 ext/sqlite3/libsqlite/sqlite3.c       ENC(db) = SQLITE_UTF8;</span>
<span class='curline'><a href='../S/1054.html#L105845'>db</a>               105845 ext/sqlite3/libsqlite/sqlite3.c       if( meta[BTREE_TEXT_ENCODING-1]!=ENC(db) ){</span>
<span class='curline'><a href='../S/1054.html#L105846'>db</a>               105846 ext/sqlite3/libsqlite/sqlite3.c         sqlite3SetString(pzErrMsg, db, "attached databases must use the same"</span>
<span class='curline'><a href='../S/1054.html#L105853'>db</a>               105853 ext/sqlite3/libsqlite/sqlite3.c     DbSetProperty(db, iDb, DB_Empty);</span>
<span class='curline'><a href='../S/1054.html#L105855'>db</a>               105855 ext/sqlite3/libsqlite/sqlite3.c   pDb-&gt;pSchema-&gt;enc = ENC(db);</span>
<span class='curline'><a href='../S/1054.html#L105879'>db</a>               105879 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(pzErrMsg, db, "unsupported file format");</span>
<span class='curline'><a href='../S/1054.html#L105890'>db</a>               105890 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;flags &amp;= ~SQLITE_LegacyFileFmt;</span>
<span class='curline'><a href='../S/1054.html#L105895'>db</a>               105895 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;init.busy );</span>
<span class='curline'><a href='../S/1054.html#L105898'>db</a>               105898 ext/sqlite3/libsqlite/sqlite3.c     zSql = sqlite3MPrintf(db, </span>
<span class='curline'><a href='../S/1054.html#L105900'>db</a>               105900 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;aDb[iDb].zName, zMasterName);</span>
<span class='curline'><a href='../S/1054.html#L105904'>db</a>               105904 ext/sqlite3/libsqlite/sqlite3.c       xAuth = db-&gt;xAuth;</span>
<span class='curline'><a href='../S/1054.html#L105905'>db</a>               105905 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;xAuth = 0;</span>
<span class='curline'><a href='../S/1054.html#L105907'>db</a>               105907 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3_exec(db, zSql, sqlite3InitCallback, &amp;initData, 0);</span>
<span class='curline'><a href='../S/1054.html#L105909'>db</a>               105909 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;xAuth = xAuth;</span>
<span class='curline'><a href='../S/1054.html#L105913'>db</a>               105913 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/1054.html#L105916'>db</a>               105916 ext/sqlite3/libsqlite/sqlite3.c       sqlite3AnalysisLoad(db, iDb);</span>
<span class='curline'><a href='../S/1054.html#L105920'>db</a>               105920 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L105922'>db</a>               105922 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/1054.html#L105924'>db</a>               105924 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK || (db-&gt;flags&amp;SQLITE_RecoveryMode)){</span>
<span class='curline'><a href='../S/1054.html#L105933'>db</a>               105933 ext/sqlite3/libsqlite/sqlite3.c     DbSetProperty(db, iDb, DB_SchemaLoaded);</span>
<span class='curline'><a href='../S/1054.html#L105949'>db</a>               105949 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L105964'>db</a>               105964 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3Init(sqlite3 *db, char **pzErrMsg){</span>
<span class='curline'><a href='../S/1054.html#L105966'>db</a>               105966 ext/sqlite3/libsqlite/sqlite3.c   int commit_internal = !(db-&gt;flags&amp;SQLITE_InternChanges);</span>
<span class='curline'><a href='../S/1054.html#L105968'>db</a>               105968 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L105969'>db</a>               105969 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsMutex(db-&gt;aDb[0].pBt) );</span>
<span class='curline'><a href='../S/1054.html#L105970'>db</a>               105970 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;init.busy==0 );</span>
<span class='curline'><a href='../S/1054.html#L105972'>db</a>               105972 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;init.busy = 1;</span>
<span class='curline'><a href='../S/1054.html#L105973'>db</a>               105973 ext/sqlite3/libsqlite/sqlite3.c   ENC(db) = SCHEMA_ENC(db);</span>
<span class='curline'><a href='../S/1054.html#L105974'>db</a>               105974 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L105975'>db</a>               105975 ext/sqlite3/libsqlite/sqlite3.c     if( DbHasProperty(db, i, DB_SchemaLoaded) || i==1 ) continue;</span>
<span class='curline'><a href='../S/1054.html#L105976'>db</a>               105976 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3InitOne(db, i, pzErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L105978'>db</a>               105978 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ResetOneSchema(db, i);</span>
<span class='curline'><a href='../S/1054.html#L105987'>db</a>               105987 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;nDb&gt;1 );</span>
<span class='curline'><a href='../S/1054.html#L105988'>db</a>               105988 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; !DbHasProperty(db, 1, DB_SchemaLoaded) ){</span>
<span class='curline'><a href='../S/1054.html#L105989'>db</a>               105989 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3InitOne(db, 1, pzErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L105991'>db</a>               105991 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ResetOneSchema(db, 1);</span>
<span class='curline'><a href='../S/1054.html#L105996'>db</a>               105996 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;init.busy = 0;</span>
<span class='curline'><a href='../S/1054.html#L105998'>db</a>               105998 ext/sqlite3/libsqlite/sqlite3.c     sqlite3CommitInternalChanges(db);</span>
<span class='curline'><a href='../S/1054.html#L106010'>db</a>               106010 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L106011'>db</a>               106011 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L106012'>db</a>               106012 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L106013'>db</a>               106013 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3Init(db, &amp;pParse-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L106029'>db</a>               106029 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L106035'>db</a>               106035 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L106036'>db</a>               106036 ext/sqlite3/libsqlite/sqlite3.c   for(iDb=0; iDb&lt;db-&gt;nDb; iDb++){</span>
<span class='curline'><a href='../S/1054.html#L106038'>db</a>               106038 ext/sqlite3/libsqlite/sqlite3.c     Btree *pBt = db-&gt;aDb[iDb].pBt;     /* Btree database to read cookie from */</span>
<span class='curline'><a href='../S/1054.html#L106047'>db</a>               106047 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L106057'>db</a>               106057 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L106058'>db</a>               106058 ext/sqlite3/libsqlite/sqlite3.c     if( cookie!=db-&gt;aDb[iDb].pSchema-&gt;schema_cookie ){</span>
<span class='curline'><a href='../S/1054.html#L106059'>db</a>               106059 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ResetOneSchema(db, iDb);</span>
<span class='curline'><a href='../S/1054.html#L106077'>db</a>               106077 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3SchemaToIndex(sqlite3 *db, Schema *pSchema){</span>
<span class='curline'><a href='../S/1054.html#L106090'>db</a>               106090 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L106092'>db</a>               106092 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; ALWAYS(i&lt;db-&gt;nDb); i++){</span>
<span class='curline'><a href='../S/1054.html#L106093'>db</a>               106093 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;aDb[i].pSchema==pSchema ){</span>
<span class='curline'><a href='../S/1054.html#L106097'>db</a>               106097 ext/sqlite3/libsqlite/sqlite3.c     assert( i&gt;=0 &amp;&amp; i&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L106107'>db</a>               106107 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L106108'>db</a>               106108 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pParse-&gt;aLabel);</span>
<span class='curline'><a href='../S/1054.html#L106109'>db</a>               106109 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(db, pParse-&gt;pConstExpr);</span>
<span class='curline'><a href='../S/1054.html#L106117'>db</a>               106117 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,              /* Database handle. */</span>
<span class='curline'><a href='../S/1054.html#L106131'>db</a>               106131 ext/sqlite3/libsqlite/sqlite3.c   pParse = sqlite3StackAllocZero(db, sizeof(*pParse));</span>
<span class='curline'><a href='../S/1054.html#L106138'>db</a>               106138 ext/sqlite3/libsqlite/sqlite3.c   assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L106139'>db</a>               106139 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L106164'>db</a>               106164 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++) {</span>
<span class='curline'><a href='../S/1054.html#L106165'>db</a>               106165 ext/sqlite3/libsqlite/sqlite3.c     Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L106170'>db</a>               106170 ext/sqlite3/libsqlite/sqlite3.c         const char *zDb = db-&gt;aDb[i].zName;</span>
<span class='curline'><a href='../S/1054.html#L106171'>db</a>               106171 ext/sqlite3/libsqlite/sqlite3.c         sqlite3ErrorWithMsg(db, rc, "database schema is locked: %s", zDb);</span>
<span class='curline'><a href='../S/1054.html#L106172'>db</a>               106172 ext/sqlite3/libsqlite/sqlite3.c         testcase( db-&gt;flags &amp; SQLITE_ReadUncommitted );</span>
<span class='curline'><a href='../S/1054.html#L106178'>db</a>               106178 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VtabUnlockList(db);</span>
<span class='curline'><a href='../S/1054.html#L106180'>db</a>               106180 ext/sqlite3/libsqlite/sqlite3.c   pParse-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L106184'>db</a>               106184 ext/sqlite3/libsqlite/sqlite3.c     int mxLen = db-&gt;aLimit[SQLITE_LIMIT_SQL_LENGTH];</span>
<span class='curline'><a href='../S/1054.html#L106188'>db</a>               106188 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ErrorWithMsg(db, SQLITE_TOOBIG, "statement too long");</span>
<span class='curline'><a href='../S/1054.html#L106189'>db</a>               106189 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3ApiExit(db, SQLITE_TOOBIG);</span>
<span class='curline'><a href='../S/1054.html#L106192'>db</a>               106192 ext/sqlite3/libsqlite/sqlite3.c     zSqlCopy = sqlite3DbStrNDup(db, zSql, nBytes);</span>
<span class='curline'><a href='../S/1054.html#L106195'>db</a>               106195 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zSqlCopy);</span>
<span class='curline'><a href='../S/1054.html#L106205'>db</a>               106205 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L106212'>db</a>               106212 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L106243'>db</a>               106243 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;init.busy==0 ){</span>
<span class='curline'><a href='../S/1054.html#L106247'>db</a>               106247 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;pVdbe &amp;&amp; (rc!=SQLITE_OK || db-&gt;mallocFailed) ){</span>
<span class='curline'><a href='../S/1054.html#L106255'>db</a>               106255 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ErrorWithMsg(db, rc, "%s", zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L106256'>db</a>               106256 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L106258'>db</a>               106258 ext/sqlite3/libsqlite/sqlite3.c     sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L106265'>db</a>               106265 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pT);</span>
<span class='curline'><a href='../S/1054.html#L106271'>db</a>               106271 ext/sqlite3/libsqlite/sqlite3.c   sqlite3StackFree(db, pParse);</span>
<span class='curline'><a href='../S/1054.html#L106272'>db</a>               106272 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L106273'>db</a>               106273 ext/sqlite3/libsqlite/sqlite3.c   assert( (rc&amp;db-&gt;errMask)==rc );</span>
<span class='curline'><a href='../S/1054.html#L106277'>db</a>               106277 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,              /* Database handle. */</span>
<span class='curline'><a href='../S/1054.html#L106291'>db</a>               106291 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db)||zSql==0 ){</span>
<span class='curline'><a href='../S/1054.html#L106294'>db</a>               106294 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L106295'>db</a>               106295 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/1054.html#L106296'>db</a>               106296 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3Prepare(db, zSql, nBytes, saveSqlFlag, pOld, ppStmt, pzTail);</span>
<span class='curline'><a href='../S/1054.html#L106299'>db</a>               106299 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3Prepare(db, zSql, nBytes, saveSqlFlag, pOld, ppStmt, pzTail);</span>
<span class='curline'><a href='../S/1054.html#L106301'>db</a>               106301 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L106302'>db</a>               106302 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L106319'>db</a>               106319 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L106324'>db</a>               106324 ext/sqlite3/libsqlite/sqlite3.c   db = sqlite3VdbeDb(p);</span>
<span class='curline'><a href='../S/1054.html#L106325'>db</a>               106325 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L106326'>db</a>               106326 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3LockAndPrepare(db, zSql, -1, 0, p, &amp;pNew, 0);</span>
<span class='curline'><a href='../S/1054.html#L106329'>db</a>               106329 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L106353'>db</a>               106353 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,              /* Database handle. */</span>
<span class='curline'><a href='../S/1054.html#L106360'>db</a>               106360 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3LockAndPrepare(db,zSql,nBytes,0,0,ppStmt,pzTail);</span>
<span class='curline'><a href='../S/1054.html#L106365'>db</a>               106365 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,              /* Database handle. */</span>
<span class='curline'><a href='../S/1054.html#L106372'>db</a>               106372 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3LockAndPrepare(db,zSql,nBytes,1,0,ppStmt,pzTail);</span>
<span class='curline'><a href='../S/1054.html#L106383'>db</a>               106383 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,              /* Database handle. */ </span>
<span class='curline'><a href='../S/1054.html#L106402'>db</a>               106402 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db)||zSql==0 ){</span>
<span class='curline'><a href='../S/1054.html#L106411'>db</a>               106411 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L106412'>db</a>               106412 ext/sqlite3/libsqlite/sqlite3.c   zSql8 = sqlite3Utf16to8(db, zSql, nBytes, SQLITE_UTF16NATIVE);</span>
<span class='curline'><a href='../S/1054.html#L106414'>db</a>               106414 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3LockAndPrepare(db, zSql8, -1, saveSqlFlag, 0, ppStmt, &amp;zTail8);</span>
<span class='curline'><a href='../S/1054.html#L106426'>db</a>               106426 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zSql8); </span>
<span class='curline'><a href='../S/1054.html#L106427'>db</a>               106427 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L106428'>db</a>               106428 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L106441'>db</a>               106441 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,              /* Database handle. */ </span>
<span class='curline'><a href='../S/1054.html#L106448'>db</a>               106448 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3Prepare16(db,zSql,nBytes,0,ppStmt,pzTail);</span>
<span class='curline'><a href='../S/1054.html#L106453'>db</a>               106453 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,              /* Database handle. */ </span>
<span class='curline'><a href='../S/1054.html#L106460'>db</a>               106460 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3Prepare16(db,zSql,nBytes,1,ppStmt,pzTail);</span>
<span class='curline'><a href='../S/1054.html#L106531'>db</a>               106531 ext/sqlite3/libsqlite/sqlite3.c static void clearSelect(sqlite3 *db, Select *p, int bFree){</span>
<span class='curline'><a href='../S/1054.html#L106534'>db</a>               106534 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(db, p-&gt;pEList);</span>
<span class='curline'><a href='../S/1054.html#L106535'>db</a>               106535 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SrcListDelete(db, p-&gt;pSrc);</span>
<span class='curline'><a href='../S/1054.html#L106536'>db</a>               106536 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, p-&gt;pWhere);</span>
<span class='curline'><a href='../S/1054.html#L106537'>db</a>               106537 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(db, p-&gt;pGroupBy);</span>
<span class='curline'><a href='../S/1054.html#L106538'>db</a>               106538 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, p-&gt;pHaving);</span>
<span class='curline'><a href='../S/1054.html#L106539'>db</a>               106539 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(db, p-&gt;pOrderBy);</span>
<span class='curline'><a href='../S/1054.html#L106540'>db</a>               106540 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, p-&gt;pLimit);</span>
<span class='curline'><a href='../S/1054.html#L106541'>db</a>               106541 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, p-&gt;pOffset);</span>
<span class='curline'><a href='../S/1054.html#L106542'>db</a>               106542 ext/sqlite3/libsqlite/sqlite3.c     sqlite3WithDelete(db, p-&gt;pWith);</span>
<span class='curline'><a href='../S/1054.html#L106543'>db</a>               106543 ext/sqlite3/libsqlite/sqlite3.c     if( bFree ) sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L106579'>db</a>               106579 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L106580'>db</a>               106580 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3DbMallocZero(db, sizeof(*pNew) );</span>
<span class='curline'><a href='../S/1054.html#L106582'>db</a>               106582 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L106587'>db</a>               106587 ext/sqlite3/libsqlite/sqlite3.c     pEList = sqlite3ExprListAppend(pParse, 0, sqlite3Expr(db,TK_ALL,0));</span>
<span class='curline'><a href='../S/1054.html#L106590'>db</a>               106590 ext/sqlite3/libsqlite/sqlite3.c   if( pSrc==0 ) pSrc = sqlite3DbMallocZero(db, sizeof(*pSrc));</span>
<span class='curline'><a href='../S/1054.html#L106600'>db</a>               106600 ext/sqlite3/libsqlite/sqlite3.c   assert( pOffset==0 || pLimit!=0 || pParse-&gt;nErr&gt;0 || db-&gt;mallocFailed!=0 );</span>
<span class='curline'><a href='../S/1054.html#L106603'>db</a>               106603 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ) {</span>
<span class='curline'><a href='../S/1054.html#L106604'>db</a>               106604 ext/sqlite3/libsqlite/sqlite3.c     clearSelect(db, pNew, pNew!=&amp;standin);</span>
<span class='curline'><a href='../S/1054.html#L106628'>db</a>               106628 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3SelectDelete(sqlite3 *db, Select *p){</span>
<span class='curline'><a href='../S/1054.html#L106629'>db</a>               106629 ext/sqlite3/libsqlite/sqlite3.c   clearSelect(db, p, 1);</span>
<span class='curline'><a href='../S/1054.html#L106780'>db</a>               106780 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L106790'>db</a>               106790 ext/sqlite3/libsqlite/sqlite3.c   pE1 = sqlite3CreateColumnExpr(db, pSrc, iLeft, iColLeft);</span>
<span class='curline'><a href='../S/1054.html#L106791'>db</a>               106791 ext/sqlite3/libsqlite/sqlite3.c   pE2 = sqlite3CreateColumnExpr(db, pSrc, iRight, iColRight);</span>
<span class='curline'><a href='../S/1054.html#L106800'>db</a>               106800 ext/sqlite3/libsqlite/sqlite3.c   *ppWhere = sqlite3ExprAnd(db, *ppWhere, pEq);</span>
<span class='curline'><a href='../S/1054.html#L106906'>db</a>               106906 ext/sqlite3/libsqlite/sqlite3.c       p-&gt;pWhere = sqlite3ExprAnd(pParse-&gt;db, p-&gt;pWhere, pRight-&gt;pOn);</span>
<span class='curline'><a href='../S/1054.html#L107007'>db</a>               107007 ext/sqlite3/libsqlite/sqlite3.c     if( pParse-&gt;db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/1054.html#L107227'>db</a>               107227 ext/sqlite3/libsqlite/sqlite3.c         assert( sqlite3VdbeCurrentAddr(v)==iJump || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L107447'>db</a>               107447 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE KeyInfo *sqlite3KeyInfoAlloc(sqlite3 *db, int N, int X){</span>
<span class='curline'><a href='../S/1054.html#L107454'>db</a>               107454 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;enc = ENC(db);</span>
<span class='curline'><a href='../S/1054.html#L107455'>db</a>               107455 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L107458'>db</a>               107458 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L107518'>db</a>               107518 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L107522'>db</a>               107522 ext/sqlite3/libsqlite/sqlite3.c   pInfo = sqlite3KeyInfoAlloc(db, nExpr-iStart, nExtra+1);</span>
<span class='curline'><a href='../S/1054.html#L107528'>db</a>               107528 ext/sqlite3/libsqlite/sqlite3.c       if( !pColl ) pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/1054.html#L107566'>db</a>               107566 ext/sqlite3/libsqlite/sqlite3.c     char *zMsg = sqlite3MPrintf(pParse-&gt;db, "USE TEMP B-TREE FOR %s", zUsage);</span>
<span class='curline'><a href='../S/1054.html#L107612'>db</a>               107612 ext/sqlite3/libsqlite/sqlite3.c         pParse-&gt;db, "COMPOUND SUBQUERIES %d AND %d %s(%s)", iSub1, iSub2,</span>
<span class='curline'><a href='../S/1054.html#L107878'>db</a>               107878 ext/sqlite3/libsqlite/sqlite3.c           int iDb = sqlite3SchemaToIndex(pNC-&gt;pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L107879'>db</a>               107879 ext/sqlite3/libsqlite/sqlite3.c           zOrigDb = pNC-&gt;pParse-&gt;db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L107974'>db</a>               107974 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L107984'>db</a>               107984 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;colNamesSet || NEVER(v==0) || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/1054.html#L107986'>db</a>               107986 ext/sqlite3/libsqlite/sqlite3.c   fullNames = (db-&gt;flags &amp; SQLITE_FullColNames)!=0;</span>
<span class='curline'><a href='../S/1054.html#L107987'>db</a>               107987 ext/sqlite3/libsqlite/sqlite3.c   shortNames = (db-&gt;flags &amp; SQLITE_ShortColNames)!=0;</span>
<span class='curline'><a href='../S/1054.html#L108014'>db</a>               108014 ext/sqlite3/libsqlite/sqlite3.c             sqlite3DbStrDup(db, pEList-&gt;a[i].zSpan), SQLITE_DYNAMIC);</span>
<span class='curline'><a href='../S/1054.html#L108017'>db</a>               108017 ext/sqlite3/libsqlite/sqlite3.c         zName = sqlite3MPrintf(db, "%s.%s", pTab-&gt;zName, zCol);</span>
<span class='curline'><a href='../S/1054.html#L108024'>db</a>               108024 ext/sqlite3/libsqlite/sqlite3.c       z = z==0 ? sqlite3MPrintf(db, "column%d", i+1) : sqlite3DbStrDup(db, z);</span>
<span class='curline'><a href='../S/1054.html#L108050'>db</a>               108050 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;   /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L108061'>db</a>               108061 ext/sqlite3/libsqlite/sqlite3.c     aCol = sqlite3DbMallocZero(db, sizeof(aCol[0])*nCol);</span>
<span class='curline'><a href='../S/1054.html#L108076'>db</a>               108076 ext/sqlite3/libsqlite/sqlite3.c       zName = sqlite3DbStrDup(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L108089'>db</a>               108089 ext/sqlite3/libsqlite/sqlite3.c         zName = sqlite3MPrintf(db, "%s",</span>
<span class='curline'><a href='../S/1054.html#L108093'>db</a>               108093 ext/sqlite3/libsqlite/sqlite3.c         zName = sqlite3MPrintf(db, "%s", pColExpr-&gt;u.zToken);</span>
<span class='curline'><a href='../S/1054.html#L108096'>db</a>               108096 ext/sqlite3/libsqlite/sqlite3.c         zName = sqlite3MPrintf(db, "%s", pEList-&gt;a[i].zSpan);</span>
<span class='curline'><a href='../S/1054.html#L108099'>db</a>               108099 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L108100'>db</a>               108100 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L108115'>db</a>               108115 ext/sqlite3/libsqlite/sqlite3.c         zNewName = sqlite3MPrintf(db, "%s:%d", zName, ++cnt);</span>
<span class='curline'><a href='../S/1054.html#L108116'>db</a>               108116 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L108124'>db</a>               108124 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L108126'>db</a>               108126 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, aCol[j].zName);</span>
<span class='curline'><a href='../S/1054.html#L108128'>db</a>               108128 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, aCol);</span>
<span class='curline'><a href='../S/1054.html#L108152'>db</a>               108152 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L108163'>db</a>               108163 ext/sqlite3/libsqlite/sqlite3.c   assert( pTab-&gt;nCol==pSelect-&gt;pEList-&gt;nExpr || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L108164'>db</a>               108164 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/1054.html#L108171'>db</a>               108171 ext/sqlite3/libsqlite/sqlite3.c       pCol-&gt;zType = sqlite3DbStrDup(db, columnType(&amp;sNC, p,0,0,0, &amp;pCol-&gt;szEst));</span>
<span class='curline'><a href='../S/1054.html#L108178'>db</a>               108178 ext/sqlite3/libsqlite/sqlite3.c       pCol-&gt;zColl = sqlite3DbStrDup(db, pColl-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L108190'>db</a>               108190 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L108193'>db</a>               108193 ext/sqlite3/libsqlite/sqlite3.c   savedFlags = db-&gt;flags;</span>
<span class='curline'><a href='../S/1054.html#L108194'>db</a>               108194 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags &amp;= ~SQLITE_FullColNames;</span>
<span class='curline'><a href='../S/1054.html#L108195'>db</a>               108195 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags |= SQLITE_ShortColNames;</span>
<span class='curline'><a href='../S/1054.html#L108199'>db</a>               108199 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags = savedFlags;</span>
<span class='curline'><a href='../S/1054.html#L108200'>db</a>               108200 ext/sqlite3/libsqlite/sqlite3.c   pTab = sqlite3DbMallocZero(db, sizeof(Table) );</span>
<span class='curline'><a href='../S/1054.html#L108206'>db</a>               108206 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;lookaside.bEnabled==0 );</span>
<span class='curline'><a href='../S/1054.html#L108213'>db</a>               108213 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L108214'>db</a>               108214 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DeleteTable(db, pTab);</span>
<span class='curline'><a href='../S/1054.html#L108230'>db</a>               108230 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; OptimizationEnabled(pParse-&gt;db,SQLITE_FactorOutConst)</span>
<span class='curline'><a href='../S/1054.html#L108349'>db</a>               108349 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L108350'>db</a>               108350 ext/sqlite3/libsqlite/sqlite3.c   KeyInfo *pRet = sqlite3KeyInfoAlloc(db, nOrderBy+nExtra, 1);</span>
<span class='curline'><a href='../S/1054.html#L108362'>db</a>               108362 ext/sqlite3/libsqlite/sqlite3.c         if( pColl==0 ) pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/1054.html#L108531'>db</a>               108531 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprListDelete(pParse-&gt;db, p-&gt;pOrderBy);</span>
<span class='curline'><a href='../S/1054.html#L108647'>db</a>               108647 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;          /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L108658'>db</a>               108658 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L108818'>db</a>               108818 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprListDelete(db, p-&gt;pOrderBy);</span>
<span class='curline'><a href='../S/1054.html#L108823'>db</a>               108823 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprDelete(db, p-&gt;pLimit);</span>
<span class='curline'><a href='../S/1054.html#L108903'>db</a>               108903 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprDelete(db, p-&gt;pLimit);</span>
<span class='curline'><a href='../S/1054.html#L108955'>db</a>               108955 ext/sqlite3/libsqlite/sqlite3.c     pKeyInfo = sqlite3KeyInfoAlloc(db, nCol, 1);</span>
<span class='curline'><a href='../S/1054.html#L108963'>db</a>               108963 ext/sqlite3/libsqlite/sqlite3.c         *apColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/1054.html#L108988'>db</a>               108988 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(db, pDelete);</span>
<span class='curline'><a href='../S/1054.html#L109042'>db</a>               109042 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;db-&gt;mallocFailed ) return 0;</span>
<span class='curline'><a href='../S/1054.html#L109270'>db</a>               109270 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;          /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L109281'>db</a>               109281 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L109302'>db</a>               109302 ext/sqlite3/libsqlite/sqlite3.c     for(i=1; db-&gt;mallocFailed==0 &amp;&amp; i&lt;=p-&gt;pEList-&gt;nExpr; i++){</span>
<span class='curline'><a href='../S/1054.html#L109309'>db</a>               109309 ext/sqlite3/libsqlite/sqlite3.c         Expr *pNew = sqlite3Expr(db, TK_INTEGER, 0);</span>
<span class='curline'><a href='../S/1054.html#L109326'>db</a>               109326 ext/sqlite3/libsqlite/sqlite3.c   aPermute = sqlite3DbMallocRaw(db, sizeof(int)*nOrderBy);</span>
<span class='curline'><a href='../S/1054.html#L109344'>db</a>               109344 ext/sqlite3/libsqlite/sqlite3.c   pPrior-&gt;pOrderBy = sqlite3ExprListDup(pParse-&gt;db, pOrderBy, 0);</span>
<span class='curline'><a href='../S/1054.html#L109354'>db</a>               109354 ext/sqlite3/libsqlite/sqlite3.c     assert( nOrderBy&gt;=nExpr || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L109358'>db</a>               109358 ext/sqlite3/libsqlite/sqlite3.c     pKeyDup = sqlite3KeyInfoAlloc(db, nExpr, 1);</span>
<span class='curline'><a href='../S/1054.html#L109388'>db</a>               109388 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, p-&gt;pLimit);</span>
<span class='curline'><a href='../S/1054.html#L109390'>db</a>               109390 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, p-&gt;pOffset);</span>
<span class='curline'><a href='../S/1054.html#L109535'>db</a>               109535 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(db, p-&gt;pPrior);</span>
<span class='curline'><a href='../S/1054.html#L109566'>db</a>               109566 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,        /* Report malloc errors to this connection */</span>
<span class='curline'><a href='../S/1054.html#L109579'>db</a>               109579 ext/sqlite3/libsqlite/sqlite3.c       pNew = sqlite3ExprDup(db, pEList-&gt;a[pExpr-&gt;iColumn].pExpr, 0);</span>
<span class='curline'><a href='../S/1054.html#L109580'>db</a>               109580 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprDelete(db, pExpr);</span>
<span class='curline'><a href='../S/1054.html#L109584'>db</a>               109584 ext/sqlite3/libsqlite/sqlite3.c     pExpr-&gt;pLeft = substExpr(db, pExpr-&gt;pLeft, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109585'>db</a>               109585 ext/sqlite3/libsqlite/sqlite3.c     pExpr-&gt;pRight = substExpr(db, pExpr-&gt;pRight, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109587'>db</a>               109587 ext/sqlite3/libsqlite/sqlite3.c       substSelect(db, pExpr-&gt;x.pSelect, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109589'>db</a>               109589 ext/sqlite3/libsqlite/sqlite3.c       substExprList(db, pExpr-&gt;x.pList, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109595'>db</a>               109595 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,         /* Report malloc errors here */</span>
<span class='curline'><a href='../S/1054.html#L109603'>db</a>               109603 ext/sqlite3/libsqlite/sqlite3.c     pList-&gt;a[i].pExpr = substExpr(db, pList-&gt;a[i].pExpr, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109607'>db</a>               109607 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,         /* Report malloc errors here */</span>
<span class='curline'><a href='../S/1054.html#L109616'>db</a>               109616 ext/sqlite3/libsqlite/sqlite3.c   substExprList(db, p-&gt;pEList, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109617'>db</a>               109617 ext/sqlite3/libsqlite/sqlite3.c   substExprList(db, p-&gt;pGroupBy, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109618'>db</a>               109618 ext/sqlite3/libsqlite/sqlite3.c   substExprList(db, p-&gt;pOrderBy, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109619'>db</a>               109619 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;pHaving = substExpr(db, p-&gt;pHaving, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109620'>db</a>               109620 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;pWhere = substExpr(db, p-&gt;pWhere, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109621'>db</a>               109621 ext/sqlite3/libsqlite/sqlite3.c   substSelect(db, p-&gt;pPrior, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109626'>db</a>               109626 ext/sqlite3/libsqlite/sqlite3.c       substSelect(db, pItem-&gt;pSelect, iTable, pEList);</span>
<span class='curline'><a href='../S/1054.html#L109790'>db</a>               109790 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L109796'>db</a>               109796 ext/sqlite3/libsqlite/sqlite3.c   if( OptimizationDisabled(db, SQLITE_QueryFlattener) ) return 0;</span>
<span class='curline'><a href='../S/1054.html#L109976'>db</a>               109976 ext/sqlite3/libsqlite/sqlite3.c     pNew = sqlite3SelectDup(db, p, 0);</span>
<span class='curline'><a href='../S/1054.html#L109994'>db</a>               109994 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed ) return 1;</span>
<span class='curline'><a href='../S/1054.html#L110005'>db</a>               110005 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pSubitem-&gt;zDatabase);</span>
<span class='curline'><a href='../S/1054.html#L110006'>db</a>               110006 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pSubitem-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L110007'>db</a>               110007 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pSubitem-&gt;zAlias);</span>
<span class='curline'><a href='../S/1054.html#L110057'>db</a>               110057 ext/sqlite3/libsqlite/sqlite3.c       pSrc = pParent-&gt;pSrc = sqlite3SrcListAppend(db, 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L110059'>db</a>               110059 ext/sqlite3/libsqlite/sqlite3.c         assert( db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L110080'>db</a>               110080 ext/sqlite3/libsqlite/sqlite3.c       pParent-&gt;pSrc = pSrc = sqlite3SrcListEnlarge(db, pSrc, nSubSrc-1,iFrom+1);</span>
<span class='curline'><a href='../S/1054.html#L110081'>db</a>               110081 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L110090'>db</a>               110090 ext/sqlite3/libsqlite/sqlite3.c       sqlite3IdListDelete(db, pSrc-&gt;a[i+iFrom].pUsing);</span>
<span class='curline'><a href='../S/1054.html#L110111'>db</a>               110111 ext/sqlite3/libsqlite/sqlite3.c         char *zName = sqlite3DbStrDup(db, pList-&gt;a[i].zSpan);</span>
<span class='curline'><a href='../S/1054.html#L110116'>db</a>               110116 ext/sqlite3/libsqlite/sqlite3.c     substExprList(db, pParent-&gt;pEList, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/1054.html#L110118'>db</a>               110118 ext/sqlite3/libsqlite/sqlite3.c       substExprList(db, pParent-&gt;pGroupBy, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/1054.html#L110119'>db</a>               110119 ext/sqlite3/libsqlite/sqlite3.c       pParent-&gt;pHaving = substExpr(db, pParent-&gt;pHaving, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/1054.html#L110141'>db</a>               110141 ext/sqlite3/libsqlite/sqlite3.c       substExprList(db, pParent-&gt;pOrderBy, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/1054.html#L110144'>db</a>               110144 ext/sqlite3/libsqlite/sqlite3.c       pWhere = sqlite3ExprDup(db, pSub-&gt;pWhere, 0);</span>
<span class='curline'><a href='../S/1054.html#L110152'>db</a>               110152 ext/sqlite3/libsqlite/sqlite3.c       pParent-&gt;pHaving = substExpr(db, pParent-&gt;pHaving, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/1054.html#L110153'>db</a>               110153 ext/sqlite3/libsqlite/sqlite3.c       pParent-&gt;pHaving = sqlite3ExprAnd(db, pParent-&gt;pHaving, </span>
<span class='curline'><a href='../S/1054.html#L110154'>db</a>               110154 ext/sqlite3/libsqlite/sqlite3.c                                   sqlite3ExprDup(db, pSub-&gt;pHaving, 0));</span>
<span class='curline'><a href='../S/1054.html#L110156'>db</a>               110156 ext/sqlite3/libsqlite/sqlite3.c       pParent-&gt;pGroupBy = sqlite3ExprListDup(db, pSub-&gt;pGroupBy, 0);</span>
<span class='curline'><a href='../S/1054.html#L110158'>db</a>               110158 ext/sqlite3/libsqlite/sqlite3.c       pParent-&gt;pWhere = substExpr(db, pParent-&gt;pWhere, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/1054.html#L110159'>db</a>               110159 ext/sqlite3/libsqlite/sqlite3.c       pParent-&gt;pWhere = sqlite3ExprAnd(db, pParent-&gt;pWhere, pWhere);</span>
<span class='curline'><a href='../S/1054.html#L110182'>db</a>               110182 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(db, pSub1);</span>
<span class='curline'><a href='../S/1054.html#L110320'>db</a>               110320 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L110339'>db</a>               110339 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L110340'>db</a>               110340 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3DbMallocZero(db, sizeof(*pNew) );</span>
<span class='curline'><a href='../S/1054.html#L110347'>db</a>               110347 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;pEList = sqlite3ExprListAppend(pParse, 0, sqlite3Expr(db, TK_ALL, 0));</span>
<span class='curline'><a href='../S/1054.html#L110437'>db</a>               110437 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L110462'>db</a>               110462 ext/sqlite3/libsqlite/sqlite3.c     pFrom-&gt;pTab = pTab = sqlite3DbMallocZero(db, sizeof(Table));</span>
<span class='curline'><a href='../S/1054.html#L110465'>db</a>               110465 ext/sqlite3/libsqlite/sqlite3.c     pTab-&gt;zName = sqlite3DbStrDup(db, pCte-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L110469'>db</a>               110469 ext/sqlite3/libsqlite/sqlite3.c     pFrom-&gt;pSelect = sqlite3SelectDup(db, pCte-&gt;pSelect, 0);</span>
<span class='curline'><a href='../S/1054.html#L110470'>db</a>               110470 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed ) return SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/1054.html#L110588'>db</a>               110588 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L110593'>db</a>               110593 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed  ){</span>
<span class='curline'><a href='../S/1054.html#L110638'>db</a>               110638 ext/sqlite3/libsqlite/sqlite3.c       pFrom-&gt;pTab = pTab = sqlite3DbMallocZero(db, sizeof(Table));</span>
<span class='curline'><a href='../S/1054.html#L110641'>db</a>               110641 ext/sqlite3/libsqlite/sqlite3.c       pTab-&gt;zName = sqlite3MPrintf(db, "sqlite_sq_%p", (void*)pTab);</span>
<span class='curline'><a href='../S/1054.html#L110665'>db</a>               110665 ext/sqlite3/libsqlite/sqlite3.c         pFrom-&gt;pSelect = sqlite3SelectDup(db, pTab-&gt;pSelect, 0);</span>
<span class='curline'><a href='../S/1054.html#L110680'>db</a>               110680 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed || sqliteProcessJoin(pParse, p) ){</span>
<span class='curline'><a href='../S/1054.html#L110709'>db</a>               110709 ext/sqlite3/libsqlite/sqlite3.c     int flags = pParse-&gt;db-&gt;flags;</span>
<span class='curline'><a href='../S/1054.html#L110754'>db</a>               110754 ext/sqlite3/libsqlite/sqlite3.c           if( db-&gt;mallocFailed ) break;</span>
<span class='curline'><a href='../S/1054.html#L110760'>db</a>               110760 ext/sqlite3/libsqlite/sqlite3.c             iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L110761'>db</a>               110761 ext/sqlite3/libsqlite/sqlite3.c             zSchemaName = iDb&gt;=0 ? db-&gt;aDb[iDb].zName : "*";</span>
<span class='curline'><a href='../S/1054.html#L110800'>db</a>               110800 ext/sqlite3/libsqlite/sqlite3.c             pRight = sqlite3Expr(db, TK_ID, zName);</span>
<span class='curline'><a href='../S/1054.html#L110805'>db</a>               110805 ext/sqlite3/libsqlite/sqlite3.c               pLeft = sqlite3Expr(db, TK_ID, zTabName);</span>
<span class='curline'><a href='../S/1054.html#L110808'>db</a>               110808 ext/sqlite3/libsqlite/sqlite3.c                 pLeft = sqlite3Expr(db, TK_ID, zSchemaName);</span>
<span class='curline'><a href='../S/1054.html#L110812'>db</a>               110812 ext/sqlite3/libsqlite/sqlite3.c                 zColname = sqlite3MPrintf(db, "%s.%s", zTabName, zName);</span>
<span class='curline'><a href='../S/1054.html#L110825'>db</a>               110825 ext/sqlite3/libsqlite/sqlite3.c                 pX-&gt;zSpan = sqlite3DbStrDup(db, pSub-&gt;pEList-&gt;a[j].zSpan);</span>
<span class='curline'><a href='../S/1054.html#L110828'>db</a>               110828 ext/sqlite3/libsqlite/sqlite3.c                 pX-&gt;zSpan = sqlite3MPrintf(db, "%s.%s.%s",</span>
<span class='curline'><a href='../S/1054.html#L110834'>db</a>               110834 ext/sqlite3/libsqlite/sqlite3.c             sqlite3DbFree(db, zToFree);</span>
<span class='curline'><a href='../S/1054.html#L110846'>db</a>               110846 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(db, pEList);</span>
<span class='curline'><a href='../S/1054.html#L110850'>db</a>               110850 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;pEList &amp;&amp; p-&gt;pEList-&gt;nExpr&gt;db-&gt;aLimit[SQLITE_LIMIT_COLUMN] ){</span>
<span class='curline'><a href='../S/1054.html#L110978'>db</a>               110978 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L110980'>db</a>               110980 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L110981'>db</a>               110981 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/1054.html#L110984'>db</a>               110984 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/1054.html#L110986'>db</a>               110986 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/1054.html#L111093'>db</a>               111093 ext/sqlite3/libsqlite/sqlite3.c         pColl = pParse-&gt;db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/1054.html#L111145'>db</a>               111145 ext/sqlite3/libsqlite/sqlite3.c     char *zEqp = sqlite3MPrintf(pParse-&gt;db, "SCAN TABLE %s%s%s",</span>
<span class='curline'><a href='../S/1054.html#L111191'>db</a>               111191 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;           /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L111198'>db</a>               111198 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L111199'>db</a>               111199 ext/sqlite3/libsqlite/sqlite3.c   if( p==0 || db-&gt;mallocFailed || pParse-&gt;nErr ){</span>
<span class='curline'><a href='../S/1054.html#L111223'>db</a>               111223 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(db, p-&gt;pOrderBy);</span>
<span class='curline'><a href='../S/1054.html#L111232'>db</a>               111232 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L111301'>db</a>               111301 ext/sqlite3/libsqlite/sqlite3.c            &amp;&amp; OptimizationEnabled(db, SQLITE_SubqCoroutine)</span>
<span class='curline'><a href='../S/1054.html#L111352'>db</a>               111352 ext/sqlite3/libsqlite/sqlite3.c     if( /*pParse-&gt;nErr ||*/ db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L111401'>db</a>               111401 ext/sqlite3/libsqlite/sqlite3.c     p-&gt;pGroupBy = sqlite3ExprListDup(db, p-&gt;pEList, 0);</span>
<span class='curline'><a href='../S/1054.html#L111570'>db</a>               111570 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed ) goto select_end;</span>
<span class='curline'><a href='../S/1054.html#L111697'>db</a>               111697 ext/sqlite3/libsqlite/sqlite3.c       if( orderByGrp &amp;&amp; OptimizationEnabled(db, SQLITE_GroupByOrder) </span>
<span class='curline'><a href='../S/1054.html#L111820'>db</a>               111820 ext/sqlite3/libsqlite/sqlite3.c         const int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L111901'>db</a>               111901 ext/sqlite3/libsqlite/sqlite3.c           pMinMax = sqlite3ExprListDup(db, pMinMax, 0);</span>
<span class='curline'><a href='../S/1054.html#L111903'>db</a>               111903 ext/sqlite3/libsqlite/sqlite3.c           if( pMinMax &amp;&amp; !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L111916'>db</a>               111916 ext/sqlite3/libsqlite/sqlite3.c           sqlite3ExprListDelete(db, pDel);</span>
<span class='curline'><a href='../S/1054.html#L111934'>db</a>               111934 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprListDelete(db, pDel);</span>
<span class='curline'><a href='../S/1054.html#L111972'>db</a>               111972 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, sAggInfo.aCol);</span>
<span class='curline'><a href='../S/1054.html#L111973'>db</a>               111973 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, sAggInfo.aFunc);</span>
<span class='curline'><a href='../S/1054.html#L112194'>db</a>               112194 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                /* The database on which the SQL executes */</span>
<span class='curline'><a href='../S/1054.html#L112205'>db</a>               112205 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) || pazResult==0 ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L112219'>db</a>               112219 ext/sqlite3/libsqlite/sqlite3.c      db-&gt;errCode = SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/1054.html#L112223'>db</a>               112223 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_exec(db, zSql, sqlite3_get_table_cb, &amp;res, pzErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L112235'>db</a>               112235 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;errCode = res.rc;  /* Assume 32-bit assignment is atomic */</span>
<span class='curline'><a href='../S/1054.html#L112248'>db</a>               112248 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;errCode = SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/1054.html#L112296'>db</a>               112296 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3DeleteTriggerStep(sqlite3 *db, TriggerStep *pTriggerStep){</span>
<span class='curline'><a href='../S/1054.html#L112301'>db</a>               112301 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(db, pTmp-&gt;pWhere);</span>
<span class='curline'><a href='../S/1054.html#L112302'>db</a>               112302 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(db, pTmp-&gt;pExprList);</span>
<span class='curline'><a href='../S/1054.html#L112303'>db</a>               112303 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(db, pTmp-&gt;pSelect);</span>
<span class='curline'><a href='../S/1054.html#L112304'>db</a>               112304 ext/sqlite3/libsqlite/sqlite3.c     sqlite3IdListDelete(db, pTmp-&gt;pIdList);</span>
<span class='curline'><a href='../S/1054.html#L112306'>db</a>               112306 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pTmp);</span>
<span class='curline'><a href='../S/1054.html#L112325'>db</a>               112325 ext/sqlite3/libsqlite/sqlite3.c   Schema * const pTmpSchema = pParse-&gt;db-&gt;aDb[1].pSchema;</span>
<span class='curline'><a href='../S/1054.html#L112334'>db</a>               112334 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(pParse-&gt;db, 0, pTmpSchema) );</span>
<span class='curline'><a href='../S/1054.html#L112372'>db</a>               112372 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;  /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L112397'>db</a>               112397 ext/sqlite3/libsqlite/sqlite3.c   if( !pTableName || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L112409'>db</a>               112409 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;init.busy &amp;&amp; iDb!=1 ){</span>
<span class='curline'><a href='../S/1054.html#L112410'>db</a>               112410 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pTableName-&gt;a[0].zDatabase);</span>
<span class='curline'><a href='../S/1054.html#L112420'>db</a>               112420 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;init.busy==0 &amp;&amp; pName2-&gt;n==0 &amp;&amp; pTab</span>
<span class='curline'><a href='../S/1054.html#L112421'>db</a>               112421 ext/sqlite3/libsqlite/sqlite3.c         &amp;&amp; pTab-&gt;pSchema==db-&gt;aDb[1].pSchema ){</span>
<span class='curline'><a href='../S/1054.html#L112426'>db</a>               112426 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ) goto trigger_cleanup;</span>
<span class='curline'><a href='../S/1054.html#L112435'>db</a>               112435 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;init.iDb==1 ){</span>
<span class='curline'><a href='../S/1054.html#L112444'>db</a>               112444 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;init.orphanTrigger = 1;</span>
<span class='curline'><a href='../S/1054.html#L112455'>db</a>               112455 ext/sqlite3/libsqlite/sqlite3.c   zName = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/1054.html#L112459'>db</a>               112459 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L112460'>db</a>               112460 ext/sqlite3/libsqlite/sqlite3.c   if( sqlite3HashFind(&amp;(db-&gt;aDb[iDb].pSchema-&gt;trigHash),zName) ){</span>
<span class='curline'><a href='../S/1054.html#L112464'>db</a>               112464 ext/sqlite3/libsqlite/sqlite3.c       assert( !db-&gt;init.busy );</span>
<span class='curline'><a href='../S/1054.html#L112489'>db</a>               112489 ext/sqlite3/libsqlite/sqlite3.c   iTabDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L112494'>db</a>               112494 ext/sqlite3/libsqlite/sqlite3.c     const char *zDb = db-&gt;aDb[iTabDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L112495'>db</a>               112495 ext/sqlite3/libsqlite/sqlite3.c     const char *zDbTrig = isTemp ? db-&gt;aDb[1].zName : zDb;</span>
<span class='curline'><a href='../S/1054.html#L112516'>db</a>               112516 ext/sqlite3/libsqlite/sqlite3.c   pTrigger = (Trigger*)sqlite3DbMallocZero(db, sizeof(Trigger));</span>
<span class='curline'><a href='../S/1054.html#L112520'>db</a>               112520 ext/sqlite3/libsqlite/sqlite3.c   pTrigger-&gt;table = sqlite3DbStrDup(db, pTableName-&gt;a[0].zName);</span>
<span class='curline'><a href='../S/1054.html#L112521'>db</a>               112521 ext/sqlite3/libsqlite/sqlite3.c   pTrigger-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/1054.html#L112525'>db</a>               112525 ext/sqlite3/libsqlite/sqlite3.c   pTrigger-&gt;pWhen = sqlite3ExprDup(db, pWhen, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/1054.html#L112526'>db</a>               112526 ext/sqlite3/libsqlite/sqlite3.c   pTrigger-&gt;pColumns = sqlite3IdListDup(db, pColumns);</span>
<span class='curline'><a href='../S/1054.html#L112531'>db</a>               112531 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/1054.html#L112532'>db</a>               112532 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SrcListDelete(db, pTableName);</span>
<span class='curline'><a href='../S/1054.html#L112533'>db</a>               112533 ext/sqlite3/libsqlite/sqlite3.c   sqlite3IdListDelete(db, pColumns);</span>
<span class='curline'><a href='../S/1054.html#L112534'>db</a>               112534 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pWhen);</span>
<span class='curline'><a href='../S/1054.html#L112536'>db</a>               112536 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DeleteTrigger(db, pTrigger);</span>
<span class='curline'><a href='../S/1054.html#L112553'>db</a>               112553 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;               /* The database */</span>
<span class='curline'><a href='../S/1054.html#L112561'>db</a>               112561 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTrig-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L112579'>db</a>               112579 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L112587'>db</a>               112587 ext/sqlite3/libsqlite/sqlite3.c     z = sqlite3DbStrNDup(db, (char*)pAll-&gt;z, pAll-&gt;n);</span>
<span class='curline'><a href='../S/1054.html#L112590'>db</a>               112590 ext/sqlite3/libsqlite/sqlite3.c        db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb), zName,</span>
<span class='curline'><a href='../S/1054.html#L112592'>db</a>               112592 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/1054.html#L112595'>db</a>               112595 ext/sqlite3/libsqlite/sqlite3.c         sqlite3MPrintf(db, "type='trigger' AND name='%q'", zName));</span>
<span class='curline'><a href='../S/1054.html#L112598'>db</a>               112598 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L112600'>db</a>               112600 ext/sqlite3/libsqlite/sqlite3.c     Hash *pHash = &amp;db-&gt;aDb[iDb].pSchema-&gt;trigHash;</span>
<span class='curline'><a href='../S/1054.html#L112601'>db</a>               112601 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L112604'>db</a>               112604 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L112615'>db</a>               112615 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DeleteTrigger(db, pTrig);</span>
<span class='curline'><a href='../S/1054.html#L112617'>db</a>               112617 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DeleteTriggerStep(db, pStepList);</span>
<span class='curline'><a href='../S/1054.html#L112627'>db</a>               112627 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE TriggerStep *sqlite3TriggerSelectStep(sqlite3 *db, Select *pSelect){</span>
<span class='curline'><a href='../S/1054.html#L112628'>db</a>               112628 ext/sqlite3/libsqlite/sqlite3.c   TriggerStep *pTriggerStep = sqlite3DbMallocZero(db, sizeof(TriggerStep));</span>
<span class='curline'><a href='../S/1054.html#L112630'>db</a>               112630 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/1054.html#L112646'>db</a>               112646 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L112652'>db</a>               112652 ext/sqlite3/libsqlite/sqlite3.c   pTriggerStep = sqlite3DbMallocZero(db, sizeof(TriggerStep) + pName-&gt;n + 1);</span>
<span class='curline'><a href='../S/1054.html#L112671'>db</a>               112671 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,        /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L112679'>db</a>               112679 ext/sqlite3/libsqlite/sqlite3.c   assert(pSelect != 0 || db-&gt;mallocFailed);</span>
<span class='curline'><a href='../S/1054.html#L112681'>db</a>               112681 ext/sqlite3/libsqlite/sqlite3.c   pTriggerStep = triggerStepAllocate(db, TK_INSERT, pTableName);</span>
<span class='curline'><a href='../S/1054.html#L112683'>db</a>               112683 ext/sqlite3/libsqlite/sqlite3.c     pTriggerStep-&gt;pSelect = sqlite3SelectDup(db, pSelect, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/1054.html#L112687'>db</a>               112687 ext/sqlite3/libsqlite/sqlite3.c     sqlite3IdListDelete(db, pColumn);</span>
<span class='curline'><a href='../S/1054.html#L112689'>db</a>               112689 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/1054.html#L112700'>db</a>               112700 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,         /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L112708'>db</a>               112708 ext/sqlite3/libsqlite/sqlite3.c   pTriggerStep = triggerStepAllocate(db, TK_UPDATE, pTableName);</span>
<span class='curline'><a href='../S/1054.html#L112710'>db</a>               112710 ext/sqlite3/libsqlite/sqlite3.c     pTriggerStep-&gt;pExprList = sqlite3ExprListDup(db, pEList, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/1054.html#L112711'>db</a>               112711 ext/sqlite3/libsqlite/sqlite3.c     pTriggerStep-&gt;pWhere = sqlite3ExprDup(db, pWhere, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/1054.html#L112714'>db</a>               112714 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprListDelete(db, pEList);</span>
<span class='curline'><a href='../S/1054.html#L112715'>db</a>               112715 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/1054.html#L112725'>db</a>               112725 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,            /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L112731'>db</a>               112731 ext/sqlite3/libsqlite/sqlite3.c   pTriggerStep = triggerStepAllocate(db, TK_DELETE, pTableName);</span>
<span class='curline'><a href='../S/1054.html#L112733'>db</a>               112733 ext/sqlite3/libsqlite/sqlite3.c     pTriggerStep-&gt;pWhere = sqlite3ExprDup(db, pWhere, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/1054.html#L112736'>db</a>               112736 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/1054.html#L112743'>db</a>               112743 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3DeleteTrigger(sqlite3 *db, Trigger *pTrigger){</span>
<span class='curline'><a href='../S/1054.html#L112745'>db</a>               112745 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DeleteTriggerStep(db, pTrigger-&gt;step_list);</span>
<span class='curline'><a href='../S/1054.html#L112746'>db</a>               112746 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pTrigger-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L112747'>db</a>               112747 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pTrigger-&gt;table);</span>
<span class='curline'><a href='../S/1054.html#L112748'>db</a>               112748 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pTrigger-&gt;pWhen);</span>
<span class='curline'><a href='../S/1054.html#L112749'>db</a>               112749 ext/sqlite3/libsqlite/sqlite3.c   sqlite3IdListDelete(db, pTrigger-&gt;pColumns);</span>
<span class='curline'><a href='../S/1054.html#L112750'>db</a>               112750 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pTrigger);</span>
<span class='curline'><a href='../S/1054.html#L112766'>db</a>               112766 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L112768'>db</a>               112768 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ) goto drop_trigger_cleanup;</span>
<span class='curline'><a href='../S/1054.html#L112776'>db</a>               112776 ext/sqlite3/libsqlite/sqlite3.c   assert( zDb!=0 || sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/1054.html#L112777'>db</a>               112777 ext/sqlite3/libsqlite/sqlite3.c   for(i=OMIT_TEMPDB; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L112779'>db</a>               112779 ext/sqlite3/libsqlite/sqlite3.c     if( zDb &amp;&amp; sqlite3StrICmp(db-&gt;aDb[j].zName, zDb) ) continue;</span>
<span class='curline'><a href='../S/1054.html#L112780'>db</a>               112780 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, j, 0) );</span>
<span class='curline'><a href='../S/1054.html#L112781'>db</a>               112781 ext/sqlite3/libsqlite/sqlite3.c     pTrigger = sqlite3HashFind(&amp;(db-&gt;aDb[j].pSchema-&gt;trigHash), zName);</span>
<span class='curline'><a href='../S/1054.html#L112796'>db</a>               112796 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SrcListDelete(db, pName);</span>
<span class='curline'><a href='../S/1054.html#L112814'>db</a>               112814 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L112817'>db</a>               112817 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTrigger-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L112818'>db</a>               112818 ext/sqlite3/libsqlite/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L112825'>db</a>               112825 ext/sqlite3/libsqlite/sqlite3.c     const char *zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L112870'>db</a>               112870 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3UnlinkAndDeleteTrigger(sqlite3 *db, int iDb, const char *zName){</span>
<span class='curline'><a href='../S/1054.html#L112874'>db</a>               112874 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/1054.html#L112875'>db</a>               112875 ext/sqlite3/libsqlite/sqlite3.c   pHash = &amp;(db-&gt;aDb[iDb].pSchema-&gt;trigHash);</span>
<span class='curline'><a href='../S/1054.html#L112884'>db</a>               112884 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DeleteTrigger(db, pTrigger);</span>
<span class='curline'><a href='../S/1054.html#L112885'>db</a>               112885 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/1054.html#L112924'>db</a>               112924 ext/sqlite3/libsqlite/sqlite3.c   if( (pParse-&gt;db-&gt;flags &amp; SQLITE_EnableTrigger)!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L112953'>db</a>               112953 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L112957'>db</a>               112957 ext/sqlite3/libsqlite/sqlite3.c   pSrc = sqlite3SrcListAppend(db, 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L112960'>db</a>               112960 ext/sqlite3/libsqlite/sqlite3.c     pSrc-&gt;a[pSrc-&gt;nSrc-1].zName = sqlite3DbStrDup(db, pStep-&gt;zTarget);</span>
<span class='curline'><a href='../S/1054.html#L112961'>db</a>               112961 ext/sqlite3/libsqlite/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pStep-&gt;pTrig-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L112963'>db</a>               112963 ext/sqlite3/libsqlite/sqlite3.c       assert( iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/1054.html#L112964'>db</a>               112964 ext/sqlite3/libsqlite/sqlite3.c       pSrc-&gt;a[pSrc-&gt;nSrc-1].zDatabase = sqlite3DbStrDup(db, db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/1054.html#L112981'>db</a>               112981 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L113007'>db</a>               113007 ext/sqlite3/libsqlite/sqlite3.c           sqlite3ExprListDup(db, pStep-&gt;pExprList, 0), </span>
<span class='curline'><a href='../S/1054.html#L113008'>db</a>               113008 ext/sqlite3/libsqlite/sqlite3.c           sqlite3ExprDup(db, pStep-&gt;pWhere, 0), </span>
<span class='curline'><a href='../S/1054.html#L113016'>db</a>               113016 ext/sqlite3/libsqlite/sqlite3.c           sqlite3SelectDup(db, pStep-&gt;pSelect, 0), </span>
<span class='curline'><a href='../S/1054.html#L113017'>db</a>               113017 ext/sqlite3/libsqlite/sqlite3.c           sqlite3IdListDup(db, pStep-&gt;pIdList), </span>
<span class='curline'><a href='../S/1054.html#L113025'>db</a>               113025 ext/sqlite3/libsqlite/sqlite3.c           sqlite3ExprDup(db, pStep-&gt;pWhere, 0)</span>
<span class='curline'><a href='../S/1054.html#L113031'>db</a>               113031 ext/sqlite3/libsqlite/sqlite3.c         Select *pSelect = sqlite3SelectDup(db, pStep-&gt;pSelect, 0);</span>
<span class='curline'><a href='../S/1054.html#L113034'>db</a>               113034 ext/sqlite3/libsqlite/sqlite3.c         sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/1054.html#L113077'>db</a>               113077 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(pFrom-&gt;db, pFrom-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L113092'>db</a>               113092 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;   /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L113107'>db</a>               113107 ext/sqlite3/libsqlite/sqlite3.c   pPrg = sqlite3DbMallocZero(db, sizeof(TriggerPrg));</span>
<span class='curline'><a href='../S/1054.html#L113111'>db</a>               113111 ext/sqlite3/libsqlite/sqlite3.c   pPrg-&gt;pProgram = pProgram = sqlite3DbMallocZero(db, sizeof(SubProgram));</span>
<span class='curline'><a href='../S/1054.html#L113121'>db</a>               113121 ext/sqlite3/libsqlite/sqlite3.c   pSubParse = sqlite3StackAllocZero(db, sizeof(Parse));</span>
<span class='curline'><a href='../S/1054.html#L113125'>db</a>               113125 ext/sqlite3/libsqlite/sqlite3.c   pSubParse-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L113144'>db</a>               113144 ext/sqlite3/libsqlite/sqlite3.c       sqlite3MPrintf(db, "-- TRIGGER %s", pTrigger-&gt;zName), P4_DYNAMIC</span>
<span class='curline'><a href='../S/1054.html#L113152'>db</a>               113152 ext/sqlite3/libsqlite/sqlite3.c       pWhen = sqlite3ExprDup(db, pTrigger-&gt;pWhen, 0);</span>
<span class='curline'><a href='../S/1054.html#L113154'>db</a>               113154 ext/sqlite3/libsqlite/sqlite3.c        &amp;&amp; db-&gt;mallocFailed==0 </span>
<span class='curline'><a href='../S/1054.html#L113159'>db</a>               113159 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprDelete(db, pWhen);</span>
<span class='curline'><a href='../S/1054.html#L113173'>db</a>               113173 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed==0 ){</span>
<span class='curline'><a href='../S/1054.html#L113188'>db</a>               113188 ext/sqlite3/libsqlite/sqlite3.c   sqlite3StackFree(db, pSubParse);</span>
<span class='curline'><a href='../S/1054.html#L113244'>db</a>               113244 ext/sqlite3/libsqlite/sqlite3.c   assert( pPrg || pParse-&gt;nErr || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L113249'>db</a>               113249 ext/sqlite3/libsqlite/sqlite3.c     int bRecursive = (p-&gt;zName &amp;&amp; 0==(pParse-&gt;db-&gt;flags&amp;SQLITE_RecTriggers));</span>
<span class='curline'><a href='../S/1054.html#L113330'>db</a>               113330 ext/sqlite3/libsqlite/sqlite3.c          || p-&gt;pSchema==pParse-&gt;db-&gt;aDb[1].pSchema );</span>
<span class='curline'><a href='../S/1054.html#L113505'>db</a>               113505 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;           /* The database structure */</span>
<span class='curline'><a href='../S/1054.html#L113543'>db</a>               113543 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L113544'>db</a>               113544 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L113553'>db</a>               113553 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L113598'>db</a>               113598 ext/sqlite3/libsqlite/sqlite3.c   aXRef = sqlite3DbMallocRaw(db, sizeof(int) * (pTab-&gt;nCol+nIdx) + nIdx+2 );</span>
<span class='curline'><a href='../S/1054.html#L113650'>db</a>               113650 ext/sqlite3/libsqlite/sqlite3.c                             db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/1054.html#L113799'>db</a>               113799 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_CountRows) &amp;&amp; !pParse-&gt;pTriggerTab ){</span>
<span class='curline'><a href='../S/1054.html#L114012'>db</a>               114012 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_CountRows) &amp;&amp; !pParse-&gt;pTriggerTab){</span>
<span class='curline'><a href='../S/1054.html#L114054'>db</a>               114054 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_CountRows) &amp;&amp; !pParse-&gt;pTriggerTab &amp;&amp; !pParse-&gt;nested ){</span>
<span class='curline'><a href='../S/1054.html#L114062'>db</a>               114062 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, aXRef); /* Also frees aRegIdx[] and aToOpen[] */</span>
<span class='curline'><a href='../S/1054.html#L114063'>db</a>               114063 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SrcListDelete(db, pTabList);</span>
<span class='curline'><a href='../S/1054.html#L114064'>db</a>               114064 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprListDelete(db, pChanges);</span>
<span class='curline'><a href='../S/1054.html#L114065'>db</a>               114065 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/1054.html#L114116'>db</a>               114116 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db; /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L114117'>db</a>               114117 ext/sqlite3/libsqlite/sqlite3.c   const char *pVTab = (const char*)sqlite3GetVTable(db, pTab);</span>
<span class='curline'><a href='../S/1054.html#L114123'>db</a>               114123 ext/sqlite3/libsqlite/sqlite3.c   pEList = sqlite3ExprListAppend(pParse, 0, sqlite3Expr(db, TK_ID, "_rowid_"));</span>
<span class='curline'><a href='../S/1054.html#L114126'>db</a>               114126 ext/sqlite3/libsqlite/sqlite3.c                                    sqlite3ExprDup(db, pRowid, 0));</span>
<span class='curline'><a href='../S/1054.html#L114131'>db</a>               114131 ext/sqlite3/libsqlite/sqlite3.c       pExpr = sqlite3ExprDup(db, pChanges-&gt;a[aXRef[i]].pExpr, 0);</span>
<span class='curline'><a href='../S/1054.html#L114133'>db</a>               114133 ext/sqlite3/libsqlite/sqlite3.c       pExpr = sqlite3Expr(db, TK_ID, pTab-&gt;aCol[i].zName);</span>
<span class='curline'><a href='../S/1054.html#L114170'>db</a>               114170 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(db, pSelect);  </span>
<span class='curline'><a href='../S/1054.html#L114198'>db</a>               114198 ext/sqlite3/libsqlite/sqlite3.c static int vacuumFinalize(sqlite3 *db, sqlite3_stmt *pStmt, char **pzErrMsg){</span>
<span class='curline'><a href='../S/1054.html#L114202'>db</a>               114202 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(pzErrMsg, db, sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/1054.html#L114210'>db</a>               114210 ext/sqlite3/libsqlite/sqlite3.c static int execSql(sqlite3 *db, char **pzErrMsg, const char *zSql){</span>
<span class='curline'><a href='../S/1054.html#L114216'>db</a>               114216 ext/sqlite3/libsqlite/sqlite3.c   if( SQLITE_OK!=sqlite3_prepare(db, zSql, -1, &amp;pStmt, 0) ){</span>
<span class='curline'><a href='../S/1054.html#L114217'>db</a>               114217 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(pzErrMsg, db, sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/1054.html#L114218'>db</a>               114218 ext/sqlite3/libsqlite/sqlite3.c     return sqlite3_errcode(db);</span>
<span class='curline'><a href='../S/1054.html#L114221'>db</a>               114221 ext/sqlite3/libsqlite/sqlite3.c   assert( rc!=SQLITE_ROW || (db-&gt;flags&amp;SQLITE_CountRows) );</span>
<span class='curline'><a href='../S/1054.html#L114222'>db</a>               114222 ext/sqlite3/libsqlite/sqlite3.c   return vacuumFinalize(db, pStmt, pzErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L114229'>db</a>               114229 ext/sqlite3/libsqlite/sqlite3.c static int execExecSql(sqlite3 *db, char **pzErrMsg, const char *zSql){</span>
<span class='curline'><a href='../S/1054.html#L114233'>db</a>               114233 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_prepare(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L114237'>db</a>               114237 ext/sqlite3/libsqlite/sqlite3.c     rc = execSql(db, pzErrMsg, (char*)sqlite3_column_text(pStmt, 0));</span>
<span class='curline'><a href='../S/1054.html#L114239'>db</a>               114239 ext/sqlite3/libsqlite/sqlite3.c       vacuumFinalize(db, pStmt, pzErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L114244'>db</a>               114244 ext/sqlite3/libsqlite/sqlite3.c   return vacuumFinalize(db, pStmt, pzErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L114289'>db</a>               114289 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3RunVacuum(char **pzErrMsg, sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L114303'>db</a>               114303 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/1054.html#L114304'>db</a>               114304 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(pzErrMsg, db, "cannot VACUUM from within a transaction");</span>
<span class='curline'><a href='../S/1054.html#L114307'>db</a>               114307 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;nVdbeActive&gt;1 ){</span>
<span class='curline'><a href='../S/1054.html#L114308'>db</a>               114308 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(pzErrMsg, db,"cannot VACUUM - SQL statements in progress");</span>
<span class='curline'><a href='../S/1054.html#L114315'>db</a>               114315 ext/sqlite3/libsqlite/sqlite3.c   saved_flags = db-&gt;flags;</span>
<span class='curline'><a href='../S/1054.html#L114316'>db</a>               114316 ext/sqlite3/libsqlite/sqlite3.c   saved_nChange = db-&gt;nChange;</span>
<span class='curline'><a href='../S/1054.html#L114317'>db</a>               114317 ext/sqlite3/libsqlite/sqlite3.c   saved_nTotalChange = db-&gt;nTotalChange;</span>
<span class='curline'><a href='../S/1054.html#L114318'>db</a>               114318 ext/sqlite3/libsqlite/sqlite3.c   saved_xTrace = db-&gt;xTrace;</span>
<span class='curline'><a href='../S/1054.html#L114319'>db</a>               114319 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags |= SQLITE_WriteSchema | SQLITE_IgnoreChecks | SQLITE_PreferBuiltin;</span>
<span class='curline'><a href='../S/1054.html#L114320'>db</a>               114320 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags &amp;= ~(SQLITE_ForeignKeys | SQLITE_ReverseOrder);</span>
<span class='curline'><a href='../S/1054.html#L114321'>db</a>               114321 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xTrace = 0;</span>
<span class='curline'><a href='../S/1054.html#L114323'>db</a>               114323 ext/sqlite3/libsqlite/sqlite3.c   pMain = db-&gt;aDb[0].pBt;</span>
<span class='curline'><a href='../S/1054.html#L114340'>db</a>               114340 ext/sqlite3/libsqlite/sqlite3.c   nDb = db-&gt;nDb;</span>
<span class='curline'><a href='../S/1054.html#L114341'>db</a>               114341 ext/sqlite3/libsqlite/sqlite3.c   if( sqlite3TempInMemory(db) ){</span>
<span class='curline'><a href='../S/1054.html#L114346'>db</a>               114346 ext/sqlite3/libsqlite/sqlite3.c   rc = execSql(db, pzErrMsg, zSql);</span>
<span class='curline'><a href='../S/1054.html#L114347'>db</a>               114347 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;nDb&gt;nDb ){</span>
<span class='curline'><a href='../S/1054.html#L114348'>db</a>               114348 ext/sqlite3/libsqlite/sqlite3.c     pDb = &amp;db-&gt;aDb[db-&gt;nDb-1];</span>
<span class='curline'><a href='../S/1054.html#L114352'>db</a>               114352 ext/sqlite3/libsqlite/sqlite3.c   pTemp = db-&gt;aDb[db-&gt;nDb-1].pBt;</span>
<span class='curline'><a href='../S/1054.html#L114364'>db</a>               114364 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;nextPagesize ){</span>
<span class='curline'><a href='../S/1054.html#L114368'>db</a>               114368 ext/sqlite3/libsqlite/sqlite3.c     sqlite3CodecGetKey(db, 0, (void**)&amp;zKey, &amp;nKey);</span>
<span class='curline'><a href='../S/1054.html#L114369'>db</a>               114369 ext/sqlite3/libsqlite/sqlite3.c     if( nKey ) db-&gt;nextPagesize = 0;</span>
<span class='curline'><a href='../S/1054.html#L114373'>db</a>               114373 ext/sqlite3/libsqlite/sqlite3.c   rc = execSql(db, pzErrMsg, "PRAGMA vacuum_db.synchronous=OFF");</span>
<span class='curline'><a href='../S/1054.html#L114380'>db</a>               114380 ext/sqlite3/libsqlite/sqlite3.c   rc = execSql(db, pzErrMsg, "BEGIN;");</span>
<span class='curline'><a href='../S/1054.html#L114388'>db</a>               114388 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nextPagesize = 0;</span>
<span class='curline'><a href='../S/1054.html#L114392'>db</a>               114392 ext/sqlite3/libsqlite/sqlite3.c    || (!isMemDb &amp;&amp; sqlite3BtreeSetPageSize(pTemp, db-&gt;nextPagesize, nRes, 0))</span>
<span class='curline'><a href='../S/1054.html#L114393'>db</a>               114393 ext/sqlite3/libsqlite/sqlite3.c    || NEVER(db-&gt;mallocFailed)</span>
<span class='curline'><a href='../S/1054.html#L114400'>db</a>               114400 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeSetAutoVacuum(pTemp, db-&gt;nextAutovac&gt;=0 ? db-&gt;nextAutovac :</span>
<span class='curline'><a href='../S/1054.html#L114407'>db</a>               114407 ext/sqlite3/libsqlite/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/1054.html#L114413'>db</a>               114413 ext/sqlite3/libsqlite/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/1054.html#L114417'>db</a>               114417 ext/sqlite3/libsqlite/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/1054.html#L114426'>db</a>               114426 ext/sqlite3/libsqlite/sqlite3.c   assert( (db-&gt;flags &amp; SQLITE_Vacuum)==0 );</span>
<span class='curline'><a href='../S/1054.html#L114427'>db</a>               114427 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags |= SQLITE_Vacuum;</span>
<span class='curline'><a href='../S/1054.html#L114428'>db</a>               114428 ext/sqlite3/libsqlite/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/1054.html#L114435'>db</a>               114435 ext/sqlite3/libsqlite/sqlite3.c   assert( (db-&gt;flags &amp; SQLITE_Vacuum)!=0 );</span>
<span class='curline'><a href='../S/1054.html#L114436'>db</a>               114436 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags &amp;= ~SQLITE_Vacuum;</span>
<span class='curline'><a href='../S/1054.html#L114441'>db</a>               114441 ext/sqlite3/libsqlite/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/1054.html#L114446'>db</a>               114446 ext/sqlite3/libsqlite/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/1054.html#L114459'>db</a>               114459 ext/sqlite3/libsqlite/sqlite3.c   rc = execSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/1054.html#L114518'>db</a>               114518 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags = saved_flags;</span>
<span class='curline'><a href='../S/1054.html#L114519'>db</a>               114519 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nChange = saved_nChange;</span>
<span class='curline'><a href='../S/1054.html#L114520'>db</a>               114520 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nTotalChange = saved_nTotalChange;</span>
<span class='curline'><a href='../S/1054.html#L114521'>db</a>               114521 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xTrace = saved_xTrace;</span>
<span class='curline'><a href='../S/1054.html#L114531'>db</a>               114531 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/1054.html#L114541'>db</a>               114541 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/1054.html#L114585'>db</a>               114585 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database in which module is registered */</span>
<span class='curline'><a href='../S/1054.html#L114594'>db</a>               114594 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L114596'>db</a>               114596 ext/sqlite3/libsqlite/sqlite3.c   if( sqlite3HashFind(&amp;db-&gt;aModule, zName) ){</span>
<span class='curline'><a href='../S/1054.html#L114600'>db</a>               114600 ext/sqlite3/libsqlite/sqlite3.c     pMod = (Module *)sqlite3DbMallocRaw(db, sizeof(Module) + nName + 1);</span>
<span class='curline'><a href='../S/1054.html#L114609'>db</a>               114609 ext/sqlite3/libsqlite/sqlite3.c       pDel = (Module *)sqlite3HashInsert(&amp;db-&gt;aModule,zCopy,(void*)pMod);</span>
<span class='curline'><a href='../S/1054.html#L114612'>db</a>               114612 ext/sqlite3/libsqlite/sqlite3.c         db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L114613'>db</a>               114613 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, pDel);</span>
<span class='curline'><a href='../S/1054.html#L114617'>db</a>               114617 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L114620'>db</a>               114620 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L114629'>db</a>               114629 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database in which module is registered */</span>
<span class='curline'><a href='../S/1054.html#L114635'>db</a>               114635 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) || zName==0 ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L114637'>db</a>               114637 ext/sqlite3/libsqlite/sqlite3.c   return createModule(db, zName, pModule, pAux, 0);</span>
<span class='curline'><a href='../S/1054.html#L114644'>db</a>               114644 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database in which module is registered */</span>
<span class='curline'><a href='../S/1054.html#L114651'>db</a>               114651 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) || zName==0 ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L114653'>db</a>               114653 ext/sqlite3/libsqlite/sqlite3.c   return createModule(db, zName, pModule, pAux, xDestroy);</span>
<span class='curline'><a href='../S/1054.html#L114674'>db</a>               114674 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE VTable *sqlite3GetVTable(sqlite3 *db, Table *pTab){</span>
<span class='curline'><a href='../S/1054.html#L114677'>db</a>               114677 ext/sqlite3/libsqlite/sqlite3.c   for(pVtab=pTab-&gt;pVTable; pVtab &amp;&amp; pVtab-&gt;db!=db; pVtab=pVtab-&gt;pNext);</span>
<span class='curline'><a href='../S/1054.html#L114686'>db</a>               114686 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pVTab-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L114688'>db</a>               114688 ext/sqlite3/libsqlite/sqlite3.c   assert( db );</span>
<span class='curline'><a href='../S/1054.html#L114690'>db</a>               114690 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;magic==SQLITE_MAGIC_OPEN || db-&gt;magic==SQLITE_MAGIC_ZOMBIE );</span>
<span class='curline'><a href='../S/1054.html#L114698'>db</a>               114698 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pVTab);</span>
<span class='curline'><a href='../S/1054.html#L114709'>db</a>               114709 ext/sqlite3/libsqlite/sqlite3.c static VTable *vtabDisconnectAll(sqlite3 *db, Table *p){</span>
<span class='curline'><a href='../S/1054.html#L114720'>db</a>               114720 ext/sqlite3/libsqlite/sqlite3.c   assert( db==0 || sqlite3SchemaMutexHeld(db, 0, p-&gt;pSchema) );</span>
<span class='curline'><a href='../S/1054.html#L114723'>db</a>               114723 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db2 = pVTable-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L114726'>db</a>               114726 ext/sqlite3/libsqlite/sqlite3.c     if( db2==db ){</span>
<span class='curline'><a href='../S/1054.html#L114737'>db</a>               114737 ext/sqlite3/libsqlite/sqlite3.c   assert( !db || pRet );</span>
<span class='curline'><a href='../S/1054.html#L114749'>db</a>               114749 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3VtabDisconnect(sqlite3 *db, Table *p){</span>
<span class='curline'><a href='../S/1054.html#L114753'>db</a>               114753 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/1054.html#L114754'>db</a>               114754 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L114757'>db</a>               114757 ext/sqlite3/libsqlite/sqlite3.c     if( (*ppVTab)-&gt;db==db  ){</span>
<span class='curline'><a href='../S/1054.html#L114787'>db</a>               114787 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3VtabUnlockList(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L114788'>db</a>               114788 ext/sqlite3/libsqlite/sqlite3.c   VTable *p = db-&gt;pDisconnect;</span>
<span class='curline'><a href='../S/1054.html#L114789'>db</a>               114789 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pDisconnect = 0;</span>
<span class='curline'><a href='../S/1054.html#L114791'>db</a>               114791 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/1054.html#L114792'>db</a>               114792 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L114795'>db</a>               114795 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/1054.html#L114818'>db</a>               114818 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3VtabClear(sqlite3 *db, Table *p){</span>
<span class='curline'><a href='../S/1054.html#L114819'>db</a>               114819 ext/sqlite3/libsqlite/sqlite3.c   if( !db || db-&gt;pnBytesFreed==0 ) vtabDisconnectAll(0, p);</span>
<span class='curline'><a href='../S/1054.html#L114823'>db</a>               114823 ext/sqlite3/libsqlite/sqlite3.c       if( i!=1 ) sqlite3DbFree(db, p-&gt;azModuleArg[i]);</span>
<span class='curline'><a href='../S/1054.html#L114825'>db</a>               114825 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p-&gt;azModuleArg);</span>
<span class='curline'><a href='../S/1054.html#L114835'>db</a>               114835 ext/sqlite3/libsqlite/sqlite3.c static void addModuleArgument(sqlite3 *db, Table *pTable, char *zArg){</span>
<span class='curline'><a href='../S/1054.html#L114839'>db</a>               114839 ext/sqlite3/libsqlite/sqlite3.c   azModuleArg = sqlite3DbRealloc(db, pTable-&gt;azModuleArg, nBytes);</span>
<span class='curline'><a href='../S/1054.html#L114843'>db</a>               114843 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pTable-&gt;azModuleArg[j]);</span>
<span class='curline'><a href='../S/1054.html#L114845'>db</a>               114845 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zArg);</span>
<span class='curline'><a href='../S/1054.html#L114846'>db</a>               114846 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pTable-&gt;azModuleArg);</span>
<span class='curline'><a href='../S/1054.html#L114869'>db</a>               114869 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;          /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L114876'>db</a>               114876 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L114877'>db</a>               114877 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTable-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L114882'>db</a>               114882 ext/sqlite3/libsqlite/sqlite3.c   addModuleArgument(db, pTable, sqlite3NameFromToken(db, pModuleName));</span>
<span class='curline'><a href='../S/1054.html#L114883'>db</a>               114883 ext/sqlite3/libsqlite/sqlite3.c   addModuleArgument(db, pTable, 0);</span>
<span class='curline'><a href='../S/1054.html#L114884'>db</a>               114884 ext/sqlite3/libsqlite/sqlite3.c   addModuleArgument(db, pTable, sqlite3DbStrDup(db, pTable-&gt;zName));</span>
<span class='curline'><a href='../S/1054.html#L114900'>db</a>               114900 ext/sqlite3/libsqlite/sqlite3.c             pTable-&gt;azModuleArg[0], pParse-&gt;db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/1054.html#L114914'>db</a>               114914 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L114915'>db</a>               114915 ext/sqlite3/libsqlite/sqlite3.c     addModuleArgument(db, pParse-&gt;pNewTable, sqlite3DbStrNDup(db, z, n));</span>
<span class='curline'><a href='../S/1054.html#L114925'>db</a>               114925 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;         /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L114938'>db</a>               114938 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/1054.html#L114949'>db</a>               114949 ext/sqlite3/libsqlite/sqlite3.c     zStmt = sqlite3MPrintf(db, "CREATE VIRTUAL TABLE %T", &amp;pParse-&gt;sNameToken);</span>
<span class='curline'><a href='../S/1054.html#L114959'>db</a>               114959 ext/sqlite3/libsqlite/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L114964'>db</a>               114964 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb),</span>
<span class='curline'><a href='../S/1054.html#L114970'>db</a>               114970 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zStmt);</span>
<span class='curline'><a href='../S/1054.html#L114975'>db</a>               114975 ext/sqlite3/libsqlite/sqlite3.c     zWhere = sqlite3MPrintf(db, "name='%q' AND type='table'", pTab-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L114992'>db</a>               114992 ext/sqlite3/libsqlite/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pSchema) );</span>
<span class='curline'><a href='../S/1054.html#L114995'>db</a>               114995 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L115034'>db</a>               115034 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/1054.html#L115051'>db</a>               115051 ext/sqlite3/libsqlite/sqlite3.c   for(pCtx=db-&gt;pVtabCtx; pCtx; pCtx=pCtx-&gt;pPrior){</span>
<span class='curline'><a href='../S/1054.html#L115053'>db</a>               115053 ext/sqlite3/libsqlite/sqlite3.c       *pzErr = sqlite3MPrintf(db, </span>
<span class='curline'><a href='../S/1054.html#L115060'>db</a>               115060 ext/sqlite3/libsqlite/sqlite3.c   zModuleName = sqlite3MPrintf(db, "%s", pTab-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L115065'>db</a>               115065 ext/sqlite3/libsqlite/sqlite3.c   pVTable = sqlite3DbMallocZero(db, sizeof(VTable));</span>
<span class='curline'><a href='../S/1054.html#L115067'>db</a>               115067 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zModuleName);</span>
<span class='curline'><a href='../S/1054.html#L115070'>db</a>               115070 ext/sqlite3/libsqlite/sqlite3.c   pVTable-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L115073'>db</a>               115073 ext/sqlite3/libsqlite/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L115074'>db</a>               115074 ext/sqlite3/libsqlite/sqlite3.c   pTab-&gt;azModuleArg[1] = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/1054.html#L115077'>db</a>               115077 ext/sqlite3/libsqlite/sqlite3.c   assert( &amp;db-&gt;pVtabCtx );</span>
<span class='curline'><a href='../S/1054.html#L115081'>db</a>               115081 ext/sqlite3/libsqlite/sqlite3.c   sCtx.pPrior = db-&gt;pVtabCtx;</span>
<span class='curline'><a href='../S/1054.html#L115083'>db</a>               115083 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pVtabCtx = &amp;sCtx;</span>
<span class='curline'><a href='../S/1054.html#L115084'>db</a>               115084 ext/sqlite3/libsqlite/sqlite3.c   rc = xConstruct(db, pMod-&gt;pAux, nArg, azArg, &amp;pVTable-&gt;pVtab, &amp;zErr);</span>
<span class='curline'><a href='../S/1054.html#L115085'>db</a>               115085 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pVtabCtx = sCtx.pPrior;</span>
<span class='curline'><a href='../S/1054.html#L115086'>db</a>               115086 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_NOMEM ) db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L115091'>db</a>               115091 ext/sqlite3/libsqlite/sqlite3.c       *pzErr = sqlite3MPrintf(db, "vtable constructor failed: %s", zModuleName);</span>
<span class='curline'><a href='../S/1054.html#L115093'>db</a>               115093 ext/sqlite3/libsqlite/sqlite3.c       *pzErr = sqlite3MPrintf(db, "%s", zErr);</span>
<span class='curline'><a href='../S/1054.html#L115096'>db</a>               115096 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pVTable);</span>
<span class='curline'><a href='../S/1054.html#L115105'>db</a>               115105 ext/sqlite3/libsqlite/sqlite3.c       *pzErr = sqlite3MPrintf(db, zFormat, pTab-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L115157'>db</a>               115157 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zModuleName);</span>
<span class='curline'><a href='../S/1054.html#L115169'>db</a>               115169 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L115175'>db</a>               115175 ext/sqlite3/libsqlite/sqlite3.c   if( (pTab-&gt;tabFlags &amp; TF_Virtual)==0 || sqlite3GetVTable(db, pTab) ){</span>
<span class='curline'><a href='../S/1054.html#L115181'>db</a>               115181 ext/sqlite3/libsqlite/sqlite3.c   pMod = (Module*)sqlite3HashFind(&amp;db-&gt;aModule, zMod);</span>
<span class='curline'><a href='../S/1054.html#L115189'>db</a>               115189 ext/sqlite3/libsqlite/sqlite3.c     rc = vtabCallConstructor(db, pTab, pMod, pMod-&gt;pModule-&gt;xConnect, &amp;zErr);</span>
<span class='curline'><a href='../S/1054.html#L115193'>db</a>               115193 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/1054.html#L115202'>db</a>               115202 ext/sqlite3/libsqlite/sqlite3.c static int growVTrans(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L115206'>db</a>               115206 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;nVTrans%ARRAY_INCR)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L115208'>db</a>               115208 ext/sqlite3/libsqlite/sqlite3.c     int nBytes = sizeof(sqlite3_vtab *) * (db-&gt;nVTrans + ARRAY_INCR);</span>
<span class='curline'><a href='../S/1054.html#L115209'>db</a>               115209 ext/sqlite3/libsqlite/sqlite3.c     aVTrans = sqlite3DbRealloc(db, (void *)db-&gt;aVTrans, nBytes);</span>
<span class='curline'><a href='../S/1054.html#L115213'>db</a>               115213 ext/sqlite3/libsqlite/sqlite3.c     memset(&amp;aVTrans[db-&gt;nVTrans], 0, sizeof(sqlite3_vtab *)*ARRAY_INCR);</span>
<span class='curline'><a href='../S/1054.html#L115214'>db</a>               115214 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;aVTrans = aVTrans;</span>
<span class='curline'><a href='../S/1054.html#L115224'>db</a>               115224 ext/sqlite3/libsqlite/sqlite3.c static void addToVTrans(sqlite3 *db, VTable *pVTab){</span>
<span class='curline'><a href='../S/1054.html#L115226'>db</a>               115226 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aVTrans[db-&gt;nVTrans++] = pVTab;</span>
<span class='curline'><a href='../S/1054.html#L115238'>db</a>               115238 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3VtabCallCreate(sqlite3 *db, int iDb, const char *zTab, char **pzErr){</span>
<span class='curline'><a href='../S/1054.html#L115244'>db</a>               115244 ext/sqlite3/libsqlite/sqlite3.c   pTab = sqlite3FindTable(db, zTab, db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/1054.html#L115249'>db</a>               115249 ext/sqlite3/libsqlite/sqlite3.c   pMod = (Module*)sqlite3HashFind(&amp;db-&gt;aModule, zMod);</span>
<span class='curline'><a href='../S/1054.html#L115256'>db</a>               115256 ext/sqlite3/libsqlite/sqlite3.c     *pzErr = sqlite3MPrintf(db, "no such module: %s", zMod);</span>
<span class='curline'><a href='../S/1054.html#L115259'>db</a>               115259 ext/sqlite3/libsqlite/sqlite3.c     rc = vtabCallConstructor(db, pTab, pMod, pMod-&gt;pModule-&gt;xCreate, pzErr);</span>
<span class='curline'><a href='../S/1054.html#L115264'>db</a>               115264 ext/sqlite3/libsqlite/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; ALWAYS(sqlite3GetVTable(db, pTab)) ){</span>
<span class='curline'><a href='../S/1054.html#L115265'>db</a>               115265 ext/sqlite3/libsqlite/sqlite3.c     rc = growVTrans(db);</span>
<span class='curline'><a href='../S/1054.html#L115267'>db</a>               115267 ext/sqlite3/libsqlite/sqlite3.c       addToVTrans(db, sqlite3GetVTable(db, pTab));</span>
<span class='curline'><a href='../S/1054.html#L115279'>db</a>               115279 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_declare_vtab(sqlite3 *db, const char *zCreateTable){</span>
<span class='curline'><a href='../S/1054.html#L115287'>db</a>               115287 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) || zCreateTable==0 ){</span>
<span class='curline'><a href='../S/1054.html#L115291'>db</a>               115291 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L115292'>db</a>               115292 ext/sqlite3/libsqlite/sqlite3.c   pCtx = db-&gt;pVtabCtx;</span>
<span class='curline'><a href='../S/1054.html#L115294'>db</a>               115294 ext/sqlite3/libsqlite/sqlite3.c     sqlite3Error(db, SQLITE_MISUSE);</span>
<span class='curline'><a href='../S/1054.html#L115295'>db</a>               115295 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L115301'>db</a>               115301 ext/sqlite3/libsqlite/sqlite3.c   pParse = sqlite3StackAllocZero(db, sizeof(*pParse));</span>
<span class='curline'><a href='../S/1054.html#L115306'>db</a>               115306 ext/sqlite3/libsqlite/sqlite3.c     pParse-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L115311'>db</a>               115311 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; !db-&gt;mallocFailed</span>
<span class='curline'><a href='../S/1054.html#L115323'>db</a>               115323 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ErrorWithMsg(db, SQLITE_ERROR, (zErr ? "%s" : 0), zErr);</span>
<span class='curline'><a href='../S/1054.html#L115324'>db</a>               115324 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/1054.html#L115332'>db</a>               115332 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DeleteTable(db, pParse-&gt;pNewTable);</span>
<span class='curline'><a href='../S/1054.html#L115334'>db</a>               115334 ext/sqlite3/libsqlite/sqlite3.c     sqlite3StackFree(db, pParse);</span>
<span class='curline'><a href='../S/1054.html#L115338'>db</a>               115338 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L115339'>db</a>               115339 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L115350'>db</a>               115350 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3VtabCallDestroy(sqlite3 *db, int iDb, const char *zTab){</span>
<span class='curline'><a href='../S/1054.html#L115354'>db</a>               115354 ext/sqlite3/libsqlite/sqlite3.c   pTab = sqlite3FindTable(db, zTab, db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/1054.html#L115363'>db</a>               115363 ext/sqlite3/libsqlite/sqlite3.c     p = vtabDisconnectAll(db, pTab);</span>
<span class='curline'><a href='../S/1054.html#L115385'>db</a>               115385 ext/sqlite3/libsqlite/sqlite3.c static void callFinaliser(sqlite3 *db, int offset){</span>
<span class='curline'><a href='../S/1054.html#L115387'>db</a>               115387 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;aVTrans ){</span>
<span class='curline'><a href='../S/1054.html#L115388'>db</a>               115388 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nVTrans; i++){</span>
<span class='curline'><a href='../S/1054.html#L115389'>db</a>               115389 ext/sqlite3/libsqlite/sqlite3.c       VTable *pVTab = db-&gt;aVTrans[i];</span>
<span class='curline'><a href='../S/1054.html#L115399'>db</a>               115399 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, db-&gt;aVTrans);</span>
<span class='curline'><a href='../S/1054.html#L115400'>db</a>               115400 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nVTrans = 0;</span>
<span class='curline'><a href='../S/1054.html#L115401'>db</a>               115401 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;aVTrans = 0;</span>
<span class='curline'><a href='../S/1054.html#L115412'>db</a>               115412 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3VtabSync(sqlite3 *db, Vdbe *p){</span>
<span class='curline'><a href='../S/1054.html#L115415'>db</a>               115415 ext/sqlite3/libsqlite/sqlite3.c   VTable **aVTrans = db-&gt;aVTrans;</span>
<span class='curline'><a href='../S/1054.html#L115417'>db</a>               115417 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aVTrans = 0;</span>
<span class='curline'><a href='../S/1054.html#L115418'>db</a>               115418 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nVTrans; i++){</span>
<span class='curline'><a href='../S/1054.html#L115426'>db</a>               115426 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aVTrans = aVTrans;</span>
<span class='curline'><a href='../S/1054.html#L115434'>db</a>               115434 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3VtabRollback(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L115435'>db</a>               115435 ext/sqlite3/libsqlite/sqlite3.c   callFinaliser(db, offsetof(sqlite3_module,xRollback));</span>
<span class='curline'><a href='../S/1054.html#L115443'>db</a>               115443 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3VtabCommit(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L115444'>db</a>               115444 ext/sqlite3/libsqlite/sqlite3.c   callFinaliser(db, offsetof(sqlite3_module,xCommit));</span>
<span class='curline'><a href='../S/1054.html#L115456'>db</a>               115456 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3VtabBegin(sqlite3 *db, VTable *pVTab){</span>
<span class='curline'><a href='../S/1054.html#L115465'>db</a>               115465 ext/sqlite3/libsqlite/sqlite3.c   if( sqlite3VtabInSync(db) ){</span>
<span class='curline'><a href='../S/1054.html#L115477'>db</a>               115477 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; i&lt;db-&gt;nVTrans; i++){</span>
<span class='curline'><a href='../S/1054.html#L115478'>db</a>               115478 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;aVTrans[i]==pVTab ){</span>
<span class='curline'><a href='../S/1054.html#L115485'>db</a>               115485 ext/sqlite3/libsqlite/sqlite3.c     rc = growVTrans(db);</span>
<span class='curline'><a href='../S/1054.html#L115489'>db</a>               115489 ext/sqlite3/libsqlite/sqlite3.c         addToVTrans(db, pVTab);</span>
<span class='curline'><a href='../S/1054.html#L115511'>db</a>               115511 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3VtabSavepoint(sqlite3 *db, int op, int iSavepoint){</span>
<span class='curline'><a href='../S/1054.html#L115516'>db</a>               115516 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;aVTrans ){</span>
<span class='curline'><a href='../S/1054.html#L115518'>db</a>               115518 ext/sqlite3/libsqlite/sqlite3.c     for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nVTrans; i++){</span>
<span class='curline'><a href='../S/1054.html#L115519'>db</a>               115519 ext/sqlite3/libsqlite/sqlite3.c       VTable *pVTab = db-&gt;aVTrans[i];</span>
<span class='curline'><a href='../S/1054.html#L115558'>db</a>               115558 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,    /* Database connection for reporting malloc problems */</span>
<span class='curline'><a href='../S/1054.html#L115580'>db</a>               115580 ext/sqlite3/libsqlite/sqlite3.c   pVtab = sqlite3GetVTable(db, pTab)-&gt;pVtab;</span>
<span class='curline'><a href='../S/1054.html#L115589'>db</a>               115589 ext/sqlite3/libsqlite/sqlite3.c   zLowerName = sqlite3DbStrDup(db, pDef-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L115595'>db</a>               115595 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zLowerName);</span>
<span class='curline'><a href='../S/1054.html#L115603'>db</a>               115603 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3DbMallocZero(db, sizeof(*pNew)</span>
<span class='curline'><a href='../S/1054.html#L115638'>db</a>               115638 ext/sqlite3/libsqlite/sqlite3.c     pToplevel-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L115649'>db</a>               115649 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_vtab_on_conflict(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L115654'>db</a>               115654 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L115658'>db</a>               115658 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;vtabOnConflict&gt;=1 &amp;&amp; db-&gt;vtabOnConflict&lt;=5 );</span>
<span class='curline'><a href='../S/1054.html#L115659'>db</a>               115659 ext/sqlite3/libsqlite/sqlite3.c   return (int)aMap[db-&gt;vtabOnConflict-1];</span>
<span class='curline'><a href='../S/1054.html#L115667'>db</a>               115667 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_CDECL sqlite3_vtab_config(sqlite3 *db, int op, ...){</span>
<span class='curline'><a href='../S/1054.html#L115672'>db</a>               115672 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L115674'>db</a>               115674 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L115678'>db</a>               115678 ext/sqlite3/libsqlite/sqlite3.c       VtabCtx *p = db-&gt;pVtabCtx;</span>
<span class='curline'><a href='../S/1054.html#L115693'>db</a>               115693 ext/sqlite3/libsqlite/sqlite3.c   if( rc!=SQLITE_OK ) sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L115694'>db</a>               115694 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L116324'>db</a>               116324 ext/sqlite3/libsqlite/sqlite3.c static void whereOrInfoDelete(sqlite3 *db, WhereOrInfo *p){</span>
<span class='curline'><a href='../S/1054.html#L116326'>db</a>               116326 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L116332'>db</a>               116332 ext/sqlite3/libsqlite/sqlite3.c static void whereAndInfoDelete(sqlite3 *db, WhereAndInfo *p){</span>
<span class='curline'><a href='../S/1054.html#L116334'>db</a>               116334 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L116344'>db</a>               116344 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pWC-&gt;pWInfo-&gt;pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L116347'>db</a>               116347 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprDelete(db, a-&gt;pExpr);</span>
<span class='curline'><a href='../S/1054.html#L116350'>db</a>               116350 ext/sqlite3/libsqlite/sqlite3.c       whereOrInfoDelete(db, a-&gt;u.pOrInfo);</span>
<span class='curline'><a href='../S/1054.html#L116352'>db</a>               116352 ext/sqlite3/libsqlite/sqlite3.c       whereAndInfoDelete(db, a-&gt;u.pAndInfo);</span>
<span class='curline'><a href='../S/1054.html#L116356'>db</a>               116356 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pWC-&gt;a);</span>
<span class='curline'><a href='../S/1054.html#L116385'>db</a>               116385 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = pWC-&gt;pWInfo-&gt;pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L116386'>db</a>               116386 ext/sqlite3/libsqlite/sqlite3.c     pWC-&gt;a = sqlite3DbMallocRaw(db, sizeof(pWC-&gt;a[0])*pWC-&gt;nSlot*2 );</span>
<span class='curline'><a href='../S/1054.html#L116389'>db</a>               116389 ext/sqlite3/libsqlite/sqlite3.c         sqlite3ExprDelete(db, p);</span>
<span class='curline'><a href='../S/1054.html#L116396'>db</a>               116396 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pOld);</span>
<span class='curline'><a href='../S/1054.html#L116398'>db</a>               116398 ext/sqlite3/libsqlite/sqlite3.c     pWC-&gt;nSlot = sqlite3DbMallocSize(db, pWC-&gt;a)/sizeof(pWC-&gt;a[0]);</span>
<span class='curline'><a href='../S/1054.html#L116659'>db</a>               116659 ext/sqlite3/libsqlite/sqlite3.c               if( pColl==0 ) pColl = pParse-&gt;db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/1054.html#L116824'>db</a>               116824 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;  /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L116828'>db</a>               116828 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3IsLikeFunction(db, pExpr, pnoCase, wc) ){</span>
<span class='curline'><a href='../S/1054.html#L116868'>db</a>               116868 ext/sqlite3/libsqlite/sqlite3.c       pPrefix = sqlite3Expr(db, TK_STRING, z);</span>
<span class='curline'><a href='../S/1054.html#L116990'>db</a>               116990 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;           /* Database connection (for malloc) */</span>
<span class='curline'><a href='../S/1054.html#L117012'>db</a>               117012 ext/sqlite3/libsqlite/sqlite3.c   db = pWC-&gt;pWInfo-&gt;pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L117013'>db</a>               117013 ext/sqlite3/libsqlite/sqlite3.c   pNew = sqlite3ExprDup(db, pOne-&gt;pExpr, 0);</span>
<span class='curline'><a href='../S/1054.html#L117116'>db</a>               117116 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;               /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L117133'>db</a>               117133 ext/sqlite3/libsqlite/sqlite3.c   pTerm-&gt;u.pOrInfo = pOrInfo = sqlite3DbMallocZero(db, sizeof(*pOrInfo));</span>
<span class='curline'><a href='../S/1054.html#L117140'>db</a>               117140 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/1054.html#L117153'>db</a>               117153 ext/sqlite3/libsqlite/sqlite3.c       pAndInfo = sqlite3DbMallocRaw(db, sizeof(*pAndInfo));</span>
<span class='curline'><a href='../S/1054.html#L117167'>db</a>               117167 ext/sqlite3/libsqlite/sqlite3.c         testcase( db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L117168'>db</a>               117168 ext/sqlite3/libsqlite/sqlite3.c         if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L117327'>db</a>               117327 ext/sqlite3/libsqlite/sqlite3.c         pDup = sqlite3ExprDup(db, pOrTerm-&gt;pExpr-&gt;pRight, 0);</span>
<span class='curline'><a href='../S/1054.html#L117332'>db</a>               117332 ext/sqlite3/libsqlite/sqlite3.c       pDup = sqlite3ExprDup(db, pLeft, 0);</span>
<span class='curline'><a href='../S/1054.html#L117345'>db</a>               117345 ext/sqlite3/libsqlite/sqlite3.c         sqlite3ExprListDelete(db, pList);</span>
<span class='curline'><a href='../S/1054.html#L117388'>db</a>               117388 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;        /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L117390'>db</a>               117390 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L117437'>db</a>               117437 ext/sqlite3/libsqlite/sqlite3.c         pDup = sqlite3ExprDup(db, pExpr, 0);</span>
<span class='curline'><a href='../S/1054.html#L117438'>db</a>               117438 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L117439'>db</a>               117439 ext/sqlite3/libsqlite/sqlite3.c           sqlite3ExprDelete(db, pDup);</span>
<span class='curline'><a href='../S/1054.html#L117450'>db</a>               117450 ext/sqlite3/libsqlite/sqlite3.c          &amp;&amp; OptimizationEnabled(db, SQLITE_Transitive)</span>
<span class='curline'><a href='../S/1054.html#L117496'>db</a>               117496 ext/sqlite3/libsqlite/sqlite3.c                              sqlite3ExprDup(db, pExpr-&gt;pLeft, 0),</span>
<span class='curline'><a href='../S/1054.html#L117497'>db</a>               117497 ext/sqlite3/libsqlite/sqlite3.c                              sqlite3ExprDup(db, pList-&gt;a[i].pExpr, 0), 0);</span>
<span class='curline'><a href='../S/1054.html#L117546'>db</a>               117546 ext/sqlite3/libsqlite/sqlite3.c     pStr2 = sqlite3ExprDup(db, pStr1, 0);</span>
<span class='curline'><a href='../S/1054.html#L117552'>db</a>               117552 ext/sqlite3/libsqlite/sqlite3.c     if( noCase &amp;&amp; !pParse-&gt;db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L117562'>db</a>               117562 ext/sqlite3/libsqlite/sqlite3.c     if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L117579'>db</a>               117579 ext/sqlite3/libsqlite/sqlite3.c     pNewExpr1 = sqlite3ExprDup(db, pLeft, 0);</span>
<span class='curline'><a href='../S/1054.html#L117587'>db</a>               117587 ext/sqlite3/libsqlite/sqlite3.c     pNewExpr2 = sqlite3ExprDup(db, pLeft, 0);</span>
<span class='curline'><a href='../S/1054.html#L117623'>db</a>               117623 ext/sqlite3/libsqlite/sqlite3.c                               0, sqlite3ExprDup(db, pRight, 0), 0);</span>
<span class='curline'><a href='../S/1054.html#L117653'>db</a>               117653 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; OptimizationEnabled(db, SQLITE_Stat34)</span>
<span class='curline'><a href='../S/1054.html#L117661'>db</a>               117661 ext/sqlite3/libsqlite/sqlite3.c                             sqlite3ExprDup(db, pLeft, 0),</span>
<span class='curline'><a href='../S/1054.html#L117918'>db</a>               117918 ext/sqlite3/libsqlite/sqlite3.c       pPartial = sqlite3ExprAnd(pParse-&gt;db, pPartial,</span>
<span class='curline'><a href='../S/1054.html#L117919'>db</a>               117919 ext/sqlite3/libsqlite/sqlite3.c                                 sqlite3ExprDup(pParse-&gt;db, pExpr, 0));</span>
<span class='curline'><a href='../S/1054.html#L117933'>db</a>               117933 ext/sqlite3/libsqlite/sqlite3.c         if( whereLoopResize(pParse-&gt;db, pLoop, nKeyCol+1) ){</span>
<span class='curline'><a href='../S/1054.html#L117966'>db</a>               117966 ext/sqlite3/libsqlite/sqlite3.c   pIdx = sqlite3AllocateIndexObject(pParse-&gt;db, nKeyCol+1, 0, &amp;zNotUsed);</span>
<span class='curline'><a href='../S/1054.html#L118041'>db</a>               118041 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ExprDelete(pParse-&gt;db, pPartial);</span>
<span class='curline'><a href='../S/1054.html#L118097'>db</a>               118097 ext/sqlite3/libsqlite/sqlite3.c   pIdxInfo = sqlite3DbMallocZero(pParse-&gt;db, sizeof(*pIdxInfo)</span>
<span class='curline'><a href='../S/1054.html#L118170'>db</a>               118170 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_vtab *pVtab = sqlite3GetVTable(pParse-&gt;db, pTab)-&gt;pVtab;</span>
<span class='curline'><a href='../S/1054.html#L118180'>db</a>               118180 ext/sqlite3/libsqlite/sqlite3.c       pParse-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L118323'>db</a>               118323 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;db-&gt;mallocFailed==0 ){</span>
<span class='curline'><a href='../S/1054.html#L118330'>db</a>               118330 ext/sqlite3/libsqlite/sqlite3.c            || pParse-&gt;db-&gt;mallocFailed </span>
<span class='curline'><a href='../S/1054.html#L118340'>db</a>               118340 ext/sqlite3/libsqlite/sqlite3.c            || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L118349'>db</a>               118349 ext/sqlite3/libsqlite/sqlite3.c              || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L118354'>db</a>               118354 ext/sqlite3/libsqlite/sqlite3.c              || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L118464'>db</a>               118464 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L118490'>db</a>               118490 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3Stat4Column(db, p-&gt;aSample[i].p, p-&gt;aSample[i].n, nEq, &amp;pVal);</span>
<span class='curline'><a href='../S/1054.html#L118919'>db</a>               118919 ext/sqlite3/libsqlite/sqlite3.c     assert( pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L119007'>db</a>               119007 ext/sqlite3/libsqlite/sqlite3.c        sqlite3DbReallocOrFree(pParse-&gt;db, pLevel-&gt;u.in.aInLoop,</span>
<span class='curline'><a href='../S/1054.html#L119106'>db</a>               119106 ext/sqlite3/libsqlite/sqlite3.c   zAff = sqlite3DbStrDup(pParse-&gt;db, sqlite3IndexAffinityStr(v, pIdx));</span>
<span class='curline'><a href='../S/1054.html#L119108'>db</a>               119108 ext/sqlite3/libsqlite/sqlite3.c     pParse-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L119263'>db</a>               119263 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = pParse-&gt;db;     /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L119280'>db</a>               119280 ext/sqlite3/libsqlite/sqlite3.c     sqlite3StrAccumInit(&amp;str, db, zBuf, sizeof(zBuf), SQLITE_MAX_LENGTH);</span>
<span class='curline'><a href='../S/1054.html#L119407'>db</a>               119407 ext/sqlite3/libsqlite/sqlite3.c             || pTerm-&gt;pWC-&gt;pWInfo-&gt;pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L119432'>db</a>               119432 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;                    /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L119443'>db</a>               119443 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L119867'>db</a>               119867 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zStartAff);</span>
<span class='curline'><a href='../S/1054.html#L119999'>db</a>               119999 ext/sqlite3/libsqlite/sqlite3.c       pOrTab = sqlite3StackAllocRaw(db,</span>
<span class='curline'><a href='../S/1054.html#L120062'>db</a>               120062 ext/sqlite3/libsqlite/sqlite3.c         pExpr = sqlite3ExprDup(db, pExpr, 0);</span>
<span class='curline'><a href='../S/1054.html#L120063'>db</a>               120063 ext/sqlite3/libsqlite/sqlite3.c         pAndExpr = sqlite3ExprAnd(db, pAndExpr, pExpr);</span>
<span class='curline'><a href='../S/1054.html#L120092'>db</a>               120092 ext/sqlite3/libsqlite/sqlite3.c         assert( pSubWInfo || pParse-&gt;nErr || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L120198'>db</a>               120198 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprDelete(db, pAndExpr);</span>
<span class='curline'><a href='../S/1054.html#L120204'>db</a>               120204 ext/sqlite3/libsqlite/sqlite3.c     if( pWInfo-&gt;nLevel&gt;1 ) sqlite3StackFree(db, pOrTab);</span>
<span class='curline'><a href='../S/1054.html#L120288'>db</a>               120288 ext/sqlite3/libsqlite/sqlite3.c     pEAlt = sqlite3StackAllocRaw(db, sizeof(*pEAlt));</span>
<span class='curline'><a href='../S/1054.html#L120293'>db</a>               120293 ext/sqlite3/libsqlite/sqlite3.c       sqlite3StackFree(db, pEAlt);</span>
<span class='curline'><a href='../S/1054.html#L120408'>db</a>               120408 ext/sqlite3/libsqlite/sqlite3.c static void whereLoopClearUnion(sqlite3 *db, WhereLoop *p){</span>
<span class='curline'><a href='../S/1054.html#L120415'>db</a>               120415 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, p-&gt;u.btree.pIndex-&gt;zColAff);</span>
<span class='curline'><a href='../S/1054.html#L120416'>db</a>               120416 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, p-&gt;u.btree.pIndex);</span>
<span class='curline'><a href='../S/1054.html#L120425'>db</a>               120425 ext/sqlite3/libsqlite/sqlite3.c static void whereLoopClear(sqlite3 *db, WhereLoop *p){</span>
<span class='curline'><a href='../S/1054.html#L120426'>db</a>               120426 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;aLTerm!=p-&gt;aLTermSpace ) sqlite3DbFree(db, p-&gt;aLTerm);</span>
<span class='curline'><a href='../S/1054.html#L120427'>db</a>               120427 ext/sqlite3/libsqlite/sqlite3.c   whereLoopClearUnion(db, p);</span>
<span class='curline'><a href='../S/1054.html#L120434'>db</a>               120434 ext/sqlite3/libsqlite/sqlite3.c static int whereLoopResize(sqlite3 *db, WhereLoop *p, int n){</span>
<span class='curline'><a href='../S/1054.html#L120438'>db</a>               120438 ext/sqlite3/libsqlite/sqlite3.c   paNew = sqlite3DbMallocRaw(db, sizeof(p-&gt;aLTerm[0])*n);</span>
<span class='curline'><a href='../S/1054.html#L120441'>db</a>               120441 ext/sqlite3/libsqlite/sqlite3.c   if( p-&gt;aLTerm!=p-&gt;aLTermSpace ) sqlite3DbFree(db, p-&gt;aLTerm);</span>
<span class='curline'><a href='../S/1054.html#L120450'>db</a>               120450 ext/sqlite3/libsqlite/sqlite3.c static int whereLoopXfer(sqlite3 *db, WhereLoop *pTo, WhereLoop *pFrom){</span>
<span class='curline'><a href='../S/1054.html#L120451'>db</a>               120451 ext/sqlite3/libsqlite/sqlite3.c   whereLoopClearUnion(db, pTo);</span>
<span class='curline'><a href='../S/1054.html#L120452'>db</a>               120452 ext/sqlite3/libsqlite/sqlite3.c   if( whereLoopResize(db, pTo, pFrom-&gt;nLTerm) ){</span>
<span class='curline'><a href='../S/1054.html#L120469'>db</a>               120469 ext/sqlite3/libsqlite/sqlite3.c static void whereLoopDelete(sqlite3 *db, WhereLoop *p){</span>
<span class='curline'><a href='../S/1054.html#L120470'>db</a>               120470 ext/sqlite3/libsqlite/sqlite3.c   whereLoopClear(db, p);</span>
<span class='curline'><a href='../S/1054.html#L120471'>db</a>               120471 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L120477'>db</a>               120477 ext/sqlite3/libsqlite/sqlite3.c static void whereInfoFree(sqlite3 *db, WhereInfo *pWInfo){</span>
<span class='curline'><a href='../S/1054.html#L120483'>db</a>               120483 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, pLevel-&gt;u.in.aInLoop);</span>
<span class='curline'><a href='../S/1054.html#L120490'>db</a>               120490 ext/sqlite3/libsqlite/sqlite3.c       whereLoopDelete(db, p);</span>
<span class='curline'><a href='../S/1054.html#L120492'>db</a>               120492 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pWInfo);</span>
<span class='curline'><a href='../S/1054.html#L120677'>db</a>               120677 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pWInfo-&gt;pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L120733'>db</a>               120733 ext/sqlite3/libsqlite/sqlite3.c     *ppPrev = p = sqlite3DbMallocRaw(db, sizeof(WhereLoop));</span>
<span class='curline'><a href='../S/1054.html#L120755'>db</a>               120755 ext/sqlite3/libsqlite/sqlite3.c       whereLoopDelete(db, pToDel);</span>
<span class='curline'><a href='../S/1054.html#L120758'>db</a>               120758 ext/sqlite3/libsqlite/sqlite3.c   whereLoopXfer(db, p, pTemplate);</span>
<span class='curline'><a href='../S/1054.html#L120872'>db</a>               120872 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* Database connection malloc context */</span>
<span class='curline'><a href='../S/1054.html#L120890'>db</a>               120890 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ) return SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/1054.html#L120939'>db</a>               120939 ext/sqlite3/libsqlite/sqlite3.c     if( whereLoopResize(db, pNew, pNew-&gt;nLTerm+1) ) break; /* OOM */</span>
<span class='curline'><a href='../S/1054.html#L120986'>db</a>               120986 ext/sqlite3/libsqlite/sqlite3.c         if( whereLoopResize(db, pNew, pNew-&gt;nLTerm+1) ) break; /* OOM */</span>
<span class='curline'><a href='../S/1054.html#L121113'>db</a>               121113 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; (rc = whereLoopResize(db, pNew, pNew-&gt;nLTerm+1))==SQLITE_OK</span>
<span class='curline'><a href='../S/1054.html#L121301'>db</a>               121301 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; (pWInfo-&gt;pParse-&gt;db-&gt;flags &amp; SQLITE_AutoIndex)!=0</span>
<span class='curline'><a href='../S/1054.html#L121398'>db</a>               121398 ext/sqlite3/libsqlite/sqlite3.c          &amp;&amp; OptimizationEnabled(pWInfo-&gt;pParse-&gt;db, SQLITE_CoverIdxScan)</span>
<span class='curline'><a href='../S/1054.html#L121447'>db</a>               121447 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L121463'>db</a>               121463 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L121478'>db</a>               121478 ext/sqlite3/libsqlite/sqlite3.c   if( whereLoopResize(db, pNew, nConstraint) ){</span>
<span class='curline'><a href='../S/1054.html#L121479'>db</a>               121479 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pIdxInfo);</span>
<span class='curline'><a href='../S/1054.html#L121597'>db</a>               121597 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pIdxInfo);</span>
<span class='curline'><a href='../S/1054.html#L121734'>db</a>               121734 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pWInfo-&gt;pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L121759'>db</a>               121759 ext/sqlite3/libsqlite/sqlite3.c     if( rc || db-&gt;mallocFailed ) break;</span>
<span class='curline'><a href='../S/1054.html#L121761'>db</a>               121761 ext/sqlite3/libsqlite/sqlite3.c   whereLoopClear(db, pNew);</span>
<span class='curline'><a href='../S/1054.html#L121809'>db</a>               121809 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pWInfo-&gt;pParse-&gt;db;  /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L121838'>db</a>               121838 ext/sqlite3/libsqlite/sqlite3.c   if( nLoop &amp;&amp; OptimizationDisabled(db, SQLITE_OrderByIdxJoin) ) return 0;</span>
<span class='curline'><a href='../S/1054.html#L121872'>db</a>               121872 ext/sqlite3/libsqlite/sqlite3.c         if( !pColl ) pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/1054.html#L121875'>db</a>               121875 ext/sqlite3/libsqlite/sqlite3.c         if( !pColl ) pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/1054.html#L121956'>db</a>               121956 ext/sqlite3/libsqlite/sqlite3.c             if( !pColl ) pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/1054.html#L122118'>db</a>               122118 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;              /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L122137'>db</a>               122137 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L122160'>db</a>               122160 ext/sqlite3/libsqlite/sqlite3.c   pSpace = sqlite3DbMallocRaw(db, nSpace);</span>
<span class='curline'><a href='../S/1054.html#L122385'>db</a>               122385 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pSpace);</span>
<span class='curline'><a href='../S/1054.html#L122443'>db</a>               122443 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pSpace);</span>
<span class='curline'><a href='../S/1054.html#L122639'>db</a>               122639 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;               /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L122644'>db</a>               122644 ext/sqlite3/libsqlite/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L122654'>db</a>               122654 ext/sqlite3/libsqlite/sqlite3.c   if( OptimizationDisabled(db, SQLITE_DistinctOpt) ){</span>
<span class='curline'><a href='../S/1054.html#L122682'>db</a>               122682 ext/sqlite3/libsqlite/sqlite3.c   pWInfo = sqlite3DbMallocZero(db, nByteWInfo + sizeof(WhereLoop));</span>
<span class='curline'><a href='../S/1054.html#L122683'>db</a>               122683 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L122684'>db</a>               122684 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pWInfo);</span>
<span class='curline'><a href='../S/1054.html#L122770'>db</a>               122770 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L122816'>db</a>               122816 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mallocFailed ) goto whereBeginError;</span>
<span class='curline'><a href='../S/1054.html#L122819'>db</a>               122819 ext/sqlite3/libsqlite/sqlite3.c        if( db-&gt;mallocFailed ) goto whereBeginError;</span>
<span class='curline'><a href='../S/1054.html#L122822'>db</a>               122822 ext/sqlite3/libsqlite/sqlite3.c   if( pWInfo-&gt;pOrderBy==0 &amp;&amp; (db-&gt;flags &amp; SQLITE_ReverseOrder)!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L122825'>db</a>               122825 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;nErr || NEVER(db-&gt;mallocFailed) ){</span>
<span class='curline'><a href='../S/1054.html#L122857'>db</a>               122857 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; OptimizationEnabled(db, SQLITE_OmitNoopJoin)</span>
<span class='curline'><a href='../S/1054.html#L122913'>db</a>               122913 ext/sqlite3/libsqlite/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/1054.html#L122920'>db</a>               122920 ext/sqlite3/libsqlite/sqlite3.c       const char *pVTab = (const char *)sqlite3GetVTable(db, pTab);</span>
<span class='curline'><a href='../S/1054.html#L122997'>db</a>               122997 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ) goto whereBeginError;</span>
<span class='curline'><a href='../S/1054.html#L123013'>db</a>               123013 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;mallocFailed ) goto whereBeginError;</span>
<span class='curline'><a href='../S/1054.html#L123035'>db</a>               123035 ext/sqlite3/libsqlite/sqlite3.c     whereInfoFree(db, pWInfo);</span>
<span class='curline'><a href='../S/1054.html#L123051'>db</a>               123051 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L123140'>db</a>               123140 ext/sqlite3/libsqlite/sqlite3.c     if( pTabItem-&gt;viaCoroutine &amp;&amp; !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L123197'>db</a>               123197 ext/sqlite3/libsqlite/sqlite3.c     if( pIdx &amp;&amp; !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L123227'>db</a>               123227 ext/sqlite3/libsqlite/sqlite3.c   whereInfoFree(db, pWInfo);</span>
<span class='curline'><a href='../S/1054.html#L123307'>db</a>               123307 ext/sqlite3/libsqlite/sqlite3.c         (mxSelect = pParse-&gt;db-&gt;aLimit[SQLITE_LIMIT_COMPOUND_SELECT])&gt;0 &amp;&amp;</span>
<span class='curline'><a href='../S/1054.html#L123366'>db</a>               123366 ext/sqlite3/libsqlite/sqlite3.c     sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/1054.html#L123369'>db</a>               123369 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprDelete(db, pA-&gt;pRight);</span>
<span class='curline'><a href='../S/1054.html#L124638'>db</a>               124638 ext/sqlite3/libsqlite/sqlite3.c sqlite3SelectDelete(pParse-&gt;db, (yypminor-&gt;yy3));</span>
<span class='curline'><a href='../S/1054.html#L124644'>db</a>               124644 ext/sqlite3/libsqlite/sqlite3.c sqlite3ExprDelete(pParse-&gt;db, (yypminor-&gt;yy346).pExpr);</span>
<span class='curline'><a href='../S/1054.html#L124659'>db</a>               124659 ext/sqlite3/libsqlite/sqlite3.c sqlite3ExprListDelete(pParse-&gt;db, (yypminor-&gt;yy14));</span>
<span class='curline'><a href='../S/1054.html#L124667'>db</a>               124667 ext/sqlite3/libsqlite/sqlite3.c sqlite3SrcListDelete(pParse-&gt;db, (yypminor-&gt;yy65));</span>
<span class='curline'><a href='../S/1054.html#L124673'>db</a>               124673 ext/sqlite3/libsqlite/sqlite3.c sqlite3WithDelete(pParse-&gt;db, (yypminor-&gt;yy59));</span>
<span class='curline'><a href='../S/1054.html#L124684'>db</a>               124684 ext/sqlite3/libsqlite/sqlite3.c sqlite3ExprDelete(pParse-&gt;db, (yypminor-&gt;yy132));</span>
<span class='curline'><a href='../S/1054.html#L124691'>db</a>               124691 ext/sqlite3/libsqlite/sqlite3.c sqlite3IdListDelete(pParse-&gt;db, (yypminor-&gt;yy408));</span>
<span class='curline'><a href='../S/1054.html#L124697'>db</a>               124697 ext/sqlite3/libsqlite/sqlite3.c sqlite3DeleteTriggerStep(pParse-&gt;db, (yypminor-&gt;yy473));</span>
<span class='curline'><a href='../S/1054.html#L124702'>db</a>               124702 ext/sqlite3/libsqlite/sqlite3.c sqlite3IdListDelete(pParse-&gt;db, (yypminor-&gt;yy378).b);</span>
<span class='curline'><a href='../S/1054.html#L125382'>db</a>               125382 ext/sqlite3/libsqlite/sqlite3.c   pParse-&gt;db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/1054.html#L125415'>db</a>               125415 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(pParse-&gt;db, yymsp[0].minor.yy3);</span>
<span class='curline'><a href='../S/1054.html#L125626'>db</a>               125626 ext/sqlite3/libsqlite/sqlite3.c   sqlite3SelectDelete(pParse-&gt;db, yymsp[0].minor.yy3);</span>
<span class='curline'><a href='../S/1054.html#L125636'>db</a>               125636 ext/sqlite3/libsqlite/sqlite3.c     sqlite3WithDelete(pParse-&gt;db, yymsp[-1].minor.yy59);</span>
<span class='curline'><a href='../S/1054.html#L125662'>db</a>               125662 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SelectDelete(pParse-&gt;db, yymsp[-2].minor.yy3);</span>
<span class='curline'><a href='../S/1054.html#L125746'>db</a>               125746 ext/sqlite3/libsqlite/sqlite3.c   Expr *p = sqlite3Expr(pParse-&gt;db, TK_ALL, 0);</span>
<span class='curline'><a href='../S/1054.html#L125762'>db</a>               125762 ext/sqlite3/libsqlite/sqlite3.c {yygotominor.yy65 = sqlite3DbMallocZero(pParse-&gt;db, sizeof(*yygotominor.yy65));}</span>
<span class='curline'><a href='../S/1054.html#L125805'>db</a>               125805 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SrcListDelete(pParse-&gt;db, yymsp[-4].minor.yy65);</span>
<span class='curline'><a href='../S/1054.html#L125819'>db</a>               125819 ext/sqlite3/libsqlite/sqlite3.c {yygotominor.yy65 = sqlite3SrcListAppend(pParse-&gt;db,0,&amp;yymsp[-1].minor.yy0,&amp;yymsp[0].minor.yy0);}</span>
<span class='curline'><a href='../S/1054.html#L125940'>db</a>               125940 ext/sqlite3/libsqlite/sqlite3.c {yygotominor.yy408 = sqlite3IdListAppend(pParse-&gt;db,yymsp[-2].minor.yy408,&amp;yymsp[0].minor.yy0);}</span>
<span class='curline'><a href='../S/1054.html#L125943'>db</a>               125943 ext/sqlite3/libsqlite/sqlite3.c {yygotominor.yy408 = sqlite3IdListAppend(pParse-&gt;db,0,&amp;yymsp[0].minor.yy0);}</span>
<span class='curline'><a href='../S/1054.html#L126013'>db</a>               126013 ext/sqlite3/libsqlite/sqlite3.c   if( yymsp[-1].minor.yy14 &amp;&amp; yymsp[-1].minor.yy14-&gt;nExpr&gt;pParse-&gt;db-&gt;aLimit[SQLITE_LIMIT_FUNCTION_ARG] ){</span>
<span class='curline'><a href='../S/1054.html#L126112'>db</a>               126112 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(pParse-&gt;db, pList);</span>
<span class='curline'><a href='../S/1054.html#L126131'>db</a>               126131 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprDelete(pParse-&gt;db, yymsp[-4].minor.yy346.pExpr);</span>
<span class='curline'><a href='../S/1054.html#L126151'>db</a>               126151 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExprListDelete(pParse-&gt;db, yymsp[-1].minor.yy14);</span>
<span class='curline'><a href='../S/1054.html#L126165'>db</a>               126165 ext/sqlite3/libsqlite/sqlite3.c         sqlite3ExprListDelete(pParse-&gt;db, yymsp[-1].minor.yy14);</span>
<span class='curline'><a href='../S/1054.html#L126181'>db</a>               126181 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SelectDelete(pParse-&gt;db, yymsp[-1].minor.yy3);</span>
<span class='curline'><a href='../S/1054.html#L126195'>db</a>               126195 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SelectDelete(pParse-&gt;db, yymsp[-1].minor.yy3);</span>
<span class='curline'><a href='../S/1054.html#L126204'>db</a>               126204 ext/sqlite3/libsqlite/sqlite3.c     SrcList *pSrc = sqlite3SrcListAppend(pParse-&gt;db, 0,&amp;yymsp[-1].minor.yy0,&amp;yymsp[0].minor.yy0);</span>
<span class='curline'><a href='../S/1054.html#L126211'>db</a>               126211 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SrcListDelete(pParse-&gt;db, pSrc);</span>
<span class='curline'><a href='../S/1054.html#L126226'>db</a>               126226 ext/sqlite3/libsqlite/sqlite3.c       sqlite3SelectDelete(pParse-&gt;db, yymsp[-1].minor.yy3);</span>
<span class='curline'><a href='../S/1054.html#L126239'>db</a>               126239 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprListDelete(pParse-&gt;db, yymsp[-2].minor.yy14);</span>
<span class='curline'><a href='../S/1054.html#L126240'>db</a>               126240 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExprDelete(pParse-&gt;db, yymsp[-1].minor.yy132);</span>
<span class='curline'><a href='../S/1054.html#L126267'>db</a>               126267 ext/sqlite3/libsqlite/sqlite3.c                      sqlite3SrcListAppend(pParse-&gt;db,0,&amp;yymsp[-4].minor.yy0,0), yymsp[-2].minor.yy14, yymsp[-10].minor.yy328,</span>
<span class='curline'><a href='../S/1054.html#L126398'>db</a>               126398 ext/sqlite3/libsqlite/sqlite3.c { yygotominor.yy473 = sqlite3TriggerUpdateStep(pParse-&gt;db, &amp;yymsp[-4].minor.yy0, yymsp[-1].minor.yy14, yymsp[0].minor.yy132, yymsp[-5].minor.yy186); }</span>
<span class='curline'><a href='../S/1054.html#L126401'>db</a>               126401 ext/sqlite3/libsqlite/sqlite3.c {yygotominor.yy473 = sqlite3TriggerInsertStep(pParse-&gt;db, &amp;yymsp[-2].minor.yy0, yymsp[-1].minor.yy408, yymsp[0].minor.yy3, yymsp[-4].minor.yy186);}</span>
<span class='curline'><a href='../S/1054.html#L126404'>db</a>               126404 ext/sqlite3/libsqlite/sqlite3.c {yygotominor.yy473 = sqlite3TriggerDeleteStep(pParse-&gt;db, &amp;yymsp[-2].minor.yy0, yymsp[0].minor.yy132);}</span>
<span class='curline'><a href='../S/1054.html#L126407'>db</a>               126407 ext/sqlite3/libsqlite/sqlite3.c {yygotominor.yy473 = sqlite3TriggerSelectStep(pParse-&gt;db, yymsp[0].minor.yy3); }</span>
<span class='curline'><a href='../S/1054.html#L126474'>db</a>               126474 ext/sqlite3/libsqlite/sqlite3.c   pParse-&gt;db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/1054.html#L127476'>db</a>               127476 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L127480'>db</a>               127480 ext/sqlite3/libsqlite/sqlite3.c   mxSqlLen = db-&gt;aLimit[SQLITE_LIMIT_SQL_LENGTH];</span>
<span class='curline'><a href='../S/1054.html#L127481'>db</a>               127481 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;nVdbeActive==0 ){</span>
<span class='curline'><a href='../S/1054.html#L127482'>db</a>               127482 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;u1.isInterrupted = 0;</span>
<span class='curline'><a href='../S/1054.html#L127490'>db</a>               127490 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L127498'>db</a>               127498 ext/sqlite3/libsqlite/sqlite3.c   enableLookaside = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/1054.html#L127499'>db</a>               127499 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;lookaside.pStart ) db-&gt;lookaside.bEnabled = 1;</span>
<span class='curline'><a href='../S/1054.html#L127500'>db</a>               127500 ext/sqlite3/libsqlite/sqlite3.c   while( !db-&gt;mallocFailed &amp;&amp; zSql[i]!=0 ){</span>
<span class='curline'><a href='../S/1054.html#L127511'>db</a>               127511 ext/sqlite3/libsqlite/sqlite3.c         if( db-&gt;u1.isInterrupted ){</span>
<span class='curline'><a href='../S/1054.html#L127539'>db</a>               127539 ext/sqlite3/libsqlite/sqlite3.c   if( zSql[i]==0 &amp;&amp; pParse-&gt;rc==SQLITE_OK &amp;&amp; db-&gt;mallocFailed==0 ){</span>
<span class='curline'><a href='../S/1054.html#L127544'>db</a>               127544 ext/sqlite3/libsqlite/sqlite3.c     if( pParse-&gt;rc==SQLITE_OK &amp;&amp; db-&gt;mallocFailed==0 ){</span>
<span class='curline'><a href='../S/1054.html#L127556'>db</a>               127556 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;lookaside.bEnabled = enableLookaside;</span>
<span class='curline'><a href='../S/1054.html#L127557'>db</a>               127557 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L127561'>db</a>               127561 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SetString(&amp;pParse-&gt;zErrMsg, db, "%s", sqlite3ErrStr(pParse-&gt;rc));</span>
<span class='curline'><a href='../S/1054.html#L127576'>db</a>               127576 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pParse-&gt;aTableLock);</span>
<span class='curline'><a href='../S/1054.html#L127590'>db</a>               127590 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DeleteTable(db, pParse-&gt;pNewTable);</span>
<span class='curline'><a href='../S/1054.html#L127593'>db</a>               127593 ext/sqlite3/libsqlite/sqlite3.c   if( pParse-&gt;bFreeWith ) sqlite3WithDelete(db, pParse-&gt;pWith);</span>
<span class='curline'><a href='../S/1054.html#L127594'>db</a>               127594 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DeleteTrigger(db, pParse-&gt;pNewTrigger);</span>
<span class='curline'><a href='../S/1054.html#L127595'>db</a>               127595 ext/sqlite3/libsqlite/sqlite3.c   for(i=pParse-&gt;nzVar-1; i&gt;=0; i--) sqlite3DbFree(db, pParse-&gt;azVar[i]);</span>
<span class='curline'><a href='../S/1054.html#L127596'>db</a>               127596 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, pParse-&gt;azVar);</span>
<span class='curline'><a href='../S/1054.html#L127600'>db</a>               127600 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L127605'>db</a>               127605 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DeleteTable(db, p);</span>
<span class='curline'><a href='../S/1054.html#L127945'>db</a>               127945 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3Init(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L127977'>db</a>               127977 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3RtreeInit(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L128009'>db</a>               128009 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3IcuInit(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L128635'>db</a>               128635 ext/sqlite3/libsqlite/sqlite3.c static int setupLookaside(sqlite3 *db, void *pBuf, int sz, int cnt){</span>
<span class='curline'><a href='../S/1054.html#L128637'>db</a>               128637 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;lookaside.nOut ){</span>
<span class='curline'><a href='../S/1054.html#L128644'>db</a>               128644 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;lookaside.bMalloced ){</span>
<span class='curline'><a href='../S/1054.html#L128645'>db</a>               128645 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_free(db-&gt;lookaside.pStart);</span>
<span class='curline'><a href='../S/1054.html#L128664'>db</a>               128664 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;lookaside.pStart = pStart;</span>
<span class='curline'><a href='../S/1054.html#L128665'>db</a>               128665 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;lookaside.pFree = 0;</span>
<span class='curline'><a href='../S/1054.html#L128666'>db</a>               128666 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;lookaside.sz = (u16)sz;</span>
<span class='curline'><a href='../S/1054.html#L128673'>db</a>               128673 ext/sqlite3/libsqlite/sqlite3.c       p-&gt;pNext = db-&gt;lookaside.pFree;</span>
<span class='curline'><a href='../S/1054.html#L128674'>db</a>               128674 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;lookaside.pFree = p;</span>
<span class='curline'><a href='../S/1054.html#L128677'>db</a>               128677 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.pEnd = p;</span>
<span class='curline'><a href='../S/1054.html#L128678'>db</a>               128678 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.bEnabled = 1;</span>
<span class='curline'><a href='../S/1054.html#L128679'>db</a>               128679 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.bMalloced = pBuf==0 ?1:0;</span>
<span class='curline'><a href='../S/1054.html#L128681'>db</a>               128681 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.pStart = db;</span>
<span class='curline'><a href='../S/1054.html#L128682'>db</a>               128682 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.pEnd = db;</span>
<span class='curline'><a href='../S/1054.html#L128683'>db</a>               128683 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/1054.html#L128684'>db</a>               128684 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;lookaside.bMalloced = 0;</span>
<span class='curline'><a href='../S/1054.html#L128692'>db</a>               128692 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API sqlite3_mutex *SQLITE_STDCALL sqlite3_db_mutex(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L128694'>db</a>               128694 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L128699'>db</a>               128699 ext/sqlite3/libsqlite/sqlite3.c   return db-&gt;mutex;</span>
<span class='curline'><a href='../S/1054.html#L128706'>db</a>               128706 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_db_release_memory(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L128710'>db</a>               128710 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L128712'>db</a>               128712 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L128713'>db</a>               128713 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/1054.html#L128714'>db</a>               128714 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L128715'>db</a>               128715 ext/sqlite3/libsqlite/sqlite3.c     Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L128721'>db</a>               128721 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L128722'>db</a>               128722 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L128729'>db</a>               128729 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_CDECL sqlite3_db_config(sqlite3 *db, int op, ...){</span>
<span class='curline'><a href='../S/1054.html#L128738'>db</a>               128738 ext/sqlite3/libsqlite/sqlite3.c       rc = setupLookaside(db, pBuf, sz, cnt);</span>
<span class='curline'><a href='../S/1054.html#L128755'>db</a>               128755 ext/sqlite3/libsqlite/sqlite3.c           int oldFlags = db-&gt;flags;</span>
<span class='curline'><a href='../S/1054.html#L128757'>db</a>               128757 ext/sqlite3/libsqlite/sqlite3.c             db-&gt;flags |= aFlagOp[i].mask;</span>
<span class='curline'><a href='../S/1054.html#L128759'>db</a>               128759 ext/sqlite3/libsqlite/sqlite3.c             db-&gt;flags &amp;= ~aFlagOp[i].mask;</span>
<span class='curline'><a href='../S/1054.html#L128761'>db</a>               128761 ext/sqlite3/libsqlite/sqlite3.c           if( oldFlags!=db-&gt;flags ){</span>
<span class='curline'><a href='../S/1054.html#L128762'>db</a>               128762 ext/sqlite3/libsqlite/sqlite3.c             sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/1054.html#L128765'>db</a>               128765 ext/sqlite3/libsqlite/sqlite3.c             *pRes = (db-&gt;flags &amp; aFlagOp[i].mask)!=0;</span>
<span class='curline'><a href='../S/1054.html#L128848'>db</a>               128848 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API sqlite_int64 SQLITE_STDCALL sqlite3_last_insert_rowid(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L128850'>db</a>               128850 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L128855'>db</a>               128855 ext/sqlite3/libsqlite/sqlite3.c   return db-&gt;lastRowid;</span>
<span class='curline'><a href='../S/1054.html#L128861'>db</a>               128861 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_changes(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L128863'>db</a>               128863 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L128868'>db</a>               128868 ext/sqlite3/libsqlite/sqlite3.c   return db-&gt;nChange;</span>
<span class='curline'><a href='../S/1054.html#L128874'>db</a>               128874 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_total_changes(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L128876'>db</a>               128876 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L128881'>db</a>               128881 ext/sqlite3/libsqlite/sqlite3.c   return db-&gt;nTotalChange;</span>
<span class='curline'><a href='../S/1054.html#L128889'>db</a>               128889 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3CloseSavepoints(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L128890'>db</a>               128890 ext/sqlite3/libsqlite/sqlite3.c   while( db-&gt;pSavepoint ){</span>
<span class='curline'><a href='../S/1054.html#L128891'>db</a>               128891 ext/sqlite3/libsqlite/sqlite3.c     Savepoint *pTmp = db-&gt;pSavepoint;</span>
<span class='curline'><a href='../S/1054.html#L128892'>db</a>               128892 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;pSavepoint = pTmp-&gt;pNext;</span>
<span class='curline'><a href='../S/1054.html#L128893'>db</a>               128893 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pTmp);</span>
<span class='curline'><a href='../S/1054.html#L128895'>db</a>               128895 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nSavepoint = 0;</span>
<span class='curline'><a href='../S/1054.html#L128896'>db</a>               128896 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nStatement = 0;</span>
<span class='curline'><a href='../S/1054.html#L128897'>db</a>               128897 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;isTransactionSavepoint = 0;</span>
<span class='curline'><a href='../S/1054.html#L128906'>db</a>               128906 ext/sqlite3/libsqlite/sqlite3.c static void functionDestroy(sqlite3 *db, FuncDef *p){</span>
<span class='curline'><a href='../S/1054.html#L128912'>db</a>               128912 ext/sqlite3/libsqlite/sqlite3.c       sqlite3DbFree(db, pDestructor);</span>
<span class='curline'><a href='../S/1054.html#L128921'>db</a>               128921 ext/sqlite3/libsqlite/sqlite3.c static void disconnectAllVtab(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L128924'>db</a>               128924 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/1054.html#L128925'>db</a>               128925 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L128926'>db</a>               128926 ext/sqlite3/libsqlite/sqlite3.c     Schema *pSchema = db-&gt;aDb[i].pSchema;</span>
<span class='curline'><a href='../S/1054.html#L128927'>db</a>               128927 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;aDb[i].pSchema ){</span>
<span class='curline'><a href='../S/1054.html#L128931'>db</a>               128931 ext/sqlite3/libsqlite/sqlite3.c         if( IsVirtual(pTab) ) sqlite3VtabDisconnect(db, pTab);</span>
<span class='curline'><a href='../S/1054.html#L128935'>db</a>               128935 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VtabUnlockList(db);</span>
<span class='curline'><a href='../S/1054.html#L128936'>db</a>               128936 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L128938'>db</a>               128938 ext/sqlite3/libsqlite/sqlite3.c   UNUSED_PARAMETER(db);</span>
<span class='curline'><a href='../S/1054.html#L128946'>db</a>               128946 ext/sqlite3/libsqlite/sqlite3.c static int connectionIsBusy(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L128948'>db</a>               128948 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L128949'>db</a>               128949 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;pVdbe ) return 1;</span>
<span class='curline'><a href='../S/1054.html#L128950'>db</a>               128950 ext/sqlite3/libsqlite/sqlite3.c   for(j=0; j&lt;db-&gt;nDb; j++){</span>
<span class='curline'><a href='../S/1054.html#L128951'>db</a>               128951 ext/sqlite3/libsqlite/sqlite3.c     Btree *pBt = db-&gt;aDb[j].pBt;</span>
<span class='curline'><a href='../S/1054.html#L128960'>db</a>               128960 ext/sqlite3/libsqlite/sqlite3.c static int sqlite3Close(sqlite3 *db, int forceZombie){</span>
<span class='curline'><a href='../S/1054.html#L128961'>db</a>               128961 ext/sqlite3/libsqlite/sqlite3.c   if( !db ){</span>
<span class='curline'><a href='../S/1054.html#L128966'>db</a>               128966 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L128969'>db</a>               128969 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L128972'>db</a>               128972 ext/sqlite3/libsqlite/sqlite3.c   disconnectAllVtab(db);</span>
<span class='curline'><a href='../S/1054.html#L128981'>db</a>               128981 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VtabRollback(db);</span>
<span class='curline'><a href='../S/1054.html#L128986'>db</a>               128986 ext/sqlite3/libsqlite/sqlite3.c   if( !forceZombie &amp;&amp; connectionIsBusy(db) ){</span>
<span class='curline'><a href='../S/1054.html#L128987'>db</a>               128987 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ErrorWithMsg(db, SQLITE_BUSY, "unable to close due to unfinalized "</span>
<span class='curline'><a href='../S/1054.html#L128989'>db</a>               128989 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L128996'>db</a>               128996 ext/sqlite3/libsqlite/sqlite3.c     sqlite3GlobalConfig.xSqllog(sqlite3GlobalConfig.pSqllogArg, db, 0, 2);</span>
<span class='curline'><a href='../S/1054.html#L129002'>db</a>               129002 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;magic = SQLITE_MAGIC_ZOMBIE;</span>
<span class='curline'><a href='../S/1054.html#L129003'>db</a>               129003 ext/sqlite3/libsqlite/sqlite3.c   sqlite3LeaveMutexAndCloseZombie(db);</span>
<span class='curline'><a href='../S/1054.html#L129016'>db</a>               129016 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_close(sqlite3 *db){ return sqlite3Close(db,0); }</span>
<span class='curline'><a href='../S/1054.html#L129017'>db</a>               129017 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_close_v2(sqlite3 *db){ return sqlite3Close(db,1); }</span>
<span class='curline'><a href='../S/1054.html#L129028'>db</a>               129028 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3LeaveMutexAndCloseZombie(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L129036'>db</a>               129036 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;magic!=SQLITE_MAGIC_ZOMBIE || connectionIsBusy(db) ){</span>
<span class='curline'><a href='../S/1054.html#L129037'>db</a>               129037 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129051'>db</a>               129051 ext/sqlite3/libsqlite/sqlite3.c   sqlite3RollbackAll(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/1054.html#L129054'>db</a>               129054 ext/sqlite3/libsqlite/sqlite3.c   sqlite3CloseSavepoints(db);</span>
<span class='curline'><a href='../S/1054.html#L129057'>db</a>               129057 ext/sqlite3/libsqlite/sqlite3.c   for(j=0; j&lt;db-&gt;nDb; j++){</span>
<span class='curline'><a href='../S/1054.html#L129058'>db</a>               129058 ext/sqlite3/libsqlite/sqlite3.c     struct Db *pDb = &amp;db-&gt;aDb[j];</span>
<span class='curline'><a href='../S/1054.html#L129068'>db</a>               129068 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;aDb[1].pSchema ){</span>
<span class='curline'><a href='../S/1054.html#L129069'>db</a>               129069 ext/sqlite3/libsqlite/sqlite3.c     sqlite3SchemaClear(db-&gt;aDb[1].pSchema);</span>
<span class='curline'><a href='../S/1054.html#L129071'>db</a>               129071 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VtabUnlockList(db);</span>
<span class='curline'><a href='../S/1054.html#L129074'>db</a>               129074 ext/sqlite3/libsqlite/sqlite3.c   sqlite3CollapseDatabaseArray(db);</span>
<span class='curline'><a href='../S/1054.html#L129075'>db</a>               129075 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;nDb&lt;=2 );</span>
<span class='curline'><a href='../S/1054.html#L129076'>db</a>               129076 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;aDb==db-&gt;aDbStatic );</span>
<span class='curline'><a href='../S/1054.html#L129081'>db</a>               129081 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ConnectionClosed(db);</span>
<span class='curline'><a href='../S/1054.html#L129083'>db</a>               129083 ext/sqlite3/libsqlite/sqlite3.c   for(j=0; j&lt;ArraySize(db-&gt;aFunc.a); j++){</span>
<span class='curline'><a href='../S/1054.html#L129085'>db</a>               129085 ext/sqlite3/libsqlite/sqlite3.c     for(p=db-&gt;aFunc.a[j]; p; p=pHash){</span>
<span class='curline'><a href='../S/1054.html#L129088'>db</a>               129088 ext/sqlite3/libsqlite/sqlite3.c         functionDestroy(db, p);</span>
<span class='curline'><a href='../S/1054.html#L129090'>db</a>               129090 ext/sqlite3/libsqlite/sqlite3.c         sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/1054.html#L129095'>db</a>               129095 ext/sqlite3/libsqlite/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aCollSeq); i; i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/1054.html#L129103'>db</a>               129103 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pColl);</span>
<span class='curline'><a href='../S/1054.html#L129105'>db</a>               129105 ext/sqlite3/libsqlite/sqlite3.c   sqlite3HashClear(&amp;db-&gt;aCollSeq);</span>
<span class='curline'><a href='../S/1054.html#L129107'>db</a>               129107 ext/sqlite3/libsqlite/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aModule); i; i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/1054.html#L129112'>db</a>               129112 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pMod);</span>
<span class='curline'><a href='../S/1054.html#L129114'>db</a>               129114 ext/sqlite3/libsqlite/sqlite3.c   sqlite3HashClear(&amp;db-&gt;aModule);</span>
<span class='curline'><a href='../S/1054.html#L129117'>db</a>               129117 ext/sqlite3/libsqlite/sqlite3.c   sqlite3Error(db, SQLITE_OK); /* Deallocates any cached error strings. */</span>
<span class='curline'><a href='../S/1054.html#L129118'>db</a>               129118 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ValueFree(db-&gt;pErr);</span>
<span class='curline'><a href='../S/1054.html#L129119'>db</a>               129119 ext/sqlite3/libsqlite/sqlite3.c   sqlite3CloseExtensions(db);</span>
<span class='curline'><a href='../S/1054.html#L129121'>db</a>               129121 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_free(db-&gt;auth.zAuthUser);</span>
<span class='curline'><a href='../S/1054.html#L129122'>db</a>               129122 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_free(db-&gt;auth.zAuthPW);</span>
<span class='curline'><a href='../S/1054.html#L129125'>db</a>               129125 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;magic = SQLITE_MAGIC_ERROR;</span>
<span class='curline'><a href='../S/1054.html#L129133'>db</a>               129133 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, db-&gt;aDb[1].pSchema);</span>
<span class='curline'><a href='../S/1054.html#L129134'>db</a>               129134 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129135'>db</a>               129135 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;magic = SQLITE_MAGIC_CLOSED;</span>
<span class='curline'><a href='../S/1054.html#L129136'>db</a>               129136 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_free(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129137'>db</a>               129137 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;lookaside.nOut==0 );  /* Fails on a lookaside memory leak */</span>
<span class='curline'><a href='../S/1054.html#L129138'>db</a>               129138 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;lookaside.bMalloced ){</span>
<span class='curline'><a href='../S/1054.html#L129139'>db</a>               129139 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_free(db-&gt;lookaside.pStart);</span>
<span class='curline'><a href='../S/1054.html#L129141'>db</a>               129141 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_free(db);</span>
<span class='curline'><a href='../S/1054.html#L129151'>db</a>               129151 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3RollbackAll(sqlite3 *db, int tripCode){</span>
<span class='curline'><a href='../S/1054.html#L129155'>db</a>               129155 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L129164'>db</a>               129164 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/1054.html#L129165'>db</a>               129165 ext/sqlite3/libsqlite/sqlite3.c   schemaChange = (db-&gt;flags &amp; SQLITE_InternChanges)!=0 &amp;&amp; db-&gt;init.busy==0;</span>
<span class='curline'><a href='../S/1054.html#L129167'>db</a>               129167 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L129168'>db</a>               129168 ext/sqlite3/libsqlite/sqlite3.c     Btree *p = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L129176'>db</a>               129176 ext/sqlite3/libsqlite/sqlite3.c   sqlite3VtabRollback(db);</span>
<span class='curline'><a href='../S/1054.html#L129179'>db</a>               129179 ext/sqlite3/libsqlite/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_InternChanges)!=0 &amp;&amp; db-&gt;init.busy==0 ){</span>
<span class='curline'><a href='../S/1054.html#L129180'>db</a>               129180 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/1054.html#L129181'>db</a>               129181 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/1054.html#L129183'>db</a>               129183 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L129186'>db</a>               129186 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nDeferredCons = 0;</span>
<span class='curline'><a href='../S/1054.html#L129187'>db</a>               129187 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nDeferredImmCons = 0;</span>
<span class='curline'><a href='../S/1054.html#L129188'>db</a>               129188 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags &amp;= ~SQLITE_DeferFKs;</span>
<span class='curline'><a href='../S/1054.html#L129191'>db</a>               129191 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;xRollbackCallback &amp;&amp; (inTrans || !db-&gt;autoCommit) ){</span>
<span class='curline'><a href='../S/1054.html#L129192'>db</a>               129192 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;xRollbackCallback(db-&gt;pRollbackArg);</span>
<span class='curline'><a href='../S/1054.html#L129372'>db</a>               129372 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = (sqlite3 *)ptr;</span>
<span class='curline'><a href='../S/1054.html#L129373'>db</a>               129373 ext/sqlite3/libsqlite/sqlite3.c   int timeout = db-&gt;busyTimeout;</span>
<span class='curline'><a href='../S/1054.html#L129388'>db</a>               129388 ext/sqlite3/libsqlite/sqlite3.c   sqlite3OsSleep(db-&gt;pVfs, delay*1000);</span>
<span class='curline'><a href='../S/1054.html#L129391'>db</a>               129391 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = (sqlite3 *)ptr;</span>
<span class='curline'><a href='../S/1054.html#L129396'>db</a>               129396 ext/sqlite3/libsqlite/sqlite3.c   sqlite3OsSleep(db-&gt;pVfs, 1000000);</span>
<span class='curline'><a href='../S/1054.html#L129425'>db</a>               129425 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L129430'>db</a>               129430 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L129432'>db</a>               129432 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129433'>db</a>               129433 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;busyHandler.xFunc = xBusy;</span>
<span class='curline'><a href='../S/1054.html#L129434'>db</a>               129434 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;busyHandler.pArg = pArg;</span>
<span class='curline'><a href='../S/1054.html#L129435'>db</a>               129435 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;busyHandler.nBusy = 0;</span>
<span class='curline'><a href='../S/1054.html#L129436'>db</a>               129436 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;busyTimeout = 0;</span>
<span class='curline'><a href='../S/1054.html#L129437'>db</a>               129437 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129448'>db</a>               129448 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/1054.html#L129454'>db</a>               129454 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L129459'>db</a>               129459 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129461'>db</a>               129461 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;xProgress = xProgress;</span>
<span class='curline'><a href='../S/1054.html#L129462'>db</a>               129462 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nProgressOps = (unsigned)nOps;</span>
<span class='curline'><a href='../S/1054.html#L129463'>db</a>               129463 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;pProgressArg = pArg;</span>
<span class='curline'><a href='../S/1054.html#L129465'>db</a>               129465 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;xProgress = 0;</span>
<span class='curline'><a href='../S/1054.html#L129466'>db</a>               129466 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;nProgressOps = 0;</span>
<span class='curline'><a href='../S/1054.html#L129467'>db</a>               129467 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;pProgressArg = 0;</span>
<span class='curline'><a href='../S/1054.html#L129469'>db</a>               129469 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129478'>db</a>               129478 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_busy_timeout(sqlite3 *db, int ms){</span>
<span class='curline'><a href='../S/1054.html#L129480'>db</a>               129480 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L129483'>db</a>               129483 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_busy_handler(db, sqliteDefaultBusyCallback, (void*)db);</span>
<span class='curline'><a href='../S/1054.html#L129484'>db</a>               129484 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;busyTimeout = ms;</span>
<span class='curline'><a href='../S/1054.html#L129486'>db</a>               129486 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_busy_handler(db, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L129494'>db</a>               129494 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API void SQLITE_STDCALL sqlite3_interrupt(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L129496'>db</a>               129496 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L129501'>db</a>               129501 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;u1.isInterrupted = 1;</span>
<span class='curline'><a href='../S/1054.html#L129512'>db</a>               129512 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L129526'>db</a>               129526 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L129552'>db</a>               129552 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3CreateFunc(db, zFunctionName, nArg, SQLITE_UTF8|extraFlags,</span>
<span class='curline'><a href='../S/1054.html#L129555'>db</a>               129555 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3CreateFunc(db, zFunctionName, nArg, SQLITE_UTF16LE|extraFlags,</span>
<span class='curline'><a href='../S/1054.html#L129572'>db</a>               129572 ext/sqlite3/libsqlite/sqlite3.c   p = sqlite3FindFunction(db, zFunctionName, nName, nArg, (u8)enc, 0);</span>
<span class='curline'><a href='../S/1054.html#L129574'>db</a>               129574 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;nVdbeActive ){</span>
<span class='curline'><a href='../S/1054.html#L129575'>db</a>               129575 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ErrorWithMsg(db, SQLITE_BUSY, </span>
<span class='curline'><a href='../S/1054.html#L129577'>db</a>               129577 ext/sqlite3/libsqlite/sqlite3.c       assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L129580'>db</a>               129580 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/1054.html#L129584'>db</a>               129584 ext/sqlite3/libsqlite/sqlite3.c   p = sqlite3FindFunction(db, zFunctionName, nName, nArg, (u8)enc, 1);</span>
<span class='curline'><a href='../S/1054.html#L129585'>db</a>               129585 ext/sqlite3/libsqlite/sqlite3.c   assert(p || db-&gt;mallocFailed);</span>
<span class='curline'><a href='../S/1054.html#L129592'>db</a>               129592 ext/sqlite3/libsqlite/sqlite3.c   functionDestroy(db, p);</span>
<span class='curline'><a href='../S/1054.html#L129612'>db</a>               129612 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L129621'>db</a>               129621 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3_create_function_v2(db, zFunc, nArg, enc, p, xFunc, xStep,</span>
<span class='curline'><a href='../S/1054.html#L129626'>db</a>               129626 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L129640'>db</a>               129640 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L129644'>db</a>               129644 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129646'>db</a>               129646 ext/sqlite3/libsqlite/sqlite3.c     pArg = (FuncDestructor *)sqlite3DbMallocZero(db, sizeof(FuncDestructor));</span>
<span class='curline'><a href='../S/1054.html#L129654'>db</a>               129654 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3CreateFunc(db, zFunc, nArg, enc, p, xFunc, xStep, xFinal, pArg);</span>
<span class='curline'><a href='../S/1054.html#L129658'>db</a>               129658 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, pArg);</span>
<span class='curline'><a href='../S/1054.html#L129662'>db</a>               129662 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L129663'>db</a>               129663 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129669'>db</a>               129669 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L129682'>db</a>               129682 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) || zFunctionName==0 ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L129684'>db</a>               129684 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129685'>db</a>               129685 ext/sqlite3/libsqlite/sqlite3.c   assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L129686'>db</a>               129686 ext/sqlite3/libsqlite/sqlite3.c   zFunc8 = sqlite3Utf16to8(db, zFunctionName, -1, SQLITE_UTF16NATIVE);</span>
<span class='curline'><a href='../S/1054.html#L129687'>db</a>               129687 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3CreateFunc(db, zFunc8, nArg, eTextRep, p, xFunc, xStep, xFinal,0);</span>
<span class='curline'><a href='../S/1054.html#L129688'>db</a>               129688 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zFunc8);</span>
<span class='curline'><a href='../S/1054.html#L129689'>db</a>               129689 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L129690'>db</a>               129690 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129709'>db</a>               129709 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L129717'>db</a>               129717 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) || zName==0 || nArg&lt;-2 ){</span>
<span class='curline'><a href='../S/1054.html#L129721'>db</a>               129721 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129722'>db</a>               129722 ext/sqlite3/libsqlite/sqlite3.c   if( sqlite3FindFunction(db, zName, nName, nArg, SQLITE_UTF8, 0)==0 ){</span>
<span class='curline'><a href='../S/1054.html#L129723'>db</a>               129723 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3CreateFunc(db, zName, nArg, SQLITE_UTF8,</span>
<span class='curline'><a href='../S/1054.html#L129726'>db</a>               129726 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L129727'>db</a>               129727 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129740'>db</a>               129740 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API void *SQLITE_STDCALL sqlite3_trace(sqlite3 *db, void (*xTrace)(void*,const char*), void *pArg){</span>
<span class='curline'><a href='../S/1054.html#L129744'>db</a>               129744 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L129749'>db</a>               129749 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129750'>db</a>               129750 ext/sqlite3/libsqlite/sqlite3.c   pOld = db-&gt;pTraceArg;</span>
<span class='curline'><a href='../S/1054.html#L129751'>db</a>               129751 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xTrace = xTrace;</span>
<span class='curline'><a href='../S/1054.html#L129752'>db</a>               129752 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pTraceArg = pArg;</span>
<span class='curline'><a href='../S/1054.html#L129753'>db</a>               129753 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129765'>db</a>               129765 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L129772'>db</a>               129772 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L129777'>db</a>               129777 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129778'>db</a>               129778 ext/sqlite3/libsqlite/sqlite3.c   pOld = db-&gt;pProfileArg;</span>
<span class='curline'><a href='../S/1054.html#L129779'>db</a>               129779 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xProfile = xProfile;</span>
<span class='curline'><a href='../S/1054.html#L129780'>db</a>               129780 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pProfileArg = pArg;</span>
<span class='curline'><a href='../S/1054.html#L129781'>db</a>               129781 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129792'>db</a>               129792 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,              /* Attach the hook to this database */</span>
<span class='curline'><a href='../S/1054.html#L129799'>db</a>               129799 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L129804'>db</a>               129804 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129805'>db</a>               129805 ext/sqlite3/libsqlite/sqlite3.c   pOld = db-&gt;pCommitArg;</span>
<span class='curline'><a href='../S/1054.html#L129806'>db</a>               129806 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xCommitCallback = xCallback;</span>
<span class='curline'><a href='../S/1054.html#L129807'>db</a>               129807 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pCommitArg = pArg;</span>
<span class='curline'><a href='../S/1054.html#L129808'>db</a>               129808 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129817'>db</a>               129817 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,              /* Attach the hook to this database */</span>
<span class='curline'><a href='../S/1054.html#L129824'>db</a>               129824 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L129829'>db</a>               129829 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129830'>db</a>               129830 ext/sqlite3/libsqlite/sqlite3.c   pRet = db-&gt;pUpdateArg;</span>
<span class='curline'><a href='../S/1054.html#L129831'>db</a>               129831 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xUpdateCallback = xCallback;</span>
<span class='curline'><a href='../S/1054.html#L129832'>db</a>               129832 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pUpdateArg = pArg;</span>
<span class='curline'><a href='../S/1054.html#L129833'>db</a>               129833 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129842'>db</a>               129842 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,              /* Attach the hook to this database */</span>
<span class='curline'><a href='../S/1054.html#L129849'>db</a>               129849 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L129854'>db</a>               129854 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129855'>db</a>               129855 ext/sqlite3/libsqlite/sqlite3.c   pRet = db-&gt;pRollbackArg;</span>
<span class='curline'><a href='../S/1054.html#L129856'>db</a>               129856 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xRollbackCallback = xCallback;</span>
<span class='curline'><a href='../S/1054.html#L129857'>db</a>               129857 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pRollbackArg = pArg;</span>
<span class='curline'><a href='../S/1054.html#L129858'>db</a>               129858 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129871'>db</a>               129871 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,           /* Connection */</span>
<span class='curline'><a href='../S/1054.html#L129877'>db</a>               129877 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_wal_checkpoint(db, zDb);</span>
<span class='curline'><a href='../S/1054.html#L129895'>db</a>               129895 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_wal_autocheckpoint(sqlite3 *db, int nFrame){</span>
<span class='curline'><a href='../S/1054.html#L129897'>db</a>               129897 ext/sqlite3/libsqlite/sqlite3.c   UNUSED_PARAMETER(db);</span>
<span class='curline'><a href='../S/1054.html#L129901'>db</a>               129901 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L129904'>db</a>               129904 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_wal_hook(db, sqlite3WalDefaultHook, SQLITE_INT_TO_PTR(nFrame));</span>
<span class='curline'><a href='../S/1054.html#L129906'>db</a>               129906 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_wal_hook(db, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L129917'>db</a>               129917 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Attach the hook to this db handle */</span>
<span class='curline'><a href='../S/1054.html#L129924'>db</a>               129924 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L129929'>db</a>               129929 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129930'>db</a>               129930 ext/sqlite3/libsqlite/sqlite3.c   pRet = db-&gt;pWalArg;</span>
<span class='curline'><a href='../S/1054.html#L129931'>db</a>               129931 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xWalCallback = xCallback;</span>
<span class='curline'><a href='../S/1054.html#L129932'>db</a>               129932 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pWalArg = pArg;</span>
<span class='curline'><a href='../S/1054.html#L129933'>db</a>               129933 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129944'>db</a>               129944 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L129957'>db</a>               129957 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L129974'>db</a>               129974 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129976'>db</a>               129976 ext/sqlite3/libsqlite/sqlite3.c     iDb = sqlite3FindDbName(db, zDb);</span>
<span class='curline'><a href='../S/1054.html#L129980'>db</a>               129980 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ErrorWithMsg(db, SQLITE_ERROR, "unknown database: %s", zDb);</span>
<span class='curline'><a href='../S/1054.html#L129982'>db</a>               129982 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;busyHandler.nBusy = 0;</span>
<span class='curline'><a href='../S/1054.html#L129983'>db</a>               129983 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3Checkpoint(db, iDb, eMode, pnLog, pnCkpt);</span>
<span class='curline'><a href='../S/1054.html#L129984'>db</a>               129984 ext/sqlite3/libsqlite/sqlite3.c     sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L129986'>db</a>               129986 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L129987'>db</a>               129987 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L129998'>db</a>               129998 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_wal_checkpoint(sqlite3 *db, const char *zDb){</span>
<span class='curline'><a href='../S/1054.html#L130001'>db</a>               130001 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3_wal_checkpoint_v2(db,zDb,SQLITE_CHECKPOINT_PASSIVE,0,0);</span>
<span class='curline'><a href='../S/1054.html#L130024'>db</a>               130024 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3Checkpoint(sqlite3 *db, int iDb, int eMode, int *pnLog, int *pnCkpt){</span>
<span class='curline'><a href='../S/1054.html#L130029'>db</a>               130029 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L130033'>db</a>               130033 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb &amp;&amp; rc==SQLITE_OK; i++){</span>
<span class='curline'><a href='../S/1054.html#L130035'>db</a>               130035 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3BtreeCheckpoint(db-&gt;aDb[i].pBt, eMode, pnLog, pnCkpt);</span>
<span class='curline'><a href='../S/1054.html#L130068'>db</a>               130068 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3TempInMemory(const sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L130070'>db</a>               130070 ext/sqlite3/libsqlite/sqlite3.c   return ( db-&gt;temp_store==2 );</span>
<span class='curline'><a href='../S/1054.html#L130073'>db</a>               130073 ext/sqlite3/libsqlite/sqlite3.c   return ( db-&gt;temp_store!=1 );</span>
<span class='curline'><a href='../S/1054.html#L130087'>db</a>               130087 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API const char *SQLITE_STDCALL sqlite3_errmsg(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L130089'>db</a>               130089 ext/sqlite3/libsqlite/sqlite3.c   if( !db ){</span>
<span class='curline'><a href='../S/1054.html#L130092'>db</a>               130092 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L130095'>db</a>               130095 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L130096'>db</a>               130096 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L130099'>db</a>               130099 ext/sqlite3/libsqlite/sqlite3.c     testcase( db-&gt;pErr==0 );</span>
<span class='curline'><a href='../S/1054.html#L130100'>db</a>               130100 ext/sqlite3/libsqlite/sqlite3.c     z = (char*)sqlite3_value_text(db-&gt;pErr);</span>
<span class='curline'><a href='../S/1054.html#L130101'>db</a>               130101 ext/sqlite3/libsqlite/sqlite3.c     assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L130103'>db</a>               130103 ext/sqlite3/libsqlite/sqlite3.c       z = sqlite3ErrStr(db-&gt;errCode);</span>
<span class='curline'><a href='../S/1054.html#L130106'>db</a>               130106 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L130115'>db</a>               130115 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API const void *SQLITE_STDCALL sqlite3_errmsg16(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L130129'>db</a>               130129 ext/sqlite3/libsqlite/sqlite3.c   if( !db ){</span>
<span class='curline'><a href='../S/1054.html#L130132'>db</a>               130132 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L130135'>db</a>               130135 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L130136'>db</a>               130136 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L130139'>db</a>               130139 ext/sqlite3/libsqlite/sqlite3.c     z = sqlite3_value_text16(db-&gt;pErr);</span>
<span class='curline'><a href='../S/1054.html#L130141'>db</a>               130141 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ErrorWithMsg(db, db-&gt;errCode, sqlite3ErrStr(db-&gt;errCode));</span>
<span class='curline'><a href='../S/1054.html#L130142'>db</a>               130142 ext/sqlite3/libsqlite/sqlite3.c       z = sqlite3_value_text16(db-&gt;pErr);</span>
<span class='curline'><a href='../S/1054.html#L130149'>db</a>               130149 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mallocFailed = 0;</span>
<span class='curline'><a href='../S/1054.html#L130151'>db</a>               130151 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L130160'>db</a>               130160 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_errcode(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L130161'>db</a>               130161 ext/sqlite3/libsqlite/sqlite3.c   if( db &amp;&amp; !sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L130164'>db</a>               130164 ext/sqlite3/libsqlite/sqlite3.c   if( !db || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L130167'>db</a>               130167 ext/sqlite3/libsqlite/sqlite3.c   return db-&gt;errCode &amp; db-&gt;errMask;</span>
<span class='curline'><a href='../S/1054.html#L130169'>db</a>               130169 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_extended_errcode(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L130170'>db</a>               130170 ext/sqlite3/libsqlite/sqlite3.c   if( db &amp;&amp; !sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L130173'>db</a>               130173 ext/sqlite3/libsqlite/sqlite3.c   if( !db || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L130176'>db</a>               130176 ext/sqlite3/libsqlite/sqlite3.c   return db-&gt;errCode;</span>
<span class='curline'><a href='../S/1054.html#L130193'>db</a>               130193 ext/sqlite3/libsqlite/sqlite3.c   sqlite3* db,</span>
<span class='curline'><a href='../S/1054.html#L130203'>db</a>               130203 ext/sqlite3/libsqlite/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/1054.html#L130223'>db</a>               130223 ext/sqlite3/libsqlite/sqlite3.c   pColl = sqlite3FindCollSeq(db, (u8)enc2, zName, 0);</span>
<span class='curline'><a href='../S/1054.html#L130225'>db</a>               130225 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;nVdbeActive ){</span>
<span class='curline'><a href='../S/1054.html#L130226'>db</a>               130226 ext/sqlite3/libsqlite/sqlite3.c       sqlite3ErrorWithMsg(db, SQLITE_BUSY, </span>
<span class='curline'><a href='../S/1054.html#L130230'>db</a>               130230 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/1054.html#L130239'>db</a>               130239 ext/sqlite3/libsqlite/sqlite3.c       CollSeq *aColl = sqlite3HashFind(&amp;db-&gt;aCollSeq, zName);</span>
<span class='curline'><a href='../S/1054.html#L130253'>db</a>               130253 ext/sqlite3/libsqlite/sqlite3.c   pColl = sqlite3FindCollSeq(db, (u8)enc2, zName, 1);</span>
<span class='curline'><a href='../S/1054.html#L130259'>db</a>               130259 ext/sqlite3/libsqlite/sqlite3.c   sqlite3Error(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/1054.html#L130332'>db</a>               130332 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_limit(sqlite3 *db, int limitId, int newLimit){</span>
<span class='curline'><a href='../S/1054.html#L130336'>db</a>               130336 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L130366'>db</a>               130366 ext/sqlite3/libsqlite/sqlite3.c   oldLimit = db-&gt;aLimit[limitId];</span>
<span class='curline'><a href='../S/1054.html#L130371'>db</a>               130371 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;aLimit[limitId] = newLimit;</span>
<span class='curline'><a href='../S/1054.html#L130633'>db</a>               130633 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;                    /* Store allocated handle here */</span>
<span class='curline'><a href='../S/1054.html#L130707'>db</a>               130707 ext/sqlite3/libsqlite/sqlite3.c   db = sqlite3MallocZero( sizeof(sqlite3) );</span>
<span class='curline'><a href='../S/1054.html#L130708'>db</a>               130708 ext/sqlite3/libsqlite/sqlite3.c   if( db==0 ) goto opendb_out;</span>
<span class='curline'><a href='../S/1054.html#L130710'>db</a>               130710 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;mutex = sqlite3MutexAlloc(SQLITE_MUTEX_RECURSIVE);</span>
<span class='curline'><a href='../S/1054.html#L130711'>db</a>               130711 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;mutex==0 ){</span>
<span class='curline'><a href='../S/1054.html#L130712'>db</a>               130712 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_free(db);</span>
<span class='curline'><a href='../S/1054.html#L130713'>db</a>               130713 ext/sqlite3/libsqlite/sqlite3.c       db = 0;</span>
<span class='curline'><a href='../S/1054.html#L130717'>db</a>               130717 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L130718'>db</a>               130718 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;errMask = 0xff;</span>
<span class='curline'><a href='../S/1054.html#L130719'>db</a>               130719 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nDb = 2;</span>
<span class='curline'><a href='../S/1054.html#L130720'>db</a>               130720 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;magic = SQLITE_MAGIC_BUSY;</span>
<span class='curline'><a href='../S/1054.html#L130721'>db</a>               130721 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aDb = db-&gt;aDbStatic;</span>
<span class='curline'><a href='../S/1054.html#L130723'>db</a>               130723 ext/sqlite3/libsqlite/sqlite3.c   assert( sizeof(db-&gt;aLimit)==sizeof(aHardLimit) );</span>
<span class='curline'><a href='../S/1054.html#L130724'>db</a>               130724 ext/sqlite3/libsqlite/sqlite3.c   memcpy(db-&gt;aLimit, aHardLimit, sizeof(db-&gt;aLimit));</span>
<span class='curline'><a href='../S/1054.html#L130725'>db</a>               130725 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aLimit[SQLITE_LIMIT_WORKER_THREADS] = SQLITE_DEFAULT_WORKER_THREADS;</span>
<span class='curline'><a href='../S/1054.html#L130726'>db</a>               130726 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/1054.html#L130727'>db</a>               130727 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nextAutovac = -1;</span>
<span class='curline'><a href='../S/1054.html#L130728'>db</a>               130728 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;szMmap = sqlite3GlobalConfig.szMmap;</span>
<span class='curline'><a href='../S/1054.html#L130729'>db</a>               130729 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nextPagesize = 0;</span>
<span class='curline'><a href='../S/1054.html#L130730'>db</a>               130730 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;nMaxSorterMmap = 0x7FFFFFFF;</span>
<span class='curline'><a href='../S/1054.html#L130731'>db</a>               130731 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;flags |= SQLITE_ShortColNames | SQLITE_EnableTrigger | SQLITE_CacheSpill</span>
<span class='curline'><a href='../S/1054.html#L130754'>db</a>               130754 ext/sqlite3/libsqlite/sqlite3.c   sqlite3HashInit(&amp;db-&gt;aCollSeq);</span>
<span class='curline'><a href='../S/1054.html#L130756'>db</a>               130756 ext/sqlite3/libsqlite/sqlite3.c   sqlite3HashInit(&amp;db-&gt;aModule);</span>
<span class='curline'><a href='../S/1054.html#L130766'>db</a>               130766 ext/sqlite3/libsqlite/sqlite3.c   createCollation(db, "BINARY", SQLITE_UTF8, 0, binCollFunc, 0);</span>
<span class='curline'><a href='../S/1054.html#L130767'>db</a>               130767 ext/sqlite3/libsqlite/sqlite3.c   createCollation(db, "BINARY", SQLITE_UTF16BE, 0, binCollFunc, 0);</span>
<span class='curline'><a href='../S/1054.html#L130768'>db</a>               130768 ext/sqlite3/libsqlite/sqlite3.c   createCollation(db, "BINARY", SQLITE_UTF16LE, 0, binCollFunc, 0);</span>
<span class='curline'><a href='../S/1054.html#L130769'>db</a>               130769 ext/sqlite3/libsqlite/sqlite3.c   createCollation(db, "NOCASE", SQLITE_UTF8, 0, nocaseCollatingFunc, 0);</span>
<span class='curline'><a href='../S/1054.html#L130770'>db</a>               130770 ext/sqlite3/libsqlite/sqlite3.c   createCollation(db, "RTRIM", SQLITE_UTF8, (void*)1, binCollFunc, 0);</span>
<span class='curline'><a href='../S/1054.html#L130771'>db</a>               130771 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L130777'>db</a>               130777 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pDfltColl = sqlite3FindCollSeq(db, SQLITE_UTF8, "BINARY", 0);</span>
<span class='curline'><a href='../S/1054.html#L130778'>db</a>               130778 ext/sqlite3/libsqlite/sqlite3.c   assert( db-&gt;pDfltColl!=0 );</span>
<span class='curline'><a href='../S/1054.html#L130781'>db</a>               130781 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;openFlags = flags;</span>
<span class='curline'><a href='../S/1054.html#L130782'>db</a>               130782 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ParseUri(zVfs, zFilename, &amp;flags, &amp;db-&gt;pVfs, &amp;zOpen, &amp;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L130784'>db</a>               130784 ext/sqlite3/libsqlite/sqlite3.c     if( rc==SQLITE_NOMEM ) db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/1054.html#L130785'>db</a>               130785 ext/sqlite3/libsqlite/sqlite3.c     sqlite3ErrorWithMsg(db, rc, zErrMsg ? "%s" : 0, zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L130791'>db</a>               130791 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3BtreeOpen(db-&gt;pVfs, zOpen, db, &amp;db-&gt;aDb[0].pBt, 0,</span>
<span class='curline'><a href='../S/1054.html#L130797'>db</a>               130797 ext/sqlite3/libsqlite/sqlite3.c     sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L130800'>db</a>               130800 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeEnter(db-&gt;aDb[0].pBt);</span>
<span class='curline'><a href='../S/1054.html#L130801'>db</a>               130801 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aDb[0].pSchema = sqlite3SchemaGet(db, db-&gt;aDb[0].pBt);</span>
<span class='curline'><a href='../S/1054.html#L130802'>db</a>               130802 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;mallocFailed ) ENC(db) = SCHEMA_ENC(db);</span>
<span class='curline'><a href='../S/1054.html#L130803'>db</a>               130803 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeLeave(db-&gt;aDb[0].pBt);</span>
<span class='curline'><a href='../S/1054.html#L130804'>db</a>               130804 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aDb[1].pSchema = sqlite3SchemaGet(db, 0);</span>
<span class='curline'><a href='../S/1054.html#L130809'>db</a>               130809 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aDb[0].zName = "main";</span>
<span class='curline'><a href='../S/1054.html#L130810'>db</a>               130810 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aDb[0].safety_level = 3;</span>
<span class='curline'><a href='../S/1054.html#L130811'>db</a>               130811 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aDb[1].zName = "temp";</span>
<span class='curline'><a href='../S/1054.html#L130812'>db</a>               130812 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;aDb[1].safety_level = 1;</span>
<span class='curline'><a href='../S/1054.html#L130814'>db</a>               130814 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;magic = SQLITE_MAGIC_OPEN;</span>
<span class='curline'><a href='../S/1054.html#L130815'>db</a>               130815 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L130823'>db</a>               130823 ext/sqlite3/libsqlite/sqlite3.c   sqlite3Error(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/1054.html#L130824'>db</a>               130824 ext/sqlite3/libsqlite/sqlite3.c   sqlite3RegisterBuiltinFunctions(db);</span>
<span class='curline'><a href='../S/1054.html#L130829'>db</a>               130829 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_errcode(db);</span>
<span class='curline'><a href='../S/1054.html#L130831'>db</a>               130831 ext/sqlite3/libsqlite/sqlite3.c     sqlite3AutoLoadExtensions(db);</span>
<span class='curline'><a href='../S/1054.html#L130832'>db</a>               130832 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_errcode(db);</span>
<span class='curline'><a href='../S/1054.html#L130839'>db</a>               130839 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/1054.html#L130841'>db</a>               130841 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3Fts1Init(db);</span>
<span class='curline'><a href='../S/1054.html#L130846'>db</a>               130846 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;mallocFailed &amp;&amp; rc==SQLITE_OK ){</span>
<span class='curline'><a href='../S/1054.html#L130848'>db</a>               130848 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3Fts2Init(db);</span>
<span class='curline'><a href='../S/1054.html#L130853'>db</a>               130853 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;mallocFailed &amp;&amp; rc==SQLITE_OK ){</span>
<span class='curline'><a href='../S/1054.html#L130854'>db</a>               130854 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3Fts3Init(db);</span>
<span class='curline'><a href='../S/1054.html#L130859'>db</a>               130859 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;mallocFailed &amp;&amp; rc==SQLITE_OK ){</span>
<span class='curline'><a href='../S/1054.html#L130860'>db</a>               130860 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3IcuInit(db);</span>
<span class='curline'><a href='../S/1054.html#L130865'>db</a>               130865 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;mallocFailed &amp;&amp; rc==SQLITE_OK){</span>
<span class='curline'><a href='../S/1054.html#L130866'>db</a>               130866 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3RtreeInit(db);</span>
<span class='curline'><a href='../S/1054.html#L130871'>db</a>               130871 ext/sqlite3/libsqlite/sqlite3.c   if( !db-&gt;mallocFailed &amp;&amp; rc==SQLITE_OK){</span>
<span class='curline'><a href='../S/1054.html#L130873'>db</a>               130873 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_dbstat_register(db);</span>
<span class='curline'><a href='../S/1054.html#L130882'>db</a>               130882 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;dfltLockMode = SQLITE_DEFAULT_LOCKING_MODE;</span>
<span class='curline'><a href='../S/1054.html#L130883'>db</a>               130883 ext/sqlite3/libsqlite/sqlite3.c   sqlite3PagerLockingMode(sqlite3BtreePager(db-&gt;aDb[0].pBt),</span>
<span class='curline'><a href='../S/1054.html#L130887'>db</a>               130887 ext/sqlite3/libsqlite/sqlite3.c   if( rc ) sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L130890'>db</a>               130890 ext/sqlite3/libsqlite/sqlite3.c   setupLookaside(db, 0, sqlite3GlobalConfig.szLookaside,</span>
<span class='curline'><a href='../S/1054.html#L130893'>db</a>               130893 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_wal_autocheckpoint(db, SQLITE_DEFAULT_WAL_AUTOCHECKPOINT);</span>
<span class='curline'><a href='../S/1054.html#L130897'>db</a>               130897 ext/sqlite3/libsqlite/sqlite3.c   if( db ){</span>
<span class='curline'><a href='../S/1054.html#L130898'>db</a>               130898 ext/sqlite3/libsqlite/sqlite3.c     assert( db-&gt;mutex!=0 || isThreadsafe==0</span>
<span class='curline'><a href='../S/1054.html#L130900'>db</a>               130900 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L130902'>db</a>               130902 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_errcode(db);</span>
<span class='curline'><a href='../S/1054.html#L130903'>db</a>               130903 ext/sqlite3/libsqlite/sqlite3.c   assert( db!=0 || rc==SQLITE_NOMEM );</span>
<span class='curline'><a href='../S/1054.html#L130905'>db</a>               130905 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_close(db);</span>
<span class='curline'><a href='../S/1054.html#L130906'>db</a>               130906 ext/sqlite3/libsqlite/sqlite3.c     db = 0;</span>
<span class='curline'><a href='../S/1054.html#L130908'>db</a>               130908 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;magic = SQLITE_MAGIC_SICK;</span>
<span class='curline'><a href='../S/1054.html#L130910'>db</a>               130910 ext/sqlite3/libsqlite/sqlite3.c   *ppDb = db;</span>
<span class='curline'><a href='../S/1054.html#L130915'>db</a>               130915 ext/sqlite3/libsqlite/sqlite3.c     sqlite3GlobalConfig.xSqllog(pArg, db, zFilename, 0);</span>
<span class='curline'><a href='../S/1054.html#L130984'>db</a>               130984 ext/sqlite3/libsqlite/sqlite3.c   sqlite3* db, </span>
<span class='curline'><a href='../S/1054.html#L130990'>db</a>               130990 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3_create_collation_v2(db, zName, enc, pCtx, xCompare, 0);</span>
<span class='curline'><a href='../S/1054.html#L130997'>db</a>               130997 ext/sqlite3/libsqlite/sqlite3.c   sqlite3* db, </span>
<span class='curline'><a href='../S/1054.html#L131007'>db</a>               131007 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) || zName==0 ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L131009'>db</a>               131009 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131010'>db</a>               131010 ext/sqlite3/libsqlite/sqlite3.c   assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L131011'>db</a>               131011 ext/sqlite3/libsqlite/sqlite3.c   rc = createCollation(db, zName, (u8)enc, pCtx, xCompare, xDel);</span>
<span class='curline'><a href='../S/1054.html#L131012'>db</a>               131012 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L131013'>db</a>               131013 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131022'>db</a>               131022 ext/sqlite3/libsqlite/sqlite3.c   sqlite3* db, </span>
<span class='curline'><a href='../S/1054.html#L131032'>db</a>               131032 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) || zName==0 ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L131034'>db</a>               131034 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131035'>db</a>               131035 ext/sqlite3/libsqlite/sqlite3.c   assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L131036'>db</a>               131036 ext/sqlite3/libsqlite/sqlite3.c   zName8 = sqlite3Utf16to8(db, zName, -1, SQLITE_UTF16NATIVE);</span>
<span class='curline'><a href='../S/1054.html#L131038'>db</a>               131038 ext/sqlite3/libsqlite/sqlite3.c     rc = createCollation(db, zName8, (u8)enc, pCtx, xCompare, 0);</span>
<span class='curline'><a href='../S/1054.html#L131039'>db</a>               131039 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zName8);</span>
<span class='curline'><a href='../S/1054.html#L131041'>db</a>               131041 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L131042'>db</a>               131042 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131052'>db</a>               131052 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/1054.html#L131057'>db</a>               131057 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L131059'>db</a>               131059 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131060'>db</a>               131060 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xCollNeeded = xCollNeeded;</span>
<span class='curline'><a href='../S/1054.html#L131061'>db</a>               131061 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xCollNeeded16 = 0;</span>
<span class='curline'><a href='../S/1054.html#L131062'>db</a>               131062 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pCollNeededArg = pCollNeededArg;</span>
<span class='curline'><a href='../S/1054.html#L131063'>db</a>               131063 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131073'>db</a>               131073 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/1054.html#L131078'>db</a>               131078 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L131080'>db</a>               131080 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131081'>db</a>               131081 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xCollNeeded = 0;</span>
<span class='curline'><a href='../S/1054.html#L131082'>db</a>               131082 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;xCollNeeded16 = xCollNeeded16;</span>
<span class='curline'><a href='../S/1054.html#L131083'>db</a>               131083 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pCollNeededArg = pCollNeededArg;</span>
<span class='curline'><a href='../S/1054.html#L131084'>db</a>               131084 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131105'>db</a>               131105 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_get_autocommit(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L131107'>db</a>               131107 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L131112'>db</a>               131112 ext/sqlite3/libsqlite/sqlite3.c   return db-&gt;autoCommit;</span>
<span class='curline'><a href='../S/1054.html#L131166'>db</a>               131166 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                /* Connection handle */</span>
<span class='curline'><a href='../S/1054.html#L131189'>db</a>               131189 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) || zTableName==0 ){</span>
<span class='curline'><a href='../S/1054.html#L131195'>db</a>               131195 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131196'>db</a>               131196 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/1054.html#L131197'>db</a>               131197 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3Init(db, &amp;zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L131203'>db</a>               131203 ext/sqlite3/libsqlite/sqlite3.c   pTab = sqlite3FindTable(db, zTableName, zDbName);</span>
<span class='curline'><a href='../S/1054.html#L131255'>db</a>               131255 ext/sqlite3/libsqlite/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/1054.html#L131268'>db</a>               131268 ext/sqlite3/libsqlite/sqlite3.c     sqlite3DbFree(db, zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L131269'>db</a>               131269 ext/sqlite3/libsqlite/sqlite3.c     zErrMsg = sqlite3MPrintf(db, "no such table column: %s.%s", zTableName,</span>
<span class='curline'><a href='../S/1054.html#L131273'>db</a>               131273 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ErrorWithMsg(db, rc, (zErrMsg?"%s":0), zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L131274'>db</a>               131274 ext/sqlite3/libsqlite/sqlite3.c   sqlite3DbFree(db, zErrMsg);</span>
<span class='curline'><a href='../S/1054.html#L131275'>db</a>               131275 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/1054.html#L131276'>db</a>               131276 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131299'>db</a>               131299 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_extended_result_codes(sqlite3 *db, int onoff){</span>
<span class='curline'><a href='../S/1054.html#L131301'>db</a>               131301 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L131303'>db</a>               131303 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131304'>db</a>               131304 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;errMask = onoff ? 0xffffffff : 0xff;</span>
<span class='curline'><a href='../S/1054.html#L131305'>db</a>               131305 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131312'>db</a>               131312 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_file_control(sqlite3 *db, const char *zDbName, int op, void *pArg){</span>
<span class='curline'><a href='../S/1054.html#L131317'>db</a>               131317 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/1054.html#L131319'>db</a>               131319 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131320'>db</a>               131320 ext/sqlite3/libsqlite/sqlite3.c   pBtree = sqlite3DbNameToBtree(db, zDbName);</span>
<span class='curline'><a href='../S/1054.html#L131339'>db</a>               131339 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131531'>db</a>               131531 ext/sqlite3/libsqlite/sqlite3.c       sqlite3 *db = va_arg(ap, sqlite3*);</span>
<span class='curline'><a href='../S/1054.html#L131533'>db</a>               131533 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131534'>db</a>               131534 ext/sqlite3/libsqlite/sqlite3.c       sqlite3BtreeSetPageSize(db-&gt;aDb[0].pBt, 0, x, 0);</span>
<span class='curline'><a href='../S/1054.html#L131535'>db</a>               131535 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131549'>db</a>               131549 ext/sqlite3/libsqlite/sqlite3.c       sqlite3 *db = va_arg(ap, sqlite3*);</span>
<span class='curline'><a href='../S/1054.html#L131550'>db</a>               131550 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;dbOptFlags = (u16)(va_arg(ap, int) &amp; 0xffff);</span>
<span class='curline'><a href='../S/1054.html#L131629'>db</a>               131629 ext/sqlite3/libsqlite/sqlite3.c       sqlite3 *db = va_arg(ap, sqlite3*);</span>
<span class='curline'><a href='../S/1054.html#L131630'>db</a>               131630 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;nMaxSorterMmap = va_arg(ap, int);</span>
<span class='curline'><a href='../S/1054.html#L131661'>db</a>               131661 ext/sqlite3/libsqlite/sqlite3.c       sqlite3 *db = va_arg(ap, sqlite3*);</span>
<span class='curline'><a href='../S/1054.html#L131662'>db</a>               131662 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131663'>db</a>               131663 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;init.iDb = sqlite3FindDbName(db, va_arg(ap,const char*));</span>
<span class='curline'><a href='../S/1054.html#L131664'>db</a>               131664 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;init.busy = db-&gt;init.imposterTable = va_arg(ap,int);</span>
<span class='curline'><a href='../S/1054.html#L131665'>db</a>               131665 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;init.newTnum = va_arg(ap,int);</span>
<span class='curline'><a href='../S/1054.html#L131666'>db</a>               131666 ext/sqlite3/libsqlite/sqlite3.c       if( db-&gt;init.busy==0 &amp;&amp; db-&gt;init.newTnum&gt;0 ){</span>
<span class='curline'><a href='../S/1054.html#L131667'>db</a>               131667 ext/sqlite3/libsqlite/sqlite3.c         sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/1054.html#L131669'>db</a>               131669 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131729'>db</a>               131729 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE Btree *sqlite3DbNameToBtree(sqlite3 *db, const char *zDbName){</span>
<span class='curline'><a href='../S/1054.html#L131731'>db</a>               131731 ext/sqlite3/libsqlite/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/1054.html#L131732'>db</a>               131732 ext/sqlite3/libsqlite/sqlite3.c     if( db-&gt;aDb[i].pBt</span>
<span class='curline'><a href='../S/1054.html#L131733'>db</a>               131733 ext/sqlite3/libsqlite/sqlite3.c      &amp;&amp; (zDbName==0 || sqlite3StrICmp(zDbName, db-&gt;aDb[i].zName)==0)</span>
<span class='curline'><a href='../S/1054.html#L131735'>db</a>               131735 ext/sqlite3/libsqlite/sqlite3.c       return db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/1054.html#L131745'>db</a>               131745 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API const char *SQLITE_STDCALL sqlite3_db_filename(sqlite3 *db, const char *zDbName){</span>
<span class='curline'><a href='../S/1054.html#L131748'>db</a>               131748 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L131753'>db</a>               131753 ext/sqlite3/libsqlite/sqlite3.c   pBt = sqlite3DbNameToBtree(db, zDbName);</span>
<span class='curline'><a href='../S/1054.html#L131761'>db</a>               131761 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_db_readonly(sqlite3 *db, const char *zDbName){</span>
<span class='curline'><a href='../S/1054.html#L131764'>db</a>               131764 ext/sqlite3/libsqlite/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/1054.html#L131769'>db</a>               131769 ext/sqlite3/libsqlite/sqlite3.c   pBt = sqlite3DbNameToBtree(db, zDbName);</span>
<span class='curline'><a href='../S/1054.html#L131829'>db</a>               131829 ext/sqlite3/libsqlite/sqlite3.c static void checkListProperties(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L131842'>db</a>               131842 ext/sqlite3/libsqlite/sqlite3.c       assert( db==0 || p-&gt;pUnlockConnection!=db );</span>
<span class='curline'><a href='../S/1054.html#L131843'>db</a>               131843 ext/sqlite3/libsqlite/sqlite3.c       assert( db==0 || p-&gt;pBlockingConnection!=db );</span>
<span class='curline'><a href='../S/1054.html#L131855'>db</a>               131855 ext/sqlite3/libsqlite/sqlite3.c static void removeFromBlockedList(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L131859'>db</a>               131859 ext/sqlite3/libsqlite/sqlite3.c     if( *pp==db ){</span>
<span class='curline'><a href='../S/1054.html#L131870'>db</a>               131870 ext/sqlite3/libsqlite/sqlite3.c static void addToBlockedList(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L131875'>db</a>               131875 ext/sqlite3/libsqlite/sqlite3.c     *pp &amp;&amp; (*pp)-&gt;xUnlockNotify!=db-&gt;xUnlockNotify; </span>
<span class='curline'><a href='../S/1054.html#L131878'>db</a>               131878 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pNextBlocked = *pp;</span>
<span class='curline'><a href='../S/1054.html#L131879'>db</a>               131879 ext/sqlite3/libsqlite/sqlite3.c   *pp = db;</span>
<span class='curline'><a href='../S/1054.html#L131921'>db</a>               131921 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L131927'>db</a>               131927 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131931'>db</a>               131931 ext/sqlite3/libsqlite/sqlite3.c     removeFromBlockedList(db);</span>
<span class='curline'><a href='../S/1054.html#L131932'>db</a>               131932 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;pBlockingConnection = 0;</span>
<span class='curline'><a href='../S/1054.html#L131933'>db</a>               131933 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;pUnlockConnection = 0;</span>
<span class='curline'><a href='../S/1054.html#L131934'>db</a>               131934 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;xUnlockNotify = 0;</span>
<span class='curline'><a href='../S/1054.html#L131935'>db</a>               131935 ext/sqlite3/libsqlite/sqlite3.c     db-&gt;pUnlockArg = 0;</span>
<span class='curline'><a href='../S/1054.html#L131936'>db</a>               131936 ext/sqlite3/libsqlite/sqlite3.c   }else if( 0==db-&gt;pBlockingConnection ){</span>
<span class='curline'><a href='../S/1054.html#L131945'>db</a>               131945 ext/sqlite3/libsqlite/sqlite3.c     for(p=db-&gt;pBlockingConnection; p &amp;&amp; p!=db; p=p-&gt;pUnlockConnection){}</span>
<span class='curline'><a href='../S/1054.html#L131949'>db</a>               131949 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;pUnlockConnection = db-&gt;pBlockingConnection;</span>
<span class='curline'><a href='../S/1054.html#L131950'>db</a>               131950 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;xUnlockNotify = xNotify;</span>
<span class='curline'><a href='../S/1054.html#L131951'>db</a>               131951 ext/sqlite3/libsqlite/sqlite3.c       db-&gt;pUnlockArg = pArg;</span>
<span class='curline'><a href='../S/1054.html#L131952'>db</a>               131952 ext/sqlite3/libsqlite/sqlite3.c       removeFromBlockedList(db);</span>
<span class='curline'><a href='../S/1054.html#L131953'>db</a>               131953 ext/sqlite3/libsqlite/sqlite3.c       addToBlockedList(db);</span>
<span class='curline'><a href='../S/1054.html#L131958'>db</a>               131958 ext/sqlite3/libsqlite/sqlite3.c   assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/1054.html#L131959'>db</a>               131959 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ErrorWithMsg(db, rc, (rc?"database is deadlocked":0));</span>
<span class='curline'><a href='../S/1054.html#L131960'>db</a>               131960 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/1054.html#L131970'>db</a>               131970 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3ConnectionBlocked(sqlite3 *db, sqlite3 *pBlocker){</span>
<span class='curline'><a href='../S/1054.html#L131972'>db</a>               131972 ext/sqlite3/libsqlite/sqlite3.c   if( db-&gt;pBlockingConnection==0 &amp;&amp; db-&gt;pUnlockConnection==0 ){</span>
<span class='curline'><a href='../S/1054.html#L131973'>db</a>               131973 ext/sqlite3/libsqlite/sqlite3.c     addToBlockedList(db);</span>
<span class='curline'><a href='../S/1054.html#L131975'>db</a>               131975 ext/sqlite3/libsqlite/sqlite3.c   db-&gt;pBlockingConnection = pBlocker;</span>
<span class='curline'><a href='../S/1054.html#L131998'>db</a>               131998 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3ConnectionUnlocked(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L132014'>db</a>               132014 ext/sqlite3/libsqlite/sqlite3.c     if( p-&gt;pBlockingConnection==db ){</span>
<span class='curline'><a href='../S/1054.html#L132019'>db</a>               132019 ext/sqlite3/libsqlite/sqlite3.c     if( p-&gt;pUnlockConnection==db ){</span>
<span class='curline'><a href='../S/1054.html#L132097'>db</a>               132097 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE void sqlite3ConnectionClosed(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L132098'>db</a>               132098 ext/sqlite3/libsqlite/sqlite3.c   sqlite3ConnectionUnlocked(db);</span>
<span class='curline'><a href='../S/1054.html#L132100'>db</a>               132100 ext/sqlite3/libsqlite/sqlite3.c   removeFromBlockedList(db);</span>
<span class='curline'><a href='../S/1054.html#L132101'>db</a>               132101 ext/sqlite3/libsqlite/sqlite3.c   checkListProperties(db);</span>
<span class='curline'><a href='../S/1054.html#L132886'>db</a>               132886 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;                    /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L133251'>db</a>               133251 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3ExprInitTestInterface(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L133252'>db</a>               133252 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3InitTerm(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L133260'>db</a>               133260 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3InitAux(sqlite3 *db);</span>
<span class='curline'><a href='../S/1054.html#L133524'>db</a>               133524 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,           /* Database in which to run SQL */</span>
<span class='curline'><a href='../S/1054.html#L133537'>db</a>               133537 ext/sqlite3/libsqlite/sqlite3.c     *pRc = sqlite3_exec(db, zSql, 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L133549'>db</a>               133549 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;             /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L133553'>db</a>               133553 ext/sqlite3/libsqlite/sqlite3.c     fts3DbExec(&amp;rc, db, "DROP TABLE IF EXISTS %Q.'%q_content'", zDb, p-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L133555'>db</a>               133555 ext/sqlite3/libsqlite/sqlite3.c   fts3DbExec(&amp;rc, db, "DROP TABLE IF EXISTS %Q.'%q_segments'", zDb,p-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L133556'>db</a>               133556 ext/sqlite3/libsqlite/sqlite3.c   fts3DbExec(&amp;rc, db, "DROP TABLE IF EXISTS %Q.'%q_segdir'", zDb, p-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L133557'>db</a>               133557 ext/sqlite3/libsqlite/sqlite3.c   fts3DbExec(&amp;rc, db, "DROP TABLE IF EXISTS %Q.'%q_docsize'", zDb, p-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L133558'>db</a>               133558 ext/sqlite3/libsqlite/sqlite3.c   fts3DbExec(&amp;rc, db, "DROP TABLE IF EXISTS %Q.'%q_stat'", zDb, p-&gt;zName);</span>
<span class='curline'><a href='../S/1054.html#L133586'>db</a>               133586 ext/sqlite3/libsqlite/sqlite3.c     sqlite3_vtab_config(p-&gt;db, SQLITE_VTAB_CONSTRAINT_SUPPORT, 1);</span>
<span class='curline'><a href='../S/1054.html#L133602'>db</a>               133602 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3_declare_vtab(p-&gt;db, zSql);</span>
<span class='curline'><a href='../S/1054.html#L133615'>db</a>               133615 ext/sqlite3/libsqlite/sqlite3.c   fts3DbExec(pRc, p-&gt;db, </span>
<span class='curline'><a href='../S/1054.html#L133635'>db</a>               133635 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;            /* The database connection */</span>
<span class='curline'><a href='../S/1054.html#L133653'>db</a>               133653 ext/sqlite3/libsqlite/sqlite3.c     fts3DbExec(&amp;rc, db, </span>
<span class='curline'><a href='../S/1054.html#L133661'>db</a>               133661 ext/sqlite3/libsqlite/sqlite3.c   fts3DbExec(&amp;rc, db, </span>
<span class='curline'><a href='../S/1054.html#L133665'>db</a>               133665 ext/sqlite3/libsqlite/sqlite3.c   fts3DbExec(&amp;rc, db, </span>
<span class='curline'><a href='../S/1054.html#L133678'>db</a>               133678 ext/sqlite3/libsqlite/sqlite3.c     fts3DbExec(&amp;rc, db, </span>
<span class='curline'><a href='../S/1054.html#L133707'>db</a>               133707 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3_prepare(p-&gt;db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L134028'>db</a>               134028 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L134044'>db</a>               134044 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_prepare(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L134046'>db</a>               134046 ext/sqlite3/libsqlite/sqlite3.c       sqlite3Fts3ErrMsg(pzErr, "%s", sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/1054.html#L134104'>db</a>               134104 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* The SQLite database connection */</span>
<span class='curline'><a href='../S/1054.html#L134299'>db</a>               134299 ext/sqlite3/libsqlite/sqlite3.c       rc = fts3ContentColumns(db, argv[1], zContent,&amp;aCol,&amp;nCol,&amp;nString,pzErr);</span>
<span class='curline'><a href='../S/1054.html#L134352'>db</a>               134352 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L134480'>db</a>               134480 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L134487'>db</a>               134487 ext/sqlite3/libsqlite/sqlite3.c   return fts3InitVtab(0, db, pAux, argc, argv, ppVtab, pzErr);</span>
<span class='curline'><a href='../S/1054.html#L134490'>db</a>               134490 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L134497'>db</a>               134497 ext/sqlite3/libsqlite/sqlite3.c   return fts3InitVtab(1, db, pAux, argc, argv, ppVtab, pzErr);</span>
<span class='curline'><a href='../S/1054.html#L134695'>db</a>               134695 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pCsr-&gt;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L136232'>db</a>               136232 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pCsr-&gt;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L136398'>db</a>               136398 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L136692'>db</a>               136692 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = p-&gt;db;            /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L136711'>db</a>               136711 ext/sqlite3/libsqlite/sqlite3.c     fts3DbExec(&amp;rc, db,</span>
<span class='curline'><a href='../S/1054.html#L136718'>db</a>               136718 ext/sqlite3/libsqlite/sqlite3.c     fts3DbExec(&amp;rc, db,</span>
<span class='curline'><a href='../S/1054.html#L136724'>db</a>               136724 ext/sqlite3/libsqlite/sqlite3.c     fts3DbExec(&amp;rc, db,</span>
<span class='curline'><a href='../S/1054.html#L136729'>db</a>               136729 ext/sqlite3/libsqlite/sqlite3.c   fts3DbExec(&amp;rc, db,</span>
<span class='curline'><a href='../S/1054.html#L136733'>db</a>               136733 ext/sqlite3/libsqlite/sqlite3.c   fts3DbExec(&amp;rc, db,</span>
<span class='curline'><a href='../S/1054.html#L136849'>db</a>               136849 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3Init(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L136868'>db</a>               136868 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3Fts3InitTerm(db);</span>
<span class='curline'><a href='../S/1054.html#L136872'>db</a>               136872 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3Fts3InitAux(db);</span>
<span class='curline'><a href='../S/1054.html#L136904'>db</a>               136904 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3Fts3ExprInitTestInterface(db);</span>
<span class='curline'><a href='../S/1054.html#L136913'>db</a>               136913 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3Fts3InitHashTable(db, pHash, "fts3_tokenizer"))</span>
<span class='curline'><a href='../S/1054.html#L136914'>db</a>               136914 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3_overload_function(db, "snippet", -1))</span>
<span class='curline'><a href='../S/1054.html#L136915'>db</a>               136915 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3_overload_function(db, "offsets", 1))</span>
<span class='curline'><a href='../S/1054.html#L136916'>db</a>               136916 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3_overload_function(db, "matchinfo", 1))</span>
<span class='curline'><a href='../S/1054.html#L136917'>db</a>               136917 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3_overload_function(db, "matchinfo", 2))</span>
<span class='curline'><a href='../S/1054.html#L136918'>db</a>               136918 ext/sqlite3/libsqlite/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3_overload_function(db, "optimize", 1))</span>
<span class='curline'><a href='../S/1054.html#L136921'>db</a>               136921 ext/sqlite3/libsqlite/sqlite3.c         db, "fts3", &amp;fts3Module, (void *)pHash, hashDestroy</span>
<span class='curline'><a href='../S/1054.html#L136925'>db</a>               136925 ext/sqlite3/libsqlite/sqlite3.c           db, "fts4", &amp;fts3Module, (void *)pHash, 0</span>
<span class='curline'><a href='../S/1054.html#L136929'>db</a>               136929 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3Fts3InitTok(db, (void *)pHash);</span>
<span class='curline'><a href='../S/1054.html#L138877'>db</a>               138877 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/1054.html#L138882'>db</a>               138882 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3Fts3Init(db);</span>
<span class='curline'><a href='../S/1054.html#L138946'>db</a>               138946 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L138985'>db</a>               138985 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_declare_vtab(db, FTS3_AUX_SCHEMA);</span>
<span class='curline'><a href='../S/1054.html#L138996'>db</a>               138996 ext/sqlite3/libsqlite/sqlite3.c   p-&gt;pFts3Tab-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L139406'>db</a>               139406 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3InitAux(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L139434'>db</a>               139434 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_create_module(db, "fts4aux", &amp;fts3aux_module, 0);</span>
<span class='curline'><a href='../S/1054.html#L140529'>db</a>               140529 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/1054.html#L140538'>db</a>               140538 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_prepare_v2(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L140635'>db</a>               140635 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/1054.html#L140644'>db</a>               140644 ext/sqlite3/libsqlite/sqlite3.c   rc = queryTestTokenizer(db,</span>
<span class='curline'><a href='../S/1054.html#L140710'>db</a>               140710 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3ExprInitTestInterface(sqlite3* db){</span>
<span class='curline'><a href='../S/1054.html#L140712'>db</a>               140712 ext/sqlite3/libsqlite/sqlite3.c       db, "fts3_exprtest", -1, SQLITE_UTF8, 0, fts3ExprTest, 0, 0</span>
<span class='curline'><a href='../S/1054.html#L140715'>db</a>               140715 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_create_function(db, "fts3_exprtest_rebalance", </span>
<span class='curline'><a href='../S/1054.html#L142105'>db</a>               142105 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/1054.html#L142113'>db</a>               142113 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_prepare_v2(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L142127'>db</a>               142127 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/1054.html#L142136'>db</a>               142136 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_prepare_v2(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L142179'>db</a>               142179 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = (sqlite3 *)sqlite3_user_data(context);</span>
<span class='curline'><a href='../S/1054.html#L142186'>db</a>               142186 ext/sqlite3/libsqlite/sqlite3.c   rc = queryTokenizer(db, "simple", &amp;p2);</span>
<span class='curline'><a href='../S/1054.html#L142189'>db</a>               142189 ext/sqlite3/libsqlite/sqlite3.c   rc = queryTokenizer(db, "nosuchtokenizer", &amp;p2);</span>
<span class='curline'><a href='../S/1054.html#L142192'>db</a>               142192 ext/sqlite3/libsqlite/sqlite3.c   assert( 0==strcmp(sqlite3_errmsg(db), "unknown tokenizer: nosuchtokenizer") );</span>
<span class='curline'><a href='../S/1054.html#L142195'>db</a>               142195 ext/sqlite3/libsqlite/sqlite3.c   rc = registerTokenizer(db, "nosuchtokenizer", p1);</span>
<span class='curline'><a href='../S/1054.html#L142197'>db</a>               142197 ext/sqlite3/libsqlite/sqlite3.c   rc = queryTokenizer(db, "nosuchtokenizer", &amp;p2);</span>
<span class='curline'><a href='../S/1054.html#L142224'>db</a>               142224 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/1054.html#L142235'>db</a>               142235 ext/sqlite3/libsqlite/sqlite3.c   void *pdb = (void *)db;</span>
<span class='curline'><a href='../S/1054.html#L142244'>db</a>               142244 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_create_function(db, zName, 1, any, p, scalarFunc, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L142247'>db</a>               142247 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_create_function(db, zName, 2, any, p, scalarFunc, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L142251'>db</a>               142251 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_create_function(db, zTest, -1, any, p, testFunc, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L142254'>db</a>               142254 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_create_function(db, zTest2, 0, any, pdb, intTestFunc, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L142662'>db</a>               142662 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L142676'>db</a>               142676 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_declare_vtab(db, FTS3_TOK_SCHEMA);</span>
<span class='curline'><a href='../S/1054.html#L142925'>db</a>               142925 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3InitTok(sqlite3 *db, Fts3Hash *pHash){</span>
<span class='curline'><a href='../S/1054.html#L142953'>db</a>               142953 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_create_module(db, "fts3tokenize", &amp;fts3tok_module, (void*)pHash);</span>
<span class='curline'><a href='../S/1054.html#L143368'>db</a>               143368 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pStmt, NULL);</span>
<span class='curline'><a href='../S/1054.html#L143969'>db</a>               143969 ext/sqlite3/libsqlite/sqlite3.c   *piDocid = sqlite3_last_insert_rowid(p-&gt;db);</span>
<span class='curline'><a href='../S/1054.html#L144166'>db</a>               144166 ext/sqlite3/libsqlite/sqlite3.c        p-&gt;db, p-&gt;zDb, p-&gt;zSegmentsTbl, "block", iBlockid, 0, &amp;p-&gt;pSegments</span>
<span class='curline'><a href='../S/1054.html#L146455'>db</a>               146455 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L148130'>db</a>               148130 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L148550'>db</a>               148550 ext/sqlite3/libsqlite/sqlite3.c       if( sqlite3_vtab_on_conflict(p-&gt;db)==SQLITE_REPLACE ){</span>
<span class='curline'><a href='../S/1054.html#L148608'>db</a>               148608 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_exec(p-&gt;db, "SAVEPOINT fts3", 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L148612'>db</a>               148612 ext/sqlite3/libsqlite/sqlite3.c       int rc2 = sqlite3_exec(p-&gt;db, "RELEASE fts3", 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L148615'>db</a>               148615 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_exec(p-&gt;db, "ROLLBACK TO fts3", 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L148616'>db</a>               148616 ext/sqlite3/libsqlite/sqlite3.c       sqlite3_exec(p-&gt;db, "RELEASE fts3", 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L151086'>db</a>               151086 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;                /* Host database connection */</span>
<span class='curline'><a href='../S/1054.html#L151636'>db</a>               151636 ext/sqlite3/libsqlite/sqlite3.c       pNode-&gt;iNode = sqlite3_last_insert_rowid(pRtree-&gt;db);</span>
<span class='curline'><a href='../S/1054.html#L151729'>db</a>               151729 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L151735'>db</a>               151735 ext/sqlite3/libsqlite/sqlite3.c   return rtreeInit(db, pAux, argc, argv, ppVtab, pzErr, 1);</span>
<span class='curline'><a href='../S/1054.html#L151742'>db</a>               151742 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L151748'>db</a>               151748 ext/sqlite3/libsqlite/sqlite3.c   return rtreeInit(db, pAux, argc, argv, ppVtab, pzErr, 0);</span>
<span class='curline'><a href='../S/1054.html#L151803'>db</a>               151803 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_exec(pRtree-&gt;db, zCreate, 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L153642'>db</a>               153642 ext/sqlite3/libsqlite/sqlite3.c   *piRowid = sqlite3_last_insert_rowid(pRtree-&gt;db);</span>
<span class='curline'><a href='../S/1054.html#L153838'>db</a>               153838 ext/sqlite3/libsqlite/sqlite3.c           if( sqlite3_vtab_on_conflict(pRtree-&gt;db)==SQLITE_REPLACE ){</span>
<span class='curline'><a href='../S/1054.html#L153906'>db</a>               153906 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_exec(pRtree-&gt;db, zSql, 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L153917'>db</a>               153917 ext/sqlite3/libsqlite/sqlite3.c static int rtreeQueryStat1(sqlite3 *db, Rtree *pRtree){</span>
<span class='curline'><a href='../S/1054.html#L153928'>db</a>               153928 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_prepare_v2(db, zSql, -1, &amp;p, 0);</span>
<span class='curline'><a href='../S/1054.html#L153977'>db</a>               153977 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/1054.html#L154004'>db</a>               154004 ext/sqlite3/libsqlite/sqlite3.c   pRtree-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L154018'>db</a>               154018 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_exec(db, zCreate, 0, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L154035'>db</a>               154035 ext/sqlite3/libsqlite/sqlite3.c   rc = rtreeQueryStat1(db, pRtree);</span>
<span class='curline'><a href='../S/1054.html#L154039'>db</a>               154039 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3_prepare_v2(db, zSql, -1, appStmt[i], 0); </span>
<span class='curline'><a href='../S/1054.html#L154056'>db</a>               154056 ext/sqlite3/libsqlite/sqlite3.c static int getIntFromStmt(sqlite3 *db, const char *zSql, int *piVal){</span>
<span class='curline'><a href='../S/1054.html#L154060'>db</a>               154060 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_prepare_v2(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L154087'>db</a>               154087 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/1054.html#L154097'>db</a>               154097 ext/sqlite3/libsqlite/sqlite3.c     rc = getIntFromStmt(db, zSql, &amp;iPageSize);</span>
<span class='curline'><a href='../S/1054.html#L154104'>db</a>               154104 ext/sqlite3/libsqlite/sqlite3.c       *pzErr = sqlite3_mprintf("%s", sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/1054.html#L154111'>db</a>               154111 ext/sqlite3/libsqlite/sqlite3.c     rc = getIntFromStmt(db, zSql, &amp;pRtree-&gt;iNodeSize);</span>
<span class='curline'><a href='../S/1054.html#L154113'>db</a>               154113 ext/sqlite3/libsqlite/sqlite3.c       *pzErr = sqlite3_mprintf("%s", sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/1054.html#L154131'>db</a>               154131 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                        /* Database connection */</span>
<span class='curline'><a href='../S/1054.html#L154157'>db</a>               154157 ext/sqlite3/libsqlite/sqlite3.c   sqlite3_vtab_config(db, SQLITE_VTAB_CONSTRAINT_SUPPORT, 1);</span>
<span class='curline'><a href='../S/1054.html#L154178'>db</a>               154178 ext/sqlite3/libsqlite/sqlite3.c   rc = getNodeSize(db, pRtree, isCreate, pzErr);</span>
<span class='curline'><a href='../S/1054.html#L154185'>db</a>               154185 ext/sqlite3/libsqlite/sqlite3.c     if( (rc = rtreeSqlInit(pRtree, db, argv[1], argv[2], isCreate)) ){</span>
<span class='curline'><a href='../S/1054.html#L154186'>db</a>               154186 ext/sqlite3/libsqlite/sqlite3.c       *pzErr = sqlite3_mprintf("%s", sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/1054.html#L154203'>db</a>               154203 ext/sqlite3/libsqlite/sqlite3.c       }else if( SQLITE_OK!=(rc = sqlite3_declare_vtab(db, zSql)) ){</span>
<span class='curline'><a href='../S/1054.html#L154204'>db</a>               154204 ext/sqlite3/libsqlite/sqlite3.c         *pzErr = sqlite3_mprintf("%s", sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/1054.html#L154308'>db</a>               154308 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3RtreeInit(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L154312'>db</a>               154312 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_create_function(db, "rtreenode", 2, utf8, 0, rtreenode, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L154314'>db</a>               154314 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_create_function(db, "rtreedepth", 1, utf8, 0,rtreedepth, 0, 0);</span>
<span class='curline'><a href='../S/1054.html#L154322'>db</a>               154322 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_create_module_v2(db, "rtree", &amp;rtreeModule, c, 0);</span>
<span class='curline'><a href='../S/1054.html#L154326'>db</a>               154326 ext/sqlite3/libsqlite/sqlite3.c     rc = sqlite3_create_module_v2(db, "rtree_i32", &amp;rtreeModule, c, 0);</span>
<span class='curline'><a href='../S/1054.html#L154388'>db</a>               154388 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                  /* Register SQL function on this connection */</span>
<span class='curline'><a href='../S/1054.html#L154402'>db</a>               154402 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3_create_function_v2(db, zGeom, -1, SQLITE_ANY, </span>
<span class='curline'><a href='../S/1054.html#L154412'>db</a>               154412 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,                 /* Register SQL function on this connection */</span>
<span class='curline'><a href='../S/1054.html#L154427'>db</a>               154427 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3_create_function_v2(db, zQueryFunc, -1, SQLITE_ANY, </span>
<span class='curline'><a href='../S/1054.html#L154437'>db</a>               154437 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L154442'>db</a>               154442 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3RtreeInit(db);</span>
<span class='curline'><a href='../S/1054.html#L154864'>db</a>               154864 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db = (sqlite3 *)sqlite3_user_data(p);</span>
<span class='curline'><a href='../S/1054.html#L154886'>db</a>               154886 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_create_collation_v2(db, zName, SQLITE_UTF16, (void *)pUCollator, </span>
<span class='curline'><a href='../S/1054.html#L154898'>db</a>               154898 ext/sqlite3/libsqlite/sqlite3.c SQLITE_PRIVATE int sqlite3IcuInit(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L154921'>db</a>               154921 ext/sqlite3/libsqlite/sqlite3.c     {"icu_load_collation",  2, SQLITE_UTF8, (void*)db, icuLoadCollation},</span>
<span class='curline'><a href='../S/1054.html#L154930'>db</a>               154930 ext/sqlite3/libsqlite/sqlite3.c         db, p-&gt;zName, p-&gt;nArg, p-&gt;enc, p-&gt;pContext, p-&gt;xFunc, 0, 0</span>
<span class='curline'><a href='../S/1054.html#L154942'>db</a>               154942 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/1054.html#L154947'>db</a>               154947 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3IcuInit(db);</span>
<span class='curline'><a href='../S/1054.html#L155339'>db</a>               155339 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/1054.html#L155351'>db</a>               155351 ext/sqlite3/libsqlite/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/1054.html#L155362'>db</a>               155362 ext/sqlite3/libsqlite/sqlite3.c     iDb = sqlite3FindDbName(db, argv[3]);</span>
<span class='curline'><a href='../S/1054.html#L155370'>db</a>               155370 ext/sqlite3/libsqlite/sqlite3.c   rc = sqlite3_declare_vtab(db, VTAB_SCHEMA);</span>
<span class='curline'><a href='../S/1054.html#L155379'>db</a>               155379 ext/sqlite3/libsqlite/sqlite3.c     pTab-&gt;db = db;</span>
<span class='curline'><a href='../S/1054.html#L155444'>db</a>               155444 ext/sqlite3/libsqlite/sqlite3.c         "  ORDER BY name", pTab-&gt;db-&gt;aDb[pTab-&gt;iDb].zName);</span>
<span class='curline'><a href='../S/1054.html#L155448'>db</a>               155448 ext/sqlite3/libsqlite/sqlite3.c       rc = sqlite3_prepare_v2(pTab-&gt;db, zSql, -1, &amp;pCsr-&gt;pStmt, 0);</span>
<span class='curline'><a href='../S/1054.html#L155616'>db</a>               155616 ext/sqlite3/libsqlite/sqlite3.c   Btree *pBt = pTab-&gt;db-&gt;aDb[pTab-&gt;iDb].pBt;</span>
<span class='curline'><a href='../S/1054.html#L155645'>db</a>               155645 ext/sqlite3/libsqlite/sqlite3.c   Btree *pBt = pTab-&gt;db-&gt;aDb[pTab-&gt;iDb].pBt;</span>
<span class='curline'><a href='../S/1054.html#L155839'>db</a>               155839 ext/sqlite3/libsqlite/sqlite3.c SQLITE_API int SQLITE_STDCALL sqlite3_dbstat_register(sqlite3 *db){</span>
<span class='curline'><a href='../S/1054.html#L155862'>db</a>               155862 ext/sqlite3/libsqlite/sqlite3.c   return sqlite3_create_module(db, "dbstat", &amp;dbstat_module, 0);</span>
<span class='curline'><a href='../S/1055.html#L2252'>db</a>               2252 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,          /* An open database */</span>
<span class='curline'><a href='../S/1055.html#L3065'>db</a>               3065 ext/sqlite3/libsqlite/sqlite3.h SQLITE_API int SQLITE_STDCALL sqlite3_errcode(sqlite3 *db);</span>
<span class='curline'><a href='../S/1055.html#L3066'>db</a>               3066 ext/sqlite3/libsqlite/sqlite3.h SQLITE_API int SQLITE_STDCALL sqlite3_extended_errcode(sqlite3 *db);</span>
<span class='curline'><a href='../S/1055.html#L3290'>db</a>               3290 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/1055.html#L3297'>db</a>               3297 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/1055.html#L3304'>db</a>               3304 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/1055.html#L3311'>db</a>               3311 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/1055.html#L4219'>db</a>               4219 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,</span>
<span class='curline'><a href='../S/1055.html#L4229'>db</a>               4229 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,</span>
<span class='curline'><a href='../S/1055.html#L4239'>db</a>               4239 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,</span>
<span class='curline'><a href='../S/1055.html#L4783'>db</a>               4783 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/1055.html#L4787'>db</a>               4787 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/1055.html#L4801'>db</a>               4801 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/1055.html#L4805'>db</a>               4805 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/1055.html#L4995'>db</a>               4995 ext/sqlite3/libsqlite/sqlite3.h SQLITE_API const char *SQLITE_STDCALL sqlite3_db_filename(sqlite3 *db, const char *zDbName);</span>
<span class='curline'><a href='../S/1055.html#L5005'>db</a>               5005 ext/sqlite3/libsqlite/sqlite3.h SQLITE_API int SQLITE_STDCALL sqlite3_db_readonly(sqlite3 *db, const char *zDbName);</span>
<span class='curline'><a href='../S/1055.html#L5326'>db</a>               5326 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,                /* Connection handle */</span>
<span class='curline'><a href='../S/1055.html#L5373'>db</a>               5373 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,          /* Load the extension into this database connection */</span>
<span class='curline'><a href='../S/1055.html#L5393'>db</a>               5393 ext/sqlite3/libsqlite/sqlite3.h SQLITE_API int SQLITE_STDCALL sqlite3_enable_load_extension(sqlite3 *db, int onoff);</span>
<span class='curline'><a href='../S/1055.html#L5656'>db</a>               5656 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,               /* SQLite connection to register module with */</span>
<span class='curline'><a href='../S/1055.html#L5662'>db</a>               5662 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,               /* SQLite connection to register module with */</span>
<span class='curline'><a href='../S/1055.html#L7375'>db</a>               7375 ext/sqlite3/libsqlite/sqlite3.h SQLITE_API int SQLITE_STDCALL sqlite3_wal_autocheckpoint(sqlite3 *db, int N);</span>
<span class='curline'><a href='../S/1055.html#L7397'>db</a>               7397 ext/sqlite3/libsqlite/sqlite3.h SQLITE_API int SQLITE_STDCALL sqlite3_wal_checkpoint(sqlite3 *db, const char *zDb);</span>
<span class='curline'><a href='../S/1055.html#L7492'>db</a>               7492 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/1055.html#L7757'>db</a>               7757 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,</span>
<span class='curline'><a href='../S/1055.html#L7783'>db</a>               7783 ext/sqlite3/libsqlite/sqlite3.h   sqlite3 *db,</span>
<span class='curline'><a href='../S/1056.html#L97'>db</a>                 97 ext/sqlite3/libsqlite/sqlite3ext.h   int  (*errcode)(sqlite3*db);</span>
<span class='curline'><a href='../S/1058.html#L75'>db</a>                 75 ext/sqlite3/php_sqlite3_structs.h 	sqlite3 *db;</span>
<span class='curline'><a href='../S/1059.html#L145'>db</a>                145 ext/sqlite3/sqlite3.c 	if (sqlite3_open_v2(fullpath, &amp;(db_obj-&gt;db), flags, NULL) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L147'>db</a>                147 ext/sqlite3/sqlite3.c 	if (sqlite3_open(fullpath, &amp;(db_obj-&gt;db)) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L149'>db</a>                149 ext/sqlite3/sqlite3.c 		zend_throw_exception_ex(zend_ce_exception, 0, "Unable to open database: %s", sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L158'>db</a>                158 ext/sqlite3/sqlite3.c 		if (sqlite3_key(db_obj-&gt;db, encryption_key, encryption_key_len) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L159'>db</a>                159 ext/sqlite3/sqlite3.c 			zend_throw_exception_ex(zend_ce_exception, 0, "Unable to open database: %s", sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L172'>db</a>                172 ext/sqlite3/sqlite3.c 		sqlite3_set_authorizer(db_obj-&gt;db, php_sqlite3_authorizer, NULL);</span>
<span class='curline'><a href='../S/1059.html#L196'>db</a>                196 ext/sqlite3/sqlite3.c 		if(db_obj-&gt;db) {</span>
<span class='curline'><a href='../S/1059.html#L197'>db</a>                197 ext/sqlite3/sqlite3.c             errcode = sqlite3_close(db_obj-&gt;db);</span>
<span class='curline'><a href='../S/1059.html#L199'>db</a>                199 ext/sqlite3/sqlite3.c 			    php_sqlite3_error(db_obj, "Unable to close database: %d, %s", errcode, sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L226'>db</a>                226 ext/sqlite3/sqlite3.c 	if (sqlite3_exec(db_obj-&gt;db, ZSTR_VAL(sql), NULL, NULL, &amp;errtext) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L267'>db</a>                267 ext/sqlite3/sqlite3.c 	RETURN_LONG(sqlite3_last_insert_rowid(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L279'>db</a>                279 ext/sqlite3/sqlite3.c 	SQLITE3_CHECK_INITIALIZED(db_obj, db_obj-&gt;db, SQLite3)</span>
<span class='curline'><a href='../S/1059.html#L286'>db</a>                286 ext/sqlite3/sqlite3.c 		RETURN_LONG(sqlite3_errcode(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L301'>db</a>                301 ext/sqlite3/sqlite3.c 	SQLITE3_CHECK_INITIALIZED(db_obj, db_obj-&gt;db, SQLite3)</span>
<span class='curline'><a href='../S/1059.html#L308'>db</a>                308 ext/sqlite3/sqlite3.c 		RETURN_STRING((char *)sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L331'>db</a>                331 ext/sqlite3/sqlite3.c 	return_code = sqlite3_busy_timeout(db_obj-&gt;db, ms);</span>
<span class='curline'><a href='../S/1059.html#L333'>db</a>                333 ext/sqlite3/sqlite3.c 		php_sqlite3_error(db_obj, "Unable to set busy timeout: %d, %s", return_code, sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L402'>db</a>                402 ext/sqlite3/sqlite3.c 	sqlite3_enable_load_extension(db_obj-&gt;db, 1);</span>
<span class='curline'><a href='../S/1059.html#L403'>db</a>                403 ext/sqlite3/sqlite3.c 	if (sqlite3_load_extension(db_obj-&gt;db, fullpath, 0, &amp;errtext) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L406'>db</a>                406 ext/sqlite3/sqlite3.c 		sqlite3_enable_load_extension(db_obj-&gt;db, 0);</span>
<span class='curline'><a href='../S/1059.html#L409'>db</a>                409 ext/sqlite3/sqlite3.c 	sqlite3_enable_load_extension(db_obj-&gt;db, 0);</span>
<span class='curline'><a href='../S/1059.html#L430'>db</a>                430 ext/sqlite3/sqlite3.c 	RETURN_LONG(sqlite3_changes(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L485'>db</a>                485 ext/sqlite3/sqlite3.c 	errcode = sqlite3_prepare_v2(db_obj-&gt;db, ZSTR_VAL(sql), ZSTR_LEN(sql), &amp;(stmt_obj-&gt;stmt), NULL);</span>
<span class='curline'><a href='../S/1059.html#L487'>db</a>                487 ext/sqlite3/sqlite3.c 		php_sqlite3_error(db_obj, "Unable to prepare statement: %d, %s", errcode, sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L528'>db</a>                528 ext/sqlite3/sqlite3.c 		if (sqlite3_exec(db_obj-&gt;db, ZSTR_VAL(sql), NULL, NULL, &amp;errtext) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L540'>db</a>                540 ext/sqlite3/sqlite3.c 	return_code = sqlite3_prepare_v2(db_obj-&gt;db, ZSTR_VAL(sql), ZSTR_LEN(sql), &amp;(stmt_obj-&gt;stmt), NULL);</span>
<span class='curline'><a href='../S/1059.html#L542'>db</a>                542 ext/sqlite3/sqlite3.c 		php_sqlite3_error(db_obj, "Unable to prepare statement: %d, %s", return_code, sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L570'>db</a>                570 ext/sqlite3/sqlite3.c 			php_sqlite3_error(db_obj, "Unable to execute statement: %s", sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L634'>db</a>                634 ext/sqlite3/sqlite3.c 		if (sqlite3_exec(db_obj-&gt;db, ZSTR_VAL(sql), NULL, NULL, &amp;errtext) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L641'>db</a>                641 ext/sqlite3/sqlite3.c 	return_code = sqlite3_prepare_v2(db_obj-&gt;db, ZSTR_VAL(sql), ZSTR_LEN(sql), &amp;stmt, NULL);</span>
<span class='curline'><a href='../S/1059.html#L643'>db</a>                643 ext/sqlite3/sqlite3.c 		php_sqlite3_error(db_obj, "Unable to prepare statement: %d, %s", return_code, sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L675'>db</a>                675 ext/sqlite3/sqlite3.c 			php_sqlite3_error(db_obj, "Unable to execute statement: %s", sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L933'>db</a>                933 ext/sqlite3/sqlite3.c 	if (sqlite3_create_function(db_obj-&gt;db, sql_func, sql_func_num_args, SQLITE_UTF8, func, php_sqlite3_callback_func, NULL, NULL) == SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L990'>db</a>                990 ext/sqlite3/sqlite3.c 	if (sqlite3_create_function(db_obj-&gt;db, sql_func, sql_func_num_args, SQLITE_UTF8, func, NULL, php_sqlite3_callback_step, php_sqlite3_callback_final) == SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L1039'>db</a>               1039 ext/sqlite3/sqlite3.c 	if (sqlite3_create_collation(db_obj-&gt;db, collation_name, SQLITE_UTF8, collation, php_sqlite3_callback_compare) == SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L1212'>db</a>               1212 ext/sqlite3/sqlite3.c 	if (sqlite3_blob_open(db_obj-&gt;db, dbname, table, column, rowid, flags, &amp;blob) != SQLITE_OK) {</span>
<span class='curline'><a href='../S/1059.html#L1213'>db</a>               1213 ext/sqlite3/sqlite3.c 		php_sqlite3_error(db_obj, "Unable to open blob: %s", sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L1630'>db</a>               1630 ext/sqlite3/sqlite3.c 	errcode = sqlite3_prepare_v2(db_obj-&gt;db, ZSTR_VAL(sql), ZSTR_LEN(sql), &amp;(stmt_obj-&gt;stmt), NULL);</span>
<span class='curline'><a href='../S/1059.html#L1632'>db</a>               1632 ext/sqlite3/sqlite3.c 		php_sqlite3_error(db_obj, "Unable to prepare statement: %d, %s", errcode, sqlite3_errmsg(db_obj-&gt;db));</span>
<span class='curline'><a href='../S/1059.html#L2044'>db</a>               2044 ext/sqlite3/sqlite3.c 		if (intern-&gt;initialised &amp;&amp; intern-&gt;db) {</span>
<span class='curline'><a href='../S/1059.html#L2045'>db</a>               2045 ext/sqlite3/sqlite3.c 			sqlite3_create_function(intern-&gt;db, func-&gt;func_name, func-&gt;argc, SQLITE_UTF8, func, NULL, NULL, NULL);</span>
<span class='curline'><a href='../S/1059.html#L2065'>db</a>               2065 ext/sqlite3/sqlite3.c 		if (intern-&gt;initialised &amp;&amp; intern-&gt;db){</span>
<span class='curline'><a href='../S/1059.html#L2066'>db</a>               2066 ext/sqlite3/sqlite3.c 			sqlite3_create_collation(intern-&gt;db, collation-&gt;collation_name, SQLITE_UTF8, NULL, NULL);</span>
<span class='curline'><a href='../S/1059.html#L2075'>db</a>               2075 ext/sqlite3/sqlite3.c 	if (intern-&gt;initialised &amp;&amp; intern-&gt;db) {</span>
<span class='curline'><a href='../S/1059.html#L2076'>db</a>               2076 ext/sqlite3/sqlite3.c 		sqlite3_close(intern-&gt;db);</span>
</pre>
</body>
</html>
