<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>ZCSG</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/849.html#L122'>ZCSG</a>              122 ext/opcache/ZendAccelerator.c # define INCREMENT(v) InterlockedIncrement64(&amp;ZCSG(v))</span>
<span class='curline'><a href='../S/849.html#L123'>ZCSG</a>              123 ext/opcache/ZendAccelerator.c # define DECREMENT(v) InterlockedDecrement64(&amp;ZCSG(v))</span>
<span class='curline'><a href='../S/849.html#L124'>ZCSG</a>              124 ext/opcache/ZendAccelerator.c # define LOCKVAL(v)   (ZCSG(v))</span>
<span class='curline'><a href='../S/849.html#L234'>ZCSG</a>              234 ext/opcache/ZendAccelerator.c 	ZCSG(restart_in_progress) = 1;</span>
<span class='curline'><a href='../S/849.html#L240'>ZCSG</a>              240 ext/opcache/ZendAccelerator.c 	ZCSG(restart_in_progress) = 0;</span>
<span class='curline'><a href='../S/849.html#L245'>ZCSG</a>              245 ext/opcache/ZendAccelerator.c 	ZCSG(restart_in_progress) = 0;</span>
<span class='curline'><a href='../S/849.html#L254'>ZCSG</a>              254 ext/opcache/ZendAccelerator.c 	if (ZCSG(restart_in_progress)) {</span>
<span class='curline'><a href='../S/849.html#L263'>ZCSG</a>              263 ext/opcache/ZendAccelerator.c 			ZCSG(restart_in_progress) = 0;</span>
<span class='curline'><a href='../S/849.html#L346'>ZCSG</a>              346 ext/opcache/ZendAccelerator.c     uint idx = ZCSG(interned_strings).nNumUsed;</span>
<span class='curline'><a href='../S/849.html#L350'>ZCSG</a>              350 ext/opcache/ZendAccelerator.c 	memset(ZCSG(interned_strings_saved_top),</span>
<span class='curline'><a href='../S/849.html#L351'>ZCSG</a>              351 ext/opcache/ZendAccelerator.c 			0, ZCSG(interned_strings_top) - ZCSG(interned_strings_saved_top));</span>
<span class='curline'><a href='../S/849.html#L352'>ZCSG</a>              352 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings_top) = ZCSG(interned_strings_saved_top);</span>
<span class='curline'><a href='../S/849.html#L355'>ZCSG</a>              355 ext/opcache/ZendAccelerator.c 		p = ZCSG(interned_strings).arData + idx;</span>
<span class='curline'><a href='../S/849.html#L356'>ZCSG</a>              356 ext/opcache/ZendAccelerator.c 		if ((char*)p-&gt;key &lt; ZCSG(interned_strings_top)) break;</span>
<span class='curline'><a href='../S/849.html#L357'>ZCSG</a>              357 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings).nNumUsed--;</span>
<span class='curline'><a href='../S/849.html#L358'>ZCSG</a>              358 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings).nNumOfElements--;</span>
<span class='curline'><a href='../S/849.html#L360'>ZCSG</a>              360 ext/opcache/ZendAccelerator.c 		nIndex = p-&gt;h | ZCSG(interned_strings).nTableMask;</span>
<span class='curline'><a href='../S/849.html#L361'>ZCSG</a>              361 ext/opcache/ZendAccelerator.c 		if (HT_HASH(&amp;ZCSG(interned_strings), nIndex) == HT_IDX_TO_HASH(idx)) {</span>
<span class='curline'><a href='../S/849.html#L362'>ZCSG</a>              362 ext/opcache/ZendAccelerator.c 			HT_HASH(&amp;ZCSG(interned_strings), nIndex) = Z_NEXT(p-&gt;val);</span>
<span class='curline'><a href='../S/849.html#L364'>ZCSG</a>              364 ext/opcache/ZendAccelerator.c 			uint32_t prev = HT_HASH(&amp;ZCSG(interned_strings), nIndex);</span>
<span class='curline'><a href='../S/849.html#L365'>ZCSG</a>              365 ext/opcache/ZendAccelerator.c 			while (Z_NEXT(HT_HASH_TO_BUCKET(&amp;ZCSG(interned_strings), prev)-&gt;val) != idx) {</span>
<span class='curline'><a href='../S/849.html#L366'>ZCSG</a>              366 ext/opcache/ZendAccelerator.c 				prev = Z_NEXT(HT_HASH_TO_BUCKET(&amp;ZCSG(interned_strings), prev)-&gt;val);</span>
<span class='curline'><a href='../S/849.html#L368'>ZCSG</a>              368 ext/opcache/ZendAccelerator.c 			Z_NEXT(HT_HASH_TO_BUCKET(&amp;ZCSG(interned_strings), prev)-&gt;val) = Z_NEXT(p-&gt;val);</span>
<span class='curline'><a href='../S/849.html#L375'>ZCSG</a>              375 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings_saved_top) = ZCSG(interned_strings_top);</span>
<span class='curline'><a href='../S/849.html#L400'>ZCSG</a>              400 ext/opcache/ZendAccelerator.c 	nIndex = h | ZCSG(interned_strings).nTableMask;</span>
<span class='curline'><a href='../S/849.html#L403'>ZCSG</a>              403 ext/opcache/ZendAccelerator.c 	idx = HT_HASH(&amp;ZCSG(interned_strings), nIndex);</span>
<span class='curline'><a href='../S/849.html#L404'>ZCSG</a>              404 ext/opcache/ZendAccelerator.c 	arData = ZCSG(interned_strings).arData;</span>
<span class='curline'><a href='../S/849.html#L440'>ZCSG</a>              440 ext/opcache/ZendAccelerator.c 	nIndex = h | ZCSG(interned_strings).nTableMask;</span>
<span class='curline'><a href='../S/849.html#L443'>ZCSG</a>              443 ext/opcache/ZendAccelerator.c 	idx = HT_HASH(&amp;ZCSG(interned_strings), nIndex);</span>
<span class='curline'><a href='../S/849.html#L445'>ZCSG</a>              445 ext/opcache/ZendAccelerator.c 		p = HT_HASH_TO_BUCKET(&amp;ZCSG(interned_strings), idx);</span>
<span class='curline'><a href='../S/849.html#L455'>ZCSG</a>              455 ext/opcache/ZendAccelerator.c 	if (ZCSG(interned_strings_top) + ZEND_MM_ALIGNED_SIZE(_ZSTR_STRUCT_SIZE(ZSTR_LEN(str))) &gt;=</span>
<span class='curline'><a href='../S/849.html#L456'>ZCSG</a>              456 ext/opcache/ZendAccelerator.c 	    ZCSG(interned_strings_end)) {</span>
<span class='curline'><a href='../S/849.html#L464'>ZCSG</a>              464 ext/opcache/ZendAccelerator.c 	idx = ZCSG(interned_strings).nNumUsed++;</span>
<span class='curline'><a href='../S/849.html#L465'>ZCSG</a>              465 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings).nNumOfElements++;</span>
<span class='curline'><a href='../S/849.html#L466'>ZCSG</a>              466 ext/opcache/ZendAccelerator.c 	p = ZCSG(interned_strings).arData + idx;</span>
<span class='curline'><a href='../S/849.html#L467'>ZCSG</a>              467 ext/opcache/ZendAccelerator.c 	p-&gt;key = (zend_string*) ZCSG(interned_strings_top);</span>
<span class='curline'><a href='../S/849.html#L468'>ZCSG</a>              468 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings_top) += ZEND_MM_ALIGNED_SIZE(_ZSTR_STRUCT_SIZE(ZSTR_LEN(str)));</span>
<span class='curline'><a href='../S/849.html#L482'>ZCSG</a>              482 ext/opcache/ZendAccelerator.c 	Z_NEXT(p-&gt;val) = HT_HASH(&amp;ZCSG(interned_strings), nIndex);</span>
<span class='curline'><a href='../S/849.html#L483'>ZCSG</a>              483 ext/opcache/ZendAccelerator.c 	HT_HASH(&amp;ZCSG(interned_strings), nIndex) = HT_IDX_TO_HASH(idx);</span>
<span class='curline'><a href='../S/849.html#L605'>ZCSG</a>              605 ext/opcache/ZendAccelerator.c 	ZCSG(force_restart_time) = 0;</span>
<span class='curline'><a href='../S/849.html#L622'>ZCSG</a>              622 ext/opcache/ZendAccelerator.c 			ZCSG(force_restart_time) = time(NULL); /* restore forced restart request */</span>
<span class='curline'><a href='../S/849.html#L661'>ZCSG</a>              661 ext/opcache/ZendAccelerator.c 		&amp;&amp; ZCSG(force_restart_time)</span>
<span class='curline'><a href='../S/849.html#L662'>ZCSG</a>              662 ext/opcache/ZendAccelerator.c 		&amp;&amp; time(NULL) &gt;= ZCSG(force_restart_time)) {</span>
<span class='curline'><a href='../S/849.html#L965'>ZCSG</a>              965 ext/opcache/ZendAccelerator.c 				if ((ZCG(counted) || ZCSG(accelerator_enabled))) {</span>
<span class='curline'><a href='../S/849.html#L981'>ZCSG</a>              981 ext/opcache/ZendAccelerator.c 						char *res = zend_print_long_to_buf(buf + sizeof(buf) - 1, ZSTR_VAL(str) - ZCSG(interned_strings_start));</span>
<span class='curline'><a href='../S/849.html#L1005'>ZCSG</a>             1005 ext/opcache/ZendAccelerator.c 				if ((ZCG(counted) || ZCSG(accelerator_enabled))) {</span>
<span class='curline'><a href='../S/849.html#L1020'>ZCSG</a>             1020 ext/opcache/ZendAccelerator.c 						char *res = zend_print_long_to_buf(buf + sizeof(buf) - 1, ZSTR_VAL(str) - ZCSG(interned_strings_start));</span>
<span class='curline'><a href='../S/849.html#L1087'>ZCSG</a>             1087 ext/opcache/ZendAccelerator.c 	if (!ZCG(enabled) || !accel_startup_ok || !ZCSG(accelerator_enabled) || accelerator_shm_read_lock() != SUCCESS) {</span>
<span class='curline'><a href='../S/849.html#L1103'>ZCSG</a>             1103 ext/opcache/ZendAccelerator.c 	persistent_script = zend_accel_hash_find(&amp;ZCSG(hash), realpath);</span>
<span class='curline'><a href='../S/849.html#L1122'>ZCSG</a>             1122 ext/opcache/ZendAccelerator.c 						zend_accel_hash_is_full(&amp;ZCSG(hash)) ? ACCEL_RESTART_HASH : ACCEL_RESTART_OOM;</span>
<span class='curline'><a href='../S/849.html#L1140'>ZCSG</a>             1140 ext/opcache/ZendAccelerator.c 	if (!zend_accel_hash_str_find(&amp;ZCSG(hash), key, key_length)) {</span>
<span class='curline'><a href='../S/849.html#L1141'>ZCSG</a>             1141 ext/opcache/ZendAccelerator.c 		if (zend_accel_hash_is_full(&amp;ZCSG(hash))) {</span>
<span class='curline'><a href='../S/849.html#L1149'>ZCSG</a>             1149 ext/opcache/ZendAccelerator.c 				if (zend_accel_hash_update(&amp;ZCSG(hash), new_key, key_length, 1, bucket)) {</span>
<span class='curline'><a href='../S/849.html#L1234'>ZCSG</a>             1234 ext/opcache/ZendAccelerator.c 	if (zend_accel_hash_is_full(&amp;ZCSG(hash))) {</span>
<span class='curline'><a href='../S/849.html#L1245'>ZCSG</a>             1245 ext/opcache/ZendAccelerator.c 	bucket = zend_accel_hash_find_entry(&amp;ZCSG(hash), new_persistent_script-&gt;full_path);</span>
<span class='curline'><a href='../S/849.html#L1305'>ZCSG</a>             1305 ext/opcache/ZendAccelerator.c 	bucket = zend_accel_hash_update(&amp;ZCSG(hash), ZSTR_VAL(new_persistent_script-&gt;full_path), ZSTR_LEN(new_persistent_script-&gt;full_path), 0, new_persistent_script);</span>
<span class='curline'><a href='../S/849.html#L1314'>ZCSG</a>             1314 ext/opcache/ZendAccelerator.c 			if (zend_accel_hash_update(&amp;ZCSG(hash), key, key_length, 1, bucket)) {</span>
<span class='curline'><a href='../S/849.html#L1433'>ZCSG</a>             1433 ext/opcache/ZendAccelerator.c 		ZCSG(blacklist_misses)++;</span>
<span class='curline'><a href='../S/849.html#L1464'>ZCSG</a>             1464 ext/opcache/ZendAccelerator.c 			ZCSG(blacklist_misses)++;</span>
<span class='curline'><a href='../S/849.html#L1636'>ZCSG</a>             1636 ext/opcache/ZendAccelerator.c 	} else if ((!ZCG(counted) &amp;&amp; !ZCSG(accelerator_enabled)) ||</span>
<span class='curline'><a href='../S/849.html#L1637'>ZCSG</a>             1637 ext/opcache/ZendAccelerator.c 	           (ZCSG(restart_in_progress) &amp;&amp; accel_restart_is_active())) {</span>
<span class='curline'><a href='../S/849.html#L1671'>ZCSG</a>             1671 ext/opcache/ZendAccelerator.c 			persistent_script = zend_accel_hash_str_find(&amp;ZCSG(hash), key, key_length);</span>
<span class='curline'><a href='../S/849.html#L1690'>ZCSG</a>             1690 ext/opcache/ZendAccelerator.c 				bucket = zend_accel_hash_find_entry(&amp;ZCSG(hash), file_handle-&gt;opened_path);</span>
<span class='curline'><a href='../S/849.html#L1743'>ZCSG</a>             1743 ext/opcache/ZendAccelerator.c 						zend_accel_hash_is_full(&amp;ZCSG(hash)) ? ACCEL_RESTART_HASH : ACCEL_RESTART_OOM;</span>
<span class='curline'><a href='../S/849.html#L1768'>ZCSG</a>             1768 ext/opcache/ZendAccelerator.c 						zend_accel_hash_is_full(&amp;ZCSG(hash)) ? ACCEL_RESTART_HASH : ACCEL_RESTART_OOM;</span>
<span class='curline'><a href='../S/849.html#L1790'>ZCSG</a>             1790 ext/opcache/ZendAccelerator.c 		ZCSG(misses)++;</span>
<span class='curline'><a href='../S/849.html#L1793'>ZCSG</a>             1793 ext/opcache/ZendAccelerator.c 		if (ZSMMG(memory_exhausted) || ZCSG(restart_pending)) {</span>
<span class='curline'><a href='../S/849.html#L1825'>ZCSG</a>             1825 ext/opcache/ZendAccelerator.c 		ZCSG(hits)++; /* TBFixed: may lose one hit */</span>
<span class='curline'><a href='../S/849.html#L1829'>ZCSG</a>             1829 ext/opcache/ZendAccelerator.c 		InterlockedIncrement64(&amp;ZCSG(hits));</span>
<span class='curline'><a href='../S/849.html#L1831'>ZCSG</a>             1831 ext/opcache/ZendAccelerator.c 		InterlockedIncrement(&amp;ZCSG(hits));</span>
<span class='curline'><a href='../S/849.html#L1904'>ZCSG</a>             1904 ext/opcache/ZendAccelerator.c 	    (ZCG(counted) || ZCSG(accelerator_enabled)) &amp;&amp;</span>
<span class='curline'><a href='../S/849.html#L1905'>ZCSG</a>             1905 ext/opcache/ZendAccelerator.c 	    !ZCSG(restart_in_progress)) {</span>
<span class='curline'><a href='../S/849.html#L1926'>ZCSG</a>             1926 ext/opcache/ZendAccelerator.c 					zend_accel_hash_entry *bucket = zend_accel_hash_str_find_entry(&amp;ZCSG(hash), key, key_length);</span>
<span class='curline'><a href='../S/849.html#L1947'>ZCSG</a>             1947 ext/opcache/ZendAccelerator.c 				zend_accel_hash_entry *bucket = zend_accel_hash_find_entry(&amp;ZCSG(hash), resolved_path);</span>
<span class='curline'><a href='../S/849.html#L1981'>ZCSG</a>             1981 ext/opcache/ZendAccelerator.c 	ZCSG(hits) = 0;</span>
<span class='curline'><a href='../S/849.html#L1982'>ZCSG</a>             1982 ext/opcache/ZendAccelerator.c 	ZCSG(misses) = 0;</span>
<span class='curline'><a href='../S/849.html#L1983'>ZCSG</a>             1983 ext/opcache/ZendAccelerator.c 	ZCSG(blacklist_misses) = 0;</span>
<span class='curline'><a href='../S/849.html#L1985'>ZCSG</a>             1985 ext/opcache/ZendAccelerator.c 	ZCSG(restart_pending) = 0;</span>
<span class='curline'><a href='../S/849.html#L1986'>ZCSG</a>             1986 ext/opcache/ZendAccelerator.c 	ZCSG(force_restart_time) = 0;</span>
<span class='curline'><a href='../S/849.html#L2050'>ZCSG</a>             2050 ext/opcache/ZendAccelerator.c 	if (ZCSG(restart_pending)) {</span>
<span class='curline'><a href='../S/849.html#L2052'>ZCSG</a>             2052 ext/opcache/ZendAccelerator.c 		if (ZCSG(restart_pending) != 0) { /* check again, to ensure that the cache wasn't already cleaned by another process */</span>
<span class='curline'><a href='../S/849.html#L2055'>ZCSG</a>             2055 ext/opcache/ZendAccelerator.c 				ZCSG(restart_pending) = 0;</span>
<span class='curline'><a href='../S/849.html#L2056'>ZCSG</a>             2056 ext/opcache/ZendAccelerator.c 				switch ZCSG(restart_reason) {</span>
<span class='curline'><a href='../S/849.html#L2058'>ZCSG</a>             2058 ext/opcache/ZendAccelerator.c 						ZCSG(oom_restarts)++;</span>
<span class='curline'><a href='../S/849.html#L2061'>ZCSG</a>             2061 ext/opcache/ZendAccelerator.c 						ZCSG(hash_restarts)++;</span>
<span class='curline'><a href='../S/849.html#L2064'>ZCSG</a>             2064 ext/opcache/ZendAccelerator.c 						ZCSG(manual_restarts)++;</span>
<span class='curline'><a href='../S/849.html#L2070'>ZCSG</a>             2070 ext/opcache/ZendAccelerator.c 				zend_accel_hash_clean(&amp;ZCSG(hash));</span>
<span class='curline'><a href='../S/849.html#L2079'>ZCSG</a>             2079 ext/opcache/ZendAccelerator.c 				ZCSG(accelerator_enabled) = ZCSG(cache_status_before_restart);</span>
<span class='curline'><a href='../S/849.html#L2080'>ZCSG</a>             2080 ext/opcache/ZendAccelerator.c 				if (ZCSG(last_restart_time) &lt; ZCG(request_time)) {</span>
<span class='curline'><a href='../S/849.html#L2081'>ZCSG</a>             2081 ext/opcache/ZendAccelerator.c 					ZCSG(last_restart_time) = ZCG(request_time);</span>
<span class='curline'><a href='../S/849.html#L2083'>ZCSG</a>             2083 ext/opcache/ZendAccelerator.c 					ZCSG(last_restart_time)++;</span>
<span class='curline'><a href='../S/849.html#L2095'>ZCSG</a>             2095 ext/opcache/ZendAccelerator.c 	if (ZCSG(last_restart_time) != ZCG(last_restart_time)) {</span>
<span class='curline'><a href='../S/849.html#L2097'>ZCSG</a>             2097 ext/opcache/ZendAccelerator.c 		ZCG(last_restart_time) = ZCSG(last_restart_time);</span>
<span class='curline'><a href='../S/849.html#L2408'>ZCSG</a>             2408 ext/opcache/ZendAccelerator.c 	zend_accel_hash_init(&amp;ZCSG(hash), ZCG(accel_directives).max_accelerated_files);</span>
<span class='curline'><a href='../S/849.html#L2410'>ZCSG</a>             2410 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings_start) = ZCSG(interned_strings_end) = NULL;</span>
<span class='curline'><a href='../S/849.html#L2412'>ZCSG</a>             2412 ext/opcache/ZendAccelerator.c 	zend_hash_init(&amp;ZCSG(interned_strings), (ZCG(accel_directives).interned_strings_buffer * 1024 * 1024) / (sizeof(Bucket) + sizeof(Bucket*) + 8 /* average string length */), NULL, NULL, 1);</span>
<span class='curline'><a href='../S/849.html#L2416'>ZCSG</a>             2416 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings).nTableMask = -ZCSG(interned_strings).nTableSize;</span>
<span class='curline'><a href='../S/849.html#L2417'>ZCSG</a>             2417 ext/opcache/ZendAccelerator.c 		data = zend_shared_alloc(HT_SIZE(&amp;ZCSG(interned_strings)));</span>
<span class='curline'><a href='../S/849.html#L2418'>ZCSG</a>             2418 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings_start) = zend_shared_alloc((ZCG(accel_directives).interned_strings_buffer * 1024 * 1024));</span>
<span class='curline'><a href='../S/849.html#L2419'>ZCSG</a>             2419 ext/opcache/ZendAccelerator.c 		if (!data || !ZCSG(interned_strings_start)) {</span>
<span class='curline'><a href='../S/849.html#L2424'>ZCSG</a>             2424 ext/opcache/ZendAccelerator.c 		HT_SET_DATA_ADDR(&amp;ZCSG(interned_strings), data);</span>
<span class='curline'><a href='../S/849.html#L2425'>ZCSG</a>             2425 ext/opcache/ZendAccelerator.c 		HT_HASH_RESET(&amp;ZCSG(interned_strings));</span>
<span class='curline'><a href='../S/849.html#L2426'>ZCSG</a>             2426 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings_end)   = ZCSG(interned_strings_start) + (ZCG(accel_directives).interned_strings_buffer * 1024 * 1024);</span>
<span class='curline'><a href='../S/849.html#L2427'>ZCSG</a>             2427 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings_top)   = ZCSG(interned_strings_start);</span>
<span class='curline'><a href='../S/849.html#L2452'>ZCSG</a>             2452 ext/opcache/ZendAccelerator.c 	ZCSG(oom_restarts) = 0;</span>
<span class='curline'><a href='../S/849.html#L2453'>ZCSG</a>             2453 ext/opcache/ZendAccelerator.c 	ZCSG(hash_restarts) = 0;</span>
<span class='curline'><a href='../S/849.html#L2454'>ZCSG</a>             2454 ext/opcache/ZendAccelerator.c 	ZCSG(manual_restarts) = 0;</span>
<span class='curline'><a href='../S/849.html#L2456'>ZCSG</a>             2456 ext/opcache/ZendAccelerator.c 	ZCSG(accelerator_enabled) = 1;</span>
<span class='curline'><a href='../S/849.html#L2457'>ZCSG</a>             2457 ext/opcache/ZendAccelerator.c 	ZCSG(start_time) = zend_accel_get_time();</span>
<span class='curline'><a href='../S/849.html#L2458'>ZCSG</a>             2458 ext/opcache/ZendAccelerator.c 	ZCSG(last_restart_time) = 0;</span>
<span class='curline'><a href='../S/849.html#L2459'>ZCSG</a>             2459 ext/opcache/ZendAccelerator.c 	ZCSG(restart_in_progress) = 0;</span>
<span class='curline'><a href='../S/849.html#L2725'>ZCSG</a>             2725 ext/opcache/ZendAccelerator.c 		ZCG(last_restart_time) = ZCSG(last_restart_time);</span>
<span class='curline'><a href='../S/849.html#L2852'>ZCSG</a>             2852 ext/opcache/ZendAccelerator.c 	if (ZCSG(restart_pending)) {</span>
<span class='curline'><a href='../S/849.html#L2859'>ZCSG</a>             2859 ext/opcache/ZendAccelerator.c 	ZCSG(restart_pending) = 1;</span>
<span class='curline'><a href='../S/849.html#L2860'>ZCSG</a>             2860 ext/opcache/ZendAccelerator.c 	ZCSG(restart_reason) = reason;</span>
<span class='curline'><a href='../S/849.html#L2861'>ZCSG</a>             2861 ext/opcache/ZendAccelerator.c 	ZCSG(cache_status_before_restart) = ZCSG(accelerator_enabled);</span>
<span class='curline'><a href='../S/849.html#L2862'>ZCSG</a>             2862 ext/opcache/ZendAccelerator.c 	ZCSG(accelerator_enabled) = 0;</span>
<span class='curline'><a href='../S/849.html#L2865'>ZCSG</a>             2865 ext/opcache/ZendAccelerator.c 		ZCSG(force_restart_time) = zend_accel_get_time() + ZCG(accel_directives).force_restart_timeout;</span>
<span class='curline'><a href='../S/849.html#L2867'>ZCSG</a>             2867 ext/opcache/ZendAccelerator.c 		ZCSG(force_restart_time) = 0;</span>
<span class='curline'><a href='../S/849.html#L2896'>ZCSG</a>             2896 ext/opcache/ZendAccelerator.c 		if (ZCSG(restart_in_progress)) {</span>
<span class='curline'><a href='../S/850.html#L341'>ZCSG</a>              341 ext/opcache/ZendAccelerator.h 	((char*)(str) &gt;= ZCSG(interned_strings_start) &amp;&amp; (char*)(str) &lt; ZCSG(interned_strings_end))</span>
<span class='curline'><a href='../S/838.html#L326'>ZCSG</a>              326 ext/opcache/zend_accelerator_module.c 		zend_persistent_script *persistent_script = zend_accel_hash_str_find(&amp;ZCSG(hash), key, key_length);</span>
<span class='curline'><a href='../S/838.html#L434'>ZCSG</a>              434 ext/opcache/zend_accelerator_module.c 		((ZCG(counted) || ZCSG(accelerator_enabled)) || ZCG(accel_directives).file_cache_only)</span>
<span class='curline'><a href='../S/838.html#L436'>ZCSG</a>              436 ext/opcache/zend_accelerator_module.c 		(ZCG(counted) || ZCSG(accelerator_enabled))</span>
<span class='curline'><a href='../S/838.html#L474'>ZCSG</a>              474 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%pd", (zend_ulong)ZCSG(hits));</span>
<span class='curline'><a href='../S/838.html#L476'>ZCSG</a>              476 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%pd", ZSMMG(memory_exhausted)?ZCSG(misses):ZCSG(misses)-ZCSG(blacklist_misses));</span>
<span class='curline'><a href='../S/838.html#L484'>ZCSG</a>              484 ext/opcache/zend_accelerator_module.c 			if (ZCSG(interned_strings_start) &amp;&amp; ZCSG(interned_strings_end) &amp;&amp; ZCSG(interned_strings_top)) {</span>
<span class='curline'><a href='../S/838.html#L485'>ZCSG</a>              485 ext/opcache/zend_accelerator_module.c 				snprintf(buf, sizeof(buf), "%pd", ZCSG(interned_strings_top) - ZCSG(interned_strings_start));</span>
<span class='curline'><a href='../S/838.html#L487'>ZCSG</a>              487 ext/opcache/zend_accelerator_module.c 				snprintf(buf, sizeof(buf), "%pd", ZCSG(interned_strings_end) - ZCSG(interned_strings_top));</span>
<span class='curline'><a href='../S/838.html#L490'>ZCSG</a>              490 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%ld", ZCSG(hash).num_direct_entries);</span>
<span class='curline'><a href='../S/838.html#L492'>ZCSG</a>              492 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%ld", ZCSG(hash).num_entries);</span>
<span class='curline'><a href='../S/838.html#L494'>ZCSG</a>              494 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%pd", ZCSG(hash).max_num_entries);</span>
<span class='curline'><a href='../S/838.html#L496'>ZCSG</a>              496 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%pd", ZCSG(oom_restarts));</span>
<span class='curline'><a href='../S/838.html#L498'>ZCSG</a>              498 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%pd", ZCSG(hash_restarts));</span>
<span class='curline'><a href='../S/838.html#L500'>ZCSG</a>              500 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%pd", ZCSG(manual_restarts));</span>
<span class='curline'><a href='../S/838.html#L540'>ZCSG</a>              540 ext/opcache/zend_accelerator_module.c 	if (!ZCG(enabled) || !accel_startup_ok || !ZCSG(accelerator_enabled) || accelerator_shm_read_lock() != SUCCESS) {</span>
<span class='curline'><a href='../S/838.html#L545'>ZCSG</a>              545 ext/opcache/zend_accelerator_module.c 	for (i = 0; i&lt;ZCSG(hash).max_num_entries; i++) {</span>
<span class='curline'><a href='../S/838.html#L546'>ZCSG</a>              546 ext/opcache/zend_accelerator_module.c 		for (cache_entry = ZCSG(hash).hash_table[i]; cache_entry; cache_entry = cache_entry-&gt;next) {</span>
<span class='curline'><a href='../S/838.html#L602'>ZCSG</a>              602 ext/opcache/zend_accelerator_module.c 	add_assoc_bool(return_value, "opcache_enabled", ZCG(enabled) &amp;&amp; (ZCG(counted) || ZCSG(accelerator_enabled)));</span>
<span class='curline'><a href='../S/838.html#L615'>ZCSG</a>              615 ext/opcache/zend_accelerator_module.c 	add_assoc_bool(return_value, "restart_pending", ZCSG(restart_pending));</span>
<span class='curline'><a href='../S/838.html#L616'>ZCSG</a>              616 ext/opcache/zend_accelerator_module.c 	add_assoc_bool(return_value, "restart_in_progress", ZCSG(restart_in_progress));</span>
<span class='curline'><a href='../S/838.html#L626'>ZCSG</a>              626 ext/opcache/zend_accelerator_module.c 	if (ZCSG(interned_strings_start) &amp;&amp; ZCSG(interned_strings_end) &amp;&amp; ZCSG(interned_strings_top)) {</span>
<span class='curline'><a href='../S/838.html#L630'>ZCSG</a>              630 ext/opcache/zend_accelerator_module.c 		add_assoc_long(&amp;interned_strings_usage, "buffer_size", ZCSG(interned_strings_end) - ZCSG(interned_strings_start));</span>
<span class='curline'><a href='../S/838.html#L631'>ZCSG</a>              631 ext/opcache/zend_accelerator_module.c 		add_assoc_long(&amp;interned_strings_usage, "used_memory", ZCSG(interned_strings_top) - ZCSG(interned_strings_start));</span>
<span class='curline'><a href='../S/838.html#L632'>ZCSG</a>              632 ext/opcache/zend_accelerator_module.c 		add_assoc_long(&amp;interned_strings_usage, "free_memory", ZCSG(interned_strings_end) - ZCSG(interned_strings_top));</span>
<span class='curline'><a href='../S/838.html#L633'>ZCSG</a>              633 ext/opcache/zend_accelerator_module.c 		add_assoc_long(&amp;interned_strings_usage, "number_of_strings", ZCSG(interned_strings).nNumOfElements);</span>
<span class='curline'><a href='../S/838.html#L639'>ZCSG</a>              639 ext/opcache/zend_accelerator_module.c 	add_assoc_long(&amp;statistics, "num_cached_scripts", ZCSG(hash).num_direct_entries);</span>
<span class='curline'><a href='../S/838.html#L640'>ZCSG</a>              640 ext/opcache/zend_accelerator_module.c 	add_assoc_long(&amp;statistics, "num_cached_keys",    ZCSG(hash).num_entries);</span>
<span class='curline'><a href='../S/838.html#L641'>ZCSG</a>              641 ext/opcache/zend_accelerator_module.c 	add_assoc_long(&amp;statistics, "max_cached_keys",    ZCSG(hash).max_num_entries);</span>
<span class='curline'><a href='../S/838.html#L642'>ZCSG</a>              642 ext/opcache/zend_accelerator_module.c 	add_assoc_long(&amp;statistics, "hits", (zend_long)ZCSG(hits));</span>
<span class='curline'><a href='../S/838.html#L643'>ZCSG</a>              643 ext/opcache/zend_accelerator_module.c 	add_assoc_long(&amp;statistics, "start_time", ZCSG(start_time));</span>
<span class='curline'><a href='../S/838.html#L644'>ZCSG</a>              644 ext/opcache/zend_accelerator_module.c 	add_assoc_long(&amp;statistics, "last_restart_time", ZCSG(last_restart_time));</span>
<span class='curline'><a href='../S/838.html#L645'>ZCSG</a>              645 ext/opcache/zend_accelerator_module.c 	add_assoc_long(&amp;statistics, "oom_restarts", ZCSG(oom_restarts));</span>
<span class='curline'><a href='../S/838.html#L646'>ZCSG</a>              646 ext/opcache/zend_accelerator_module.c 	add_assoc_long(&amp;statistics, "hash_restarts", ZCSG(hash_restarts));</span>
<span class='curline'><a href='../S/838.html#L647'>ZCSG</a>              647 ext/opcache/zend_accelerator_module.c 	add_assoc_long(&amp;statistics, "manual_restarts", ZCSG(manual_restarts));</span>
<span class='curline'><a href='../S/838.html#L648'>ZCSG</a>              648 ext/opcache/zend_accelerator_module.c 	add_assoc_long(&amp;statistics, "misses", ZSMMG(memory_exhausted)?ZCSG(misses):ZCSG(misses)-ZCSG(blacklist_misses));</span>
<span class='curline'><a href='../S/838.html#L649'>ZCSG</a>              649 ext/opcache/zend_accelerator_module.c 	add_assoc_long(&amp;statistics, "blacklist_misses", ZCSG(blacklist_misses));</span>
<span class='curline'><a href='../S/838.html#L650'>ZCSG</a>              650 ext/opcache/zend_accelerator_module.c 	reqs = ZCSG(hits)+ZCSG(misses);</span>
<span class='curline'><a href='../S/838.html#L651'>ZCSG</a>              651 ext/opcache/zend_accelerator_module.c 	add_assoc_double(&amp;statistics, "blacklist_miss_ratio", reqs?(((double) ZCSG(blacklist_misses))/reqs)*100.0:0);</span>
<span class='curline'><a href='../S/838.html#L652'>ZCSG</a>              652 ext/opcache/zend_accelerator_module.c 	add_assoc_double(&amp;statistics, "opcache_hit_rate", reqs?(((double) ZCSG(hits))/reqs)*100.0:0);</span>
<span class='curline'><a href='../S/838.html#L746'>ZCSG</a>              746 ext/opcache/zend_accelerator_module.c 	if ((!ZCG(enabled) || !accel_startup_ok || !ZCSG(accelerator_enabled))</span>
<span class='curline'><a href='../S/838.html#L793'>ZCSG</a>              793 ext/opcache/zend_accelerator_module.c 	if (!ZCG(enabled) || !accel_startup_ok || !ZCSG(accelerator_enabled)) {</span>
<span class='curline'><a href='../S/838.html#L832'>ZCSG</a>              832 ext/opcache/zend_accelerator_module.c 	if (!ZCG(enabled) || !accel_startup_ok || !ZCSG(accelerator_enabled)) {</span>
<span class='curline'><a href='../S/842.html#L1308'>ZCSG</a>             1308 ext/opcache/zend_file_cache.c 	    !ZCSG(restart_in_progress) &amp;&amp;</span>
<span class='curline'><a href='../S/842.html#L1316'>ZCSG</a>             1316 ext/opcache/zend_file_cache.c 		bucket = zend_accel_hash_find_entry(&amp;ZCSG(hash), full_path);</span>
<span class='curline'><a href='../S/842.html#L1327'>ZCSG</a>             1327 ext/opcache/zend_file_cache.c 		if (zend_accel_hash_is_full(&amp;ZCSG(hash))) {</span>
<span class='curline'><a href='../S/842.html#L1365'>ZCSG</a>             1365 ext/opcache/zend_file_cache.c 		zend_accel_hash_update(&amp;ZCSG(hash), ZSTR_VAL(script-&gt;full_path), ZSTR_LEN(script-&gt;full_path), 0, script);</span>
</pre>
</body>
</html>
